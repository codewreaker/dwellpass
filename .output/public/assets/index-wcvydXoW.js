var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,n)=>{let r={};for(var i in e)t(r,i,{get:e[i],enumerable:!0});return n&&t(r,Symbol.toStringTag,{value:`Module`}),r},c=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},l=(n,r,a)=>(a=n==null?{}:e(i(n)),c(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var u=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function D(e,t){return E(e.type,t,e.props)}function O(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function k(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var A=/\/+/g;function j(e,t){return typeof e==`object`&&e&&e.key!=null?k(``+e.key):t.toString(36)}function M(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function N(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,N(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+j(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(A,`$&/`)+`/`),N(o,r,i,``,function(e){return e})):o!=null&&(O(o)&&(o=D(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(A,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+j(a,u),c+=N(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+j(a,u++),c+=N(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return N(M(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function P(e,t,n){if(e==null)return e;var r=[],i=0;return N(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function F(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var I=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},L={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=L,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=O,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:F}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,I)}catch(e){I(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.3`})),d=o(((e,t)=>{t.exports=u()})),f=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,O());else{var t=n(l);t!==null&&j(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function E(){return g?!0:!(e.unstable_now()-T<w)}function D(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&E());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&j(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?O():S=!1}}}var O;if(typeof y==`function`)O=function(){y(D)};else if(typeof MessageChannel<`u`){var k=new MessageChannel,A=k.port2;k.port1.onmessage=D,O=function(){A.postMessage(null)}}else O=function(){_(D,0)};function j(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,j(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,O()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),p=o(((e,t)=>{t.exports=f()})),m=o((e=>{var t=d();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.3`})),h=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=m()})),g=o((e=>{var t=p(),n=d(),r=h();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function u(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function f(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=f(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),E=Symbol.for(`react.suspense_list`),D=Symbol.for(`react.memo`),O=Symbol.for(`react.lazy`),k=Symbol.for(`react.activity`),A=Symbol.for(`react.memo_cache_sentinel`),j=Symbol.iterator;function M(e){return typeof e!=`object`||!e?null:(e=j&&e[j]||e[`@@iterator`],typeof e==`function`?e:null)}var N=Symbol.for(`react.client.reference`);function P(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case E:return`SuspenseList`;case k:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case D:return t=e.displayName||null,t===null?P(e.type)||`Memo`:t;case O:t=e._payload,e=e._init;try{return P(e(t))}catch{}}return null}var F=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},ee=[],te=-1;function z(e){return{current:e}}function ne(e){0>te||(e.current=ee[te],ee[te]=null,te--)}function re(e,t){te++,ee[te]=e.current,e.current=t}var B=z(null),ie=z(null),ae=z(null),oe=z(null);function se(e,t){switch(re(ae,t),re(ie,e),re(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Yd(t),e=Xd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}ne(B),re(B,e)}function ce(){ne(B),ne(ie),ne(ae)}function le(e){e.memoizedState!==null&&re(oe,e);var t=B.current,n=Xd(t,e.type);t!==n&&(re(ie,e),re(B,n))}function ue(e){ie.current===e&&(ne(B),ne(ie)),oe.current===e&&(ne(oe),op._currentValue=R)}var de,fe;function pe(e){if(de===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);de=t&&t[1]||``,fe=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+de+e+fe}var me=!1;function he(e,t){if(!e||me)return``;me=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{me=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?pe(n):``}function ge(e,t){switch(e.tag){case 26:case 27:case 5:return pe(e.type);case 16:return pe(`Lazy`);case 13:return e.child!==t&&t!==null?pe(`Suspense Fallback`):pe(`Suspense`);case 19:return pe(`SuspenseList`);case 0:case 15:return he(e.type,!1);case 11:return he(e.type.render,!1);case 1:return he(e.type,!0);case 31:return pe(`Activity`);default:return``}}function _e(e){try{var t=``,n=null;do t+=ge(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var ve=Object.prototype.hasOwnProperty,ye=t.unstable_scheduleCallback,be=t.unstable_cancelCallback,xe=t.unstable_shouldYield,Se=t.unstable_requestPaint,Ce=t.unstable_now,we=t.unstable_getCurrentPriorityLevel,Te=t.unstable_ImmediatePriority,Ee=t.unstable_UserBlockingPriority,De=t.unstable_NormalPriority,Oe=t.unstable_LowPriority,ke=t.unstable_IdlePriority,Ae=t.log,je=t.unstable_setDisableYieldValue,Me=null,Ne=null;function Pe(e){if(typeof Ae==`function`&&je(e),Ne&&typeof Ne.setStrictMode==`function`)try{Ne.setStrictMode(Me,e)}catch{}}var Fe=Math.clz32?Math.clz32:Re,Ie=Math.log,Le=Math.LN2;function Re(e){return e>>>=0,e===0?32:31-(Ie(e)/Le|0)|0}var ze=256,Be=262144,Ve=4194304;function He(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ue(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=He(n))):i=He(o):i=He(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=He(n))):i=He(o)):i=He(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function We(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ge(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ke(){var e=Ve;return Ve<<=1,!(Ve&62914560)&&(Ve=4194304),e}function qe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Je(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ye(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Fe(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&Xe(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function Xe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Fe(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function Ze(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Qe(e,t){var n=t&-t;return n=n&42?1:$e(n),(n&(e.suspendedLanes|t))===0?n:0}function $e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function et(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function tt(){var e=L.p;return e===0?(e=window.event,e===void 0?32:Sp(e.type)):e}function nt(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var rt=Math.random().toString(36).slice(2),it=`__reactFiber$`+rt,at=`__reactProps$`+rt,ot=`__reactContainer$`+rt,st=`__reactEvents$`+rt,ct=`__reactListeners$`+rt,lt=`__reactHandles$`+rt,ut=`__reactResources$`+rt,dt=`__reactMarker$`+rt;function ft(e){delete e[it],delete e[at],delete e[st],delete e[ct],delete e[lt]}function pt(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ot]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yf(e);e!==null;){if(n=e[it])return n;e=yf(e)}return t}e=n,n=e.parentNode}return null}function mt(e){if(e=e[it]||e[ot]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ht(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function gt(e){var t=e[ut];return t||=e[ut]={hoistableStyles:new Map,hoistableScripts:new Map},t}function _t(e){e[dt]=!0}var vt=new Set,yt={};function bt(e,t){xt(e,t),xt(e+`Capture`,t)}function xt(e,t){for(yt[e]=t,e=0;e<t.length;e++)vt.add(t[e])}var St=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),Ct={},wt={};function Tt(e){return ve.call(wt,e)?!0:ve.call(Ct,e)?!1:St.test(e)?wt[e]=!0:(Ct[e]=!0,!1)}function Et(e,t,n){if(Tt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Dt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Ot(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function kt(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function At(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function jt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mt(e){if(!e._valueTracker){var t=At(e)?`checked`:`value`;e._valueTracker=jt(e,t,``+e[t])}}function Nt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=At(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Pt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Ft=/[\n"\\]/g;function It(e){return e.replace(Ft,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Lt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+kt(t)):e.value!==``+kt(t)&&(e.value=``+kt(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):zt(e,o,kt(n)):zt(e,o,kt(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+kt(s):e.removeAttribute(`name`)}function Rt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Mt(e);return}n=n==null?``:``+kt(n),t=t==null?n:``+kt(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Mt(e)}function zt(e,t,n){t===`number`&&Pt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+kt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Vt(e,t,n){if(t!=null&&(t=``+kt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+kt(n)}function Ht(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(F(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=kt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Mt(e)}function Ut(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Gt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Wt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function Kt(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Gt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Gt(e,o,t[o])}function qt(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var Jt=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),Yt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xt(e){return Yt.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function Zt(){}var Qt=null;function $t(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var V=null,H=null;function en(e){var t=mt(e);if(t&&(e=t.stateNode)){var n=e[at]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Lt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+It(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[at]||null;if(!a)throw Error(i(90));Lt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Nt(r)}break a;case`textarea`:Vt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Bt(e,!!n.multiple,t,!1)}}}var tn=!1;function nn(e,t,n){if(tn)return e(t,n);tn=!0;try{return e(t)}finally{if(tn=!1,(V!==null||H!==null)&&(Du(),V&&(t=V,e=H,H=V=null,en(t),e)))for(t=0;t<e.length;t++)en(e[t])}}function rn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[at]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var an=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),on=!1;if(an)try{var sn={};Object.defineProperty(sn,`passive`,{get:function(){on=!0}}),window.addEventListener(`test`,sn,sn),window.removeEventListener(`test`,sn,sn)}catch{on=!1}var cn=null,ln=null,un=null;function dn(){if(un)return un;var e,t=ln,n=t.length,r,i=`value`in cn?cn.value:cn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return un=i.slice(e,1<r?1-r:void 0)}function fn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pn(){return!0}function mn(){return!1}function hn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?pn:mn,this.isPropagationStopped=mn,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=pn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=pn)},persist:function(){},isPersistent:pn}),t}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_n=hn(gn),vn=m({},gn,{view:0,detail:0}),yn=hn(vn),bn,xn,Sn,Cn=m({},vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Sn&&(Sn&&e.type===`mousemove`?(bn=e.screenX-Sn.screenX,xn=e.screenY-Sn.screenY):xn=bn=0,Sn=e),bn)},movementY:function(e){return`movementY`in e?e.movementY:xn}}),wn=hn(Cn),Tn=hn(m({},Cn,{dataTransfer:0})),En=hn(m({},vn,{relatedTarget:0})),Dn=hn(m({},gn,{animationName:0,elapsedTime:0,pseudoElement:0})),On=hn(m({},gn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),kn=hn(m({},gn,{data:0})),An={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},jn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Mn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mn[e])?!!t[e]:!1}function Pn(){return Nn}var Fn=hn(m({},vn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=fn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?jn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(e){return e.type===`keypress`?fn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?fn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),In=hn(m({},Cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=hn(m({},vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),Rn=hn(m({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=hn(m({},Cn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Bn=hn(m({},gn,{newState:0,oldState:0})),Vn=[9,13,27,32],Hn=an&&`CompositionEvent`in window,Un=null;an&&`documentMode`in document&&(Un=document.documentMode);var Wn=an&&`TextEvent`in window&&!Un,Gn=an&&(!Hn||Un&&8<Un&&11>=Un),Kn=` `,qn=!1;function Jn(e,t){switch(e){case`keyup`:return Vn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function Yn(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var Xn=!1;function Zn(e,t){switch(e){case`compositionend`:return Yn(t);case`keypress`:return t.which===32?(qn=!0,Kn):null;case`textInput`:return e=t.data,e===Kn&&qn?null:e;default:return null}}function Qn(e,t){if(Xn)return e===`compositionend`||!Hn&&Jn(e,t)?(e=dn(),un=ln=cn=null,Xn=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return Gn&&t.locale!==`ko`?null:t.data;default:return null}}var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!$n[e.type]:t===`textarea`}function tr(e,t,n,r){V?H?H.push(r):H=[r]:V=r,t=Nd(t,`onChange`),0<t.length&&(n=new _n(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var nr=null,rr=null;function ir(e){Td(e,0)}function ar(e){if(Nt(ht(e)))return e}function or(e,t){if(e===`change`)return t}var sr=!1;if(an){var cr;if(an){var lr=`oninput`in document;if(!lr){var ur=document.createElement(`div`);ur.setAttribute(`oninput`,`return;`),lr=typeof ur.oninput==`function`}cr=lr}else cr=!1;sr=cr&&(!document.documentMode||9<document.documentMode)}function dr(){nr&&(nr.detachEvent(`onpropertychange`,fr),rr=nr=null)}function fr(e){if(e.propertyName===`value`&&ar(rr)){var t=[];tr(t,rr,e,$t(e)),nn(ir,t)}}function pr(e,t,n){e===`focusin`?(dr(),nr=t,rr=n,nr.attachEvent(`onpropertychange`,fr)):e===`focusout`&&dr()}function mr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return ar(rr)}function hr(e,t){if(e===`click`)return ar(t)}function gr(e,t){if(e===`input`||e===`change`)return ar(t)}function _r(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var vr=typeof Object.is==`function`?Object.is:_r;function yr(e,t){if(vr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ve.call(t,i)||!vr(e[i],t[i]))return!1}return!0}function br(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xr(e,t){var n=br(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=br(n)}}function Sr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Pt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pt(e.document)}return t}function wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Tr=an&&`documentMode`in document&&11>=document.documentMode,Er=null,Dr=null,Or=null,kr=!1;function Ar(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kr||Er==null||Er!==Pt(r)||(r=Er,`selectionStart`in r&&wr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Or&&yr(Or,r)||(Or=r,r=Nd(Dr,`onSelect`),0<r.length&&(t=new _n(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Er)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Mr={animationend:jr(`Animation`,`AnimationEnd`),animationiteration:jr(`Animation`,`AnimationIteration`),animationstart:jr(`Animation`,`AnimationStart`),transitionrun:jr(`Transition`,`TransitionRun`),transitionstart:jr(`Transition`,`TransitionStart`),transitioncancel:jr(`Transition`,`TransitionCancel`),transitionend:jr(`Transition`,`TransitionEnd`)},Nr={},Pr={};an&&(Pr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),`TransitionEvent`in window||delete Mr.transitionend.transition);function Fr(e){if(Nr[e])return Nr[e];if(!Mr[e])return e;var t=Mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pr)return Nr[e]=t[n];return e}var Ir=Fr(`animationend`),Lr=Fr(`animationiteration`),Rr=Fr(`animationstart`),zr=Fr(`transitionrun`),Br=Fr(`transitionstart`),Vr=Fr(`transitioncancel`),Hr=Fr(`transitionend`),Ur=new Map,Wr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Wr.push(`scrollEnd`);function Gr(e,t){Ur.set(e,t),bt(t,[e])}var Kr=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},qr=[],Jr=0,Yr=0;function Xr(){for(var e=Jr,t=Yr=Jr=0;t<e;){var n=qr[t];qr[t++]=null;var r=qr[t];qr[t++]=null;var i=qr[t];qr[t++]=null;var a=qr[t];if(qr[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&ei(n,i,a)}}function Zr(e,t,n,r){qr[Jr++]=e,qr[Jr++]=t,qr[Jr++]=n,qr[Jr++]=r,Yr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Qr(e,t,n,r){return Zr(e,t,n,r),ti(e)}function $r(e,t){return Zr(e,null,null,t),ti(e)}function ei(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Fe(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function ti(e){if(50<vu)throw vu=0,yu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ni={};function ri(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(e,t,n,r){return new ri(e,t,n,r)}function ai(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oi(e,t){var n=e.alternate;return n===null?(n=ii(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function si(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ci(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)ai(e)&&(s=1);else if(typeof e==`string`)s=Zf(e,n,B.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case k:return e=ii(31,n,t,a),e.elementType=k,e.lanes=o,e;case y:return li(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=ii(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=ii(13,n,t,a),e.elementType=T,e.lanes=o,e;case E:return e=ii(19,n,t,a),e.elementType=E,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case D:s=14;break a;case O:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=ii(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function li(e,t,n,r){return e=ii(7,e,r,t),e.lanes=n,e}function ui(e,t,n){return e=ii(6,e,null,t),e.lanes=n,e}function di(e){var t=ii(18,null,null,0);return t.stateNode=e,t}function fi(e,t,n){return t=ii(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pi=new WeakMap;function mi(e,t){if(typeof e==`object`&&e){var n=pi.get(e);return n===void 0?(t={value:e,source:t,stack:_e(t)},pi.set(e,t),t):n}return{value:e,source:t,stack:_e(t)}}var hi=[],gi=0,_i=null,vi=0,yi=[],bi=0,xi=null,Si=1,Ci=``;function wi(e,t){hi[gi++]=vi,hi[gi++]=_i,_i=e,vi=t}function Ti(e,t,n){yi[bi++]=Si,yi[bi++]=Ci,yi[bi++]=xi,xi=e;var r=Si;e=Ci;var i=32-Fe(r)-1;r&=~(1<<i),n+=1;var a=32-Fe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Si=1<<32-Fe(t)+i|n<<i|r,Ci=a+e}else Si=1<<a|n<<i|r,Ci=e}function Ei(e){e.return!==null&&(wi(e,1),Ti(e,1,0))}function Di(e){for(;e===_i;)_i=hi[--gi],hi[gi]=null,vi=hi[--gi],hi[gi]=null;for(;e===xi;)xi=yi[--bi],yi[bi]=null,Ci=yi[--bi],yi[bi]=null,Si=yi[--bi],yi[bi]=null}function Oi(e,t){yi[bi++]=Si,yi[bi++]=Ci,yi[bi++]=xi,Si=t.id,Ci=t.overflow,xi=e}var ki=null,Ai=null,ji=!1,Mi=null,Ni=!1,Pi=Error(i(519));function Fi(e){throw Vi(mi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Pi}function Ii(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[it]=e,t[at]=r,n){case`dialog`:Ed(`cancel`,t),Ed(`close`,t);break;case`iframe`:case`object`:case`embed`:Ed(`load`,t);break;case`video`:case`audio`:for(n=0;n<Cd.length;n++)Ed(Cd[n],t);break;case`source`:Ed(`error`,t);break;case`img`:case`image`:case`link`:Ed(`error`,t),Ed(`load`,t);break;case`details`:Ed(`toggle`,t);break;case`input`:Ed(`invalid`,t),Rt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:Ed(`invalid`,t);break;case`textarea`:Ed(`invalid`,t),Ht(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||zd(t.textContent,n)?(r.popover!=null&&(Ed(`beforetoggle`,t),Ed(`toggle`,t)),r.onScroll!=null&&Ed(`scroll`,t),r.onScrollEnd!=null&&Ed(`scrollend`,t),r.onClick!=null&&(t.onclick=Zt),t=!0):t=!1,t||Fi(e,!0)}function Li(e){for(ki=e.return;ki;)switch(ki.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:ki=ki.return}}function Ri(e){if(e!==ki)return!1;if(!ji)return Li(e),ji=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Zd(e.type,e.memoizedProps)),n=!n),n&&Ai&&Fi(e),Li(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ai=vf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ai=vf(e)}else t===27?(t=Ai,of(e.type)?(e=_f,_f=null,Ai=e):Ai=t):Ai=ki?gf(e.stateNode.nextSibling):null;return!0}function zi(){Ai=ki=null,ji=!1}function Bi(){var e=Mi;return e!==null&&(iu===null?iu=e:iu.push.apply(iu,e),Mi=null),e}function Vi(e){Mi===null?Mi=[e]:Mi.push(e)}var Hi=z(null),Ui=null,Wi=null;function Gi(e,t,n){re(Hi,t._currentValue),t._currentValue=n}function Ki(e){e._currentValue=Hi.current,ne(Hi)}function qi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function Ji(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),qi(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),qi(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Yi(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;vr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===oe.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[op]:e.push(op))}a=a.return}e!==null&&Ji(t,e,n,r),t.flags|=262144}function Xi(e){for(e=e.firstContext;e!==null;){if(!vr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zi(e){Ui=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qi(e){return ea(Ui,e)}function $i(e,t){return Ui===null&&Zi(e),ea(e,t)}function ea(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Wi===null){if(e===null)throw Error(i(308));Wi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wi=Wi.next=t;return n}var ta=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},na=t.unstable_scheduleCallback,ra=t.unstable_NormalPriority,ia={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function aa(){return{controller:new ta,data:new Map,refCount:0}}function oa(e){e.refCount--,e.refCount===0&&na(ra,function(){e.controller.abort()})}var sa=null,ca=0,la=0,ua=null;function da(e,t){if(sa===null){var n=sa=[];ca=0,la=vd(),ua={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ca++,t.then(fa,fa),t}function fa(){if(--ca===0&&sa!==null){ua!==null&&(ua.status=`fulfilled`);var e=sa;sa=null,la=0,ua=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function pa(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var ma=I.S;I.S=function(e,t){su=Ce(),typeof t==`object`&&t&&typeof t.then==`function`&&da(e,t),ma!==null&&ma(e,t)};var ha=z(null);function ga(){var e=ha.current;return e===null?Hl.pooledCache:e}function _a(e,t){t===null?re(ha,ha.current):re(ha,t.pool)}function va(){var e=ga();return e===null?null:{parent:ia._currentValue,pool:e}}var ya=Error(i(460)),ba=Error(i(474)),xa=Error(i(542)),Sa={then:function(){}};function Ca(e){return e=e.status,e===`fulfilled`||e===`rejected`}function wa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Zt,Zt),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Da(e),e;default:if(typeof t.status==`string`)t.then(Zt,Zt);else{if(e=Hl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Da(e),e}throw U=t,ya}}function Ta(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(U=e,ya):e}}var U=null;function Ea(){if(U===null)throw Error(i(459));var e=U;return U=null,e}function Da(e){if(e===ya||e===xa)throw Error(i(483))}var Oa=null,ka=0;function Aa(e){var t=ka;return ka+=1,Oa===null&&(Oa=[]),wa(Oa,e,t)}function ja(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Ma(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Na(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=oi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=ui(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===O&&Ta(i)===t.type)?(t=a(t,n.props),ja(t,n),t.return=e,t):(t=ci(n.type,n.key,n.props,null,e.mode,r),ja(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=fi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=li(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=ui(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=ci(t.type,t.key,t.props,null,e.mode,n),ja(n,t),n.return=e,n;case v:return t=fi(t,e.mode,n),t.return=e,t;case O:return t=Ta(t),f(e,t,n)}if(F(t)||M(t))return t=li(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Aa(t),n);if(t.$$typeof===C)return f(e,$i(e,t),n);Ma(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case O:return n=Ta(n),p(e,t,n,r)}if(F(n)||M(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Aa(n),r);if(n.$$typeof===C)return p(e,t,$i(e,n),r);Ma(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case O:return r=Ta(r),m(e,t,n,r,i)}if(F(r)||M(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Aa(r),i);if(r.$$typeof===C)return m(e,t,n,$i(t,r),i);Ma(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),ji&&wi(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return ji&&wi(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),ji&&wi(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),ji&&wi(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return ji&&wi(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),ji&&wi(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===O&&Ta(l)===r.type){n(e,r.sibling),c=a(r,o.props),ja(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=li(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=ci(o.type,o.key,o.props,null,e.mode,c),ja(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=fi(o,e.mode,c),c.return=e,e=c}return s(e);case O:return o=Ta(o),b(e,r,o,c)}if(F(o))return h(e,r,o,c);if(M(o)){if(l=M(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Aa(o),c);if(o.$$typeof===C)return b(e,r,$i(e,o),c);Ma(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=ui(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{ka=0;var i=b(e,t,n,r);return Oa=null,i}catch(t){if(t===ya||t===xa)throw t;var a=ii(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Pa=Na(!0),Fa=Na(!1),Ia=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Vl&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=ti(e),ei(e,null,n),t}return Zr(e,r,t,n),ti(e)}function Va(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ze(e,n)}}function Ha(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ua=!1;function Wa(){if(Ua){var e=ua;if(e!==null)throw e}}function Ga(e,t,n,r){Ua=!1;var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(Wl&f)===f:(r&f)===f){f!==0&&f===la&&(Ua=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var h=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(h=g.payload,typeof h==`function`){d=h.call(_,d,f);break a}d=h;break a;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,f=typeof h==`function`?h.call(_,d,f):h,f==null)break a;d=m({},d,f);break a;case 2:Ia=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Ql|=o,e.lanes=o,e.memoizedState=d}}function Ka(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function qa(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ka(n[e],t)}var Ja=z(null),Ya=z(0);function Xa(e,t){e=Xl,re(Ya,e),re(Ja,t),Xl=e|t.baseLanes}function Za(){re(Ya,Xl),re(Ja,Ja.current)}function Qa(){Xl=Ya.current,ne(Ja),ne(Ya)}var $a=z(null),eo=null;function to(e){var t=e.alternate;re(oo,oo.current&1),re($a,e),eo===null&&(t===null||Ja.current!==null||t.memoizedState!==null)&&(eo=e)}function no(e){re(oo,oo.current),re($a,e),eo===null&&(eo=e)}function ro(e){e.tag===22?(re(oo,oo.current),re($a,e),eo===null&&(eo=e)):io(e)}function io(){re(oo,oo.current),re($a,$a.current)}function ao(e){ne($a),eo===e&&(eo=null),ne(oo)}var oo=z(0);function so(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||pf(n)||mf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=0,lo=null,uo=null,fo=null,po=!1,mo=!1,ho=!1,go=0,_o=0,vo=null,yo=0;function bo(){throw Error(i(321))}function xo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,a){return co=a,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?zs:Bs,ho=!1,a=n(r,i),ho=!1,mo&&(a=wo(t,n,r,i)),Co(e),a}function Co(e){I.H=Rs;var t=uo!==null&&uo.next!==null;if(co=0,fo=uo=lo=null,po=!1,_o=0,vo=null,t)throw Error(i(300));e===null||rc||(e=e.dependencies,e!==null&&Xi(e)&&(rc=!0))}function wo(e,t,n,r){lo=e;var a=0;do{if(mo&&(vo=null),_o=0,mo=!1,25<=a)throw Error(i(301));if(a+=1,fo=uo=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}I.H=Vs,o=t(n,r)}while(mo);return o}function To(){var e=I.H,t=e.useState()[0];return t=typeof t.then==`function`?Mo(t):t,e=e.useState()[0],(uo===null?null:uo.memoizedState)!==e&&(lo.flags|=1024),t}function Eo(){var e=go!==0;return go=0,e}function Do(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Oo(e){if(po){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}po=!1}co=0,fo=uo=lo=null,mo=!1,_o=go=0,vo=null}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fo===null?lo.memoizedState=fo=e:fo=fo.next=e,fo}function Ao(){if(uo===null){var e=lo.alternate;e=e===null?null:e.memoizedState}else e=uo.next;var t=fo===null?lo.memoizedState:fo.next;if(t!==null)fo=t,uo=e;else{if(e===null)throw lo.alternate===null?Error(i(467)):Error(i(310));uo=e,e={memoizedState:uo.memoizedState,baseState:uo.baseState,baseQueue:uo.baseQueue,queue:uo.queue,next:null},fo===null?lo.memoizedState=fo=e:fo=fo.next=e}return fo}function jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(e){var t=_o;return _o+=1,vo===null&&(vo=[]),e=wa(vo,e,t),t=lo,(fo===null?t.memoizedState:fo.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?zs:Bs),e}function No(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Mo(e);if(e.$$typeof===C)return Qi(e)}throw Error(i(438,String(e)))}function Po(e){var t=null,n=lo.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=lo.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=jo(),lo.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function Fo(e,t){return typeof t==`function`?t(e):t}function Io(e){return Lo(Ao(),uo,e)}function Lo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(co&f)===f:(Wl&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===la&&(d=!0);else if((co&p)===p){u=u.next,p===la&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,lo.lanes|=p,Ql|=p;f=u.action,ho&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,lo.lanes|=f,Ql|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!vr(o,e.memoizedState)&&(rc=!0,d&&(n=ua,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ro(e){var t=Ao(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);vr(o,t.memoizedState)||(rc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function zo(e,t,n){var r=lo,a=Ao(),o=ji;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!vr((uo||a).memoizedState,n);if(s&&(a.memoizedState=n,rc=!0),a=a.queue,us(Ho.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||fo!==null&&fo.memoizedState.tag&1){if(r.flags|=2048,as(9,{destroy:void 0},Vo.bind(null,r,a,n,t),null),Hl===null)throw Error(i(349));o||co&127||Bo(r,t,n)}return n}function Bo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lo.updateQueue,t===null?(t=jo(),lo.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vo(e,t,n,r){t.value=n,t.getSnapshot=r,Uo(t)&&Wo(e)}function Ho(e,t,n){return n(function(){Uo(t)&&Wo(e)})}function Uo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vr(e,n)}catch{return!0}}function Wo(e){var t=$r(e,2);t!==null&&Su(t,e,2)}function Go(e){var t=ko();if(typeof e==`function`){var n=e;if(e=n(),ho){Pe(!0);try{n()}finally{Pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:e},t}function Ko(e,t,n,r){return e.baseState=n,Lo(e,uo,typeof r==`function`?r:Fo)}function qo(e,t,n,r,a){if(Fs(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};I.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Jo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Jo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=I.T,o={};I.T=o;try{var s=n(i,r),c=I.S;c!==null&&c(o,s),Yo(e,t,s)}catch(n){Zo(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),I.T=a}}else try{a=n(i,r),Yo(e,t,a)}catch(n){Zo(e,t,n)}}function Yo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Xo(e,t,n)},function(n){return Zo(e,t,n)}):Xo(e,t,n)}function Xo(e,t,n){t.status=`fulfilled`,t.value=n,Qo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Jo(e,n)))}function Zo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,Qo(t),t=t.next;while(t!==r)}e.action=null}function Qo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $o(e,t){return t}function es(e,t){if(ji){var n=Hl.formState;if(n!==null){a:{var r=lo;if(ji){if(Ai){b:{for(var i=Ai,a=Ni;i.nodeType!==8;){if(!a){i=null;break b}if(i=gf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Ai=gf(i.nextSibling),r=i.data===`F!`;break a}}Fi(r)}r=!1}r&&(t=n[0])}}return n=ko(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t},n.queue=r,n=Ms.bind(null,lo,r),r.dispatch=n,r=Go(!1),a=Ps.bind(null,lo,!1,r.queue),r=ko(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=qo.bind(null,lo,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ts(e){return ns(Ao(),uo,e)}function ns(e,t,n){if(t=Lo(e,t,$o)[0],e=Io(Fo)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Mo(t)}catch(e){throw e===ya?xa:e}else r=t;t=Ao();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(lo.flags|=2048,as(9,{destroy:void 0},rs.bind(null,i,n),null)),[r,a,e]}function rs(e,t){e.action=t}function is(e){var t=Ao(),n=uo;if(n!==null)return ns(t,n,e);Ao(),t=t.memoizedState,n=Ao();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function as(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=lo.updateQueue,t===null&&(t=jo(),lo.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function os(){return Ao().memoizedState}function ss(e,t,n,r){var i=ko();lo.flags|=e,i.memoizedState=as(1|t,{destroy:void 0},n,r===void 0?null:r)}function cs(e,t,n,r){var i=Ao();r=r===void 0?null:r;var a=i.memoizedState.inst;uo!==null&&r!==null&&xo(r,uo.memoizedState.deps)?i.memoizedState=as(t,a,n,r):(lo.flags|=e,i.memoizedState=as(1|t,a,n,r))}function ls(e,t){ss(8390656,8,e,t)}function us(e,t){cs(2048,8,e,t)}function ds(e){lo.flags|=4;var t=lo.updateQueue;if(t===null)t=jo(),lo.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function fs(e){var t=Ao().memoizedState;return ds({ref:t,nextImpl:e}),function(){if(Vl&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ps(e,t){return cs(4,2,e,t)}function ms(e,t){return cs(4,4,e,t)}function hs(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gs(e,t,n){n=n==null?null:n.concat([e]),cs(4,4,hs.bind(null,t,e),n)}function _s(){}function vs(e,t){var n=Ao();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ys(e,t){var n=Ao();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&xo(t,r[1]))return r[0];if(r=e(),ho){Pe(!0);try{e()}finally{Pe(!1)}}return n.memoizedState=[r,t],r}function bs(e,t,n){return n===void 0||co&1073741824&&!(Wl&261930)?e.memoizedState=t:(e.memoizedState=n,e=xu(),lo.lanes|=e,Ql|=e,n)}function xs(e,t,n,r){return vr(n,t)?n:Ja.current===null?!(co&42)||co&1073741824&&!(Wl&261930)?(rc=!0,e.memoizedState=n):(e=xu(),lo.lanes|=e,Ql|=e,t):(e=bs(e,n,r),vr(e,t)||(rc=!0),e)}function Ss(e,t,n,r,i){var a=L.p;L.p=a!==0&&8>a?a:8;var o=I.T,s={};I.T=s,Ps(e,!1,t,n);try{var c=i(),l=I.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Ns(e,t,pa(c,r),bu(e)):Ns(e,t,r,bu(e))}catch(n){Ns(e,t,{then:function(){},status:`rejected`,reason:n},bu())}finally{L.p=a,o!==null&&s.types!==null&&(o.types=s.types),I.T=o}}function Cs(){}function ws(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Ts(e).queue;Ss(e,a,t,R,n===null?Cs:function(){return Es(e),n(r)})}function Ts(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:R},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Es(e){var t=Ts(e);t.next===null&&(t=e.alternate.memoizedState),Ns(e,t.next.queue,{},bu())}function Ds(){return Qi(op)}function Os(){return Ao().memoizedState}function ks(){return Ao().memoizedState}function As(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=bu();e=za(n);var r=Ba(t,e,n);r!==null&&(Su(r,t,n),Va(r,t,n)),t={cache:aa()},e.payload=t;return}t=t.return}}function js(e,t,n){var r=bu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fs(e)?Is(t,n):(n=Qr(e,t,n,r),n!==null&&(Su(n,e,r),Ls(n,t,r)))}function Ms(e,t,n){Ns(e,t,n,bu())}function Ns(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fs(e))Is(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,vr(s,o))return Zr(e,t,i,0),Hl===null&&Xr(),!1}catch{}if(n=Qr(e,t,i,r),n!==null)return Su(n,e,r),Ls(n,t,r),!0}return!1}function Ps(e,t,n,r){if(r={lane:2,revertLane:vd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fs(e)){if(t)throw Error(i(479))}else t=Qr(e,n,r,2),t!==null&&Su(t,e,2)}function Fs(e){var t=e.alternate;return e===lo||t!==null&&t===lo}function Is(e,t){mo=po=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ls(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ze(e,n)}}var Rs={readContext:Qi,use:No,useCallback:bo,useContext:bo,useEffect:bo,useImperativeHandle:bo,useLayoutEffect:bo,useInsertionEffect:bo,useMemo:bo,useReducer:bo,useRef:bo,useState:bo,useDebugValue:bo,useDeferredValue:bo,useTransition:bo,useSyncExternalStore:bo,useId:bo,useHostTransitionStatus:bo,useFormState:bo,useActionState:bo,useOptimistic:bo,useMemoCache:bo,useCacheRefresh:bo};Rs.useEffectEvent=bo;var zs={readContext:Qi,use:No,useCallback:function(e,t){return ko().memoizedState=[e,t===void 0?null:t],e},useContext:Qi,useEffect:ls,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),ss(4194308,4,hs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ss(4194308,4,e,t)},useInsertionEffect:function(e,t){ss(4,2,e,t)},useMemo:function(e,t){var n=ko();t=t===void 0?null:t;var r=e();if(ho){Pe(!0);try{e()}finally{Pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ko();if(n!==void 0){var i=n(t);if(ho){Pe(!0);try{n(t)}finally{Pe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=js.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){var t=ko();return e={current:e},t.memoizedState=e},useState:function(e){e=Go(e);var t=e.queue,n=Ms.bind(null,lo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_s,useDeferredValue:function(e,t){return bs(ko(),e,t)},useTransition:function(){var e=Go(!1);return e=Ss.bind(null,lo,e.queue,!0,!1),ko().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=lo,a=ko();if(ji){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Hl===null)throw Error(i(349));Wl&127||Bo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,ls(Ho.bind(null,r,o,e),[e]),r.flags|=2048,as(9,{destroy:void 0},Vo.bind(null,r,o,n,t),null),n},useId:function(){var e=ko(),t=Hl.identifierPrefix;if(ji){var n=Ci,r=Si;n=(r&~(1<<32-Fe(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=go++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=yo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Ds,useFormState:es,useActionState:es,useOptimistic:function(e){var t=ko();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ps.bind(null,lo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Po,useCacheRefresh:function(){return ko().memoizedState=As.bind(null,lo)},useEffectEvent:function(e){var t=ko(),n={impl:e};return t.memoizedState=n,function(){if(Vl&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Bs={readContext:Qi,use:No,useCallback:vs,useContext:Qi,useEffect:us,useImperativeHandle:gs,useInsertionEffect:ps,useLayoutEffect:ms,useMemo:ys,useReducer:Io,useRef:os,useState:function(){return Io(Fo)},useDebugValue:_s,useDeferredValue:function(e,t){return xs(Ao(),uo.memoizedState,e,t)},useTransition:function(){var e=Io(Fo)[0],t=Ao().memoizedState;return[typeof e==`boolean`?e:Mo(e),t]},useSyncExternalStore:zo,useId:Os,useHostTransitionStatus:Ds,useFormState:ts,useActionState:ts,useOptimistic:function(e,t){return Ko(Ao(),uo,e,t)},useMemoCache:Po,useCacheRefresh:ks};Bs.useEffectEvent=fs;var Vs={readContext:Qi,use:No,useCallback:vs,useContext:Qi,useEffect:us,useImperativeHandle:gs,useInsertionEffect:ps,useLayoutEffect:ms,useMemo:ys,useReducer:Ro,useRef:os,useState:function(){return Ro(Fo)},useDebugValue:_s,useDeferredValue:function(e,t){var n=Ao();return uo===null?bs(n,e,t):xs(n,uo.memoizedState,e,t)},useTransition:function(){var e=Ro(Fo)[0],t=Ao().memoizedState;return[typeof e==`boolean`?e:Mo(e),t]},useSyncExternalStore:zo,useId:Os,useHostTransitionStatus:Ds,useFormState:is,useActionState:is,useOptimistic:function(e,t){var n=Ao();return uo===null?(n.baseState=e,[e,n.queue.dispatch]):Ko(n,uo,e,t)},useMemoCache:Po,useCacheRefresh:ks};Vs.useEffectEvent=fs;function Hs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:m({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Us={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bu(),i=za(r);i.payload=t,n!=null&&(i.callback=n),t=Ba(e,i,r),t!==null&&(Su(t,e,r),Va(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bu(),i=za(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ba(e,i,r),t!==null&&(Su(t,e,r),Va(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bu(),r=za(n);r.tag=2,t!=null&&(r.callback=t),t=Ba(e,r,n),t!==null&&(Su(t,e,n),Va(t,e,n))}};function Ws(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!yr(n,r)||!yr(i,a):!0}function Gs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Us.enqueueReplaceState(t,t.state,null)}function Ks(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=m({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function qs(e){Kr(e)}function Js(e){console.error(e)}function Ys(e){Kr(e)}function Xs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Zs(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Qs(e,t,n){return n=za(n),n.tag=3,n.payload={element:null},n.callback=function(){Xs(e,t)},n}function $s(e){return e=za(e),e.tag=3,e}function ec(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Zs(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Zs(t,n,r),typeof i!=`function`&&(uu===null?uu=new Set([this]):uu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function tc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&Yi(t,n,a,!0),n=$a.current,n!==null){switch(n.tag){case 31:case 13:return eo===null?Pu():n.alternate===null&&Zl===0&&(Zl=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Sa?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),$u(e,r,a)),!1;case 22:return n.flags|=65536,r===Sa?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),$u(e,r,a)),!1}throw Error(i(435,n.tag))}return $u(e,r,a),Pu(),!1}if(ji)return t=$a.current,t===null?(r!==Pi&&(t=Error(i(423),{cause:r}),Vi(mi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=mi(r,n),a=Qs(e.stateNode,r,a),Ha(e,a),Zl!==4&&(Zl=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Pi&&(e=Error(i(422),{cause:r}),Vi(mi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=mi(o,n),ru===null?ru=[o]:ru.push(o),Zl!==4&&(Zl=2),t===null)return!0;r=mi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Qs(n.stateNode,r,e),Ha(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(uu===null||!uu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=$s(a),ec(a,e,n,r),Ha(n,a),!1}n=n.return}while(n!==null);return!1}var nc=Error(i(461)),rc=!1;function ic(e,t,n,r){t.child=e===null?Fa(t,null,n,r):Pa(t,e.child,n,r)}function ac(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return Zi(t),r=So(e,t,n,o,a,i),s=Eo(),e!==null&&!rc?(Do(e,t,i),kc(e,t,i)):(ji&&s&&Ei(t),t.flags|=1,ic(e,t,r,i),t.child)}function oc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!ai(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,sc(e,t,a,r,i)):(e=ci(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Ac(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?yr:n,n(o,r)&&e.ref===t.ref)return kc(e,t,i)}return t.flags|=1,e=oi(a,r),e.ref=t.ref,e.return=t,t.child=e}function sc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(yr(a,r)&&e.ref===t.ref)if(rc=!1,t.pendingProps=r=a,Ac(e,i))e.flags&131072&&(rc=!0);else return t.lanes=e.lanes,kc(e,t,i)}return hc(e,t,n,r,i)}function cc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return uc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_a(t,a===null?null:a.cachePool),a===null?Za():Xa(t,a),ro(t);else return r=t.lanes=536870912,uc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&_a(t,null),Za(),io(t)):(_a(t,a.cachePool),Xa(t,a),io(t),t.memoizedState=null);return ic(e,t,i,n),t.child}function lc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function uc(e,t,n,r,i){var a=ga();return a=a===null?null:{parent:ia._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&_a(t,null),Za(),ro(t),e!==null&&Yi(e,t,r,!0),t.childLanes=i,null}function dc(e,t){return t=wc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function fc(e,t,n){return Pa(t,e.child,null,n),e=dc(t,t.pendingProps),e.flags|=2,ao(t),t.memoizedState=null,e}function pc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(ji){if(r.mode===`hidden`)return e=dc(t,r),t.lanes=536870912,lc(null,e);if(no(t),(e=Ai)?(e=ff(e,Ni),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xi===null?null:{id:Si,overflow:Ci},retryLane:536870912,hydrationErrors:null},n=di(e),n.return=t,t.child=n,ki=t,Ai=null)):e=null,e===null)throw Fi(t);return t.lanes=536870912,null}return dc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(no(t),a)if(t.flags&256)t.flags&=-257,t=fc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(rc||Yi(e,t,n,!1),a=(n&e.childLanes)!==0,rc||a){if(r=Hl,r!==null&&(s=Qe(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,$r(e,s),Su(r,e,s),nc;Pu(),t=fc(e,t,n)}else e=o.treeContext,Ai=gf(s.nextSibling),ki=t,ji=!0,Mi=null,Ni=!1,e!==null&&Oi(t,e),t=dc(t,r),t.flags|=4096;return t}return e=oi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function mc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function hc(e,t,n,r,i){return Zi(t),n=So(e,t,n,r,void 0,i),r=Eo(),e!==null&&!rc?(Do(e,t,i),kc(e,t,i)):(ji&&r&&Ei(t),t.flags|=1,ic(e,t,n,i),t.child)}function gc(e,t,n,r,i,a){return Zi(t),t.updateQueue=null,n=wo(t,r,n,i),Co(e),r=Eo(),e!==null&&!rc?(Do(e,t,a),kc(e,t,a)):(ji&&r&&Ei(t),t.flags|=1,ic(e,t,n,a),t.child)}function _c(e,t,n,r,i){if(Zi(t),t.stateNode===null){var a=ni,o=n.contextType;typeof o==`object`&&o&&(a=Qi(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Us,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},La(t),o=n.contextType,a.context=typeof o==`object`&&o?Qi(o):ni,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Hs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Us.enqueueReplaceState(a,a.state,null),Ga(t,r,a,i),Wa(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Ks(n,s);a.props=c;var l=a.context,u=n.contextType;o=ni,typeof u==`object`&&u&&(o=Qi(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Gs(t,a,r,o),Ia=!1;var f=t.memoizedState;a.state=f,Ga(t,r,a,i),Wa(),l=t.memoizedState,s||f!==l||Ia?(typeof d==`function`&&(Hs(t,n,d,r),l=t.memoizedState),(c=Ia||Ws(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ra(e,t),o=t.memoizedProps,u=Ks(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=ni,typeof l==`object`&&l&&(c=Qi(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Gs(t,a,r,c),Ia=!1,f=t.memoizedState,a.state=f,Ga(t,r,a,i),Wa();var p=t.memoizedState;o!==d||f!==p||Ia||e!==null&&e.dependencies!==null&&Xi(e.dependencies)?(typeof s==`function`&&(Hs(t,n,s,r),p=t.memoizedState),(u=Ia||Ws(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&Xi(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,mc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Pa(t,e.child,null,i),t.child=Pa(t,null,n,i)):ic(e,t,n,i),t.memoizedState=a.state,e=t.child):e=kc(e,t,i),e}function vc(e,t,n,r){return zi(),t.flags|=256,ic(e,t,n,r),t.child}var yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bc(e){return{baseLanes:e,cachePool:va()}}function xc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=tu),e}function Sc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(oo.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(ji){if(a?to(t):io(t),(e=Ai)?(e=ff(e,Ni),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xi===null?null:{id:Si,overflow:Ci},retryLane:536870912,hydrationErrors:null},n=di(e),n.return=t,t.child=n,ki=t,Ai=null)):e=null,e===null)throw Fi(t);return mf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(io(t),a=t.mode,c=wc({mode:`hidden`,children:c},a),r=li(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=bc(n),r.childLanes=xc(e,s,n),t.memoizedState=yc,lc(null,r)):(to(t),Cc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(to(t),t.flags&=-257,t=Tc(e,t,n)):t.memoizedState===null?(io(t),c=r.fallback,a=t.mode,r=wc({mode:`visible`,children:r.children},a),c=li(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Pa(t,e.child,null,n),r=t.child,r.memoizedState=bc(n),r.childLanes=xc(e,s,n),t.memoizedState=yc,t=lc(null,r)):(io(t),t.child=e.child,t.flags|=128,t=null);else if(to(t),mf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Vi({value:r,source:null,stack:null}),t=Tc(e,t,n)}else if(rc||Yi(e,t,n,!1),s=(n&e.childLanes)!==0,rc||s){if(s=Hl,s!==null&&(r=Qe(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,$r(e,r),Su(s,e,r),nc;pf(c)||Pu(),t=Tc(e,t,n)}else pf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Ai=gf(c.nextSibling),ki=t,ji=!0,Mi=null,Ni=!1,e!==null&&Oi(t,e),t=Cc(t,r.children),t.flags|=4096);return t}return a?(io(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=oi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=li(c,a,n,null),c.flags|=2):c=oi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,lc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=bc(n):(a=c.cachePool,a===null?a=va():(l=ia._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=xc(e,s,n),t.memoizedState=yc,lc(e.child,r)):(to(t),n=e.child,e=n.sibling,n=oi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Cc(e,t){return t=wc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function wc(e,t){return e=ii(22,e,null,t),e.lanes=0,e}function Tc(e,t,n){return Pa(t,e.child,null,n),e=Cc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ec(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qi(e.return,t,n)}function Dc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Oc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=oo.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,re(oo,o),ic(e,t,r,n),r=ji?vi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ec(e,n,t);else if(e.tag===19)Ec(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&so(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Dc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&so(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Dc(t,!0,n,null,a,r);break;case`together`:Dc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function kc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ql|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Yi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=oi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ac(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&Xi(e))):!0}function jc(e,t,n){switch(t.tag){case 3:se(t,t.stateNode.containerInfo),Gi(t,ia,e.memoizedState.cache),zi();break;case 27:case 5:le(t);break;case 4:se(t,t.stateNode.containerInfo);break;case 10:Gi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,no(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(to(t),e=kc(e,t,n),e===null?null:e.sibling):Sc(e,t,n):(to(t),t.flags|=128,null);to(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(Yi(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Oc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),re(oo,oo.current),r)break;return null;case 22:return t.lanes=0,cc(e,t,n,t.pendingProps);case 24:Gi(t,ia,e.memoizedState.cache)}return kc(e,t,n)}function Mc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)rc=!0;else{if(!Ac(e,n)&&!(t.flags&128))return rc=!1,jc(e,t,n);rc=!!(e.flags&131072)}else rc=!1,ji&&t.flags&1048576&&Ti(t,vi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ta(t.elementType),t.type=e,typeof e==`function`)ai(e)?(r=Ks(e,r),t.tag=1,t=_c(null,t,e,r,n)):(t.tag=0,t=hc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=ac(null,t,e,r,n);break a}else if(a===D){t.tag=14,t=oc(null,t,e,r,n);break a}}throw t=P(e)||e,Error(i(306,t,``))}}return t;case 0:return hc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Ks(r,t.pendingProps),_c(e,t,r,a,n);case 3:a:{if(se(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Ra(e,t),Ga(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Gi(t,ia,r),r!==o.cache&&Ji(t,[ia],n,!0),Wa(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=vc(e,t,r,n);break a}else if(r!==a){a=mi(Error(i(424)),t),Vi(a),t=vc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Ai=gf(e.firstChild),ki=t,ji=!0,Mi=null,Ni=!0,n=Fa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zi(),r===a){t=kc(e,t,n);break a}ic(e,t,r,n)}t=t.child}return t;case 26:return mc(e,t),e===null?(n=Lf(t.type,null,t.pendingProps,null))?t.memoizedState=n:ji||(n=t.type,e=t.pendingProps,r=Jd(ae.current).createElement(n),r[it]=t,r[at]=e,Hd(r,n,e),_t(r),t.stateNode=r):t.memoizedState=Lf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return le(t),e===null&&ji&&(r=t.stateNode=bf(t.type,t.pendingProps,ae.current),ki=t,Ni=!0,a=Ai,of(t.type)?(_f=a,Ai=gf(r.firstChild)):Ai=a),ic(e,t,t.pendingProps.children,n),mc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ji&&((a=r=Ai)&&(r=uf(r,t.type,t.pendingProps,Ni),r===null?a=!1:(t.stateNode=r,ki=t,Ai=gf(r.firstChild),Ni=!1,a=!0)),a||Fi(t)),le(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Zd(a,o)?r=null:s!==null&&Zd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=So(e,t,To,null,null,n),op._currentValue=a),mc(e,t),ic(e,t,r,n),t.child;case 6:return e===null&&ji&&((e=n=Ai)&&(n=df(n,t.pendingProps,Ni),n===null?e=!1:(t.stateNode=n,ki=t,Ai=null,e=!0)),e||Fi(t)),null;case 13:return Sc(e,t,n);case 4:return se(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pa(t,null,r,n):ic(e,t,r,n),t.child;case 11:return ac(e,t,t.type,t.pendingProps,n);case 7:return ic(e,t,t.pendingProps,n),t.child;case 8:return ic(e,t,t.pendingProps.children,n),t.child;case 12:return ic(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Gi(t,t.type,r.value),ic(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Zi(t),a=Qi(a),r=r(a),t.flags|=1,ic(e,t,r,n),t.child;case 14:return oc(e,t,t.type,t.pendingProps,n);case 15:return sc(e,t,t.type,t.pendingProps,n);case 19:return Oc(e,t,n);case 31:return pc(e,t,n);case 22:return cc(e,t,n,t.pendingProps);case 24:return Zi(t),r=Qi(ia),e===null?(a=ga(),a===null&&(a=Hl,o=aa(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},La(t),Gi(t,ia,a)):((e.lanes&n)!==0&&(Ra(e,t),Ga(t,null,null,n),Wa()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Gi(t,ia,r),r!==a.cache&&Ji(t,[ia],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Gi(t,ia,r))),ic(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Nc(e){e.flags|=4}function Pc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(ju())e.flags|=8192;else throw U=Sa,ba}else e.flags&=-16777217}function Fc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Qf(t))if(ju())e.flags|=8192;else throw U=Sa,ba}function Ic(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:Ke(),e.lanes|=t,nu|=t)}function Lc(e,t){if(!ji)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zc(e,t,n){var r=t.pendingProps;switch(Di(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rc(t),null;case 1:return Rc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ki(ia),ce(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Ri(t)?Nc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bi())),Rc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Nc(t),o===null?(Rc(t),Pc(t,a,null,r,n)):(Rc(t),Fc(t,o))):o?o===e.memoizedState?(Rc(t),t.flags&=-16777217):(Nc(t),Rc(t),Fc(t,o)):(e=e.memoizedProps,e!==r&&Nc(t),Rc(t),Pc(t,a,e,r,n)),null;case 27:if(ue(t),n=ae.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Nc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Rc(t),null}e=B.current,Ri(t)?Ii(t,e):(e=bf(a,r,n),t.stateNode=e,Nc(t))}return Rc(t),null;case 5:if(ue(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Nc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Rc(t),null}if(o=B.current,Ri(t))Ii(t,o);else{var s=Jd(ae.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[it]=t,o[at]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Hd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Nc(t)}}return Rc(t),Pc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Nc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=ae.current,Ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=ki,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[it]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||zd(e.nodeValue,n)),e||Fi(t,!0)}else e=Jd(e).createTextNode(r),e[it]=t,t.stateNode=e}return Rc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ri(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[it]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rc(t),e=!1}else n=Bi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ao(t),t):(ao(t),null);if(t.flags&128)throw Error(i(558))}return Rc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[it]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rc(t),a=!1}else a=Bi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(ao(t),t):(ao(t),null)}return ao(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ic(t,t.updateQueue),Rc(t),null);case 4:return ce(),e===null&&kd(t.stateNode.containerInfo),Rc(t),null;case 10:return Ki(t.type),Rc(t),null;case 19:if(ne(oo),r=t.memoizedState,r===null)return Rc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Lc(r,!1);else{if(Zl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=so(e),o!==null){for(t.flags|=128,Lc(r,!1),e=o.updateQueue,t.updateQueue=e,Ic(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)si(n,e),n=n.sibling;return re(oo,oo.current&1|2),ji&&wi(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Ce()>cu&&(t.flags|=128,a=!0,Lc(r,!1),t.lanes=4194304)}else{if(!a)if(e=so(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ic(t,e),Lc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!ji)return Rc(t),null}else 2*Ce()-r.renderingStartTime>cu&&n!==536870912&&(t.flags|=128,a=!0,Lc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Rc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ce(),e.sibling=null,n=oo.current,re(oo,a?n&1|2:n&1),ji&&wi(t,r.treeForkCount),e);case 22:case 23:return ao(t),Qa(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Rc(t),t.subtreeFlags&6&&(t.flags|=8192)):Rc(t),n=t.updateQueue,n!==null&&Ic(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&ne(ha),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ki(ia),Rc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Bc(e,t){switch(Di(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ki(ia),ce(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ue(t),null;case 31:if(t.memoizedState!==null){if(ao(t),t.alternate===null)throw Error(i(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ao(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(oo),null;case 4:return ce(),null;case 10:return Ki(t.type),null;case 22:case 23:return ao(t),Qa(),e!==null&&ne(ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ki(ia),null;case 25:return null;default:return null}}function Vc(e,t){switch(Di(t),t.tag){case 3:Ki(ia),ce();break;case 26:case 27:case 5:ue(t);break;case 4:ce();break;case 31:t.memoizedState!==null&&ao(t);break;case 13:ao(t);break;case 19:ne(oo);break;case 10:Ki(t.type);break;case 22:case 23:ao(t),Qa(),e!==null&&ne(ha);break;case 24:Ki(ia)}}function Hc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Qu(t,t.return,e)}}function Uc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Qu(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Qu(t,t.return,e)}}function Wc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{qa(t,n)}catch(t){Qu(e,e.return,t)}}}function Gc(e,t,n){n.props=Ks(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Qu(e,t,n)}}function Kc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Qu(e,t,n)}}function qc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Qu(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Qu(e,t,n)}else n.current=null}function Jc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Qu(e,e.return,t)}}function Yc(e,t,n){try{var r=e.stateNode;Ud(r,e.type,n,t),r[at]=t}catch(t){Qu(e,e.return,t)}}function Xc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&of(e.type)||e.tag===4}function Zc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Xc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&of(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zt));else if(r!==4&&(r===27&&of(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Qc(e,t,n),e=e.sibling;e!==null;)Qc(e,t,n),e=e.sibling}function $c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&of(e.type)&&(n=e.stateNode),e=e.child,e!==null))for($c(e,t,n),e=e.sibling;e!==null;)$c(e,t,n),e=e.sibling}function el(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Hd(t,r,n),t[it]=e,t[at]=n}catch(t){Qu(e,e.return,t)}}var tl=!1,nl=!1,rl=!1,il=typeof WeakSet==`function`?WeakSet:Set,al=null;function ol(e,t){if(e=e.containerInfo,Kd=hp,e=Cr(e),wr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(qd={focusedElem:e,selectionRange:n},hp=!1,al=t;al!==null;)if(t=al,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,al=e;else for(;al!==null;){switch(t=al,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Ks(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Qu(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)lf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:lf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,al=e;break}al=t.return}}function sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Sl(e,n),r&4&&Hc(5,n);break;case 1:if(Sl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Qu(n,n.return,e)}else{var i=Ks(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Qu(n,n.return,e)}}r&64&&Wc(n),r&512&&Kc(n,n.return);break;case 3:if(Sl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{qa(e,t)}catch(e){Qu(n,n.return,e)}}break;case 27:t===null&&r&4&&el(n);case 26:case 5:Sl(e,n),t===null&&r&4&&Jc(n),r&512&&Kc(n,n.return);break;case 12:Sl(e,n);break;case 31:Sl(e,n),r&4&&pl(e,n);break;case 13:Sl(e,n),r&4&&ml(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=nd.bind(null,n),hf(e,n))));break;case 22:if(r=n.memoizedState!==null||tl,!r){t=t!==null&&t.memoizedState!==null||nl,i=tl;var a=nl;tl=r,(nl=t)&&!a?wl(e,n,(n.subtreeFlags&8772)!=0):Sl(e,n),tl=i,nl=a}break;case 30:break;default:Sl(e,n)}}function cl(e){var t=e.alternate;t!==null&&(e.alternate=null,cl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ft(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ll=null,ul=!1;function dl(e,t,n){for(n=n.child;n!==null;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(Ne&&typeof Ne.onCommitFiberUnmount==`function`)try{Ne.onCommitFiberUnmount(Me,n)}catch{}switch(n.tag){case 26:nl||qc(n,t),dl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:nl||qc(n,t);var r=ll,i=ul;of(n.type)&&(ll=n.stateNode,ul=!1),dl(e,t,n),xf(n.stateNode),ll=r,ul=i;break;case 5:nl||qc(n,t);case 6:if(r=ll,i=ul,ll=null,dl(e,t,n),ll=r,ul=i,ll!==null)if(ul)try{(ll.nodeType===9?ll.body:ll.nodeName===`HTML`?ll.ownerDocument.body:ll).removeChild(n.stateNode)}catch(e){Qu(n,t,e)}else try{ll.removeChild(n.stateNode)}catch(e){Qu(n,t,e)}break;case 18:ll!==null&&(ul?(e=ll,sf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Vp(e)):sf(ll,n.stateNode));break;case 4:r=ll,i=ul,ll=n.stateNode.containerInfo,ul=!0,dl(e,t,n),ll=r,ul=i;break;case 0:case 11:case 14:case 15:Uc(2,n,t),nl||Uc(4,n,t),dl(e,t,n);break;case 1:nl||(qc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Gc(n,t,r)),dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:nl=(r=nl)||n.memoizedState!==null,dl(e,t,n),nl=r;break;default:dl(e,t,n)}}function pl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Vp(e)}catch(e){Qu(t,t.return,e)}}}function ml(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vp(e)}catch(e){Qu(t,t.return,e)}}function hl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new il),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new il),t;default:throw Error(i(435,e.tag))}}function gl(e,t){var n=hl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=rd.bind(null,e,t);t.then(r,r)}})}function _l(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(of(c.type)){ll=c.stateNode,ul=!1;break a}break;case 5:ll=c.stateNode,ul=!1;break a;case 3:case 4:ll=c.stateNode.containerInfo,ul=!0;break a}c=c.return}if(ll===null)throw Error(i(160));fl(o,s,a),ll=null,ul=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)yl(t,e),t=t.sibling}var vl=null;function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_l(t,e),bl(e),r&4&&(Uc(3,e,e.return),Hc(3,e),Uc(5,e,e.return));break;case 1:_l(t,e),bl(e),r&512&&(nl||n===null||qc(n,n.return)),r&64&&tl&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=vl;if(_l(t,e),bl(e),r&512&&(nl||n===null||qc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[dt]||o[it]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Hd(o,r,n),o[it]=e,_t(o),r=o;break a;case`link`:var s=Yf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Hd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Yf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Hd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[it]=e,_t(o),r=o}e.stateNode=r}else Xf(a,e.type,e.stateNode);else e.stateNode=Wf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Yc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Xf(a,e.type,e.stateNode):Wf(a,r,e.memoizedProps))}break;case 27:_l(t,e),bl(e),r&512&&(nl||n===null||qc(n,n.return)),n!==null&&r&4&&Yc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(_l(t,e),bl(e),r&512&&(nl||n===null||qc(n,n.return)),e.flags&32){a=e.stateNode;try{Ut(a,``)}catch(t){Qu(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Yc(e,a,n===null?a:n.memoizedProps)),r&1024&&(rl=!0);break;case 6:if(_l(t,e),bl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Qu(e,e.return,t)}}break;case 3:if(Jf=null,a=vl,vl=wf(t.containerInfo),_l(t,e),vl=a,bl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vp(t.containerInfo)}catch(t){Qu(e,e.return,t)}rl&&(rl=!1,xl(e));break;case 4:r=vl,vl=wf(e.stateNode.containerInfo),_l(t,e),bl(e),vl=r;break;case 12:_l(t,e),bl(e);break;case 31:_l(t,e),bl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 13:_l(t,e),bl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ou=Ce()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=tl,d=nl;if(tl=u||a,nl=d||l,_l(t,e),nl=d,tl=u,bl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||tl||nl||Cl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Qu(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Qu(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?cf(m,!0):cf(l.stateNode,!1)}catch(e){Qu(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,gl(e,n))));break;case 19:_l(t,e),bl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 30:break;case 21:break;default:_l(t,e),bl(e)}}function bl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Xc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;$c(e,Zc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(Ut(o,``),n.flags&=-33),$c(e,Zc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Qc(e,Zc(e),s);break;default:throw Error(i(161))}}catch(t){Qu(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sl(e,t.alternate,t),t=t.sibling}function Cl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Uc(4,t,t.return),Cl(t);break;case 1:qc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Gc(t,t.return,n),Cl(t);break;case 27:xf(t.stateNode);case 26:case 5:qc(t,t.return),Cl(t);break;case 22:t.memoizedState===null&&Cl(t);break;case 30:Cl(t);break;default:Cl(t)}e=e.sibling}}function wl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:wl(i,a,n),Hc(4,a);break;case 1:if(wl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Qu(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Ka(c[i],s)}catch(e){Qu(r,r.return,e)}}n&&o&64&&Wc(a),Kc(a,a.return);break;case 27:el(a);case 26:case 5:wl(i,a,n),n&&r===null&&o&4&&Jc(a),Kc(a,a.return);break;case 12:wl(i,a,n);break;case 31:wl(i,a,n),n&&o&4&&pl(i,a);break;case 13:wl(i,a,n),n&&o&4&&ml(i,a);break;case 22:a.memoizedState===null&&wl(i,a,n),Kc(a,a.return);break;case 30:break;default:wl(i,a,n)}t=t.sibling}}function Tl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&oa(n))}function El(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oa(e))}function Dl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ol(e,t,n,r),t=t.sibling}function Ol(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Dl(e,t,n,r),i&2048&&Hc(9,t);break;case 1:Dl(e,t,n,r);break;case 3:Dl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oa(e)));break;case 12:if(i&2048){Dl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Qu(t,t.return,e)}}else Dl(e,t,n,r);break;case 31:Dl(e,t,n,r);break;case 13:Dl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Dl(e,t,n,r):(a._visibility|=2,kl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Dl(e,t,n,r):Al(e,t),i&2048&&Tl(o,t);break;case 24:Dl(e,t,n,r),i&2048&&El(t.alternate,t);break;default:Dl(e,t,n,r)}}function kl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:kl(a,o,s,c,i),Hc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,kl(a,o,s,c,i)):u._visibility&2?kl(a,o,s,c,i):Al(a,o),i&&l&2048&&Tl(o.alternate,o);break;case 24:kl(a,o,s,c,i),i&&l&2048&&El(o.alternate,o);break;default:kl(a,o,s,c,i)}t=t.sibling}}function Al(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Al(n,r),i&2048&&Tl(r.alternate,r);break;case 24:Al(n,r),i&2048&&El(r.alternate,r);break;default:Al(n,r)}t=t.sibling}}var jl=8192;function Ml(e,t,n){if(e.subtreeFlags&jl)for(e=e.child;e!==null;)Nl(e,t,n),e=e.sibling}function Nl(e,t,n){switch(e.tag){case 26:Ml(e,t,n),e.flags&jl&&e.memoizedState!==null&&$f(n,vl,e.memoizedState,e.memoizedProps);break;case 5:Ml(e,t,n);break;case 3:case 4:var r=vl;vl=wf(e.stateNode.containerInfo),Ml(e,t,n),vl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=jl,jl=16777216,Ml(e,t,n),jl=r):Ml(e,t,n));break;default:Ml(e,t,n)}}function Pl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];al=r,Rl(r,e)}Pl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Il(e),e=e.sibling}function Il(e){switch(e.tag){case 0:case 11:case 15:Fl(e),e.flags&2048&&Uc(9,e,e.return);break;case 3:Fl(e);break;case 12:Fl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ll(e)):Fl(e);break;default:Fl(e)}}function Ll(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];al=r,Rl(r,e)}Pl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Uc(8,t,t.return),Ll(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ll(t));break;default:Ll(t)}e=e.sibling}}function Rl(e,t){for(;al!==null;){var n=al;switch(n.tag){case 0:case 11:case 15:Uc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:oa(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,al=r;else a:for(n=e;al!==null;){r=al;var i=r.sibling,a=r.return;if(cl(r),r===n){al=null;break a}if(i!==null){i.return=a,al=i;break a}al=a}}}var zl={getCacheForType:function(e){var t=Qi(ia),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Qi(ia).controller.signal}},Bl=typeof WeakMap==`function`?WeakMap:Map,Vl=0,Hl=null,Ul=null,Wl=0,Gl=0,Kl=null,ql=!1,Jl=!1,Yl=!1,Xl=0,Zl=0,Ql=0,$l=0,eu=0,tu=0,nu=0,ru=null,iu=null,au=!1,ou=0,su=0,cu=1/0,lu=null,uu=null,du=0,fu=null,pu=null,mu=0,hu=0,gu=null,_u=null,vu=0,yu=null;function bu(){return Vl&2&&Wl!==0?Wl&-Wl:I.T===null?tt():vd()}function xu(){if(tu===0)if(!(Wl&536870912)||ji){var e=Be;Be<<=1,!(Be&3932160)&&(Be=262144),tu=e}else tu=536870912;return e=$a.current,e!==null&&(e.flags|=32),tu}function Su(e,t,n){(e===Hl&&(Gl===2||Gl===9)||e.cancelPendingCommit!==null)&&(ku(e,0),Eu(e,Wl,tu,!1)),Je(e,n),(!(Vl&2)||e!==Hl)&&(e===Hl&&(!(Vl&2)&&($l|=n),Zl===4&&Eu(e,Wl,tu,!1)),dd(e))}function Cu(e,t,n){if(Vl&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||We(e,t),a=r?Lu(e,t):Fu(e,t,!0),o=r;do{if(a===0){Jl&&!r&&Eu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Tu(n)){a=Fu(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=ru;var l=c.current.memoizedState.isDehydrated;if(l&&(ku(c,s).flags|=256),s=Fu(c,s,!1),s!==2){if(Yl&&!l){c.errorRecoveryDisabledLanes|=o,$l|=o,a=4;break a}o=iu,iu=a,o!==null&&(iu===null?iu=o:iu.push.apply(iu,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){ku(e,0),Eu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Eu(r,t,tu,!ql);break a;case 2:iu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=ou+300-Ce(),10<a)){if(Eu(r,t,tu,!ql),Ue(r,0,!0)!==0)break a;mu=t,r.timeoutHandle=ef(wu.bind(null,r,n,iu,lu,au,t,tu,$l,nu,ql,o,`Throttled`,-0,0),a);break a}wu(r,n,iu,lu,au,t,tu,$l,nu,ql,o,null,-0,0)}}break}while(1);dd(e)}function wu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zt},Nl(t,a,d);var m=(a&62914560)===a?ou-Ce():(a&4194048)===a?su-Ce():0;if(m=tp(d,m),m!==null){mu=a,e.cancelPendingCommit=m(Wu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),Eu(e,a,o,!l);return}}Wu(e,t,a,n,r,i,o,s,c)}function Tu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!vr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Eu(e,t,n,r){t&=~eu,t&=~$l,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Fe(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&Xe(e,n,t)}function Du(){return Vl&6?!0:(fd(0,!1),!1)}function Ou(){if(Ul!==null){if(Gl===0)var e=Ul.return;else e=Ul,Wi=Ui=null,Oo(e),Oa=null,ka=0,e=Ul;for(;e!==null;)Vc(e.alternate,e),e=e.return;Ul=null}}function ku(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,tf(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),mu=0,Ou(),Hl=e,Ul=n=oi(e.current,null),Wl=t,Gl=0,Kl=null,ql=!1,Jl=We(e,t),Yl=!1,nu=tu=eu=$l=Ql=Zl=0,iu=ru=null,au=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Fe(r),a=1<<i;t|=e[i],r&=~a}return Xl=t,Xr(),n}function Au(e,t){lo=null,I.H=Rs,t===ya||t===xa?(t=Ea(),Gl=3):t===ba?(t=Ea(),Gl=4):Gl=t===nc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Kl=t,Ul===null&&(Zl=1,Xs(e,mi(t,e.current)))}function ju(){var e=$a.current;return e===null?!0:(Wl&4194048)===Wl?eo===null:(Wl&62914560)===Wl||Wl&536870912?e===eo:!1}function Mu(){var e=I.H;return I.H=Rs,e===null?Rs:e}function Nu(){var e=I.A;return I.A=zl,e}function Pu(){Zl=4,ql||(Wl&4194048)!==Wl&&$a.current!==null||(Jl=!0),!(Ql&134217727)&&!($l&134217727)||Hl===null||Eu(Hl,Wl,tu,!1)}function Fu(e,t,n){var r=Vl;Vl|=2;var i=Mu(),a=Nu();(Hl!==e||Wl!==t)&&(lu=null,ku(e,t)),t=!1;var o=Zl;a:do try{if(Gl!==0&&Ul!==null){var s=Ul,c=Kl;switch(Gl){case 8:Ou(),o=6;break a;case 3:case 2:case 9:case 6:$a.current===null&&(t=!0);var l=Gl;if(Gl=0,Kl=null,Vu(e,s,c,l),n&&Jl){o=0;break a}break;default:l=Gl,Gl=0,Kl=null,Vu(e,s,c,l)}}Iu(),o=Zl;break}catch(t){Au(e,t)}while(1);return t&&e.shellSuspendCounter++,Wi=Ui=null,Vl=r,I.H=i,I.A=a,Ul===null&&(Hl=null,Wl=0,Xr()),o}function Iu(){for(;Ul!==null;)zu(Ul)}function Lu(e,t){var n=Vl;Vl|=2;var r=Mu(),a=Nu();Hl!==e||Wl!==t?(lu=null,cu=Ce()+500,ku(e,t)):Jl=We(e,t);a:do try{if(Gl!==0&&Ul!==null){t=Ul;var o=Kl;b:switch(Gl){case 1:Gl=0,Kl=null,Vu(e,t,o,1);break;case 2:case 9:if(Ca(o)){Gl=0,Kl=null,Bu(t);break}t=function(){Gl!==2&&Gl!==9||Hl!==e||(Gl=7),dd(e)},o.then(t,t);break a;case 3:Gl=7;break a;case 4:Gl=5;break a;case 7:Ca(o)?(Gl=0,Kl=null,Bu(t)):(Gl=0,Kl=null,Vu(e,t,o,7));break;case 5:var s=null;switch(Ul.tag){case 26:s=Ul.memoizedState;case 5:case 27:var c=Ul;if(s?Qf(s):c.stateNode.complete){Gl=0,Kl=null;var l=c.sibling;if(l!==null)Ul=l;else{var u=c.return;u===null?Ul=null:(Ul=u,Hu(u))}break b}}Gl=0,Kl=null,Vu(e,t,o,5);break;case 6:Gl=0,Kl=null,Vu(e,t,o,6);break;case 8:Ou(),Zl=6;break a;default:throw Error(i(462))}}Ru();break}catch(t){Au(e,t)}while(1);return Wi=Ui=null,I.H=r,I.A=a,Vl=n,Ul===null?(Hl=null,Wl=0,Xr(),Zl):0}function Ru(){for(;Ul!==null&&!xe();)zu(Ul)}function zu(e){var t=Mc(e.alternate,e,Xl);e.memoizedProps=e.pendingProps,t===null?Hu(e):Ul=t}function Bu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=gc(n,t,t.pendingProps,t.type,void 0,Wl);break;case 11:t=gc(n,t,t.pendingProps,t.type.render,t.ref,Wl);break;case 5:Oo(t);default:Vc(n,t),t=Ul=si(t,Xl),t=Mc(n,t,Xl)}e.memoizedProps=e.pendingProps,t===null?Hu(e):Ul=t}function Vu(e,t,n,r){Wi=Ui=null,Oo(t),Oa=null,ka=0;var i=t.return;try{if(tc(e,i,t,n,Wl)){Zl=1,Xs(e,mi(n,e.current)),Ul=null;return}}catch(t){if(i!==null)throw Ul=i,t;Zl=1,Xs(e,mi(n,e.current)),Ul=null;return}t.flags&32768?(ji||r===1?e=!0:Jl||Wl&536870912?e=!1:(ql=e=!0,(r===2||r===9||r===3||r===6)&&(r=$a.current,r!==null&&r.tag===13&&(r.flags|=16384))),Uu(t,e)):Hu(t)}function Hu(e){var t=e;do{if(t.flags&32768){Uu(t,ql);return}e=t.return;var n=zc(t.alternate,t,Xl);if(n!==null){Ul=n;return}if(t=t.sibling,t!==null){Ul=t;return}Ul=t=e}while(t!==null);Zl===0&&(Zl=5)}function Uu(e,t){do{var n=Bc(e.alternate,e);if(n!==null){n.flags&=32767,Ul=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ul=e;return}Ul=e=n}while(e!==null);Zl=6,Ul=null}function Wu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Yu();while(du!==0);if(Vl&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=Yr,Ye(e,n,o,s,c,l),e===Hl&&(Ul=Hl=null,Wl=0),pu=t,fu=e,mu=n,hu=o,gu=a,_u=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,id(De,function(){return Xu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=I.T,I.T=null,a=L.p,L.p=2,s=Vl,Vl|=4;try{ol(e,t,n)}finally{Vl=s,L.p=a,I.T=r}}du=1,Gu(),Ku(),qu()}}function Gu(){if(du===1){du=0;var e=fu,t=pu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=I.T,I.T=null;var r=L.p;L.p=2;var i=Vl;Vl|=4;try{yl(t,e);var a=qd,o=Cr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Sr(s.ownerDocument.documentElement,s)){if(c!==null&&wr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=xr(s,h),v=xr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}hp=!!Kd,qd=Kd=null}finally{Vl=i,L.p=r,I.T=n}}e.current=t,du=2}}function Ku(){if(du===2){du=0;var e=fu,t=pu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=I.T,I.T=null;var r=L.p;L.p=2;var i=Vl;Vl|=4;try{sl(e,t.alternate,t)}finally{Vl=i,L.p=r,I.T=n}}du=3}}function qu(){if(du===4||du===3){du=0,Se();var e=fu,t=pu,n=mu,r=_u;t.subtreeFlags&10256||t.flags&10256?du=5:(du=0,pu=fu=null,Ju(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(uu=null),et(n),t=t.stateNode,Ne&&typeof Ne.onCommitFiberRoot==`function`)try{Ne.onCommitFiberRoot(Me,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=I.T,i=L.p,L.p=2,I.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{I.T=t,L.p=i}}mu&3&&Yu(),dd(e),i=e.pendingLanes,n&261930&&i&42?e===yu?vu++:(vu=0,yu=e):vu=0,fd(0,!1)}}function Ju(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,oa(t)))}function Yu(){return Gu(),Ku(),qu(),Xu()}function Xu(){if(du!==5)return!1;var e=fu,t=hu;hu=0;var n=et(mu),r=I.T,a=L.p;try{L.p=32>n?32:n,I.T=null,n=gu,gu=null;var o=fu,s=mu;if(du=0,pu=fu=null,mu=0,Vl&6)throw Error(i(331));var c=Vl;if(Vl|=4,Il(o.current),Ol(o,o.current,s,n),Vl=c,fd(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot==`function`)try{Ne.onPostCommitFiberRoot(Me,o)}catch{}return!0}finally{L.p=a,I.T=r,Ju(e,t)}}function Zu(e,t,n){t=mi(n,t),t=Qs(e.stateNode,t,2),e=Ba(e,t,2),e!==null&&(Je(e,2),dd(e))}function Qu(e,t,n){if(e.tag===3)Zu(e,e,n);else for(;t!==null;){if(t.tag===3){Zu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(uu===null||!uu.has(r))){e=mi(n,e),n=$s(2),r=Ba(t,n,2),r!==null&&(ec(n,r,t,e),Je(r,2),dd(r));break}}t=t.return}}function $u(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Yl=!0,i.add(n),e=ed.bind(null,e,t,n),t.then(e,e))}function ed(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Hl===e&&(Wl&n)===n&&(Zl===4||Zl===3&&(Wl&62914560)===Wl&&300>Ce()-ou?!(Vl&2)&&ku(e,0):eu|=n,nu===Wl&&(nu=0)),dd(e)}function td(e,t){t===0&&(t=Ke()),e=$r(e,t),e!==null&&(Je(e,t),dd(e))}function nd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),td(e,n)}function rd(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),td(e,n)}function id(e,t){return ye(e,t)}var ad=null,od=null,sd=!1,cd=!1,ld=!1,ud=0;function dd(e){e!==od&&e.next===null&&(od===null?ad=od=e:od=od.next=e),cd=!0,sd||(sd=!0,W())}function fd(e,t){if(!ld&&cd){ld=!0;do for(var n=!1,r=ad;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Fe(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,_d(r,a))}else a=Wl,a=Ue(r,r===Hl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||We(r,a)||(n=!0,_d(r,a));r=r.next}while(n);ld=!1}}function pd(){md()}function md(){cd=sd=!1;var e=0;ud!==0&&$d()&&(e=ud);for(var t=Ce(),n=null,r=ad;r!==null;){var i=r.next,a=hd(r,t);a===0?(r.next=null,n===null?ad=i:n.next=i,i===null&&(od=n)):(n=r,(e!==0||a&3)&&(cd=!0)),r=i}du!==0&&du!==5||fd(e,!1),ud!==0&&(ud=0)}function hd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Fe(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=Ge(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Hl,n=Wl,n=Ue(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Gl===2||Gl===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&be(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||We(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&be(r),et(n)){case 2:case 8:n=Ee;break;case 32:n=De;break;case 268435456:n=ke;break;default:n=De}return r=gd.bind(null,e),n=ye(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&be(r),e.callbackPriority=2,e.callbackNode=null,2}function gd(e,t){if(du!==0&&du!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Yu()&&e.callbackNode!==n)return null;var r=Wl;return r=Ue(e,e===Hl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Cu(e,r,t),hd(e,Ce()),e.callbackNode!=null&&e.callbackNode===n?gd.bind(null,e):null)}function _d(e,t){if(Yu())return null;Cu(e,t,!0)}function W(){rf(function(){Vl&6?ye(Te,pd):md()})}function vd(){if(ud===0){var e=la;e===0&&(e=ze,ze<<=1,!(ze&261888)&&(ze=256)),ud=e}return ud}function G(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:Xt(``+e)}function yd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function bd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=G((i[at]||null).action),o=r.submitter;o&&(t=(t=o[at]||null)?G(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new _n(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ud!==0){var e=o?yd(i,o):new FormData(i);ws(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?yd(i,o):new FormData(i),ws(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var xd=0;xd<Wr.length;xd++){var Sd=Wr[xd];Gr(Sd.toLowerCase(),`on`+(Sd[0].toUpperCase()+Sd.slice(1)))}Gr(Ir,`onAnimationEnd`),Gr(Lr,`onAnimationIteration`),Gr(Rr,`onAnimationStart`),Gr(`dblclick`,`onDoubleClick`),Gr(`focusin`,`onFocus`),Gr(`focusout`,`onBlur`),Gr(zr,`onTransitionRun`),Gr(Br,`onTransitionStart`),Gr(Vr,`onTransitionCancel`),Gr(Hr,`onTransitionEnd`),xt(`onMouseEnter`,[`mouseout`,`mouseover`]),xt(`onMouseLeave`,[`mouseout`,`mouseover`]),xt(`onPointerEnter`,[`pointerout`,`pointerover`]),xt(`onPointerLeave`,[`pointerout`,`pointerover`]),bt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),bt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),bt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),bt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),bt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),bt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var Cd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),wd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(Cd));function Td(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Kr(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Kr(e)}i.currentTarget=null,a=c}}}}function Ed(e,t){var n=t[st];n===void 0&&(n=t[st]=new Set);var r=e+`__bubble`;n.has(r)||(Ad(t,e,2,!1),n.add(r))}function Dd(e,t,n){var r=0;t&&(r|=4),Ad(n,e,r,t)}var Od=`_reactListening`+Math.random().toString(36).slice(2);function kd(e){if(!e[Od]){e[Od]=!0,vt.forEach(function(t){t!==`selectionchange`&&(wd.has(t)||Dd(t,!1,e),Dd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Od]||(t[Od]=!0,Dd(`selectionchange`,!1,t))}}function Ad(e,t,n,r){switch(Sp(t)){case 2:var i=gp;break;case 8:i=_p;break;default:i=vp}n=i.bind(null,t,n,e),i=void 0,!on||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function jd(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=pt(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}nn(function(){var r=a,i=$t(n),s=[];a:{var c=Ur.get(e);if(c!==void 0){var l=_n,u=e;switch(e){case`keypress`:if(fn(n)===0)break a;case`keydown`:case`keyup`:l=Fn;break;case`focusin`:u=`focus`,l=En;break;case`focusout`:u=`blur`,l=En;break;case`beforeblur`:case`afterblur`:l=En;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=wn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Tn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Ln;break;case Ir:case Lr:case Rr:l=Dn;break;case Hr:l=Rn;break;case`scroll`:case`scrollend`:l=yn;break;case`wheel`:l=zn;break;case`copy`:case`cut`:case`paste`:l=On;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=In;break;case`toggle`:case`beforetoggle`:l=Bn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=rn(m,p),g!=null&&d.push(Md(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==Qt&&(u=n.relatedTarget||n.fromElement)&&(pt(u)||u[ot]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?pt(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=wn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=In,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:ht(l),h=u==null?c:ht(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,pt(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Pd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Fd(s,c,l,d,!1),u!==null&&f!==null&&Fd(s,f,u,d,!0)}}a:{if(c=r?ht(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=or;else if(er(c))if(sr)v=gr;else{v=mr;var y=pr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&qt(r.elementType)&&(v=or):v=hr;if(v&&=v(e,r)){tr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&zt(c,`number`,c.value)}switch(y=r?ht(r):window,e){case`focusin`:(er(y)||y.contentEditable===`true`)&&(Er=y,Dr=r,Or=null);break;case`focusout`:Or=Dr=Er=null;break;case`mousedown`:kr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:kr=!1,Ar(s,n,i);break;case`selectionchange`:if(Tr)break;case`keydown`:case`keyup`:Ar(s,n,i)}var b;if(Hn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else Xn?Jn(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(Gn&&n.locale!==`ko`&&(Xn||x!==`onCompositionStart`?x===`onCompositionEnd`&&Xn&&(b=dn()):(cn=i,ln=`value`in cn?cn.value:cn.textContent,Xn=!0)),y=Nd(r,x),0<y.length&&(x=new kn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=Yn(n),b!==null&&(x.data=b)))),(b=Wn?Zn(e,n):Qn(e,n))&&(x=Nd(r,`onBeforeInput`),0<x.length&&(y=new kn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),bd(s,e,r,n,i)}Td(s,t)})}function Md(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nd(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=rn(e,n),i!=null&&r.unshift(Md(e,i,a)),i=rn(e,t),i!=null&&r.push(Md(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Pd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=rn(n,a),l!=null&&o.unshift(Md(n,l,c))):i||(l=rn(n,a),l!=null&&o.push(Md(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Id=/\r\n?/g,Ld=/\u0000|\uFFFD/g;function Rd(e){return(typeof e==`string`?e:``+e).replace(Id,`
`).replace(Ld,``)}function zd(e,t){return t=Rd(t),Rd(e)===t}function Bd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Ut(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Ut(e,``+r);break;case`className`:Dt(e,`class`,r);break;case`tabIndex`:Dt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Dt(e,n,r);break;case`style`:Kt(e,r,o);break;case`data`:if(t!==`object`){Dt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Xt(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Bd(e,t,`name`,a.name,a,null),Bd(e,t,`formEncType`,a.formEncType,a,null),Bd(e,t,`formMethod`,a.formMethod,a,null),Bd(e,t,`formTarget`,a.formTarget,a,null)):(Bd(e,t,`encType`,a.encType,a,null),Bd(e,t,`method`,a.method,a,null),Bd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Xt(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=Zt);break;case`onScroll`:r!=null&&Ed(`scroll`,e);break;case`onScrollEnd`:r!=null&&Ed(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=Xt(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:Ed(`beforetoggle`,e),Ed(`toggle`,e),Et(e,`popover`,r);break;case`xlinkActuate`:Ot(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Ot(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Ot(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Ot(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Ot(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Ot(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Ot(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Ot(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Ot(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:Et(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=Jt.get(n)||n,Et(e,n,r))}}function Vd(e,t,n,r,a,o){switch(n){case`style`:Kt(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Ut(e,r):(typeof r==`number`||typeof r==`bigint`)&&Ut(e,``+r);break;case`onScroll`:r!=null&&Ed(`scroll`,e);break;case`onScrollEnd`:r!=null&&Ed(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=Zt);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!yt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[at]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):Et(e,n,r)}}}function Hd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:Ed(`error`,e),Ed(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Bd(e,t,o,s,n,null)}}a&&Bd(e,t,`srcSet`,n.srcSet,n,null),r&&Bd(e,t,`src`,n.src,n,null);return;case`input`:Ed(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Bd(e,t,r,d,n,null)}}Rt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in Ed(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Bd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Bt(e,!!r,n,!0):Bt(e,!!r,t,!1);return;case`textarea`:for(s in Ed(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Bd(e,t,s,c,n,null)}Ht(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Bd(e,t,l,r,n,null)}return;case`dialog`:Ed(`beforetoggle`,e),Ed(`toggle`,e),Ed(`cancel`,e),Ed(`close`,e);break;case`iframe`:case`object`:Ed(`load`,e);break;case`video`:case`audio`:for(r=0;r<Cd.length;r++)Ed(Cd[r],e);break;case`image`:Ed(`error`,e),Ed(`load`,e);break;case`details`:Ed(`toggle`,e);break;case`embed`:case`source`:case`link`:Ed(`error`,e),Ed(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Bd(e,t,u,r,n,null)}return;default:if(qt(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Vd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Bd(e,t,c,r,n,null))}function Ud(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Bd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Bd(e,t,p,m,r,f)}}Lt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Bd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Bd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Bt(e,!!n,n?[]:``,!1):Bt(e,!!n,t,!0)):Bt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Bd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Bd(e,t,s,a,r,o)}Vt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Bd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Bd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Bd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Bd(e,t,u,p,r,m)}return;default:if(qt(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Vd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Vd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Bd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Bd(e,t,f,p,r,m)}function Wd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Gd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Wd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Wd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Kd=null,qd=null;function Jd(e){return e.nodeType===9?e:e.ownerDocument}function Yd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Xd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Zd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qd=null;function $d(){var e=window.event;return e&&e.type===`popstate`?e===Qd?!1:(Qd=e,!0):(Qd=null,!1)}var ef=typeof setTimeout==`function`?setTimeout:void 0,tf=typeof clearTimeout==`function`?clearTimeout:void 0,nf=typeof Promise==`function`?Promise:void 0,rf=typeof queueMicrotask==`function`?queueMicrotask:nf===void 0?ef:function(e){return nf.resolve(null).then(e).catch(af)};function af(e){setTimeout(function(){throw e})}function of(e){return e===`head`}function sf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Vp(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)xf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,xf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[dt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&xf(e.ownerDocument.body);n=i}while(n);Vp(t)}function cf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function lf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:lf(n),ft(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function uf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[dt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=gf(e.nextSibling),e===null)break}return null}function df(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=gf(e.nextSibling),e===null))return null;return e}function ff(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=gf(e.nextSibling),e===null))return null;return e}function pf(e){return e.data===`$?`||e.data===`$~`}function mf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function hf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function gf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var _f=null;function vf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return gf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function yf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function bf(e,t,n){switch(t=Jd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function xf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ft(e)}var Sf=new Map,Cf=new Set;function wf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tf=L.d;L.d={f:Ef,r:Df,D:Af,C:jf,L:Mf,m:Nf,X:Ff,S:Pf,M:If};function Ef(){var e=Tf.f(),t=Du();return e||t}function Df(e){var t=mt(e);t!==null&&t.tag===5&&t.type===`form`?Es(t):Tf.r(e)}var Of=typeof document>`u`?null:document;function kf(e,t,n){var r=Of;if(r&&typeof t==`string`&&t){var i=It(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),Cf.has(i)||(Cf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Hd(t,`link`,e),_t(t),r.head.appendChild(t)))}}function Af(e){Tf.D(e),kf(`dns-prefetch`,e,null)}function jf(e,t){Tf.C(e,t),kf(`preconnect`,e,t)}function Mf(e,t,n){Tf.L(e,t,n);var r=Of;if(r&&e&&t){var i=`link[rel="preload"][as="`+It(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+It(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+It(n.imageSizes)+`"]`)):i+=`[href="`+It(e)+`"]`;var a=i;switch(t){case`style`:a=Rf(e);break;case`script`:a=Hf(e)}Sf.has(a)||(e=m({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),Sf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(zf(a))||t===`script`&&r.querySelector(Uf(a))||(t=r.createElement(`link`),Hd(t,`link`,e),_t(t),r.head.appendChild(t)))}}function Nf(e,t){Tf.m(e,t);var n=Of;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+It(r)+`"][href="`+It(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Hf(e)}if(!Sf.has(a)&&(e=m({rel:`modulepreload`,href:e},t),Sf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Uf(a)))return}r=n.createElement(`link`),Hd(r,`link`,e),_t(r),n.head.appendChild(r)}}}function Pf(e,t,n){Tf.S(e,t,n);var r=Of;if(r&&e){var i=gt(r).hoistableStyles,a=Rf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(zf(a)))s.loading=5;else{e=m({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=Sf.get(a))&&Kf(e,n);var c=o=r.createElement(`link`);_t(c),Hd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Gf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Ff(e,t){Tf.X(e,t);var n=Of;if(n&&e){var r=gt(n).hoistableScripts,i=Hf(e),a=r.get(i);a||(a=n.querySelector(Uf(i)),a||(e=m({src:e,async:!0},t),(t=Sf.get(i))&&qf(e,t),a=n.createElement(`script`),_t(a),Hd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function If(e,t){Tf.M(e,t);var n=Of;if(n&&e){var r=gt(n).hoistableScripts,i=Hf(e),a=r.get(i);a||(a=n.querySelector(Uf(i)),a||(e=m({src:e,async:!0,type:`module`},t),(t=Sf.get(i))&&qf(e,t),a=n.createElement(`script`),_t(a),Hd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Lf(e,t,n,r){var a=(a=ae.current)?wf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Rf(n.href),n=gt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Rf(n.href);var o=gt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(zf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),Sf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sf.set(e,n),o||Vf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Hf(n),n=gt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Rf(e){return`href="`+It(e)+`"`}function zf(e){return`link[rel="stylesheet"][`+e+`]`}function Bf(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Vf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Hd(t,`link`,n),_t(t),e.head.appendChild(t))}function Hf(e){return`[src="`+It(e)+`"]`}function Uf(e){return`script[async]`+e}function Wf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+It(n.href)+`"]`);if(r)return t.instance=r,_t(r),r;var a=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),_t(r),Hd(r,`style`,a),Gf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Rf(n.href);var o=e.querySelector(zf(a));if(o)return t.state.loading|=4,t.instance=o,_t(o),o;r=Bf(n),(a=Sf.get(a))&&Kf(r,a),o=(e.ownerDocument||e).createElement(`link`),_t(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Hd(o,`link`,r),t.state.loading|=4,Gf(o,n.precedence,e),t.instance=o;case`script`:return o=Hf(n.src),(a=e.querySelector(Uf(o)))?(t.instance=a,_t(a),a):(r=n,(a=Sf.get(o))&&(r=m({},n),qf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),_t(a),Hd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Gf(r,n.precedence,e));return t.instance}function Gf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Kf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function qf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Jf=null;function Yf(e,t,n){if(Jf===null){var r=new Map,i=Jf=new Map;i.set(n,r)}else i=Jf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[dt]||a[it]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Xf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Zf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Qf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function $f(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Rf(r.href),a=t.querySelector(zf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=np.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,_t(a);return}a=t.ownerDocument||t,r=Bf(r),(i=Sf.get(i))&&Kf(r,i),a=a.createElement(`link`),_t(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Hd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=np.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var ep=0;function tp(e,t){return e.stylesheets&&e.count===0&&ip(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ip(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&ep===0&&(ep=62500*Gd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ip(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ep?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function np(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ip(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var rp=null;function ip(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,rp=new Map,t.forEach(ap,e),rp=null,np.call(e))}function ap(e,t){if(!(t.state.loading&4)){var n=rp.get(e);if(n)var r=n.get(null);else{n=new Map,rp.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=np.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var op={$$typeof:C,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function sp(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qe(0),this.hiddenUpdates=qe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function cp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new sp(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=ii(3,null,null,t),e.current=a,a.stateNode=e,t=aa(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},La(a),e}function lp(e){return e?(e=ni,e):ni}function up(e,t,n,r,i,a){i=lp(i),r.context===null?r.context=i:r.pendingContext=i,r=za(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ba(e,r,t),n!==null&&(Su(n,e,t),Va(n,e,t))}function dp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fp(e,t){dp(e,t),(e=e.alternate)&&dp(e,t)}function pp(e){if(e.tag===13||e.tag===31){var t=$r(e,67108864);t!==null&&Su(t,e,67108864),fp(e,67108864)}}function mp(e){if(e.tag===13||e.tag===31){var t=bu();t=$e(t);var n=$r(e,t);n!==null&&Su(n,e,t),fp(e,t)}}var hp=!0;function gp(e,t,n,r){var i=I.T;I.T=null;var a=L.p;try{L.p=2,vp(e,t,n,r)}finally{L.p=a,I.T=i}}function _p(e,t,n,r){var i=I.T;I.T=null;var a=L.p;try{L.p=8,vp(e,t,n,r)}finally{L.p=a,I.T=i}}function vp(e,t,n,r){if(hp){var i=yp(r);if(i===null)jd(e,t,r,bp,n),jp(e,r);else if(Np(i,e,t,n,r))r.stopPropagation();else if(jp(e,r),t&4&&-1<Ap.indexOf(e)){for(;i!==null;){var a=mt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=He(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Fe(o);s.entanglements[1]|=c,o&=~c}dd(a),!(Vl&6)&&(cu=Ce()+500,fd(0,!1))}}break;case 31:case 13:s=$r(a,2),s!==null&&Su(s,a,2),Du(),fp(a,2)}if(a=yp(r),a===null&&jd(e,t,r,bp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else jd(e,t,r,null,n)}}function yp(e){return e=$t(e),xp(e)}var bp=null;function xp(e){if(bp=null,e=pt(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bp=e,null}function Sp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(we()){case Te:return 2;case Ee:return 8;case De:case Oe:return 32;case ke:return 268435456;default:return 32}default:return 32}}var Cp=!1,wp=null,Tp=null,Ep=null,Dp=new Map,Op=new Map,kp=[],Ap=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function jp(e,t){switch(e){case`focusin`:case`focusout`:wp=null;break;case`dragenter`:case`dragleave`:Tp=null;break;case`mouseover`:case`mouseout`:Ep=null;break;case`pointerover`:case`pointerout`:Dp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Op.delete(t.pointerId)}}function Mp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=mt(t),t!==null&&pp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Np(e,t,n,r,i){switch(t){case`focusin`:return wp=Mp(wp,e,t,n,r,i),!0;case`dragenter`:return Tp=Mp(Tp,e,t,n,r,i),!0;case`mouseover`:return Ep=Mp(Ep,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Dp.set(a,Mp(Dp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Op.set(a,Mp(Op.get(a)||null,e,t,n,r,i)),!0}return!1}function Pp(e){var t=pt(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,nt(e.priority,function(){mp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,nt(e.priority,function(){mp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Qt=r,n.target.dispatchEvent(r),Qt=null}else return t=mt(n),t!==null&&pp(t),e.blockedOn=n,!1;t.shift()}return!0}function Ip(e,t,n){Fp(e)&&n.delete(t)}function Lp(){Cp=!1,wp!==null&&Fp(wp)&&(wp=null),Tp!==null&&Fp(Tp)&&(Tp=null),Ep!==null&&Fp(Ep)&&(Ep=null),Dp.forEach(Ip),Op.forEach(Ip)}function Rp(e,n){e.blockedOn===n&&(e.blockedOn=null,Cp||(Cp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Lp)))}var zp=null;function Bp(e){zp!==e&&(zp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zp===e&&(zp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(xp(r||n)===null)continue;break}var a=mt(n);a!==null&&(e.splice(t,3),t-=3,ws(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vp(e){function t(t){return Rp(t,e)}wp!==null&&Rp(wp,e),Tp!==null&&Rp(Tp,e),Ep!==null&&Rp(Ep,e),Dp.forEach(t),Op.forEach(t);for(var n=0;n<kp.length;n++){var r=kp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<kp.length&&(n=kp[0],n.blockedOn===null);)Pp(n),n.blockedOn===null&&kp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[at]||null;if(typeof a==`function`)o||Bp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[at]||null)s=o.formAction;else if(xp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Bp(n)}}}function Hp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Up(e){this._internalRoot=e}Wp.prototype.render=Up.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;up(n,bu(),e,t,null,null)},Wp.prototype.unmount=Up.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;up(e.current,2,null,e,null,null),Du(),t[ot]=null}};function Wp(e){this._internalRoot=e}Wp.prototype.unstable_scheduleHydration=function(e){if(e){var t=tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kp.length&&t!==0&&t<kp[n].priority;n++);kp.splice(n,0,e),n===0&&Pp(e)}};var Gp=n.version;if(Gp!==`19.2.3`)throw Error(i(527,Gp,`19.2.3`));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=u(t),e=e===null?null:f(e),e=e===null?null:e.stateNode,e};var Kp={bundleType:0,version:`19.2.3`,rendererPackageName:`react-dom`,currentDispatcherRef:I,reconcilerVersion:`19.2.3`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{Me=qp.inject(Kp),Ne=qp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=qs,s=Js,c=Ys;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=cp(e,1,!1,null,null,n,r,null,o,s,c,Hp),e[ot]=t.current,kd(e),new Up(t)}})),_=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=g()})),v=new WeakMap,y=new WeakMap,b={current:[]},x=!1,S=0,C=new Set,w=new Map;function T(e){for(let t of e){if(b.current.includes(t))continue;b.current.push(t),t.recompute();let e=y.get(t);if(e)for(let t of e){let e=v.get(t);e?.length&&T(e)}}}function E(e){let t={prevVal:e.prevState,currentVal:e.state};for(let n of e.listeners)n(t)}function D(e){let t={prevVal:e.prevState,currentVal:e.state};for(let n of e.listeners)n(t)}function O(e){if(S>0&&!w.has(e)&&w.set(e,e.prevState),C.add(e),!(S>0)&&!x)try{for(x=!0;C.size>0;){let e=Array.from(C);C.clear();for(let t of e)t.prevState=w.get(t)??t.prevState,E(t);for(let t of e){let e=v.get(t);e&&(b.current.push(t),T(e))}for(let t of e){let e=v.get(t);if(e)for(let t of e)D(t)}}}finally{x=!1,b.current=[],w.clear()}}function k(e){S++;try{e()}finally{if(S--,S===0){let e=C.values().next().value;e&&O(e)}}}function A(e){return typeof e==`function`}var j=class{constructor(e,t){this.listeners=new Set,this.subscribe=e=>{var t;this.listeners.add(e);let n=((t=this.options)?.onSubscribe)?.call(t,e,this);return()=>{this.listeners.delete(e),n?.()}},this.prevState=e,this.state=e,this.options=t}setState(e){var t,n;this.prevState=this.state,this.options?.updateFn?this.state=this.options.updateFn(this.prevState)(e):A(e)?this.state=e(this.prevState):this.state=e,(n=(t=this.options)?.onUpdate)==null||n.call(t),O(this)}},M=`__TSR_index`,N=`popstate`,P=`beforeunload`;function F(e){let t=e.getLocation(),n=new Set,r=r=>{t=e.getLocation(),n.forEach(e=>e({location:t,action:r}))},i=n=>{e.notifyOnIndexChange??!0?r(n):t=e.getLocation()},a=async({task:n,navigateOpts:r,...i})=>{if(r?.ignoreBlocker??!1){n();return}let a=e.getBlockers?.()??[],o=i.type===`PUSH`||i.type===`REPLACE`;if(typeof document<`u`&&a.length&&o)for(let n of a){let r=R(i.path,i.state);if(await n.blockerFn({currentLocation:t,nextLocation:r,action:i.type})){e.onBlocked?.();return}}n()};return{get location(){return t},get length(){return e.getLength()},subscribers:n,subscribe:e=>(n.add(e),()=>{n.delete(e)}),push:(n,i,o)=>{let s=t.state[M];i=I(s+1,i),a({task:()=>{e.pushState(n,i),r({type:`PUSH`})},navigateOpts:o,type:`PUSH`,path:n,state:i})},replace:(n,i,o)=>{let s=t.state[M];i=I(s,i),a({task:()=>{e.replaceState(n,i),r({type:`REPLACE`})},navigateOpts:o,type:`REPLACE`,path:n,state:i})},go:(t,n)=>{a({task:()=>{e.go(t),i({type:`GO`,index:t})},navigateOpts:n,type:`GO`})},back:t=>{a({task:()=>{e.back(t?.ignoreBlocker??!1),i({type:`BACK`})},navigateOpts:t,type:`BACK`})},forward:t=>{a({task:()=>{e.forward(t?.ignoreBlocker??!1),i({type:`FORWARD`})},navigateOpts:t,type:`FORWARD`})},canGoBack:()=>t.state[M]!==0,createHref:t=>e.createHref(t),block:t=>{if(!e.setBlockers)return()=>{};let n=e.getBlockers?.()??[];return e.setBlockers([...n,t]),()=>{let n=e.getBlockers?.()??[];e.setBlockers?.(n.filter(e=>e!==t))}},flush:()=>e.flush?.(),destroy:()=>e.destroy?.(),notify:r}}function I(e,t){t||={};let n=ee();return{...t,key:n,__TSR_key:n,[M]:e}}function L(e){let t=e?.window??(typeof document<`u`?window:void 0),n=t.history.pushState,r=t.history.replaceState,i=[],a=()=>i,o=e=>i=e,s=e?.createHref??(e=>e),c=e?.parseLocation??(()=>R(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state));if(!t.history.state?.__TSR_key&&!t.history.state?.key){let e=ee();t.history.replaceState({[M]:0,key:e,__TSR_key:e},``)}let l=c(),u,d=!1,f=!1,p=!1,m=!1,h=()=>l,g,_,v=()=>{g&&(C._ignoreSubscribers=!0,(g.isPush?t.history.pushState:t.history.replaceState)(g.state,``,g.href),C._ignoreSubscribers=!1,g=void 0,_=void 0,u=void 0)},y=(e,t,n)=>{let r=s(t);_||(u=l),l=R(t,n),g={href:r,state:n,isPush:g?.isPush||e===`push`},_||=Promise.resolve().then(()=>v())},b=e=>{l=c(),C.notify({type:e})},x=async()=>{if(f){f=!1;return}let e=c(),n=e.state[M]-l.state[M],r=n===1,i=n===-1,o=!r&&!i||d;d=!1;let s=o?`GO`:i?`BACK`:`FORWARD`,u=o?{type:`GO`,index:n}:{type:i?`BACK`:`FORWARD`};if(p)p=!1;else{let n=a();if(typeof document<`u`&&n.length){for(let r of n)if(await r.blockerFn({currentLocation:l,nextLocation:e,action:s})){f=!0,t.history.go(1),C.notify(u);return}}}l=c(),C.notify(u)},S=e=>{if(m){m=!1;return}let t=!1,n=a();if(typeof document<`u`&&n.length)for(let e of n){let n=e.enableBeforeUnload??!0;if(n===!0){t=!0;break}if(typeof n==`function`&&n()===!0){t=!0;break}}if(t)return e.preventDefault(),e.returnValue=``},C=F({getLocation:h,getLength:()=>t.history.length,pushState:(e,t)=>y(`push`,e,t),replaceState:(e,t)=>y(`replace`,e,t),back:e=>(e&&(p=!0),m=!0,t.history.back()),forward:e=>{e&&(p=!0),m=!0,t.history.forward()},go:e=>{d=!0,t.history.go(e)},createHref:e=>s(e),flush:v,destroy:()=>{t.history.pushState=n,t.history.replaceState=r,t.removeEventListener(P,S,{capture:!0}),t.removeEventListener(N,x)},onBlocked:()=>{u&&l!==u&&(l=u)},getBlockers:a,setBlockers:o,notifyOnIndexChange:!1});return t.addEventListener(P,S,{capture:!0}),t.addEventListener(N,x),t.history.pushState=function(...e){let r=n.apply(t.history,e);return C._ignoreSubscribers||b(`PUSH`),r},t.history.replaceState=function(...e){let n=r.apply(t.history,e);return C._ignoreSubscribers||b(`REPLACE`),n},C}function R(e,t){let n=e.indexOf(`#`),r=e.indexOf(`?`),i=ee();return{href:e,pathname:e.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:e.length),hash:n>-1?e.substring(n):``,search:r>-1?e.slice(r,n===-1?void 0:n):``,state:t||{[M]:0,key:i,__TSR_key:i}}}function ee(){return(Math.random()+1).toString(36).substring(7)}function te(e){return e[e.length-1]}function z(e){return typeof e==`function`}function ne(e,t){return z(e)?e(t):e}var re=Object.prototype.hasOwnProperty;function B(e,t){if(e===t)return e;let n=t,r=se(e)&&se(n);if(!r&&!(ae(e)&&ae(n)))return n;let i=r?e:ie(e);if(!i)return n;let a=r?n:ie(n);if(!a)return n;let o=i.length,s=a.length,c=r?Array(s):{},l=0;for(let t=0;t<s;t++){let i=r?t:a[t],s=e[i],u=n[i];if(s===u){c[i]=s,(r?t<o:re.call(e,i))&&l++;continue}if(s===null||u===null||typeof s!=`object`||typeof u!=`object`){c[i]=u;continue}let d=B(s,u);c[i]=d,d===s&&l++}return o===s&&l===o?e:c}function ie(e){let t=[],n=Object.getOwnPropertyNames(e);for(let r of n){if(!Object.prototype.propertyIsEnumerable.call(e,r))return!1;t.push(r)}let r=Object.getOwnPropertySymbols(e);for(let n of r){if(!Object.prototype.propertyIsEnumerable.call(e,n))return!1;t.push(n)}return t}function ae(e){if(!oe(e))return!1;let t=e.constructor;if(t===void 0)return!0;let n=t.prototype;return!(!oe(n)||!n.hasOwnProperty(`isPrototypeOf`))}function oe(e){return Object.prototype.toString.call(e)===`[object Object]`}function se(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ce(e,t,n){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0,i=e.length;r<i;r++)if(!ce(e[r],t[r],n))return!1;return!0}if(ae(e)&&ae(t)){let r=n?.ignoreUndefined??!0;if(n?.partial){for(let i in t)if((!r||t[i]!==void 0)&&!ce(e[i],t[i],n))return!1;return!0}let i=0;if(!r)i=Object.keys(e).length;else for(let t in e)e[t]!==void 0&&i++;let a=0;for(let o in t)if((!r||t[o]!==void 0)&&(a++,a>i||!ce(e[o],t[o],n)))return!1;return i===a}return!1}function le(e){let t,n,r=new Promise((e,r)=>{t=e,n=r});return r.status=`pending`,r.resolve=n=>{r.status=`resolved`,r.value=n,t(n),e?.(n)},r.reject=e=>{r.status=`rejected`,n(e)},r}function ue(e){return!!(e&&typeof e==`object`&&typeof e.then==`function`)}function de(e){try{return decodeURI(e)}catch{return e.replaceAll(/%[0-9A-F]{2}/gi,e=>{try{return decodeURI(e)}catch{return e}})}}function fe(e,t){if(!e)return e;let n=t?RegExp(`${t.join(`|`)}`,`gi`):/%25|%5C/gi,r=0,i=``,a;for(;(a=n.exec(e))!==null;)i+=de(e.slice(r,a.index))+a[0],r=n.lastIndex;return i+de(r?e.slice(r):e)}var pe=!0,me=`Invariant failed`;function he(e,t){if(!e){if(pe)throw Error(me);var n=typeof t==`function`?t():t,r=n?`${me}: ${n}`:me;throw Error(r)}}function ge(e){let t=new Map,n,r,i=e=>{e.next&&(e.prev?(e.prev.next=e.next,e.next.prev=e.prev,e.next=void 0,r&&(r.next=e,e.prev=r)):(e.next.prev=void 0,n=e.next,e.next=void 0,r&&(e.prev=r,r.next=e)),r=e)};return{get(e){let n=t.get(e);if(n)return i(n),n.value},set(a,o){if(t.size>=e&&n){let e=n;t.delete(e.key),e.next&&(n=e.next,e.next.prev=void 0),e===r&&(r=void 0)}let s=t.get(a);if(s)s.value=o,i(s);else{let e={key:a,value:o,prev:r};r&&(r.next=e),r=e,n||=e,t.set(a,e)}},clear(){t.clear(),n=void 0,r=void 0}}}var _e=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,ve=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,ye=/^([^{]*)\{\$\}([^}]*)$/;function be(e,t,n=new Uint16Array(6)){let r=e.indexOf(`/`,t),i=r===-1?e.length:r,a=e.substring(t,i);if(!a||!a.includes(`$`))return n[0]=0,n[1]=t,n[2]=t,n[3]=i,n[4]=i,n[5]=i,n;if(a===`$`){let r=e.length;return n[0]=2,n[1]=t,n[2]=t,n[3]=r,n[4]=r,n[5]=r,n}if(a.charCodeAt(0)===36)return n[0]=1,n[1]=t,n[2]=t+1,n[3]=i,n[4]=i,n[5]=i,n;let o=a.match(ye);if(o){let r=o[1].length;return n[0]=2,n[1]=t+r,n[2]=t+r+1,n[3]=t+r+2,n[4]=t+r+3,n[5]=e.length,n}let s=a.match(ve);if(s){let e=s[1],r=s[2],a=s[3],o=e.length;return n[0]=3,n[1]=t+o,n[2]=t+o+3,n[3]=t+o+3+r.length,n[4]=i-a.length,n[5]=i,n}let c=a.match(_e);if(c){let e=c[1],r=c[2],a=c[3],o=e.length;return n[0]=1,n[1]=t+o,n[2]=t+o+2,n[3]=t+o+2+r.length,n[4]=i-a.length,n[5]=i,n}return n[0]=0,n[1]=t,n[2]=t,n[3]=i,n[4]=i,n[5]=i,n}function xe(e,t,n,r,i,a,o){o?.(n);let s=r;{let r=n.fullPath??n.from,o=r.length,c=n.options?.caseSensitive??e;for(;s<o;){let e=be(r,s,t),o,l=s,u=e[5];switch(s=u+1,a++,e[0]){case 0:{let t=r.substring(e[2],e[3]);if(c){let e=i.static?.get(t);if(e)o=e;else{i.static??=new Map;let e=we(n.fullPath??n.from);e.parent=i,e.depth=a,o=e,i.static.set(t,e)}}else{let e=t.toLowerCase(),r=i.staticInsensitive?.get(e);if(r)o=r;else{i.staticInsensitive??=new Map;let t=we(n.fullPath??n.from);t.parent=i,t.depth=a,o=t,i.staticInsensitive.set(e,t)}}break}case 1:{let t=r.substring(l,e[1]),s=r.substring(e[4],u),d=c&&!!(t||s),f=t?d?t:t.toLowerCase():void 0,p=s?d?s:s.toLowerCase():void 0,m=i.dynamic?.find(e=>e.caseSensitive===d&&e.prefix===f&&e.suffix===p);if(m)o=m;else{let e=Te(1,n.fullPath??n.from,d,f,p);o=e,e.depth=a,e.parent=i,i.dynamic??=[],i.dynamic.push(e)}break}case 3:{let t=r.substring(l,e[1]),s=r.substring(e[4],u),d=c&&!!(t||s),f=t?d?t:t.toLowerCase():void 0,p=s?d?s:s.toLowerCase():void 0,m=i.optional?.find(e=>e.caseSensitive===d&&e.prefix===f&&e.suffix===p);if(m)o=m;else{let e=Te(3,n.fullPath??n.from,d,f,p);o=e,e.parent=i,e.depth=a,i.optional??=[],i.optional.push(e)}break}case 2:{let t=r.substring(l,e[1]),s=r.substring(e[4],u),d=c&&!!(t||s),f=t?d?t:t.toLowerCase():void 0,p=s?d?s:s.toLowerCase():void 0,m=Te(2,n.fullPath??n.from,d,f,p);o=m,m.parent=i,m.depth=a,i.wildcard??=[],i.wildcard.push(m)}}i=o}if((n.path||!n.children)&&!n.isRoot){let e=r.endsWith(`/`);e||(i.notFound=n),(!i.route||!i.isIndex&&e)&&(i.route=n,i.fullPath=n.fullPath??n.from),i.isIndex||=e}}if(n.children)for(let r of n.children)xe(e,t,r,s,i,a,o)}function Se(e,t){if(e.prefix&&t.prefix&&e.prefix!==t.prefix){if(e.prefix.startsWith(t.prefix))return-1;if(t.prefix.startsWith(e.prefix))return 1}if(e.suffix&&t.suffix&&e.suffix!==t.suffix){if(e.suffix.endsWith(t.suffix))return-1;if(t.suffix.endsWith(e.suffix))return 1}return e.prefix&&!t.prefix?-1:!e.prefix&&t.prefix?1:e.suffix&&!t.suffix?-1:!e.suffix&&t.suffix?1:e.caseSensitive&&!t.caseSensitive?-1:!e.caseSensitive&&t.caseSensitive?1:0}function Ce(e){if(e.static)for(let t of e.static.values())Ce(t);if(e.staticInsensitive)for(let t of e.staticInsensitive.values())Ce(t);if(e.dynamic?.length){e.dynamic.sort(Se);for(let t of e.dynamic)Ce(t)}if(e.optional?.length){e.optional.sort(Se);for(let t of e.optional)Ce(t)}if(e.wildcard?.length){e.wildcard.sort(Se);for(let t of e.wildcard)Ce(t)}}function we(e){return{kind:0,depth:0,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,isIndex:!1,notFound:null}}function Te(e,t,n,r,i){return{kind:e,depth:0,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,isIndex:!1,notFound:null,caseSensitive:n,prefix:r,suffix:i}}function Ee(e,t){let n=we(`/`),r=new Uint16Array(6);for(let t of e)xe(!1,r,t,1,n,0);Ce(n),t.masksTree=n,t.flatCache=ge(1e3)}function De(e,t){e||=`/`;let n=t.flatCache.get(e);if(n)return n;let r=Me(e,t.masksTree);return t.flatCache.set(e,r),r}function Oe(e,t,n,r,i){e||=`/`,r||=`/`;let a=t?`case\0${e}`:e,o=i.singleCache.get(a);return o||(o=we(`/`),xe(t,new Uint16Array(6),{from:e},1,o,0),i.singleCache.set(a,o)),Me(r,o,n)}function ke(e,t,n=!1){let r=n?e:`nofuzz\0${e}`,i=t.matchCache.get(r);if(i!==void 0)return i;e||=`/`;let a=Me(e,t.segmentTree,n);return a&&(a.branch=Pe(a.route)),t.matchCache.set(r,a),a}function Ae(e){return e===`/`?e:e.replace(/\/{1,}$/,``)}function je(e,t=!1,n){let r=we(e.fullPath),i=new Uint16Array(6),a={},o={},s=0;return xe(t,i,e,1,r,0,e=>{if(n?.(e,s),he(!(e.id in a),`Duplicate routes found with id: ${String(e.id)}`),a[e.id]=e,s!==0&&e.path){let t=Ae(e.fullPath);(!o[t]||e.fullPath.endsWith(`/`))&&(o[t]=e)}s++}),Ce(r),{processedTree:{segmentTree:r,singleCache:ge(1e3),matchCache:ge(1e3),flatCache:null,masksTree:null},routesById:a,routesByPath:o}}function Me(e,t,n=!1){let r=e.split(`/`),i=Ie(e,r,t,n);if(!i)return null;let a=Ne(e,r,i),o=`**`in i;return o&&(a[`**`]=i[`**`]),{route:o?i.node.notFound??i.node.route:i.node.route,params:a}}function Ne(e,t,n){let r=Fe(n.node),i=null,a={};for(let o=0,s=0,c=0;s<r.length;o++,s++,c++){let l=r[s],u=t[o],d=c;if(u&&(c+=u.length),l.kind===1){i??=n.node.fullPath.split(`/`);let e=i[s],t=l.prefix?.length??0;if(e.charCodeAt(t)===123){let n=l.suffix?.length??0,r=e.substring(t+2,e.length-n-1),i=u.substring(t,u.length-n);a[r]=decodeURIComponent(i)}else{let t=e.substring(1);a[t]=decodeURIComponent(u)}}else if(l.kind===3){if(n.skipped&1<<s){o--;continue}i??=n.node.fullPath.split(`/`);let e=i[s],t=l.prefix?.length??0,r=l.suffix?.length??0,c=e.substring(t+3,e.length-r-1),d=l.suffix||l.prefix?u.substring(t,u.length-r):u;d&&(a[c]=decodeURIComponent(d))}else if(l.kind===2){let t=l,n=e.substring(d+(t.prefix?.length??0),e.length-(t.suffix?.length??0)),r=decodeURIComponent(n);a[`*`]=r,a._splat=r;break}}return a}function Pe(e){let t=[e];for(;e.parentRoute;)e=e.parentRoute,t.push(e);return t.reverse(),t}function Fe(e){let t=Array(e.depth+1);do t[e.depth]=e,e=e.parent;while(e);return t}function Ie(e,t,n,r){let i=!te(t),a=i&&e!==`/`,o=t.length-(i?1:0),s=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}],c=null,l=null,u=null;for(;s.length;){let e=s.pop(),{node:n,index:i,skipped:d,depth:f,statics:p,dynamics:m,optionals:h}=e;r&&n.notFound&&Le(l,e)&&(l=e);let g=i===o;if(g){if(n.route&&(!a||n.isIndex)&&(Le(u,e)&&(u=e),p===o&&n.isIndex))return u;if(!n.optional&&!n.wildcard)continue}let _=g?void 0:t[i],v;if(n.wildcard&&Le(c,e))for(let e of n.wildcard){let{prefix:n,suffix:r}=e;if(!(n&&(g||!(e.caseSensitive?_:v??=_.toLowerCase()).startsWith(n)))){if(r){if(g)continue;let n=t.slice(i).join(`/`).slice(-r.length);if((e.caseSensitive?n:n.toLowerCase())!==r)continue}c={node:e,index:i,skipped:d,depth:f,statics:p,dynamics:m,optionals:h};break}}if(n.optional){let e=d|1<<f,t=f+1;for(let r=n.optional.length-1;r>=0;r--){let a=n.optional[r];s.push({node:a,index:i,skipped:e,depth:t,statics:p,dynamics:m,optionals:h})}if(!g)for(let e=n.optional.length-1;e>=0;e--){let r=n.optional[e],{prefix:a,suffix:o}=r;if(a||o){let e=r.caseSensitive?_:v??=_.toLowerCase();if(a&&!e.startsWith(a)||o&&!e.endsWith(o))continue}s.push({node:r,index:i+1,skipped:d,depth:t,statics:p,dynamics:m,optionals:h+1})}}if(!g&&n.dynamic&&_)for(let e=n.dynamic.length-1;e>=0;e--){let t=n.dynamic[e],{prefix:r,suffix:a}=t;if(r||a){let e=t.caseSensitive?_:v??=_.toLowerCase();if(r&&!e.startsWith(r)||a&&!e.endsWith(a))continue}s.push({node:t,index:i+1,skipped:d,depth:f+1,statics:p,dynamics:m+1,optionals:h})}if(!g&&n.staticInsensitive){let e=n.staticInsensitive.get(v??=_.toLowerCase());e&&s.push({node:e,index:i+1,skipped:d,depth:f+1,statics:p+1,dynamics:m,optionals:h})}if(!g&&n.static){let e=n.static.get(_);e&&s.push({node:e,index:i+1,skipped:d,depth:f+1,statics:p+1,dynamics:m,optionals:h})}}if(u&&c)return Le(c,u)?u:c;if(u)return u;if(c)return c;if(r&&l){let n=l.index;for(let e=0;e<l.index;e++)n+=t[e].length;let r=n===e.length?`/`:e.slice(n);return{node:l.node,skipped:l.skipped,"**":decodeURIComponent(r)}}return null}function Le(e,t){return e?t.statics>e.statics||t.statics===e.statics&&(t.dynamics>e.dynamics||t.dynamics===e.dynamics&&(t.optionals>e.optionals||t.optionals===e.optionals&&(t.node.isIndex>e.node.isIndex||t.node.isIndex===e.node.isIndex&&t.depth>e.depth))):!0}function Re(e){return ze(e.filter(e=>e!==void 0).join(`/`))}function ze(e){return e.replace(/\/{2,}/g,`/`)}function Be(e){return e===`/`?e:e.replace(/^\/{1,}/,``)}function Ve(e){let t=e.length;return t>1&&e[t-1]===`/`?e.replace(/\/{1,}$/,``):e}function He(e){return Ve(Be(e))}function Ue(e,t){return e?.endsWith(`/`)&&e!==`/`&&e!==`${t}/`?e.slice(0,-1):e}function We(e,t,n){return Ue(e,n)===Ue(t,n)}function Ge({base:e,to:t,trailingSlash:n=`never`,cache:r}){let i=t.startsWith(`/`),a=!i&&t===`.`,o;if(r){o=i?t:a?e:e+`\0`+t;let n=r.get(o);if(n)return n}let s;if(a)s=e.split(`/`);else if(i)s=t.split(`/`);else{for(s=e.split(`/`);s.length>1&&te(s)===``;)s.pop();let n=t.split(`/`);for(let e=0,t=n.length;e<t;e++){let r=n[e];r===``?e?e===t-1&&s.push(r):s=[r]:r===`..`?s.pop():r===`.`||s.push(r)}}s.length>1&&(te(s)===``?n===`never`&&s.pop():n===`always`&&s.push(``));let c,l=``;for(let e=0;e<s.length;e++){e>0&&(l+=`/`);let t=s[e];if(!t)continue;c=be(t,0,c);let n=c[0];if(n===0){l+=t;continue}let r=c[5],i=t.substring(0,c[1]),a=t.substring(c[4],r),o=t.substring(c[2],c[3]);n===1?l+=i||a?`${i}{$${o}}${a}`:`$${o}`:n===2?l+=i||a?`${i}{$}${a}`:`$`:l+=`${i}{-$${o}}${a}`}l=ze(l);let u=l||`/`;return o&&r&&r.set(o,u),u}function Ke(e,t,n){let r=t[e];return typeof r==`string`?e===`_splat`?encodeURI(r):Je(r,n):r}function qe({path:e,params:t,decodeCharMap:n}){let r=!1,i={};if(!e||e===`/`)return{interpolatedPath:`/`,usedParams:i,isMissingParams:r};if(!e.includes(`$`))return{interpolatedPath:e,usedParams:i,isMissingParams:r};let a=e.length,o=0,s,c=``;for(;o<a;){let a=o;s=be(e,a,s);let l=s[5];if(o=l+1,a===l)continue;let u=s[0];if(u===0){c+=`/`+e.substring(a,l);continue}if(u===2){let o=t._splat;i._splat=o,i[`*`]=o;let u=e.substring(a,s[1]),d=e.substring(s[4],l);if(!o){r=!0,(u||d)&&(c+=`/`+u+d);continue}let f=Ke(`_splat`,t,n);c+=`/`+u+f+d;continue}if(u===1){let o=e.substring(s[2],s[3]);!r&&!(o in t)&&(r=!0),i[o]=t[o];let u=e.substring(a,s[1]),d=e.substring(s[4],l),f=Ke(o,t,n)??`undefined`;c+=`/`+u+f+d;continue}if(u===3){let r=e.substring(s[2],s[3]),o=t[r];if(o==null)continue;i[r]=o;let u=e.substring(a,s[1]),d=e.substring(s[4],l),f=Ke(r,t,n)??``;c+=`/`+u+f+d;continue}}return e.endsWith(`/`)&&(c+=`/`),{usedParams:i,interpolatedPath:c||`/`,isMissingParams:r}}function Je(e,t){let n=encodeURIComponent(e);if(t)for(let[e,r]of t)n=n.replaceAll(e,r);return n}function Ye(e){return!!e?.isNotFound}function Xe(){try{if(typeof window<`u`&&typeof window.sessionStorage==`object`)return window.sessionStorage}catch{}}var Ze=`tsr-scroll-restoration-v1_3`,Qe=(e,t)=>{let n;return(...r)=>{n||=setTimeout(()=>{e(...r),n=null},t)}};function $e(){let e=Xe();if(!e)return null;let t=e.getItem(Ze),n=t?JSON.parse(t):{};return{state:n,set:t=>(n=ne(t,n)||n,e.setItem(Ze,JSON.stringify(n)))}}var et=$e(),tt=e=>e.state.__TSR_key||e.href;function nt(e){let t=[],n;for(;n=e.parentNode;)t.push(`${e.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,e)+1})`),e=n;return`${t.reverse().join(` > `)}`.toLowerCase()}var rt=!1;function it({storageKey:e,key:t,behavior:n,shouldScrollRestoration:r,scrollToTopSelectors:i,location:a}){let o;try{o=JSON.parse(sessionStorage.getItem(e)||`{}`)}catch(e){console.error(e);return}let s=t||window.history.state?.__TSR_key,c=o[s];rt=!0;scroll:{if(r&&c&&Object.keys(c).length>0){for(let e in c){let t=c[e];if(e===`window`)window.scrollTo({top:t.scrollY,left:t.scrollX,behavior:n});else if(e){let n=document.querySelector(e);n&&(n.scrollLeft=t.scrollX,n.scrollTop=t.scrollY)}}break scroll}let e=(a??window.location).hash.split(`#`,2)[1];if(e){let t=window.history.state?.__hashScrollIntoViewOptions??!0;if(t){let n=document.getElementById(e);n&&n.scrollIntoView(t)}break scroll}let t={top:0,left:0,behavior:n};if(window.scrollTo(t),i)for(let e of i){if(e===`window`)continue;let n=typeof e==`function`?e():document.querySelector(e);n&&n.scrollTo(t)}}rt=!1}function at(e,t){if(!et&&!e.isServer||((t??e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),e.isServer||e.isScrollRestorationSetup||!et))return;e.isScrollRestorationSetup=!0,rt=!1;let n=e.options.getScrollRestorationKey||tt;window.history.scrollRestoration=`manual`,typeof document<`u`&&document.addEventListener(`scroll`,Qe(t=>{if(rt||!e.isScrollRestoring)return;let r=``;if(t.target===document||t.target===window)r=`window`;else{let e=t.target.getAttribute(`data-scroll-restoration-id`);r=e?`[data-scroll-restoration-id="${e}"]`:nt(t.target)}let i=n(e.state.location);et.set(e=>{let t=e[i]||={},n=t[r]||={};if(r===`window`)n.scrollX=window.scrollX||0,n.scrollY=window.scrollY||0;else if(r){let e=document.querySelector(r);e&&(n.scrollX=e.scrollLeft||0,n.scrollY=e.scrollTop||0)}return e})},100),!0),e.subscribe(`onRendered`,t=>{let r=n(t.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}typeof e.options.scrollRestoration==`function`&&!e.options.scrollRestoration({location:e.latestLocation})||(it({storageKey:Ze,key:r,behavior:e.options.scrollRestorationBehavior,shouldScrollRestoration:e.isScrollRestoring,scrollToTopSelectors:e.options.scrollToTopSelectors,location:e.history.location}),e.isScrollRestoring&&et.set(e=>(e[r]||={},e)))})}function ot(e){if(typeof document<`u`&&document.querySelector){let t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==``){let n=document.getElementById(e.state.location.hash);n&&n.scrollIntoView(t)}}}function st(e,t=String){let n=new URLSearchParams;for(let r in e){let i=e[r];i!==void 0&&n.set(r,t(i))}return n.toString()}function ct(e){return e?e===`false`?!1:e===`true`?!0:e*0==0&&+e+``===e?+e:e:``}function lt(e){let t=new URLSearchParams(e),n={};for(let[e,r]of t.entries()){let t=n[e];t==null?n[e]=ct(r):Array.isArray(t)?t.push(ct(r)):n[e]=[t,ct(r)]}return n}var ut=ft(JSON.parse),dt=pt(JSON.stringify,JSON.parse);function ft(e){return t=>{t[0]===`?`&&(t=t.substring(1));let n=lt(t);for(let t in n){let r=n[t];if(typeof r==`string`)try{n[t]=e(r)}catch{}}return n}}function pt(e,t){let n=typeof t==`function`;function r(r){if(typeof r==`object`&&r)try{return e(r)}catch{}else if(n&&typeof r==`string`)try{return t(r),e(r)}catch{}return r}return e=>{let t=st(e,r);return t?`?${t}`:``}}var mt=`__root__`;function ht(e){if(e.statusCode=e.statusCode||e.code||307,!e.reloadDocument&&typeof e.href==`string`)try{new URL(e.href),e.reloadDocument=!0}catch{}let t=new Headers(e.headers);e.href&&t.get(`Location`)===null&&t.set(`Location`,e.href);let n=new Response(null,{status:e.statusCode,headers:t});if(n.options=e,e.throw)throw n;return n}function gt(e){return e instanceof Response&&!!e.options}var _t=e=>{if(!e.rendered)return e.rendered=!0,e.onReady?.()},vt=(e,t)=>!!(e.preload&&!e.router.state.matches.some(e=>e.id===t)),yt=(e,t,n=!0)=>{let r={...e.router.options.context??{}},i=n?t:t-1;for(let t=0;t<=i;t++){let n=e.matches[t];if(!n)continue;let i=e.router.getMatch(n.id);i&&Object.assign(r,i.__routeContext,i.__beforeLoadContext)}return r},bt=(e,t)=>{let n=e.router.routesById[t.routeId??``]??e.router.routeTree;!n.options.notFoundComponent&&e.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=e.router.options.defaultNotFoundComponent),he(n.options.notFoundComponent,`No notFoundComponent found. Please set a notFoundComponent on your route or provide a defaultNotFoundComponent to the router.`);let r=e.matches.find(e=>e.routeId===n.id);he(r,`Could not find match for route: `+n.id),e.updateMatch(r.id,e=>({...e,status:`notFound`,error:t,isFetching:!1})),t.routerCode===`BEFORE_LOAD`&&n.parentRoute&&(t.routeId=n.parentRoute.id,bt(e,t))},xt=(e,t,n)=>{if(!(!gt(n)&&!Ye(n))){if(gt(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(t){t._nonReactive.beforeLoadPromise?.resolve(),t._nonReactive.loaderPromise?.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loaderPromise=void 0;let r=gt(n)?`redirected`:`notFound`;t._nonReactive.error=n,e.updateMatch(t.id,e=>({...e,status:r,isFetching:!1,error:n})),Ye(n)&&!n.routeId&&(n.routeId=t.routeId),t._nonReactive.loadPromise?.resolve()}throw gt(n)?(e.rendered=!0,n.options._fromLocation=e.location,n.redirectHandled=!0,n=e.router.resolveRedirect(n),n):(bt(e,n),n)}},St=(e,t)=>{let n=e.router.getMatch(t);return!!(!e.router.isServer&&n._nonReactive.dehydrated||e.router.isServer&&n.ssr===!1)},Ct=(e,t,n,r)=>{let{id:i,routeId:a}=e.matches[t],o=e.router.looseRoutesById[a];if(n instanceof Promise)throw n;n.routerCode=r,e.firstBadMatchIndex??=t,xt(e,e.router.getMatch(i),n);try{o.options.onError?.(n)}catch(t){n=t,xt(e,e.router.getMatch(i),n)}e.updateMatch(i,e=>(e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loadPromise?.resolve(),{...e,error:n,status:`error`,isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},wt=(e,t,n,r)=>{let i=e.router.getMatch(t),a=e.matches[n-1]?.id,o=a?e.router.getMatch(a):void 0;if(e.router.isShell()){i.ssr=r.id===mt;return}if(o?.ssr===!1){i.ssr=!1;return}let s=e=>e===!0&&o?.ssr===`data-only`?`data-only`:e,c=e.router.options.defaultSsr??!0;if(r.options.ssr===void 0){i.ssr=s(c);return}if(typeof r.options.ssr!=`function`){i.ssr=s(r.options.ssr);return}let{search:l,params:u}=i,d={search:Ft(l,i.searchError),params:Ft(u,i.paramsError),location:e.location,matches:e.matches.map(e=>({index:e.index,pathname:e.pathname,fullPath:e.fullPath,staticData:e.staticData,id:e.id,routeId:e.routeId,search:Ft(e.search,e.searchError),params:Ft(e.params,e.paramsError),ssr:e.ssr}))},f=r.options.ssr(d);if(ue(f))return f.then(e=>{i.ssr=s(e??c)});i.ssr=s(f??c)},Tt=(e,t,n,r)=>{if(r._nonReactive.pendingTimeout!==void 0)return;let i=n.options.pendingMs??e.router.options.defaultPendingMs;if(e.onReady&&!e.router.isServer&&!vt(e,t)&&(n.options.loader||n.options.beforeLoad||It(n))&&typeof i==`number`&&i!==1/0&&(n.options.pendingComponent??e.router.options?.defaultPendingComponent)){let t=setTimeout(()=>{_t(e)},i);r._nonReactive.pendingTimeout=t}},Et=(e,t,n)=>{let r=e.router.getMatch(t);if(!r._nonReactive.beforeLoadPromise&&!r._nonReactive.loaderPromise)return;Tt(e,t,n,r);let i=()=>{let n=e.router.getMatch(t);n.preload&&(n.status===`redirected`||n.status===`notFound`)&&xt(e,n,n.error)};return r._nonReactive.beforeLoadPromise?r._nonReactive.beforeLoadPromise.then(i):i()},Dt=(e,t,n,r)=>{let i=e.router.getMatch(t),a=i._nonReactive.loadPromise;i._nonReactive.loadPromise=le(()=>{a?.resolve()});let{paramsError:o,searchError:s}=i;o&&Ct(e,n,o,`PARSE_PARAMS`),s&&Ct(e,n,s,`VALIDATE_SEARCH`),Tt(e,t,r,i);let c=new AbortController,l=e.matches[n-1]?.id;(l?e.router.getMatch(l):void 0)?.context??e.router.options.context;let u=!1,d=()=>{u||(u=!0,e.updateMatch(t,e=>({...e,isFetching:`beforeLoad`,fetchCount:e.fetchCount+1,abortController:c})))},f=()=>{i._nonReactive.beforeLoadPromise?.resolve(),i._nonReactive.beforeLoadPromise=void 0,e.updateMatch(t,e=>({...e,isFetching:!1}))};if(!r.options.beforeLoad){k(()=>{d(),f()});return}i._nonReactive.beforeLoadPromise=le();let p={...yt(e,n,!1),...i.__routeContext},{search:m,params:h,cause:g}=i,_=vt(e,t),v={search:m,abortController:c,params:h,preload:_,context:p,location:e.location,navigate:t=>e.router.navigate({...t,_fromLocation:e.location}),buildLocation:e.router.buildLocation,cause:_?`preload`:g,matches:e.matches,...e.router.options.additionalContext},y=r=>{if(r===void 0){k(()=>{d(),f()});return}(gt(r)||Ye(r))&&(d(),Ct(e,n,r,`BEFORE_LOAD`)),k(()=>{d(),e.updateMatch(t,e=>({...e,__beforeLoadContext:r})),f()})},b;try{if(b=r.options.beforeLoad(v),ue(b))return d(),b.catch(t=>{Ct(e,n,t,`BEFORE_LOAD`)}).then(y)}catch(t){d(),Ct(e,n,t,`BEFORE_LOAD`)}y(b)},Ot=(e,t)=>{let{id:n,routeId:r}=e.matches[t],i=e.router.looseRoutesById[r],a=()=>{if(e.router.isServer){let r=wt(e,n,t,i);if(ue(r))return r.then(s)}return s()},o=()=>Dt(e,n,t,i),s=()=>{if(St(e,n))return;let t=Et(e,n,i);return ue(t)?t.then(o):o()};return a()},kt=(e,t,n)=>{let r=e.router.getMatch(t);if(!r||!n.options.head&&!n.options.scripts&&!n.options.headers)return;let i={matches:e.matches,match:r,params:r.params,loaderData:r.loaderData};return Promise.all([n.options.head?.(i),n.options.scripts?.(i),n.options.headers?.(i)]).then(([e,t,n])=>({meta:e?.meta,links:e?.links,headScripts:e?.scripts,headers:n,scripts:t,styles:e?.styles}))},At=(e,t,n,r)=>{let i=e.matchPromises[n-1],{params:a,loaderDeps:o,abortController:s,cause:c}=e.router.getMatch(t),l=yt(e,n),u=vt(e,t);return{params:a,deps:o,preload:!!u,parentMatchPromise:i,abortController:s,context:l,location:e.location,navigate:t=>e.router.navigate({...t,_fromLocation:e.location}),cause:u?`preload`:c,route:r,...e.router.options.additionalContext}},jt=async(e,t,n,r)=>{try{let i=e.router.getMatch(t);try{(!e.router.isServer||i.ssr===!0)&&Pt(r);let a=r.options.loader?.(At(e,t,n,r)),o=r.options.loader&&ue(a);if((o||r._lazyPromise||r._componentsPromise||r.options.head||r.options.scripts||r.options.headers||i._nonReactive.minPendingPromise)&&e.updateMatch(t,e=>({...e,isFetching:`loader`})),r.options.loader){let n=o?await a:a;xt(e,e.router.getMatch(t),n),n!==void 0&&e.updateMatch(t,e=>({...e,loaderData:n}))}r._lazyPromise&&await r._lazyPromise;let s=kt(e,t,r),c=s?await s:void 0,l=i._nonReactive.minPendingPromise;l&&await l,r._componentsPromise&&await r._componentsPromise,e.updateMatch(t,e=>({...e,error:void 0,status:`success`,isFetching:!1,updatedAt:Date.now(),...c}))}catch(n){let a=n,o=i._nonReactive.minPendingPromise;o&&await o,Ye(n)&&await r.options.notFoundComponent?.preload?.(),xt(e,e.router.getMatch(t),n);try{r.options.onError?.(n)}catch(n){a=n,xt(e,e.router.getMatch(t),n)}let s=kt(e,t,r),c=s?await s:void 0;e.updateMatch(t,e=>({...e,error:a,status:`error`,isFetching:!1,...c}))}}catch(n){let i=e.router.getMatch(t);if(i){let n=kt(e,t,r);if(n){let r=await n;e.updateMatch(t,e=>({...e,...r}))}i._nonReactive.loaderPromise=void 0}xt(e,i,n)}},Mt=async(e,t)=>{let{id:n,routeId:r}=e.matches[t],i=!1,a=!1,o=e.router.looseRoutesById[r],s=()=>{e.updateMatch(n,n=>({...n,context:yt(e,t)}))};if(St(e,n)){if(e.router.isServer){let t=kt(e,n,o);if(t){let r=await t;e.updateMatch(n,e=>({...e,...r}))}return e.router.getMatch(n)}}else{let r=e.router.getMatch(n);if(r._nonReactive.loaderPromise){if(r.status===`success`&&!e.sync&&!r.preload)return r;await r._nonReactive.loaderPromise;let t=e.router.getMatch(n),i=t._nonReactive.error||t.error;i&&xt(e,t,i)}else{let c=Date.now()-r.updatedAt,l=vt(e,n),u=l?o.options.preloadStaleTime??e.router.options.defaultPreloadStaleTime??3e4:o.options.staleTime??e.router.options.defaultStaleTime??0,d=o.options.shouldReload,f=typeof d==`function`?d(At(e,n,t,o)):d,p=!!l&&!e.router.state.matches.some(e=>e.id===n),m=e.router.getMatch(n);m._nonReactive.loaderPromise=le(),p!==m.preload&&e.updateMatch(n,e=>({...e,preload:p}));let{status:h,invalid:g}=m;if(i=h===`success`&&(g||(f??c>u)),!(l&&o.options.preload===!1))if(i&&!e.sync)a=!0,(async()=>{try{await jt(e,n,t,o),s();let r=e.router.getMatch(n);r._nonReactive.loaderPromise?.resolve(),r._nonReactive.loadPromise?.resolve(),r._nonReactive.loaderPromise=void 0}catch(t){gt(t)&&await e.router.navigate(t.options)}})();else if(h!==`success`||i&&e.sync)await jt(e,n,t,o);else{let t=kt(e,n,o);if(t){let r=await t;e.updateMatch(n,e=>({...e,...r}))}}}}let c=e.router.getMatch(n);a||(c._nonReactive.loaderPromise?.resolve(),c._nonReactive.loadPromise?.resolve()),clearTimeout(c._nonReactive.pendingTimeout),c._nonReactive.pendingTimeout=void 0,a||(c._nonReactive.loaderPromise=void 0),c._nonReactive.dehydrated=void 0,a||s();let l=a?c.isFetching:!1;return l!==c.isFetching||c.invalid!==!1?(e.updateMatch(n,e=>({...e,isFetching:l,invalid:!1})),e.router.getMatch(n)):c};async function Nt(e){let t=Object.assign(e,{matchPromises:[]});!t.router.isServer&&t.router.state.matches.some(e=>e._forcePending)&&_t(t);try{for(let e=0;e<t.matches.length;e++){let n=Ot(t,e);ue(n)&&await n}let e=t.firstBadMatchIndex??t.matches.length;for(let n=0;n<e;n++)t.matchPromises.push(Mt(t,n));await Promise.all(t.matchPromises);let n=_t(t);ue(n)&&await n}catch(e){if(Ye(e)&&!t.preload){let n=_t(t);throw ue(n)&&await n,e}if(gt(e))throw e}return t.matches}async function Pt(e){if(!e._lazyLoaded&&e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(t=>{let{id:n,...r}=t.options;Object.assign(e.options,r),e._lazyLoaded=!0,e._lazyPromise=void 0}):e._lazyLoaded=!0),!e._componentsLoaded&&e._componentsPromise===void 0){let t=()=>{let t=[];for(let n of Lt){let r=e.options[n]?.preload;r&&t.push(r())}if(t.length)return Promise.all(t).then(()=>{e._componentsLoaded=!0,e._componentsPromise=void 0});e._componentsLoaded=!0,e._componentsPromise=void 0};e._componentsPromise=e._lazyPromise?e._lazyPromise.then(t):t()}return e._componentsPromise}function Ft(e,t){return t?{status:`error`,error:t}:{status:`success`,value:e}}function It(e){for(let t of Lt)if(e.options[t]?.preload)return!0;return!1}var Lt=[`component`,`errorComponent`,`pendingComponent`,`notFoundComponent`];function Rt(e){return{input:({url:t})=>{for(let n of e)t=Bt(n,t);return t},output:({url:t})=>{for(let n=e.length-1;n>=0;n--)t=Vt(e[n],t);return t}}}function zt(e){let t=He(e.basepath),n=`/${t}`,r=`${n}/`,i=e.caseSensitive?n:n.toLowerCase(),a=e.caseSensitive?r:r.toLowerCase();return{input:({url:t})=>{let r=e.caseSensitive?t.pathname:t.pathname.toLowerCase();return r===i?t.pathname=`/`:r.startsWith(a)&&(t.pathname=t.pathname.slice(n.length)),t},output:({url:e})=>(e.pathname=Re([`/`,t,e.pathname]),e)}}function Bt(e,t){let n=e?.input?.({url:t});if(n){if(typeof n==`string`)return new URL(n);if(n instanceof URL)return n}return t}function Vt(e,t){let n=e?.output?.({url:t});if(n){if(typeof n==`string`)return new URL(n);if(n instanceof URL)return n}return t}function Ht(e){let t=e.resolvedLocation,n=e.location;return{fromLocation:t,toLocation:n,pathChanged:t?.pathname!==n.pathname,hrefChanged:t?.href!==n.href,hashChanged:t?.hash!==n.hash}}var Ut=class{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=e=>e(),this.update=e=>{e.notFoundRoute&&console.warn(`The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.`);let t=this.options,n=this.basepath??t?.basepath??`/`,r=this.basepath===void 0,i=t?.rewrite;this.options={...t,...e},this.isServer=this.options.isServer??typeof document>`u`,this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(e=>[encodeURIComponent(e),e])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=L())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!==`null`?this.origin=window.origin:this.origin=`http://localhost`),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new j(Kt(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(e=>![`redirected`].includes(e.status))}}}),at(this));let a=!1,o=this.options.basepath??`/`,s=this.options.rewrite;if(r||n!==o||i!==s){this.basepath=o;let e=[];He(o)!==``&&e.push(zt({basepath:o})),s&&e.push(s),this.rewrite=e.length===0?void 0:e.length===1?e[0]:Rt(e),this.history&&this.updateLatestLocation(),a=!0}a&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<`u`&&`CSS`in window&&typeof window.CSS?.supports==`function`&&(this.isViewTransitionTypesSupported=window.CSS.supports(`selector(:active-view-transition-type(a)`))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{let{routesById:e,routesByPath:t,processedTree:n}=je(this.routeTree,this.options.caseSensitive,(e,t)=>{e.init({originalIndex:t})});this.options.routeMasks&&Ee(this.options.routeMasks,n),this.routesById=e,this.routesByPath=t,this.processedTree=n;let r=this.options.notFoundRoute;r&&(r.init({originalIndex:99999999999}),this.routesById[r.id]=r)},this.subscribe=(e,t)=>{let n={eventType:e,fn:t};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=e=>{this.subscribers.forEach(t=>{t.eventType===e.type&&t.fn(e)})},this.parseLocation=(e,t)=>{let n=({href:e,state:n})=>{let r=new URL(e,this.origin),i=Bt(this.rewrite,r),a=this.options.parseSearch(i.search),o=this.options.stringifySearch(a);return i.search=o,{href:i.href.replace(i.origin,``),publicHref:e,url:i,pathname:fe(i.pathname),searchStr:o,search:B(t?.search,a),hash:i.hash.split(`#`).reverse()[0]??``,state:B(t?.state,n)}},r=n(e),{__tempLocation:i,__tempKey:a}=r.state;if(i&&(!a||a===this.tempLocationKey)){let e=n(i);return e.state.key=r.state.key,e.state.__TSR_key=r.state.__TSR_key,delete e.state.__tempLocation,{...e,maskedLocation:r}}return r},this.resolvePathCache=ge(1e3),this.resolvePathWithBase=(e,t)=>Ge({base:e,to:ze(t),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(e,t,n)=>typeof e==`string`?this.matchRoutesInternal({pathname:e,search:t},n):this.matchRoutesInternal(e,t),this.getMatchedRoutes=e=>Jt({pathname:e,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=e=>{let t=this.getMatch(e);t&&(t.abortController.abort(),clearTimeout(t._nonReactive.pendingTimeout),t._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{let e=this.state.matches.filter(e=>e.status===`pending`),t=this.state.matches.filter(e=>e.isFetching===`loader`);new Set([...this.state.pendingMatches??[],...e,...t]).forEach(e=>{this.cancelMatch(e.id)})},this.buildLocation=e=>{let t=(t={})=>{let n=t._fromLocation||this.pendingBuiltLocation||this.latestLocation,r=te(this.matchRoutes(n,{_buildLocation:!0}));t.from;let i=t.unsafeRelative===`path`?n.pathname:t.from??r.fullPath,a=this.resolvePathWithBase(i,`.`),o=r.search,s={...r.params},c=t.to?this.resolvePathWithBase(a,`${t.to}`):this.resolvePathWithBase(a,`.`),l=t.params===!1||t.params===null?{}:(t.params??!0)===!0?s:Object.assign(s,ne(t.params,s)),u=qe({path:c,params:l}).interpolatedPath,d=this.matchRoutes(u,void 0,{_buildLocation:!0}).map(e=>this.looseRoutesById[e.routeId]);if(Object.keys(l).length>0)for(let e of d){let t=e.options.params?.stringify??e.options.stringifyParams;t&&Object.assign(l,t(l))}let f=e.leaveParams?c:fe(qe({path:c,params:l,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath),p=o;if(e._includeValidateSearch&&this.options.search?.strict){let e={};d.forEach(t=>{if(t.options.validateSearch)try{Object.assign(e,qt(t.options.validateSearch,{...e,...p}))}catch{}}),p=e}p=Yt({search:p,dest:t,destRoutes:d,_includeValidateSearch:e._includeValidateSearch}),p=B(o,p);let m=this.options.stringifySearch(p),h=t.hash===!0?n.hash:t.hash?ne(t.hash,n.hash):void 0,g=h?`#${h}`:``,_=t.state===!0?n.state:t.state?ne(t.state,n.state):{};_=B(n.state,_);let v=`${f}${m}${g}`,y=new URL(v,this.origin),b=Vt(this.rewrite,y);return{publicHref:b.pathname+b.search+b.hash,href:v,url:b,pathname:f,search:p,searchStr:m,state:_,hash:h??``,unmaskOnReload:t.unmaskOnReload}},n=(n={},r)=>{let i=t(n),a=r?t(r):void 0;if(!a){let n={};if(this.options.routeMasks){let o=De(i.pathname,this.processedTree);if(o){Object.assign(n,o.params);let{from:i,params:s,...c}=o.route,l=s===!1||s===null?{}:(s??!0)===!0?n:Object.assign(n,ne(s,n));r={from:e.from,...c,params:l},a=t(r)}}}return a&&(i.maskedLocation=a),i};return e.mask?n(e,{from:e.from,...e.mask}):n(e)},this.commitLocation=({viewTransition:e,ignoreBlocker:t,...n})=>{let r=()=>{let e=[`key`,`__TSR_key`,`__TSR_index`,`__hashScrollIntoViewOptions`];e.forEach(e=>{n.state[e]=this.latestLocation.state[e]});let t=ce(n.state,this.latestLocation.state);return e.forEach(e=>{delete n.state[e]}),t},i=Ve(this.latestLocation.href)===Ve(n.href),a=this.commitLocationPromise;if(this.commitLocationPromise=le(()=>{a?.resolve()}),i&&r())this.load();else{let{maskedLocation:r,hashScrollIntoView:i,url:a,...o}=n;r&&(o={...r,state:{...r.state,__tempKey:void 0,__tempLocation:{...o,search:o.searchStr,state:{...o.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(o.unmaskOnReload??this.options.unmaskOnReload??!1)&&(o.state.__tempKey=this.tempLocationKey)),o.state.__hashScrollIntoViewOptions=i??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=e,this.history[n.replace?`replace`:`push`](o.publicHref,o.state,{ignoreBlocker:t})}return this.resetNextScroll=n.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:e,resetScroll:t,hashScrollIntoView:n,viewTransition:r,ignoreBlocker:i,href:a,...o}={})=>{if(a){let t=this.history.location.state.__TSR_index,n=R(a,{__TSR_index:e?t:t+1});o.to=n.pathname,o.search=this.options.parseSearch(n.search),o.hash=n.hash.slice(1)}let s=this.buildLocation({...o,_includeValidateSearch:!0});this.pendingBuiltLocation=s;let c=this.commitLocation({...s,viewTransition:r,replace:e,resetScroll:t,hashScrollIntoView:n,ignoreBlocker:i});return Promise.resolve().then(()=>{this.pendingBuiltLocation===s&&(this.pendingBuiltLocation=void 0)}),c},this.navigate=async({to:e,reloadDocument:t,href:n,...r})=>{if(!t&&n)try{new URL(`${n}`),t=!0}catch{}if(t){if(n||=this.buildLocation({to:e,...r}).url.href,!r.ignoreBlocker){let e=this.history.getBlockers?.()??[];for(let t of e)if(t?.blockerFn&&await t.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:`PUSH`}))return Promise.resolve()}return r.replace?window.location.replace(n):window.location.href=n,Promise.resolve()}return this.buildAndCommitLocation({...r,href:n,to:e,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){let e=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(this.latestLocation.publicHref!==e.publicHref||e.url.origin!==this.origin)throw ht({href:this.getParsedLocationHref(e)})}let e=this.matchRoutes(this.latestLocation);this.__store.setState(t=>({...t,status:`pending`,statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:e,cachedMatches:t.cachedMatches.filter(t=>!e.some(e=>e.id===t.id))}))},this.load=async e=>{let t,n,r;for(r=new Promise(i=>{this.startTransition(async()=>{try{this.beforeLoad();let t=this.latestLocation,n=this.state.resolvedLocation;this.state.redirect||this.emit({type:`onBeforeNavigate`,...Ht({resolvedLocation:n,location:t})}),this.emit({type:`onBeforeLoad`,...Ht({resolvedLocation:n,location:t})}),await Nt({router:this,sync:e?.sync,matches:this.state.pendingMatches,location:t,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let e=[],t=[],n=[];k(()=>{this.__store.setState(r=>{let i=r.matches,a=r.pendingMatches||r.matches;return e=i.filter(e=>!a.some(t=>t.id===e.id)),t=a.filter(e=>!i.some(t=>t.id===e.id)),n=a.filter(e=>i.some(t=>t.id===e.id)),{...r,isLoading:!1,loadedAt:Date.now(),matches:a,pendingMatches:void 0,cachedMatches:[...r.cachedMatches,...e.filter(e=>e.status!==`error`&&e.status!==`notFound`)]}}),this.clearExpiredCache()}),[[e,`onLeave`],[t,`onEnter`],[n,`onStay`]].forEach(([e,t])=>{e.forEach(e=>{this.looseRoutesById[e.routeId].options[t]?.(e)})})})})}})}catch(e){gt(e)?(t=e,this.isServer||this.navigate({...t.options,replace:!0,ignoreBlocker:!0})):Ye(e)&&(n=e),this.__store.setState(e=>({...e,statusCode:t?t.status:n?404:e.matches.some(e=>e.status===`error`)?500:200,redirect:t}))}this.latestLoadPromise===r&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),i()})}),this.latestLoadPromise=r,await r;this.latestLoadPromise&&r!==this.latestLoadPromise;)await this.latestLoadPromise;let i;this.hasNotFoundMatch()?i=404:this.__store.state.matches.some(e=>e.status===`error`)&&(i=500),i!==void 0&&this.__store.setState(e=>({...e,statusCode:i}))},this.startViewTransition=e=>{let t=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,t&&typeof document<`u`&&`startViewTransition`in document&&typeof document.startViewTransition==`function`){let n;if(typeof t==`object`&&this.isViewTransitionTypesSupported){let r=this.latestLocation,i=this.state.resolvedLocation,a=typeof t.types==`function`?t.types(Ht({resolvedLocation:i,location:r})):t.types;if(a===!1){e();return}n={update:e,types:a}}else n=e;document.startViewTransition(n)}else e()},this.updateMatch=(e,t)=>{this.startTransition(()=>{let n=this.state.pendingMatches?.some(t=>t.id===e)?`pendingMatches`:this.state.matches.some(t=>t.id===e)?`matches`:this.state.cachedMatches.some(t=>t.id===e)?`cachedMatches`:``;n&&this.__store.setState(r=>({...r,[n]:r[n]?.map(n=>n.id===e?t(n):n)}))})},this.getMatch=e=>{let t=t=>t.id===e;return this.state.cachedMatches.find(t)??this.state.pendingMatches?.find(t)??this.state.matches.find(t)},this.invalidate=e=>{let t=t=>e?.filter?.(t)??!0?{...t,invalid:!0,...e?.forcePending||t.status===`error`||t.status===`notFound`?{status:`pending`,error:void 0}:void 0}:t;return this.__store.setState(e=>({...e,matches:e.matches.map(t),cachedMatches:e.cachedMatches.map(t),pendingMatches:e.pendingMatches?.map(t)})),this.shouldViewTransition=!1,this.load({sync:e?.sync})},this.getParsedLocationHref=e=>{let t=e.url.href;return this.origin&&e.url.origin===this.origin&&(t=t.replace(this.origin,``)||`/`),t},this.resolveRedirect=e=>{if(!e.options.href){let t=this.buildLocation(e.options),n=this.getParsedLocationHref(t);e.options.href=t.href,e.headers.set(`Location`,n)}return e.headers.get(`Location`)||e.headers.set(`Location`,e.options.href),e},this.clearCache=e=>{let t=e?.filter;t===void 0?this.__store.setState(e=>({...e,cachedMatches:[]})):this.__store.setState(e=>({...e,cachedMatches:e.cachedMatches.filter(e=>!t(e))}))},this.clearExpiredCache=()=>{this.clearCache({filter:e=>{let t=this.looseRoutesById[e.routeId];if(!t.options.loader)return!0;let n=(e.preload?t.options.preloadGcTime??this.options.defaultPreloadGcTime:t.options.gcTime??this.options.defaultGcTime)??300*1e3;return e.status===`error`?!0:Date.now()-e.updatedAt>=n}})},this.loadRouteChunk=Pt,this.preloadRoute=async e=>{let t=this.buildLocation(e),n=this.matchRoutes(t,{throwOnError:!0,preload:!0,dest:e}),r=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(e=>e.id)),i=new Set([...r,...this.state.cachedMatches.map(e=>e.id)]);k(()=>{n.forEach(e=>{i.has(e.id)||this.__store.setState(t=>({...t,cachedMatches:[...t.cachedMatches,e]}))})});try{return n=await Nt({router:this,matches:n,location:t,preload:!0,updateMatch:(e,t)=>{r.has(e)?n=n.map(n=>n.id===e?t(n):n):this.updateMatch(e,t)}}),n}catch(e){if(gt(e))return e.options.reloadDocument?void 0:await this.preloadRoute({...e.options,_fromLocation:t});Ye(e)||console.error(e);return}},this.matchRoute=(e,t)=>{let n={...e,to:e.to?this.resolvePathWithBase(e.from||``,e.to):void 0,params:e.params||{},leaveParams:!0},r=this.buildLocation(n);if(t?.pending&&this.state.status!==`pending`)return!1;let i=(t?.pending===void 0?!this.state.isLoading:t.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,a=Oe(r.pathname,t?.caseSensitive??!1,t?.fuzzy??!1,i.pathname,this.processedTree);return!a||e.params&&!ce(a.params,e.params,{partial:!0})?!1:t?.includeSearch??!0?ce(i.search,r.search,{partial:!0})?a.params:!1:a.params},this.hasNotFoundMatch=()=>this.__store.state.matches.some(e=>e.status===`notFound`||e.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??`fuzzy`,stringifySearch:e.stringifySearch??dt,parseSearch:e.parseSearch??ut}),typeof document<`u`&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,t){let n=this.getMatchedRoutes(e.pathname),{foundRoute:r,routeParams:i}=n,{matchedRoutes:a}=n,o=!1;(r?r.path!==`/`&&i[`**`]:Ve(e.pathname))&&(this.options.notFoundRoute?a=[...a,this.options.notFoundRoute]:o=!0);let s=(()=>{if(o){if(this.options.notFoundMode!==`root`)for(let e=a.length-1;e>=0;e--){let t=a[e];if(t.children)return t.id}return mt}})(),c=[],l=e=>e?.id?e.context??this.options.context??void 0:this.options.context??void 0;return a.forEach((n,r)=>{let a=c[r-1],[o,u,d]=(()=>{let r=a?.search??e.search,i=a?._strictSearch??void 0;try{let e=qt(n.options.validateSearch,{...r})??void 0;return[{...r,...e},{...i,...e},void 0]}catch(e){let n=e;if(e instanceof Wt||(n=new Wt(e.message,{cause:e})),t?.throwOnError)throw n;return[r,{},n]}})(),f=n.options.loaderDeps?.({search:o})??``,p=f?JSON.stringify(f):``,{interpolatedPath:m,usedParams:h}=qe({path:n.fullPath,params:i,decodeCharMap:this.pathParamsDecodeCharMap}),g=n.id+m+p,_=this.getMatch(g),v=this.state.matches.find(e=>e.routeId===n.id),y=_?._strictParams??h,b;if(!_){let e=n.options.params?.parse??n.options.parseParams;if(e)try{Object.assign(y,e(y))}catch(e){if(b=Ye(e)||gt(e)?e:new Gt(e.message,{cause:e}),t?.throwOnError)throw b}}Object.assign(i,y);let x=v?`stay`:`enter`,S;if(_)S={..._,cause:x,params:v?B(v.params,i):i,_strictParams:y,search:B(v?v.search:_.search,o),_strictSearch:u};else{let e=n.options.loader||n.options.beforeLoad||n.lazyFn||It(n)?`pending`:`success`;S={id:g,ssr:this.isServer?void 0:n.options.ssr,index:r,routeId:n.id,params:v?B(v.params,i):i,_strictParams:y,pathname:m,updatedAt:Date.now(),search:v?B(v.search,o):o,_strictSearch:u,searchError:void 0,status:e,isFetching:!1,error:void 0,paramsError:b,__routeContext:void 0,_nonReactive:{loadPromise:le()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:x,loaderDeps:v?B(v.loaderDeps,f):f,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:n.options.staticData||{},fullPath:n.fullPath}}t?.preload||(S.globalNotFound=s===n.id),S.searchError=d,S.context={...l(a),...S.__routeContext,...S.__beforeLoadContext},c.push(S)}),c.forEach((n,r)=>{let i=this.looseRoutesById[n.routeId];if(!this.getMatch(n.id)&&t?._buildLocation!==!0){let t=c[r-1],a=l(t);if(i.options.context){let t={deps:n.loaderDeps,params:n.params,context:a??{},location:e,navigate:t=>this.navigate({...t,_fromLocation:e}),buildLocation:this.buildLocation,cause:n.cause,abortController:n.abortController,preload:!!n.preload,matches:c};n.__routeContext=i.options.context(t)??void 0}n.context={...a,...n.__routeContext,...n.__beforeLoadContext}}}),c}},Wt=class extends Error{},Gt=class extends Error{};function Kt(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:`idle`,resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function qt(e,t){if(e==null)return{};if(`~standard`in e){let n=e[`~standard`].validate(t);if(n instanceof Promise)throw new Wt(`Async validation not supported`);if(n.issues)throw new Wt(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return`parse`in e?e.parse(t):typeof e==`function`?e(t):{}}function Jt({pathname:e,routesById:t,processedTree:n}){let r={},i=Ve(e),a,o=ke(i,n,!0);return o&&(a=o.route,Object.assign(r,o.params)),{matchedRoutes:o?.branch||[t.__root__],routeParams:r,foundRoute:a}}function Yt({search:e,dest:t,destRoutes:n,_includeValidateSearch:r}){let i=n.reduce((e,t)=>{let n=[];return`search`in t.options?t.options.search?.middlewares&&n.push(...t.options.search.middlewares):(t.options.preSearchFilters||t.options.postSearchFilters)&&n.push(({search:e,next:n})=>{let r=e;`preSearchFilters`in t.options&&t.options.preSearchFilters&&(r=t.options.preSearchFilters.reduce((e,t)=>t(e),e));let i=n(r);return`postSearchFilters`in t.options&&t.options.postSearchFilters?t.options.postSearchFilters.reduce((e,t)=>t(e),i):i}),r&&t.options.validateSearch&&n.push(({search:e,next:n})=>{let r=n(e);try{return{...r,...qt(t.options.validateSearch,r)??void 0}}catch{return r}}),e.concat(n)},[])??[];i.push(({search:e})=>t.search?t.search===!0?e:ne(t.search,e):{});let a=(e,t)=>{if(e>=i.length)return t;let n=i[e];return n({search:t,next:t=>a(e+1,t)})};return a(0,e)}var Xt=`Error preloading route! `,Zt=class{constructor(e){if(this.init=e=>{this.originalIndex=e.originalIndex;let t=this.options,n=!t?.path&&!t?.id;this.parentRoute=this.options.getParentRoute?.(),n?this._path=mt:this.parentRoute||he(!1,`Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.`);let r=n?mt:t?.path;r&&r!==`/`&&(r=Be(r));let i=t?.id||r,a=n?mt:Re([this.parentRoute.id===`__root__`?``:this.parentRoute.id,i]);r===`__root__`&&(r=`/`),a!==`__root__`&&(a=Re([`/`,a]));let o=a===`__root__`?`/`:Re([this.parentRoute.fullPath,r]);this._path=r,this._id=a,this._fullPath=o,this._to=o},this.addChildren=e=>this._addFileChildren(e),this._addFileChildren=e=>(Array.isArray(e)&&(this.children=e),typeof e==`object`&&e&&(this.children=Object.values(e)),this),this._addFileTypes=()=>this,this.updateLoader=e=>(Object.assign(this.options,e),this),this.update=e=>(Object.assign(this.options,e),this),this.lazy=e=>(this.lazyFn=e,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw Error(`Route cannot have both an 'id' and a 'path' option.`)}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}},Qt=class extends Zt{constructor(e){super(e)}},$t=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),V=l(o(((e,t)=>{t.exports=$t()}))(),1),H=l(d(),1);function en(e){let t=e.errorComponent??nn;return(0,V.jsx)(tn,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:n,reset:r})=>n?H.createElement(t,{error:n,reset:r}):e.children})}var tn=class extends H.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,t){t.error&&t.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,t){this.props.onCatch&&this.props.onCatch(e,t)}render(){return this.props.children({error:this.state.resetKey===this.props.getResetKey()?this.state.error:null,reset:()=>{this.reset()}})}};function nn({error:e}){let[t,n]=H.useState(!1);return(0,V.jsxs)(`div`,{style:{padding:`.5rem`,maxWidth:`100%`},children:[(0,V.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`.5rem`},children:[(0,V.jsx)(`strong`,{style:{fontSize:`1rem`},children:`Something went wrong!`}),(0,V.jsx)(`button`,{style:{appearance:`none`,fontSize:`.6em`,border:`1px solid currentColor`,padding:`.1rem .2rem`,fontWeight:`bold`,borderRadius:`.25rem`},onClick:()=>n(e=>!e),children:t?`Hide Error`:`Show Error`})]}),(0,V.jsx)(`div`,{style:{height:`.25rem`}}),t?(0,V.jsx)(`div`,{children:(0,V.jsx)(`pre`,{style:{fontSize:`.7em`,border:`1px solid red`,borderRadius:`.25rem`,padding:`.3rem`,color:`red`,overflow:`auto`},children:e.message?(0,V.jsx)(`code`,{children:e.message}):null})}):null]})}function rn({children:e,fallback:t=null}){return an()?(0,V.jsx)(H.Fragment,{children:e}):(0,V.jsx)(H.Fragment,{children:t})}function an(){return H.useSyncExternalStore(on,()=>!0,()=>!1)}function on(){return()=>{}}var sn=!0;function cn(e,t){if(!sn){if(e)return;var n=`Warning: `+t;typeof console<`u`&&console.warn(n);try{throw Error(n)}catch{}}}var ln=cn,un=o((e=>{var t=d();function n(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var r=typeof Object.is==`function`?Object.is:n,i=t.useState,a=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function c(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),c=r[0].inst,u=r[1];return o(function(){c.value=n,c.getSnapshot=t,l(c)&&u({inst:c})},[e,n,t]),a(function(){return l(c)&&u({inst:c}),e(function(){l(c)&&u({inst:c})})},[e]),s(n),n}function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch{return!0}}function u(e,t){return t()}var f=typeof window>`u`||window.document===void 0||window.document.createElement===void 0?u:c;e.useSyncExternalStore=t.useSyncExternalStore===void 0?f:t.useSyncExternalStore})),dn=o(((e,t)=>{t.exports=un()})),fn=o((e=>{var t=d(),n=dn();function r(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var i=typeof Object.is==`function`?Object.is:r,a=n.useSyncExternalStore,o=t.useRef,s=t.useEffect,c=t.useMemo,l=t.useDebugValue;e.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=o(null);if(d.current===null){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c(function(){function e(e){if(!a){if(a=!0,o=e,e=r(e),u!==void 0&&f.hasValue){var t=f.value;if(u(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var n=r(e);return u!==void 0&&u(t,n)?(o=e,t):(o=e,s=n)}var a=!1,o,s,c=n===void 0?null:n;return[function(){return e(t())},c===null?void 0:function(){return e(c())}]},[t,n,r,u]);var p=a(e,d[0],d[1]);return s(function(){f.hasValue=!0,f.value=p},[p]),l(p),p}})),pn=o(((e,t)=>{t.exports=fn()})),mn=pn();function hn(e,t=e=>e,n={}){let r=n.equal??gn;return(0,mn.useSyncExternalStoreWithSelector)(e.subscribe,()=>e.state,()=>e.state,t,r)}function gn(e,t){if(Object.is(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,r]of e)if(!t.has(n)||!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();let n=_n(e);if(n.length!==_n(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function _n(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}var vn=H.createContext(null);function yn(){return typeof document>`u`?vn:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=vn,vn)}function bn(e){let t=H.useContext(yn());return ln(!((e?.warn??!0)&&!t),`useRouter must be used inside a <RouterProvider> component!`),t}function xn(e){let t=bn({warn:e?.router===void 0}),n=e?.router||t,r=(0,H.useRef)(void 0);return hn(n.__store,t=>{if(e?.select){if(e.structuralSharing??n.options.defaultStructuralSharing){let n=B(r.current,e.select(t));return r.current=n,n}return e.select(t)}return t})}var Sn=H.createContext(void 0),Cn=H.createContext(void 0);function wn(e){let t=H.useContext(e.from?Cn:Sn);return xn({select:n=>{let r=n.matches.find(n=>e.from?e.from===n.routeId:n.id===t);if(he(!((e.shouldThrow??!0)&&!r),`Could not find ${e.from?`an active match from "${e.from}"`:`a nearest match!`}`),r!==void 0)return e.select?e.select(r):r},structuralSharing:e.structuralSharing})}function Tn(e){return wn({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function En(e){let{select:t,...n}=e;return wn({...n,select:e=>t?t(e.loaderDeps):e.loaderDeps})}function Dn(e){return wn({from:e.from,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,strict:e.strict,select:t=>{let n=e.strict===!1?t.params:t._strictParams;return e.select?e.select(n):n}})}function On(e){return wn({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}var kn=typeof window<`u`?H.useLayoutEffect:H.useEffect;function An(e){let t=H.useRef({value:e,prev:null}),n=t.current.value;return e!==n&&(t.current={value:e,prev:n}),t.current.prev}function jn(e,t,n={},r={}){H.useEffect(()=>{if(!e.current||r.disabled||typeof IntersectionObserver!=`function`)return;let i=new IntersectionObserver(([e])=>{t(e)},n);return i.observe(e.current),()=>{i.disconnect()}},[t,n,r.disabled,e])}function Mn(e){let t=H.useRef(null);return H.useImperativeHandle(e,()=>t.current,[]),t}function Nn(e){let t=bn();return H.useCallback(n=>t.navigate({...n,from:n.from??e?.from}),[e?.from,t])}var Pn=h();function Fn(e,t){let n=bn(),[r,i]=H.useState(!1),a=H.useRef(!1),o=Mn(t),{activeProps:s,inactiveProps:c,activeOptions:l,to:u,preload:d,preloadDelay:f,hashScrollIntoView:p,replace:m,startTransition:h,resetScroll:g,viewTransition:_,children:v,target:y,disabled:b,style:x,className:S,onClick:C,onFocus:w,onMouseEnter:T,onMouseLeave:E,onTouchStart:D,ignoreBlocker:O,params:k,search:A,hash:j,state:M,mask:N,reloadDocument:P,unsafeRelative:F,from:I,_fromLocation:L,...R}=e,ee=xn({select:e=>e.location.search,structuralSharing:!0}),te=e.from,z=H.useMemo(()=>({...e,from:te}),[n,ee,te,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),re=H.useMemo(()=>n.buildLocation({...z}),[n,z]),B=H.useMemo(()=>{if(b)return;let e=re.maskedLocation?re.maskedLocation.url.href:re.url.href,t=!1;return n.origin&&(e.startsWith(n.origin)?e=n.history.createHref(e.replace(n.origin,``))||`/`:t=!0),{href:e,external:t}},[b,re.maskedLocation,re.url,n.origin,n.history]),ie=H.useMemo(()=>{if(B?.external)return B.href;try{return new URL(u),u}catch{}},[u,B]),ae=e.reloadDocument||ie?!1:d??n.options.defaultPreload,oe=f??n.options.defaultPreloadDelay??0,se=xn({select:e=>{if(ie)return!1;if(l?.exact){if(!We(e.location.pathname,re.pathname,n.basepath))return!1}else{let t=Ue(e.location.pathname,n.basepath),r=Ue(re.pathname,n.basepath);if(!(t.startsWith(r)&&(t.length===r.length||t[r.length]===`/`)))return!1}return(l?.includeSearch??!0)&&!ce(e.location.search,re.search,{partial:!l?.exact,ignoreUndefined:!l?.explicitUndefined})?!1:l?.includeHash?e.location.hash===re.hash:!0}}),le=H.useCallback(()=>{n.preloadRoute({...z}).catch(e=>{console.warn(e),console.warn(Xt)})},[n,z]);jn(o,H.useCallback(e=>{e?.isIntersecting&&le()},[le]),Hn,{disabled:!!b||ae!==`viewport`}),H.useEffect(()=>{a.current||!b&&ae===`render`&&(le(),a.current=!0)},[b,le,ae]);let ue=e=>{let t=e.currentTarget.getAttribute(`target`),r=y===void 0?t:y;if(!b&&!Gn(e)&&!e.defaultPrevented&&(!r||r===`_self`)&&e.button===0){e.preventDefault(),(0,Pn.flushSync)(()=>{i(!0)});let t=n.subscribe(`onResolved`,()=>{t(),i(!1)});n.navigate({...z,replace:m,resetScroll:g,hashScrollIntoView:p,startTransition:h,viewTransition:_,ignoreBlocker:O})}};if(ie)return{...R,ref:o,href:ie,...v&&{children:v},...y&&{target:y},...b&&{disabled:b},...x&&{style:x},...S&&{className:S},...C&&{onClick:C},...w&&{onFocus:w},...T&&{onMouseEnter:T},...E&&{onMouseLeave:E},...D&&{onTouchStart:D}};let de=e=>{b||ae&&le()},fe=de,pe=e=>{if(!(b||!ae))if(!oe)le();else{let t=e.target;if(Vn.has(t))return;let n=setTimeout(()=>{Vn.delete(t),le()},oe);Vn.set(t,n)}},me=e=>{if(b||!ae||!oe)return;let t=e.target,n=Vn.get(t);n&&(clearTimeout(n),Vn.delete(t))},he=se?ne(s,{})??Ln:In,ge=se?In:ne(c,{})??In,_e=[S,he.className,ge.className].filter(Boolean).join(` `),ve=(x||he.style||ge.style)&&{...x,...he.style,...ge.style};return{...R,...he,...ge,href:B?.href,ref:o,onClick:Un([C,ue]),onFocus:Un([w,de]),onMouseEnter:Un([T,pe]),onMouseLeave:Un([E,me]),onTouchStart:Un([D,fe]),disabled:!!b,target:y,...ve&&{style:ve},..._e&&{className:_e},...b&&Rn,...se&&zn,...r&&Bn}}var In={},Ln={className:`active`},Rn={role:`link`,"aria-disabled":!0},zn={"data-status":`active`,"aria-current":`page`},Bn={"data-transitioning":`transitioning`},Vn=new WeakMap,Hn={rootMargin:`100px`},Un=e=>t=>{for(let n of e)if(n){if(t.defaultPrevented)return;n(t)}},Wn=H.forwardRef((e,t)=>{let{_asChild:n,...r}=e,{type:i,ref:a,...o}=Fn(r,t),s=typeof r.children==`function`?r.children({isActive:o[`data-status`]===`active`}):r.children;return n===void 0&&delete o.disabled,H.createElement(n||`a`,{...o,ref:a},s)});function Gn(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Kn=class extends Zt{constructor(e){super(e),this.useMatch=e=>wn({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>wn({...e,from:this.id,select:t=>e?.select?e.select(t.context):t.context}),this.useSearch=e=>On({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>Dn({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>En({...e,from:this.id}),this.useLoaderData=e=>Tn({...e,from:this.id}),this.useNavigate=()=>Nn({from:this.fullPath}),this.Link=H.forwardRef((e,t)=>(0,V.jsx)(Wn,{ref:t,from:this.fullPath,...e})),this.$$typeof=Symbol.for(`react.memo`)}};function qn(e){return new Kn(e)}var Jn=class extends Qt{constructor(e){super(e),this.useMatch=e=>wn({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>wn({...e,from:this.id,select:t=>e?.select?e.select(t.context):t.context}),this.useSearch=e=>On({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>Dn({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>En({...e,from:this.id}),this.useLoaderData=e=>Tn({...e,from:this.id}),this.useNavigate=()=>Nn({from:this.fullPath}),this.Link=H.forwardRef((e,t)=>(0,V.jsx)(Wn,{ref:t,from:this.fullPath,...e})),this.$$typeof=Symbol.for(`react.memo`)}};function Yn(e){return new Jn(e)}function Xn(e){return typeof e==`object`?new Zn(e,{silent:!0}).createRoute(e):new Zn(e,{silent:!0}).createRoute}var Zn=class{constructor(e,t){this.path=e,this.createRoute=e=>{ln(this.silent,`FileRoute is deprecated and will be removed in the next major version. Use the createFileRoute(path)(options) function instead.`);let t=qn(e);return t.isRoot=!1,t},this.silent=t?.silent}},Qn=class{constructor(e){this.useMatch=e=>wn({select:e?.select,from:this.options.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>wn({from:this.options.id,select:t=>e?.select?e.select(t.context):t.context}),this.useSearch=e=>On({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useParams=e=>Dn({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useLoaderDeps=e=>En({...e,from:this.options.id}),this.useLoaderData=e=>Tn({...e,from:this.options.id}),this.useNavigate=()=>Nn({from:bn().routesById[this.options.id].fullPath}),this.options=e,this.$$typeof=Symbol.for(`react.memo`)}};function $n(e){return typeof e==`object`?new Qn(e):t=>new Qn({id:e,...t})}function er(){let e=bn(),t=H.useRef({router:e,mounted:!1}),[n,r]=H.useState(!1),{hasPendingMatches:i,isLoading:a}=xn({select:e=>({isLoading:e.isLoading,hasPendingMatches:e.matches.some(e=>e.status===`pending`)}),structuralSharing:!0}),o=An(a),s=a||n||i,c=An(s),l=a||i,u=An(l);return e.startTransition=e=>{r(!0),H.startTransition(()=>{e(),r(!1)})},H.useEffect(()=>{let t=e.history.subscribe(e.load),n=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ve(e.latestLocation.href)!==Ve(n.href)&&e.commitLocation({...n,replace:!0}),()=>{t()}},[e,e.history]),kn(()=>{typeof window<`u`&&e.ssr||t.current.router===e&&t.current.mounted||(t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(e){console.error(e)}})())},[e]),kn(()=>{o&&!a&&e.emit({type:`onLoad`,...Ht(e.state)})},[o,e,a]),kn(()=>{u&&!l&&e.emit({type:`onBeforeRouteMount`,...Ht(e.state)})},[l,u,e]),kn(()=>{if(c&&!s){let t=Ht(e.state);e.emit({type:`onResolved`,...t}),e.__store.setState(e=>({...e,status:`idle`,resolvedLocation:e.location})),t.hrefChanged&&ot(e)}},[s,c,e]),null}function tr(e){let t=xn({select:e=>`not-found-${e.location.pathname}-${e.status}`});return(0,V.jsx)(en,{getResetKey:()=>t,onCatch:(t,n)=>{if(Ye(t))e.onCatch?.(t,n);else throw t},errorComponent:({error:t})=>{if(Ye(t))return e.fallback?.(t);throw t},children:e.children})}function nr(){return(0,V.jsx)(`p`,{children:`Not Found`})}function rr(e){return(0,V.jsx)(V.Fragment,{children:e.children})}function ir(e,t,n){return t.options.notFoundComponent?(0,V.jsx)(t.options.notFoundComponent,{...n}):e.options.defaultNotFoundComponent?(0,V.jsx)(e.options.defaultNotFoundComponent,{...n}):(0,V.jsx)(nr,{})}function ar({children:e}){let t=bn();return t.isServer?(0,V.jsx)(`script`,{nonce:t.options.ssr?.nonce,className:`$tsr`,dangerouslySetInnerHTML:{__html:e+`;typeof $_TSR !== "undefined" && $_TSR.c()`}}):null}function or(){let e=bn();if(!e.isScrollRestoring||!e.isServer||typeof e.options.scrollRestoration==`function`&&!e.options.scrollRestoration({location:e.latestLocation}))return null;let t=(e.options.getScrollRestorationKey||tt)(e.latestLocation),n=t===tt(e.latestLocation)?void 0:t,r={storageKey:Ze,shouldScrollRestoration:!0};return n&&(r.key=n),(0,V.jsx)(ar,{children:`(${it.toString()})(${JSON.stringify(r)})`})}var sr=H.memo(function({matchId:e}){let t=bn(),n=xn({select:t=>{let n=t.matches.find(t=>t.id===e);return he(n,`Could not find match for matchId "${e}". Please file an issue!`),{routeId:n.routeId,ssr:n.ssr,_displayPending:n._displayPending}},structuralSharing:!0}),r=t.routesById[n.routeId],i=r.options.pendingComponent??t.options.defaultPendingComponent,a=i?(0,V.jsx)(i,{}):null,o=r.options.errorComponent??t.options.defaultErrorComponent,s=r.options.onCatch??t.options.defaultOnCatch,c=r.isRoot?r.options.notFoundComponent??t.options.notFoundRoute?.options.component:r.options.notFoundComponent,l=n.ssr===!1||n.ssr===`data-only`,u=(!r.isRoot||r.options.wrapInSuspense||l)&&(r.options.wrapInSuspense??i??(r.options.errorComponent?.preload||l))?H.Suspense:rr,d=o?en:rr,f=c?tr:rr,p=xn({select:e=>e.loadedAt}),m=xn({select:t=>{let n=t.matches.findIndex(t=>t.id===e);return t.matches[n-1]?.routeId}});return(0,V.jsxs)(r.isRoot?r.options.shellComponent??rr:rr,{children:[(0,V.jsx)(Sn.Provider,{value:e,children:(0,V.jsx)(u,{fallback:a,children:(0,V.jsx)(d,{getResetKey:()=>p,errorComponent:o||nn,onCatch:(t,n)=>{if(Ye(t))throw t;ln(!1,`Error in route match: ${e}`),s?.(t,n)},children:(0,V.jsx)(f,{fallback:e=>{if(!c||e.routeId&&e.routeId!==n.routeId||!e.routeId&&!r.isRoot)throw e;return H.createElement(c,e)},children:l||n._displayPending?(0,V.jsx)(rn,{fallback:a,children:(0,V.jsx)(lr,{matchId:e})}):(0,V.jsx)(lr,{matchId:e})})})})}),m===`__root__`&&t.options.scrollRestoration?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(cr,{}),(0,V.jsx)(or,{})]}):null]})});function cr(){let e=bn(),t=H.useRef(void 0);return(0,V.jsx)(`script`,{suppressHydrationWarning:!0,ref:n=>{n&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:`onRendered`,...Ht(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}var lr=H.memo(function({matchId:e}){let t=bn(),{match:n,key:r,routeId:i}=xn({select:n=>{let r=n.matches.find(t=>t.id===e),i=r.routeId,a=(t.routesById[i].options.remountDeps??t.options.defaultRemountDeps)?.({routeId:i,loaderDeps:r.loaderDeps,params:r._strictParams,search:r._strictSearch});return{key:a?JSON.stringify(a):void 0,routeId:i,match:{id:r.id,status:r.status,error:r.error,_forcePending:r._forcePending,_displayPending:r._displayPending}}},structuralSharing:!0}),a=t.routesById[i],o=H.useMemo(()=>{let e=a.options.component??t.options.defaultComponent;return e?(0,V.jsx)(e,{},r):(0,V.jsx)(ur,{})},[r,a.options.component,t.options.defaultComponent]);if(n._displayPending)throw t.getMatch(n.id)?._nonReactive.displayPendingPromise;if(n._forcePending)throw t.getMatch(n.id)?._nonReactive.minPendingPromise;if(n.status===`pending`){let e=a.options.pendingMinMs??t.options.defaultPendingMinMs;if(e){let r=t.getMatch(n.id);if(r&&!r._nonReactive.minPendingPromise&&!t.isServer){let t=le();r._nonReactive.minPendingPromise=t,setTimeout(()=>{t.resolve(),r._nonReactive.minPendingPromise=void 0},e)}}throw t.getMatch(n.id)?._nonReactive.loadPromise}if(n.status===`notFound`)return he(Ye(n.error),`Expected a notFound error`),ir(t,a,n.error);if(n.status===`redirected`)throw he(gt(n.error),`Expected a redirect error`),t.getMatch(n.id)?._nonReactive.loadPromise;if(n.status===`error`){if(t.isServer)return(0,V.jsx)((a.options.errorComponent??t.options.defaultErrorComponent)||nn,{error:n.error,reset:void 0,info:{componentStack:``}});throw n.error}return o}),ur=H.memo(function(){let e=bn(),t=H.useContext(Sn),n=xn({select:e=>e.matches.find(e=>e.id===t)?.routeId}),r=e.routesById[n],i=xn({select:e=>{let n=e.matches.find(e=>e.id===t);return he(n,`Could not find parent match for matchId "${t}"`),n.globalNotFound}}),a=xn({select:e=>{let n=e.matches;return n[n.findIndex(e=>e.id===t)+1]?.id}}),o=e.options.defaultPendingComponent?(0,V.jsx)(e.options.defaultPendingComponent,{}):null;if(i)return ir(e,r,void 0);if(!a)return null;let s=(0,V.jsx)(sr,{matchId:a});return n===`__root__`?(0,V.jsx)(H.Suspense,{fallback:o,children:s}):s});function dr(){let e=bn(),t=e.routesById.__root__.options.pendingComponent??e.options.defaultPendingComponent,n=t?(0,V.jsx)(t,{}):null,r=(0,V.jsxs)(e.isServer||typeof document<`u`&&e.ssr?rr:H.Suspense,{fallback:n,children:[!e.isServer&&(0,V.jsx)(er,{}),(0,V.jsx)(fr,{})]});return e.options.InnerWrap?(0,V.jsx)(e.options.InnerWrap,{children:r}):r}function fr(){let e=bn(),t=xn({select:e=>e.matches[0]?.id}),n=xn({select:e=>e.loadedAt}),r=t?(0,V.jsx)(sr,{matchId:t}):null;return(0,V.jsx)(Sn.Provider,{value:t,children:e.options.disableGlobalCatchBoundary?r:(0,V.jsx)(en,{getResetKey:()=>n,errorComponent:nn,onCatch:e=>{ln(!1,`The following error wasn't caught by any route! At the very least, consider setting an 'errorComponent' in your RootRoute!`),ln(!1,e.message||e.toString())},children:r})})}var pr=e=>new mr(e),mr=class extends Ut{constructor(e){super(e)}};typeof globalThis<`u`?(globalThis.createFileRoute=Xn,globalThis.createLazyFileRoute=$n):typeof window<`u`&&(window.createFileRoute=Xn,window.createLazyFileRoute=$n);function hr({router:e,children:t,...n}){Object.keys(n).length>0&&e.update({...e.options,...n,context:{...e.options.context,...n.context}});let r=(0,V.jsx)(yn().Provider,{value:e,children:t});return e.options.Wrap?(0,V.jsx)(e.options.Wrap,{children:r}):r}function gr({router:e,...t}){return(0,V.jsx)(hr,{router:e,...t,children:(0,V.jsx)(dr,{})})}function _r(e){return xn({select:t=>e?.select?e.select(t.location):t.location})}var vr=_(),yr=o((e=>{var t=d().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;e.c=function(e){return t.H.useMemoCache(e)}})),br=o(((e,t)=>{t.exports=yr()})),xr=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),Sr=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Cr=e=>{let t=Sr(e);return t.charAt(0).toUpperCase()+t.slice(1)},wr=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),Tr=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0},Er={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},Dr=(0,H.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,H.createElement)(`svg`,{ref:c,...Er,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:wr(`lucide`,i),...!a&&!Tr(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,H.createElement)(e,t)),...Array.isArray(a)?a:[a]])),Or=(e,t)=>{let n=(0,H.forwardRef)(({className:n,...r},i)=>(0,H.createElement)(Dr,{ref:i,iconNode:t,className:wr(`lucide-${xr(Cr(e))}`,`lucide-${e}`,n),...r}));return n.displayName=Cr(e),n},kr=Or(`award`,[[`path`,{d:`m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526`,key:`1yiouv`}],[`circle`,{cx:`12`,cy:`8`,r:`6`,key:`1vp47v`}]]),Ar=Or(`bell`,[[`path`,{d:`M10.268 21a2 2 0 0 0 3.464 0`,key:`vwvbt9`}],[`path`,{d:`M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326`,key:`11g9vi`}]]),jr=Or(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),Mr=Or(`chart-no-axes-combined`,[[`path`,{d:`M12 16v5`,key:`zza2cw`}],[`path`,{d:`M16 14v7`,key:`1g90b9`}],[`path`,{d:`M20 10v11`,key:`1iqoj0`}],[`path`,{d:`m22 3-8.646 8.646a.5.5 0 0 1-.708 0L9.354 8.354a.5.5 0 0 0-.707 0L2 15`,key:`1fw8x9`}],[`path`,{d:`M4 18v3`,key:`1yp0dc`}],[`path`,{d:`M8 14v7`,key:`n3cwzv`}]]),Nr=Or(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),Pr=Or(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),Fr=Or(`chevron-left`,[[`path`,{d:`m15 18-6-6 6-6`,key:`1wnfg3`}]]),Ir=Or(`chevron-right`,[[`path`,{d:`m9 18 6-6-6-6`,key:`mthhwq`}]]),Lr=Or(`circle-plus`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M8 12h8`,key:`1wcyev`}],[`path`,{d:`M12 8v8`,key:`napkw2`}]]),Rr=Or(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),zr=Or(`database`,[[`ellipse`,{cx:`12`,cy:`5`,rx:`9`,ry:`3`,key:`msslwz`}],[`path`,{d:`M3 5V19A9 3 0 0 0 21 19V5`,key:`1wlel7`}],[`path`,{d:`M3 12A9 3 0 0 0 21 12`,key:`mv7ke4`}]]),Br=Or(`ellipsis-vertical`,[[`circle`,{cx:`12`,cy:`12`,r:`1`,key:`41hilf`}],[`circle`,{cx:`12`,cy:`5`,r:`1`,key:`gxeob9`}],[`circle`,{cx:`12`,cy:`19`,r:`1`,key:`lyex9k`}]]),Vr=Or(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),Hr=Or(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),Ur=Or(`file-text`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M10 9H8`,key:`b1mrlr`}],[`path`,{d:`M16 13H8`,key:`t4e002`}],[`path`,{d:`M16 17H8`,key:`z1uh3a`}]]),Wr=Or(`funnel`,[[`path`,{d:`M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z`,key:`sc7q7i`}]]),Gr=Or(`layout-dashboard`,[[`rect`,{width:`7`,height:`9`,x:`3`,y:`3`,rx:`1`,key:`10lvy0`}],[`rect`,{width:`7`,height:`5`,x:`14`,y:`3`,rx:`1`,key:`16une8`}],[`rect`,{width:`7`,height:`9`,x:`14`,y:`12`,rx:`1`,key:`1hutg5`}],[`rect`,{width:`7`,height:`5`,x:`3`,y:`16`,rx:`1`,key:`ldoo1y`}]]),Kr=Or(`lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),qr=Or(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),Jr=Or(`mail`,[[`path`,{d:`m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7`,key:`132q7q`}],[`rect`,{x:`2`,y:`4`,width:`20`,height:`16`,rx:`2`,key:`izxlao`}]]),Yr=Or(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),Xr=Or(`phone`,[[`path`,{d:`M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384`,key:`9njp5v`}]]),Zr=Or(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),Qr=Or(`refresh-cw`,[[`path`,{d:`M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8`,key:`v9h5vc`}],[`path`,{d:`M21 3v5h-5`,key:`1q7to0`}],[`path`,{d:`M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16`,key:`3uifl3`}],[`path`,{d:`M8 16H3v5`,key:`1cv678`}]]),$r=Or(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),ei=Or(`settings`,[[`path`,{d:`M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915`,key:`1i5ecw`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),ti=Or(`sparkles`,[[`path`,{d:`M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z`,key:`1s2grr`}],[`path`,{d:`M20 2v4`,key:`1rf3ol`}],[`path`,{d:`M22 4h-4`,key:`gwowj6`}],[`circle`,{cx:`4`,cy:`20`,r:`2`,key:`6kqj1y`}]]),ni=Or(`star`,[[`path`,{d:`M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z`,key:`r04s7s`}]]),ri=Or(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),ii=Or(`trending-up`,[[`path`,{d:`M16 7h6v6`,key:`box55l`}],[`path`,{d:`m22 7-8.5 8.5-5-5L2 17`,key:`1t1m79`}]]),ai=Or(`user-plus`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}],[`line`,{x1:`19`,x2:`19`,y1:`8`,y2:`14`,key:`1bvyxn`}],[`line`,{x1:`22`,x2:`16`,y1:`11`,y2:`11`,key:`1shjgl`}]]),oi=Or(`user`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),si=Or(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),ci=Or(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]);function li(e,...t){let n=new URL(`https://base-ui.com/production-error/${e}`);return t.forEach(e=>n.searchParams.append(`args[]`,e)),`Base UI error #${e}; visit ${n} for the full message.`}const ui=H.createContext(void 0);function di(e){let t=H.useContext(ui);if(t===void 0&&!e)throw Error(li(33));return t}const fi=H.createContext(void 0);function pi(e){let t=H.useContext(fi);if(t===void 0&&!e)throw Error(li(36));return t}var mi={};function hi(e,t){let n=H.useRef(mi);return n.current===mi&&(n.current=e(t)),n}function gi(e,t,n,r){let i=hi(vi).current;return yi(i,e,t,n,r)&&xi(i,[e,t,n,r]),i.callback}function _i(e){let t=hi(vi).current;return bi(t,e)&&xi(t,e),t.callback}function vi(){return{callback:null,cleanup:null,refs:[]}}function yi(e,t,n,r,i){return e.refs[0]!==t||e.refs[1]!==n||e.refs[2]!==r||e.refs[3]!==i}function bi(e,t){return e.refs.length!==t.length||e.refs.some((e,n)=>e!==t[n])}function xi(e,t){if(e.refs=t,t.every(e=>e==null)){e.callback=null;return}e.callback=n=>{if(e.cleanup&&=(e.cleanup(),null),n!=null){let r=Array(t.length).fill(null);for(let e=0;e<t.length;e+=1){let i=t[e];if(i!=null)switch(typeof i){case`function`:{let t=i(n);typeof t==`function`&&(r[e]=t);break}case`object`:i.current=n;break;default:}}e.cleanup=()=>{for(let e=0;e<t.length;e+=1){let n=t[e];if(n!=null)switch(typeof n){case`function`:{let t=r[e];typeof t==`function`?t():n(null);break}case`object`:n.current=null;break;default:}}}}}}var Si=19;function Ci(e){return Si>=e}function wi(e){if(!H.isValidElement(e))return null;let t=e,n=t.props;return(Ci(19)?n?.ref:t.ref)??null}function Ti(e,t){if(e&&!t)return e;if(!e&&t)return t;if(e||t)return{...e,...t}}function Ei(e,t){let n={};for(let r in e){let i=e[r];if(t?.hasOwnProperty(r)){let e=t[r](i);e!=null&&Object.assign(n,e);continue}i===!0?n[`data-${r.toLowerCase()}`]=``:i&&(n[`data-${r.toLowerCase()}`]=i.toString())}return n}function Di(e,t){return typeof e==`function`?e(t):e}function Oi(e,t){return typeof e==`function`?e(t):e}var ki={};function Ai(e,t,n,r,i){let a={...Ii(e,ki)};return t&&(a=Mi(a,t)),n&&(a=Mi(a,n)),r&&(a=Mi(a,r)),i&&(a=Mi(a,i)),a}function ji(e){if(e.length===0)return ki;if(e.length===1)return Ii(e[0],ki);let t={...Ii(e[0],ki)};for(let n=1;n<e.length;n+=1)t=Mi(t,e[n]);return t}function Mi(e,t){return Fi(t)?t(e):Ni(e,t)}function Ni(e,t){if(!t)return e;for(let n in t){let r=t[n];switch(n){case`style`:e[n]=Ti(e.style,r);break;case`className`:e[n]=zi(e.className,r);break;default:Pi(n,r)?e[n]=Li(e[n],r):e[n]=r}}return e}function Pi(e,t){let n=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2);return n===111&&r===110&&i>=65&&i<=90&&(typeof t==`function`||t===void 0)}function Fi(e){return typeof e==`function`}function Ii(e,t){return Fi(e)?e(t):e??ki}function Li(e,t){return t?e?n=>{if(Bi(n)){let r=n;Ri(r);let i=t(r);return r.baseUIHandlerPrevented||e?.(r),i}let r=t(n);return e?.(n),r}:t:e}function Ri(e){return e.preventBaseUIHandler=()=>{e.baseUIHandlerPrevented=!0},e}function zi(e,t){return t?e?t+` `+e:t:e}function Bi(e){return typeof e==`object`&&!!e&&`nativeEvent`in e}function Vi(){}const Hi=Object.freeze([]),Ui=Object.freeze({}),Wi={style:{transition:`none`}},Gi={fallbackAxisSide:`none`},Ki={fallbackAxisSide:`end`},qi={clipPath:`inset(50%)`,position:`fixed`,top:0,left:0};function Ji(e,t,n={}){let r=t.render,i=Yi(t,n);return n.enabled===!1?null:Xi(e,r,i,n.state??Ui)}function Yi(e,t={}){let{className:n,style:r,render:i}=e,{state:a=Ui,ref:o,props:s,stateAttributesMapping:c,enabled:l=!0}=t,u=l?Di(n,a):void 0,d=l?Oi(r,a):void 0,f=l?Ei(a,c):Ui,p=l?Ti(f,Array.isArray(s)?ji(s):s)??Ui:Ui;return typeof document<`u`&&(l?Array.isArray(o)?p.ref=_i([p.ref,wi(i),...o]):p.ref=gi(p.ref,wi(i),o):gi(null,null)),l?(u!==void 0&&(p.className=zi(p.className,u)),d!==void 0&&(p.style=Ti(p.style,d)),p):Ui}function Xi(e,t,n,r){if(t){if(typeof t==`function`)return t(n,r);let e=Ai(n,t.props);return e.ref=n.ref,H.cloneElement(t,e)}if(e&&typeof e==`string`)return Zi(e,n);throw Error(li(8))}function Zi(e,t){return e===`button`?(0,H.createElement)(`button`,{type:`button`,...t,key:t.key}):e===`img`?(0,H.createElement)(`img`,{alt:``,...t,key:t.key}):H.createElement(e,t)}let Qi=function(e){return e.startingStyle=`data-starting-style`,e.endingStyle=`data-ending-style`,e}({});var $i={[Qi.startingStyle]:``},ea={[Qi.endingStyle]:``};const ta={transitionStatus(e){return e===`starting`?$i:e===`ending`?ea:null}};let na=function(e){return e.open=`data-open`,e.closed=`data-closed`,e[e.startingStyle=Qi.startingStyle]=`startingStyle`,e[e.endingStyle=Qi.endingStyle]=`endingStyle`,e.anchorHidden=`data-anchor-hidden`,e}({}),ra=function(e){return e.popupOpen=`data-popup-open`,e.pressed=`data-pressed`,e}({});var ia={[ra.popupOpen]:``},aa={[ra.popupOpen]:``,[ra.pressed]:``},oa={[na.open]:``},sa={[na.closed]:``},ca={[na.anchorHidden]:``};const la={open(e){return e?ia:null}},ua={open(e){return e?aa:null}},da={open(e){return e?oa:sa},anchorHidden(e){return e?ca:null}},fa=H.createContext(void 0);function pa(e=!0){let t=H.useContext(fa);if(t===void 0&&!e)throw Error(li(25));return t}const ma=`none`,ha=`trigger-press`,ga=`trigger-hover`,_a=`trigger-focus`,va=`item-press`,ya=`focus-out`,ba=`list-navigation`,xa=`cancel-open`,Sa=`sibling-open`,Ca=`imperative-action`;var wa=H[`useInsertionEffect${Math.random().toFixed(1)}`.slice(0,-3)],Ta=wa&&wa!==H.useLayoutEffect?wa:e=>e();function U(e){let t=hi(Ea).current;return t.next=e,Ta(t.effect),t.trampoline}function Ea(){let e={next:void 0,callback:Da,trampoline:(...t)=>e.callback?.(...t),effect:()=>{e.callback=e.next}};return e}function Da(){}function Oa({controlled:e,default:t,name:n,state:r=`value`}){let{current:i}=H.useRef(e!==void 0),[a,o]=H.useState(t);return[i?e:a,H.useCallback(e=>{i||o(e)},[])]}function ka(){return typeof window<`u`}function Aa(e){return Na(e)?(e.nodeName||``).toLowerCase():`#document`}function ja(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ma(e){return((Na(e)?e.ownerDocument:e.document)||window.document)?.documentElement}function Na(e){return ka()?e instanceof Node||e instanceof ja(e).Node:!1}function Pa(e){return ka()?e instanceof Element||e instanceof ja(e).Element:!1}function Fa(e){return ka()?e instanceof HTMLElement||e instanceof ja(e).HTMLElement:!1}function Ia(e){return!ka()||typeof ShadowRoot>`u`?!1:e instanceof ShadowRoot||e instanceof ja(e).ShadowRoot}var La=new Set([`inline`,`contents`]);function Ra(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=Za(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!La.has(i)}var za=new Set([`table`,`td`,`th`]);function Ba(e){return za.has(Aa(e))}var Va=[`:popover-open`,`:modal`];function Ha(e){return Va.some(t=>{try{return e.matches(t)}catch{return!1}})}var Ua=[`transform`,`translate`,`scale`,`rotate`,`perspective`],Wa=[`transform`,`translate`,`scale`,`rotate`,`perspective`,`filter`],Ga=[`paint`,`layout`,`strict`,`content`];function Ka(e){let t=Ja(),n=Pa(e)?Za(e):e;return Ua.some(e=>n[e]?n[e]!==`none`:!1)||(n.containerType?n.containerType!==`normal`:!1)||!t&&(n.backdropFilter?n.backdropFilter!==`none`:!1)||!t&&(n.filter?n.filter!==`none`:!1)||Wa.some(e=>(n.willChange||``).includes(e))||Ga.some(e=>(n.contain||``).includes(e))}function qa(e){let t=$a(e);for(;Fa(t)&&!Xa(t);){if(Ka(t))return t;if(Ha(t))return null;t=$a(t)}return null}function Ja(){return typeof CSS>`u`||!CSS.supports?!1:CSS.supports(`-webkit-backdrop-filter`,`none`)}var Ya=new Set([`html`,`body`,`#document`]);function Xa(e){return Ya.has(Aa(e))}function Za(e){return ja(e).getComputedStyle(e)}function Qa(e){return Pa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $a(e){if(Aa(e)===`html`)return e;let t=e.assignedSlot||e.parentNode||Ia(e)&&e.host||Ma(e);return Ia(t)?t.host:t}function eo(e){let t=$a(e);return Xa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fa(t)&&Ra(t)?t:eo(t)}function to(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!0);let r=eo(e),i=r===e.ownerDocument?.body,a=ja(r);if(i){let e=no(a);return t.concat(a,a.visualViewport||[],Ra(r)?r:[],e&&n?to(e):[])}return t.concat(r,to(r,[],n))}function no(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const ro=typeof document<`u`?H.useLayoutEffect:()=>{},io=H.createContext(void 0);function ao(e=!1){let t=H.useContext(io);if(t===void 0&&!e)throw Error(li(16));return t}function oo(e){let{focusableWhenDisabled:t,disabled:n,composite:r=!1,tabIndex:i=0,isNativeButton:a}=e,o=r&&t!==!1,s=r&&t===!1;return{props:H.useMemo(()=>{let e={onKeyDown(e){n&&t&&e.key!==`Tab`&&e.preventDefault()}};return r||(e.tabIndex=i,!a&&n&&(e.tabIndex=t?i:-1)),(a&&(t||o)||!a&&n)&&(e[`aria-disabled`]=n),a&&(!t||s)&&(e.disabled=n),e},[r,n,t,o,s,a,i])}}function so(e={}){let{disabled:t=!1,focusableWhenDisabled:n,tabIndex:r=0,native:i=!0}=e,a=H.useRef(null),o=ao(!0)!==void 0,s=U(()=>{let e=a.current;return!!(e?.tagName===`A`&&e?.href)}),{props:c}=oo({focusableWhenDisabled:n,disabled:t,composite:o,tabIndex:r,isNativeButton:i}),l=H.useCallback(()=>{let e=a.current;co(e)&&o&&t&&c.disabled===void 0&&e.disabled&&(e.disabled=!1)},[t,c.disabled,o]);return ro(l,[l]),{getButtonProps:H.useCallback((e={})=>{let{onClick:n,onMouseDown:r,onKeyUp:a,onKeyDown:o,onPointerDown:l,...u}=e;return Ai({type:i?`button`:void 0,onClick(e){if(t){e.preventDefault();return}n?.(e)},onMouseDown(e){t||r?.(e)},onKeyDown(e){if(t||(Ri(e),o?.(e)),e.baseUIHandlerPrevented)return;let r=e.target===e.currentTarget&&!i&&!s()&&!t,a=e.key===`Enter`,c=e.key===` `;r&&((c||a)&&e.preventDefault(),a&&n?.(e))},onKeyUp(e){t||(Ri(e),a?.(e)),!e.baseUIHandlerPrevented&&e.target===e.currentTarget&&!i&&!t&&e.key===` `&&n?.(e)},onPointerDown(e){if(t){e.preventDefault();return}l?.(e)}},i?void 0:{role:`button`},c,u)},[t,c,i,s]),buttonRef:U(e=>{a.current=e,l()})}}function co(e){return Fa(e)&&e.tagName===`BUTTON`}const lo={type:`regular-item`};function uo(e){let{closeOnClick:t,disabled:n=!1,highlighted:r,id:i,store:a,nativeButton:o,itemMetadata:s,nodeId:c}=e,l=H.useRef(null),u=pa(!0),d=u!==void 0,{events:f}=a.useState(`floatingTreeRoot`),{getButtonProps:p,buttonRef:m}=so({disabled:n,focusableWhenDisabled:!0,native:o}),h=H.useCallback(e=>Ai({id:i,role:`menuitem`,tabIndex:r?0:-1,onMouseMove(e){c&&f.emit(`itemhover`,{nodeId:c,target:e.currentTarget})},onMouseEnter(){s.type===`submenu-trigger`&&s.setActive()},onKeyUp(e){e.key===` `&&a.context.typingRef.current&&e.preventBaseUIHandler()},onClick(e){t&&f.emit(`close`,{domEvent:e,reason:va})},onMouseUp(e){if(u){let t=u.initialCursorPointRef.current;if(u.initialCursorPointRef.current=null,d&&t&&Math.abs(e.clientX-t.x)<=1&&Math.abs(e.clientY-t.y)<=1)return}l.current&&a.context.allowMouseUpTriggerRef.current&&(!d||e.button===2)&&s.type===`regular-item`&&l.current.click()}},e,p),[i,r,p,t,f,a,d,u,s,c]),g=gi(l,m);return H.useMemo(()=>({getItemProps:h,itemRef:g}),[h,g])}const fo=H.createContext({register:()=>{},unregister:()=>{},subscribeMapChange:()=>()=>{},elementsRef:{current:[]},nextIndexRef:{current:0}});function po(){return H.useContext(fo)}let mo=function(e){return e[e.None=0]=`None`,e[e.GuessFromOrder=1]=`GuessFromOrder`,e}({});function ho(e={}){let{label:t,metadata:n,textRef:r,indexGuessBehavior:i,index:a}=e,{register:o,unregister:s,subscribeMapChange:c,elementsRef:l,labelsRef:u,nextIndexRef:d}=po(),f=H.useRef(-1),[p,m]=H.useState(a??(i===mo.GuessFromOrder?()=>{if(f.current===-1){let e=d.current;d.current+=1,f.current=e}return f.current}:-1)),h=H.useRef(null),g=H.useCallback(e=>{if(h.current=e,p!==-1&&e!==null&&(l.current[p]=e,u)){let n=t!==void 0;u.current[p]=n?t:r?.current?.textContent??e.textContent}},[p,l,u,t,r]);return ro(()=>{if(a!=null)return;let e=h.current;if(e)return o(e,n),()=>{s(e)}},[a,o,s,n]),ro(()=>{if(a==null)return c(e=>{let t=h.current?e.get(h.current)?.index:null;t!=null&&m(t)})},[a,c,m]),H.useMemo(()=>({ref:g,index:p}),[p,g])}const go={...H};var _o=0;function vo(e,t=`mui`){let[n,r]=H.useState(e),i=e||n;return H.useEffect(()=>{n??(_o+=1,r(`${t}-${_o}`))},[n,t]),i}var yo=go.useId;function bo(e,t){if(yo!==void 0){let n=yo();return e??(t?`${t}-${n}`:n)}return vo(e,t)}function xo(e){return bo(e,`base-ui`)}function So(e,t,n,r){let i=!1,a=!1,o=r??Ui;return{reason:e,event:t??new Event(`base-ui`),cancel(){i=!0},allowPropagation(){a=!0},get isCanceled(){return i},get isPropagationAllowed(){return a},trigger:n,...o}}var Co=[];function wo(e){H.useEffect(e,Co)}var To=null;globalThis.requestAnimationFrame;var Eo=new class{callbacks=[];callbacksCount=0;nextId=1;startId=1;isScheduled=!1;tick=e=>{this.isScheduled=!1;let t=this.callbacks,n=this.callbacksCount;if(this.callbacks=[],this.callbacksCount=0,this.startId=this.nextId,n>0)for(let n=0;n<t.length;n+=1)t[n]?.(e)};request(e){let t=this.nextId;return this.nextId+=1,this.callbacks.push(e),this.callbacksCount+=1,this.isScheduled||=(requestAnimationFrame(this.tick),!0),t}cancel(e){let t=e-this.startId;t<0||t>=this.callbacks.length||(this.callbacks[t]=null,--this.callbacksCount)}},Do=class e{static create(){return new e}static request(e){return Eo.request(e)}static cancel(e){return Eo.cancel(e)}currentId=To;request(e){this.cancel(),this.currentId=Eo.request(()=>{this.currentId=To,e()})}cancel=()=>{this.currentId!==To&&(Eo.cancel(this.currentId),this.currentId=To)};disposeEffect=()=>this.cancel};function Oo(){let e=hi(Do.create).current;return wo(e.disposeEffect),e}function ko(e,t=!1,n=!1){let[r,i]=H.useState(e&&t?`idle`:void 0),[a,o]=H.useState(e);return e&&!a&&(o(!0),i(`starting`)),!e&&a&&r!==`ending`&&!n&&i(`ending`),!e&&!a&&r===`ending`&&i(void 0),ro(()=>{if(!e&&a&&r!==`ending`&&n){let e=Do.request(()=>{i(`ending`)});return()=>{Do.cancel(e)}}},[e,a,r,n]),ro(()=>{if(!e||t)return;let n=Do.request(()=>{i(void 0)});return()=>{Do.cancel(n)}},[t,e]),ro(()=>{if(!e||!t)return;e&&a&&r!==`idle`&&i(`starting`);let n=Do.request(()=>{i(`idle`)});return()=>{Do.cancel(n)}},[t,e,a,i,r]),H.useMemo(()=>({mounted:a,setMounted:o,transitionStatus:r}),[a,r])}function Ao(e){let t=hi(jo,e).current;return t.next=e,ro(t.effect),t}function jo(e){let t={current:e,next:e,effect:()=>{t.current=t.next}};return t}function Mo(e){return e==null?e:`current`in e?e.current:e}var No=l(h(),1);function Po(e,t=!1,n=!0){let r=Oo();return U((i,a=null)=>{r.cancel();let o=Mo(e);o!=null&&(typeof o.getAnimations!=`function`||globalThis.BASE_UI_ANIMATIONS_DISABLED?i():r.request(()=>{function e(){o&&Promise.all(o.getAnimations().map(e=>e.finished)).then(()=>{a!=null&&a.aborted||No.flushSync(i)}).catch(()=>{if(n){if(a!=null&&a.aborted)return;No.flushSync(i)}else o.getAnimations().length>0&&o.getAnimations().some(e=>e.pending||e.playState!==`finished`)&&e()})}t?r.request(e):e()}))})}function Fo(e){let{enabled:t=!0,open:n,ref:r,onComplete:i}=e,a=Ao(n),o=U(i),s=Po(r,n);H.useEffect(()=>{t&&s(()=>{n===a.current&&o()})},[t,n,o,s,a])}const Io=H.forwardRef(function(e,t){let{render:n,className:r,id:i,label:a,nativeButton:o=!1,disabled:s=!1,closeOnClick:c=!0,...l}=e,u=ho({label:a}),d=di(!0),f=xo(i),{store:p}=pi(),m=p.useState(`isActive`,u.index),h=p.useState(`itemProps`),{getItemProps:g,itemRef:_}=uo({closeOnClick:c,disabled:s,highlighted:m,id:f,store:p,nativeButton:o,nodeId:d?.nodeId,itemMetadata:lo});return Ji(`div`,e,{state:H.useMemo(()=>({disabled:s,highlighted:m}),[s,m]),props:[h,l,g],ref:[_,t,u.ref]})});var Lo=0,Ro=class e{static create(){return new e}currentId=Lo;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=Lo,t()},e)}isStarted(){return this.currentId!==Lo}clear=()=>{this.currentId!==Lo&&(clearTimeout(this.currentId),this.currentId=Lo)};disposeEffect=()=>this.clear};function zo(){let e=hi(Ro.create).current;return wo(e.disposeEffect),e}var Bo=typeof navigator<`u`,Vo=Xo(),Ho=Qo(),Uo=Zo();const Wo=typeof CSS>`u`||!CSS.supports?!1:CSS.supports(`-webkit-backdrop-filter:none`),Go=Vo.platform===`MacIntel`&&Vo.maxTouchPoints>1?!0:/iP(hone|ad|od)|iOS/.test(Vo.platform);Bo&&/firefox/i.test(Uo);const Ko=Bo&&/apple/i.test(navigator.vendor);Bo&&/Edg/i.test(Uo);const qo=Bo&&/android/i.test(Ho)||/android/i.test(Uo),Jo=Bo&&Ho.toLowerCase().startsWith(`mac`)&&!navigator.maxTouchPoints,Yo=Uo.includes(`jsdom/`);function Xo(){if(!Bo)return{platform:``,maxTouchPoints:-1};let e=navigator.userAgentData;return e?.platform?{platform:e.platform,maxTouchPoints:navigator.maxTouchPoints}:{platform:navigator.platform??``,maxTouchPoints:navigator.maxTouchPoints??-1}}function Zo(){if(!Bo)return``;let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:e,version:t})=>`${e}/${t}`).join(` `):navigator.userAgent}function Qo(){if(!Bo)return``;let e=navigator.userAgentData;return e?.platform?e.platform:navigator.platform??``}const $o=`input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])`,es=`ArrowLeft`,ts=`ArrowRight`;function ns(e){let t=e.activeElement;for(;t?.shadowRoot?.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function rs(e,t){if(!e||!t)return!1;let n=t.getRootNode?.();if(e.contains(t))return!0;if(n&&Ia(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function is(e){return`composedPath`in e?e.composedPath()[0]:e.target}function as(e,t){if(t==null)return!1;if(`composedPath`in e)return e.composedPath().includes(t);let n=e;return n.target!=null&&t.contains(n.target)}function os(e){return e.matches(`html,body`)}function ss(e){return e?.ownerDocument||document}function cs(e){return Fa(e)&&e.matches(`input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])`)}function ls(e){return e?e.getAttribute(`role`)===`combobox`&&cs(e):!1}function us(e){if(!e||Yo)return!0;try{return e.matches(`:focus-visible`)}catch{return!0}}function ds(e){return e?e.hasAttribute(`data-base-ui-focusable`)?e:e.querySelector(`[data-base-ui-focusable]`)||e:null}function fs(e,t,n=!0){return e.filter(e=>e.parentId===t&&(!n||e.context?.open)).flatMap(t=>[t,...fs(e,t.id,n)])}function ps(e,t){let n=[],r=e.find(e=>e.id===t)?.parentId;for(;r;){let t=e.find(e=>e.id===r);r=t?.parentId,t&&(n=n.concat(t))}return n}function ms(e){e.preventDefault(),e.stopPropagation()}function hs(e){return`nativeEvent`in e}function gs(e){return e.mozInputSource===0&&e.isTrusted?!0:qo&&e.pointerType?e.type===`click`&&e.buttons===1:e.detail===0&&!e.pointerType}function _s(e){return Yo?!1:!qo&&e.width===0&&e.height===0||qo&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType===`mouse`||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType===`touch`}function vs(e,t){let n=[`mouse`,`pen`];return t||n.push(``,void 0),n.includes(e)}function ys(e){let t=e.type;return t===`click`||t===`mousedown`||t===`keydown`||t===`keyup`}var bs=[`top`,`right`,`bottom`,`left`],xs=Math.min,Ss=Math.max,Cs=Math.round,ws=Math.floor,Ts=e=>({x:e,y:e}),Es={left:`right`,right:`left`,bottom:`top`,top:`bottom`},Ds={start:`end`,end:`start`};function Os(e,t,n){return Ss(e,xs(t,n))}function ks(e,t){return typeof e==`function`?e(t):e}function As(e){return e.split(`-`)[0]}function js(e){return e.split(`-`)[1]}function Ms(e){return e===`x`?`y`:`x`}function Ns(e){return e===`y`?`height`:`width`}var Ps=new Set([`top`,`bottom`]);function Fs(e){return Ps.has(As(e))?`y`:`x`}function Is(e){return Ms(Fs(e))}function Ls(e,t,n){n===void 0&&(n=!1);let r=js(e),i=Is(e),a=Ns(i),o=i===`x`?r===(n?`end`:`start`)?`right`:`left`:r===`start`?`bottom`:`top`;return t.reference[a]>t.floating[a]&&(o=Ks(o)),[o,Ks(o)]}function Rs(e){let t=Ks(e);return[zs(e),t,zs(t)]}function zs(e){return e.replace(/start|end/g,e=>Ds[e])}var Bs=[`left`,`right`],Vs=[`right`,`left`],Hs=[`top`,`bottom`],Us=[`bottom`,`top`];function Ws(e,t,n){switch(e){case`top`:case`bottom`:return n?t?Vs:Bs:t?Bs:Vs;case`left`:case`right`:return t?Hs:Us;default:return[]}}function Gs(e,t,n,r){let i=js(e),a=Ws(As(e),n===`start`,r);return i&&(a=a.map(e=>e+`-`+i),t&&(a=a.concat(a.map(zs)))),a}function Ks(e){return e.replace(/left|right|bottom|top/g,e=>Es[e])}function qs(e){return{top:0,right:0,bottom:0,left:0,...e}}function Js(e){return typeof e==`number`?{top:e,right:e,bottom:e,left:e}:qs(e)}function Ys(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Xs(e,t,n){return Math.floor(e/t)!==n}function Zs(e,t){return t<0||t>=e.current.length}function Qs(e,t){return ec(e,{disabledIndices:t})}function $s(e,t){return ec(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ec(e,{startingIndex:t=-1,decrement:n=!1,disabledIndices:r,amount:i=1}={}){let a=t;do a+=n?-i:i;while(a>=0&&a<=e.current.length-1&&ac(e,a,r));return a}function tc(e,{event:t,orientation:n,loopFocus:r,rtl:i,cols:a,disabledIndices:o,minIndex:s,maxIndex:c,prevIndex:l,stopEvent:u=!1}){let d=l,f=[],p={},m=!1;{let t=null,n=-1;e.current.forEach((e,r)=>{if(e==null)return;let i=e.closest(`[role="row"]`);i&&(m=!0),(i!==t||n===-1)&&(t=i,n+=1,f[n]=[]),f[n].push(r),p[r]=n})}let h=m&&f.length>0&&f.some(e=>e.length!==a);function g(t){if(!h||l===-1)return;let n=p[l];if(n==null)return;let i=f[n].indexOf(l),a=t===`up`?n-1:n+1;r&&(a<0?a=f.length-1:a>=f.length&&(a=0));let s=new Set;for(;a>=0&&a<f.length&&!s.has(a);){s.add(a);let n=f[a];if(n.length===0){a=t===`up`?a-1:a+1;continue}let c=Math.min(i,n.length-1);for(let t=c;t>=0;--t){let r=n[t];if(!ac(e,r,o))return r}a=t===`up`?a-1:a+1,r&&(a<0?a=f.length-1:a>=f.length&&(a=0))}}if(t.key===`ArrowUp`){let n=g(`up`);if(n!==void 0)u&&ms(t),d=n;else{if(u&&ms(t),l===-1)d=c;else if(d=ec(e,{startingIndex:d,amount:a,decrement:!0,disabledIndices:o}),r&&(l-a<s||d<0)){let e=l%a,t=c%a,n=c-(t-e);d=t===e?c:t>e?n:n-a}Zs(e,d)&&(d=l)}}if(t.key===`ArrowDown`){let n=g(`down`);n===void 0?(u&&ms(t),l===-1?d=s:(d=ec(e,{startingIndex:l,amount:a,disabledIndices:o}),r&&l+a>c&&(d=ec(e,{startingIndex:l%a-a,amount:a,disabledIndices:o}))),Zs(e,d)&&(d=l)):(u&&ms(t),d=n)}if(n===`both`){let n=ws(l/a);t.key===(i?`ArrowLeft`:`ArrowRight`)&&(u&&ms(t),l%a===a-1?r&&(d=ec(e,{startingIndex:l-l%a-1,disabledIndices:o})):(d=ec(e,{startingIndex:l,disabledIndices:o}),r&&Xs(d,a,n)&&(d=ec(e,{startingIndex:l-l%a-1,disabledIndices:o}))),Xs(d,a,n)&&(d=l)),t.key===(i?`ArrowRight`:`ArrowLeft`)&&(u&&ms(t),l%a===0?r&&(d=ec(e,{startingIndex:l+(a-l%a),decrement:!0,disabledIndices:o})):(d=ec(e,{startingIndex:l,decrement:!0,disabledIndices:o}),r&&Xs(d,a,n)&&(d=ec(e,{startingIndex:l+(a-l%a),decrement:!0,disabledIndices:o}))),Xs(d,a,n)&&(d=l));let s=ws(c/a)===n;Zs(e,d)&&(d=r&&s?t.key===(i?`ArrowRight`:`ArrowLeft`)?c:ec(e,{startingIndex:l-l%a-1,disabledIndices:o}):l)}return d}function nc(e,t,n){let r=[],i=0;return e.forEach(({width:e,height:a},o)=>{let s=!1;for(n&&(i=0);!s;){let n=[];for(let r=0;r<e;r+=1)for(let e=0;e<a;e+=1)n.push(i+r+e*t);i%t+e<=t&&n.every(e=>r[e]==null)?(n.forEach(e=>{r[e]=o}),s=!0):i+=1}}),[...r]}function rc(e,t,n,r,i){if(e===-1)return-1;let a=n.indexOf(e),o=t[e];switch(i){case`tl`:return a;case`tr`:return o?a+o.width-1:a;case`bl`:return o?a+(o.height-1)*r:a;case`br`:return n.lastIndexOf(e);default:return-1}}function ic(e,t){return t.flatMap((t,n)=>e.includes(t)?[n]:[])}function ac(e,t,n){if(typeof n==`function`)return n(t);if(n)return n.includes(t);let r=e.current[t];return r?r.hasAttribute(`disabled`)||r.getAttribute(`aria-disabled`)===`true`:!1}var oc=[`input:not([inert])`,`select:not([inert])`,`textarea:not([inert])`,`a[href]:not([inert])`,`button:not([inert])`,`[tabindex]:not(slot):not([inert])`,`audio[controls]:not([inert])`,`video[controls]:not([inert])`,`[contenteditable]:not([contenteditable="false"]):not([inert])`,`details>summary:first-of-type:not([inert])`,`details:not([inert])`].join(`,`),sc=typeof Element>`u`,cc=sc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,lc=!sc&&Element.prototype.getRootNode?function(e){return e?.getRootNode?.call(e)}:function(e){return e?.ownerDocument},uc=function(e,t){t===void 0&&(t=!0);var n=e?.getAttribute?.call(e,`inert`);return n===``||n===`true`||t&&e&&uc(e.parentNode)},dc=function(e){var t=e?.getAttribute?.call(e,`contenteditable`);return t===``||t===`true`},fc=function(e,t,n){if(uc(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(oc));return t&&cc.call(e,oc)&&r.unshift(e),r=r.filter(n),r},pc=function(e,t,n){for(var r=[],i=Array.from(e);i.length;){var a=i.shift();if(!uc(a,!1))if(a.tagName===`SLOT`){var o=a.assignedElements(),s=pc(o.length?o:a.children,!0,n);n.flatten?r.push.apply(r,s):r.push({scopeParent:a,candidates:s})}else{cc.call(a,oc)&&n.filter(a)&&(t||!e.includes(a))&&r.push(a);var c=a.shadowRoot||typeof n.getShadowRoot==`function`&&n.getShadowRoot(a),l=!uc(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(c&&l){var u=pc(c===!0?a.children:c.children,!0,n);n.flatten?r.push.apply(r,u):r.push({scopeParent:a,candidates:u})}else i.unshift.apply(i,a.children)}}return r},mc=function(e){return!isNaN(parseInt(e.getAttribute(`tabindex`),10))},hc=function(e){if(!e)throw Error(`No node provided`);return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||dc(e))&&!mc(e)?0:e.tabIndex},gc=function(e,t){var n=hc(e);return n<0&&t&&!mc(e)?0:n},_c=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},vc=function(e){return e.tagName===`INPUT`},yc=function(e){return vc(e)&&e.type===`hidden`},bc=function(e){return e.tagName===`DETAILS`&&Array.prototype.slice.apply(e.children).some(function(e){return e.tagName===`SUMMARY`})},xc=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},Sc=function(e){if(!e.name)return!0;var t=e.form||lc(e),n=function(e){return t.querySelectorAll(`input[type="radio"][name="`+e+`"]`)},r;if(typeof window<`u`&&window.CSS!==void 0&&typeof window.CSS.escape==`function`)r=n(window.CSS.escape(e.name));else try{r=n(e.name)}catch(e){return console.error(`Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s`,e.message),!1}var i=xc(r,e.form);return!i||i===e},Cc=function(e){return vc(e)&&e.type===`radio`},wc=function(e){return Cc(e)&&!Sc(e)},Tc=function(e){var t=e&&lc(e),n=t?.host,r=!1;if(t&&t!==e){var i,a,o;for(r=!!((i=n)!=null&&(a=i.ownerDocument)!=null&&a.contains(n)||e!=null&&(o=e.ownerDocument)!=null&&o.contains(e));!r&&n;){var s,c;t=lc(n),n=t?.host,r=!!((s=n)!=null&&(c=s.ownerDocument)!=null&&c.contains(n))}}return r},Ec=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return n===0&&r===0},Dc=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if(n===`full-native`&&`checkVisibility`in e)return!e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});if(getComputedStyle(e).visibility===`hidden`)return!0;var i=cc.call(e,`details>summary:first-of-type`)?e.parentElement:e;if(cc.call(i,`details:not([open]) *`))return!0;if(!n||n===`full`||n===`full-native`||n===`legacy-full`){if(typeof r==`function`){for(var a=e;e;){var o=e.parentElement,s=lc(e);if(o&&!o.shadowRoot&&r(o)===!0)return Ec(e);e=e.assignedSlot?e.assignedSlot:!o&&s!==e.ownerDocument?s.host:o}e=a}if(Tc(e))return!e.getClientRects().length;if(n!==`legacy-full`)return!0}else if(n===`non-zero-area`)return Ec(e);return!1},Oc=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName===`FIELDSET`&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if(r.tagName===`LEGEND`)return cc.call(t,`fieldset[disabled] *`)?!0:!r.contains(e)}return!0}t=t.parentElement}return!1},kc=function(e,t){return!(t.disabled||uc(t)||yc(t)||Dc(t,e)||bc(t)||Oc(t))},Ac=function(e,t){return!(wc(t)||hc(t)<0||!kc(e,t))},jc=function(e){var t=parseInt(e.getAttribute(`tabindex`),10);return!!(isNaN(t)||t>=0)},Mc=function(e){var t=[],n=[];return e.forEach(function(e,r){var i=!!e.scopeParent,a=i?e.scopeParent:e,o=gc(a,i),s=i?Mc(e.candidates):a;o===0?i?t.push.apply(t,s):t.push(a):n.push({documentOrder:r,tabIndex:o,item:e,isScope:i,content:s})}),n.sort(_c).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(t)},Nc=function(e,t){return t||={},Mc(t.getShadowRoot?pc([e],t.includeContainer,{filter:Ac.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:jc}):fc(e,t.includeContainer,Ac.bind(null,t)))},Pc=function(e,t){return t||={},t.getShadowRoot?pc([e],t.includeContainer,{filter:kc.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):fc(e,t.includeContainer,kc.bind(null,t))},Fc=function(e,t){if(t||={},!e)throw Error(`No node provided`);return cc.call(e,oc)===!1?!1:Ac(t,e)};const Ic=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver==`function`&&ResizeObserver.toString().includes(`[native code]`)?`full`:`none`});function Lc(e,t){let n=Nc(e,Ic()),r=n.length;if(r===0)return;let i=ns(ss(e)),a=n.indexOf(i);return n[a===-1?t===1?0:r-1:a+t]}function Rc(e){return Lc(ss(e).body,1)||e}function zc(e){return Lc(ss(e).body,-1)||e}function Bc(e,t){if(!e)return null;let n=Nc(ss(e).body,Ic()),r=n.length;if(r===0)return null;let i=n.indexOf(e);return i===-1?null:n[(i+t+r)%r]}function Vc(e){return Bc(e,1)}function Hc(e){return Bc(e,-1)}function Uc(e,t){let n=t||e.currentTarget,r=e.relatedTarget;return!r||!rs(n,r)}function Wc(e){Nc(e,Ic()).forEach(e=>{e.dataset.tabindex=e.getAttribute(`tabindex`)||``,e.setAttribute(`tabindex`,`-1`)})}function Gc(e){e.querySelectorAll(`[data-tabindex]`).forEach(e=>{let t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute(`tabindex`,t):e.removeAttribute(`tabindex`)})}function Kc(){let e=new Map;return{emit(t,n){e.get(t)?.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){e.get(t)?.delete(n)}}}var qc=class{nodesRef={current:[]};events=Kc();addNode(e){this.nodesRef.current.push(e)}removeNode(e){let t=this.nodesRef.current.findIndex(t=>t===e);t!==-1&&this.nodesRef.current.splice(t,1)}},Jc=H.createContext(null),Yc=H.createContext(null);const Xc=()=>H.useContext(Jc)?.id||null,Zc=e=>{let t=H.useContext(Yc);return e??t};function Qc(e){let t=bo(),n=Zc(e),r=Xc();return ro(()=>{if(!t)return;let e={id:t,parentId:r};return n?.addNode(e),()=>{n?.removeNode(e)}},[n,t,r]),t}function $c(e){let{children:t,id:n}=e,r=Xc();return(0,V.jsx)(Jc.Provider,{value:H.useMemo(()=>({id:n,parentId:r}),[n,r]),children:t})}function el(e){let{children:t,externalTree:n}=e,r=hi(()=>n??new qc).current;return(0,V.jsx)(Yc.Provider,{value:r,children:t})}function tl(e){return`data-base-ui-${e}`}tl(`safe-polygon`),`${$o}`;function nl(e,t,n){if(n&&!vs(n))return 0;if(typeof e==`number`)return e;if(typeof e==`function`){let n=e();return typeof n==`number`?n:n?.[t]}return e?.[t]}var rl=H.createContext({hasProvider:!1,timeoutMs:0,delayRef:{current:0},initialDelayRef:{current:0},timeout:new Ro,currentIdRef:{current:null},currentContextRef:{current:null}});function il(e){let{children:t,delay:n,timeoutMs:r=0}=e,i=H.useRef(n),a=H.useRef(n),o=H.useRef(null),s=H.useRef(null),c=zo();return(0,V.jsx)(rl.Provider,{value:H.useMemo(()=>({hasProvider:!0,delayRef:i,initialDelayRef:a,currentIdRef:o,timeoutMs:r,currentContextRef:s,timeout:c}),[r,c]),children:t})}function al(e,t={open:!1}){let n=`rootStore`in e?e.rootStore:e,r=n.useState(`floatingId`),{enabled:i=!0,open:a}=t,{currentIdRef:o,delayRef:s,timeoutMs:c,initialDelayRef:l,currentContextRef:u,hasProvider:d,timeout:f}=H.useContext(rl),[p,m]=H.useState(!1);return ro(()=>{function e(){m(!1),u.current?.setIsInstantPhase(!1),o.current=null,u.current=null,s.current=l.current}if(i&&o.current&&!a&&o.current===r){if(m(!1),c){let t=r;return f.start(c,()=>{n.select(`open`)||o.current&&o.current!==t||e()}),()=>{f.clear()}}e()}},[i,a,r,o,s,c,l,u,f,n]),ro(()=>{if(!i||!a)return;let e=u.current,t=o.current;f.clear(),u.current={onOpenChange:n.setOpen,setIsInstantPhase:m},o.current=r,s.current={open:0,close:nl(l.current,`close`)},t!==null&&t!==r?(m(!0),e?.setIsInstantPhase(!0),e?.onOpenChange(!1,So(ma))):(m(!1),e?.setIsInstantPhase(!1))},[i,a,r,n,o,s,c,l,u,f]),ro(()=>()=>{u.current=null},[u]),H.useMemo(()=>({hasProvider:d,delayRef:s,isInstantPhase:p}),[d,s,p])}const ol={clip:`rect(0 0 0 0)`,overflow:`hidden`,whiteSpace:`nowrap`,position:`fixed`,top:0,left:0,border:0,padding:0,width:1,height:1,margin:-1};function sl(e){return e?.ownerDocument||document}const cl=H.forwardRef(function(e,t){let[n,r]=H.useState();ro(()=>{Ko&&r(`button`)},[]);let i={tabIndex:0,role:n};return(0,V.jsx)(`span`,{...e,ref:t,style:ol,"aria-hidden":n?void 0:!0,...i,"data-base-ui-focus-guard":``})});var ll=0;function ul(e,t={}){let{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(ll);let a=()=>e?.focus({preventScroll:n});i?a():ll=requestAnimationFrame(a)}var dl={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function fl(e){return e===`inert`?dl.inert:e===`aria-hidden`?dl[`aria-hidden`]:dl.none}var pl=new WeakSet,ml={},hl=0,gl=e=>e&&(e.host||gl(e.parentNode)),_l=(e,t)=>t.map(t=>{if(e.contains(t))return t;let n=gl(t);return e.contains(n)?n:null}).filter(e=>e!=null);function vl(e,t,n,r){let i=`data-base-ui-inert`,a=r?`inert`:n?`aria-hidden`:null,o=_l(t,e),s=new Set,c=new Set(o),l=[];ml[i]||(ml[i]=new WeakMap);let u=ml[i];o.forEach(d),f(t),s.clear();function d(e){!e||s.has(e)||(s.add(e),e.parentNode&&d(e.parentNode))}function f(e){!e||c.has(e)||[].forEach.call(e.children,e=>{if(Aa(e)!==`script`)if(s.has(e))f(e);else{let t=a?e.getAttribute(a):null,n=t!==null&&t!==`false`,r=fl(a),o=(r.get(e)||0)+1,s=(u.get(e)||0)+1;r.set(e,o),u.set(e,s),l.push(e),o===1&&n&&pl.add(e),s===1&&e.setAttribute(i,``),!n&&a&&e.setAttribute(a,a===`inert`?``:`true`)}})}return hl+=1,()=>{l.forEach(e=>{let t=fl(a),n=(t.get(e)||0)-1,r=(u.get(e)||0)-1;t.set(e,n),u.set(e,r),n||(!pl.has(e)&&a&&e.removeAttribute(a),pl.delete(e)),r||e.removeAttribute(i)}),--hl,hl||(dl.inert=new WeakMap,dl[`aria-hidden`]=new WeakMap,dl.none=new WeakMap,pl=new WeakSet,ml={})}}function yl(e,t=!1,n=!1){let r=ss(e[0]).body;return vl(e.concat(Array.from(r.querySelectorAll(`[aria-live]`))),r,t,n)}var bl=l(h(),1),xl=H.createContext(null);const Sl=()=>H.useContext(xl);var Cl=tl(`portal`);function wl(e={}){let{ref:t,container:n,componentProps:r=Ui,elementProps:i,elementState:a}=e,o=bo(),s=Sl()?.portalNode,[c,l]=H.useState(null),[u,d]=H.useState(null),f=H.useRef(null);ro(()=>{if(n===null){f.current&&(f.current=null,d(null),l(null));return}if(o==null)return;let e=(n&&(Na(n)?n:n.current))??s??document.body;if(e==null){f.current&&(f.current=null,d(null),l(null));return}f.current!==e&&(f.current=e,d(null),l(e))},[n,s,o]);let p=Ji(`div`,r,{ref:[t,d],state:a,props:[{id:o,[Cl]:``},i]});return{portalNode:u,portalSubtree:c&&p?bl.createPortal(p,c):null}}const Tl=H.forwardRef(function(e,t){let{children:n,container:r,className:i,render:a,renderGuards:o,...s}=e,{portalNode:c,portalSubtree:l}=wl({container:r,ref:t,componentProps:e,elementProps:s}),u=H.useRef(null),d=H.useRef(null),f=H.useRef(null),p=H.useRef(null),[m,h]=H.useState(null),g=m?.modal,_=m?.open,v=typeof o==`boolean`?o:!!m&&!m.modal&&m.open&&!!c;H.useEffect(()=>{if(!c||g)return;function e(e){c&&Uc(e)&&(e.type===`focusin`?Gc:Wc)(c)}return c.addEventListener(`focusin`,e,!0),c.addEventListener(`focusout`,e,!0),()=>{c.removeEventListener(`focusin`,e,!0),c.removeEventListener(`focusout`,e,!0)}},[c,g]),H.useEffect(()=>{!c||_||Gc(c)},[_,c]);let y=H.useMemo(()=>({beforeOutsideRef:u,afterOutsideRef:d,beforeInsideRef:f,afterInsideRef:p,portalNode:c,setFocusManagerState:h}),[c]);return(0,V.jsxs)(H.Fragment,{children:[l,(0,V.jsxs)(xl.Provider,{value:y,children:[v&&c&&(0,V.jsx)(cl,{"data-type":`outside`,ref:u,onFocus:e=>{Uc(e,c)?f.current?.focus():zc(m?m.domReference:null)?.focus()}}),v&&c&&(0,V.jsx)(`span`,{"aria-owns":c.id,style:qi}),c&&bl.createPortal(n,c),v&&c&&(0,V.jsx)(cl,{"data-type":`outside`,ref:d,onFocus:e=>{Uc(e,c)?p.current?.focus():(Rc(m?m.domReference:null)?.focus(),m?.closeOnFocusOut&&m?.onOpenChange(!1,So(`focus-out`,e.nativeEvent)))}})]})]})});function El(e,t){let n=ja(e.target);return e instanceof n.KeyboardEvent?`keyboard`:e instanceof n.FocusEvent?t||`keyboard`:`pointerType`in e?e.pointerType||`keyboard`:`touches`in e?`touch`:e instanceof n.MouseEvent?t||(e.detail===0?`keyboard`:`mouse`):``}var Dl=20,Ol=[];function kl(){Ol=Ol.filter(e=>e.isConnected)}function Al(e){kl(),e&&Aa(e)!==`body`&&(Ol.push(e),Ol.length>Dl&&(Ol=Ol.slice(-Dl)))}function jl(){return kl(),Ol[Ol.length-1]}function Ml(e){if(!e)return null;let t=Ic();return Fc(e,t)?e:Nc(e,t)[0]||e}function Nl(e){return!e||!e.isConnected?!1:typeof e.checkVisibility==`function`?e.checkVisibility():Za(e).display!==`none`}function Pl(e,t){if(!t.current.includes(`floating`)&&!e.getAttribute(`role`)?.includes(`dialog`))return;let n=Ic(),r=Pc(e,n).filter(e=>{let t=e.getAttribute(`data-tabindex`)||``;return Fc(e,n)||e.hasAttribute(`data-tabindex`)&&!t.startsWith(`-`)}),i=e.getAttribute(`tabindex`);t.current.includes(`floating`)||r.length===0?i!==`0`&&e.setAttribute(`tabindex`,`0`):(i!==`-1`||e.hasAttribute(`data-tabindex`)&&e.getAttribute(`data-tabindex`)!==`-1`)&&(e.setAttribute(`tabindex`,`-1`),e.setAttribute(`data-tabindex`,`-1`))}function Fl(e){let{context:t,children:n,disabled:r=!1,order:i=[`content`],initialFocus:a=!0,returnFocus:o=!0,restoreFocus:s=!1,modal:c=!0,closeOnFocusOut:l=!0,openInteractionType:u=``,getInsideElements:d=()=>[],nextFocusableElement:f,previousFocusableElement:p,beforeContentFocusGuardRef:m,externalTree:h}=e,g=`rootStore`in t?t.rootStore:t,_=g.useState(`open`),v=g.useState(`domReferenceElement`),y=g.useState(`floatingElement`),{events:b,dataRef:x}=g.context,S=U(()=>x.current.floatingContext?.nodeId),C=U(d),w=a===!1,T=ls(v)&&w,E=Ao(i),D=Ao(a),O=Ao(o),k=Ao(u),A=Zc(h),j=Sl(),M=H.useRef(null),N=H.useRef(null),P=H.useRef(!1),F=H.useRef(!1),I=H.useRef(!1),L=H.useRef(-1),R=H.useRef(``),ee=H.useRef(``),te=zo(),z=zo(),ne=Oo(),re=j!=null,B=ds(y),ie=U((e=B)=>e?Nc(e,Ic()):[]),ae=U(e=>{let t=ie(e);return E.current.map(()=>t).filter(Boolean).flat()});H.useEffect(()=>{if(r||!c)return;function e(e){e.key===`Tab`&&rs(B,ns(ss(B)))&&ie().length===0&&!T&&ms(e)}let t=ss(B);return t.addEventListener(`keydown`,e),()=>{t.removeEventListener(`keydown`,e)}},[r,v,B,c,E,T,ie,ae]),H.useEffect(()=>{if(r||!y)return;function e(e){let t=is(e),n=ie().indexOf(t);n!==-1&&(L.current=n)}return y.addEventListener(`focusin`,e),()=>{y.removeEventListener(`focusin`,e)}},[r,y,ie]),H.useEffect(()=>{if(r||!_)return;let e=ss(B);function t(){I.current=!1}function n(e){let t=is(e);I.current=!(rs(y,t)||rs(v,t)||rs(j?.portalNode,t)),ee.current=e.pointerType||`keyboard`}function i(){ee.current=`keyboard`}return e.addEventListener(`pointerdown`,n,!0),e.addEventListener(`pointerup`,t,!0),e.addEventListener(`pointercancel`,t,!0),e.addEventListener(`keydown`,i,!0),()=>{e.removeEventListener(`pointerdown`,n,!0),e.removeEventListener(`pointerup`,t,!0),e.removeEventListener(`pointercancel`,t,!0),e.removeEventListener(`keydown`,i,!0)}},[r,y,v,B,_,j]),H.useEffect(()=>{if(r||!l)return;function e(){F.current=!0,z.start(0,()=>{F.current=!1})}function t(e){let t=e.relatedTarget,n=e.currentTarget,r=is(e);queueMicrotask(()=>{let i=S(),a=g.context.triggerElements,o=!(rs(v,t)||rs(y,t)||rs(t,y)||rs(j?.portalNode,t)||t!=null&&a.hasElement(t)||a.hasMatchingElement(e=>rs(e,t))||t?.hasAttribute(tl(`focus-guard`))||A&&(fs(A.nodesRef.current,i).find(e=>rs(e.context?.elements.floating,t)||rs(e.context?.elements.domReference,t))||ps(A.nodesRef.current,i).find(e=>[e.context?.elements.floating,ds(e.context?.elements.floating)].includes(t)||e.context?.elements.domReference===t)));if(n===v&&B&&Pl(B,E),s&&n!==v&&!Nl(r)&&ns(ss(B))===ss(B).body){if(Fa(B)&&(B.focus(),s===`popup`)){ne.request(()=>{B.focus()});return}let e=L.current,t=ie(),n=t[e]||t[t.length-1]||B;Fa(n)&&n.focus()}if(x.current.insideReactTree){x.current.insideReactTree=!1;return}(T||!c)&&t&&o&&!F.current&&(T||t!==jl())&&(P.current=!0,g.setOpen(!1,So(ya,e)))})}function n(){I.current||(x.current.insideReactTree=!0,te.start(0,()=>{x.current.insideReactTree=!1}))}let i=Fa(v)?v:null,a=[];if(!(!y&&!i))return i&&(i.addEventListener(`focusout`,t),i.addEventListener(`pointerdown`,e),a.push(()=>{i.removeEventListener(`focusout`,t),i.removeEventListener(`pointerdown`,e)})),y&&(y.addEventListener(`focusout`,t),j&&(y.addEventListener(`focusout`,n,!0),a.push(()=>{y.removeEventListener(`focusout`,n,!0)})),a.push(()=>{y.removeEventListener(`focusout`,t)})),()=>{a.forEach(e=>{e()})}},[r,v,y,B,c,A,j,g,l,s,ie,T,S,E,x,te,z,ne]);let oe=H.useRef(null),se=H.useRef(null),ce=gi(oe,m,j?.beforeInsideRef),le=gi(se,j?.afterInsideRef);H.useEffect(()=>{if(r||!y||!_)return;let e=Array.from(j?.portalNode?.querySelectorAll(`[${tl(`portal`)}]`)||[]),t=yl([y,(A?ps(A.nodesRef.current,S()):[]).find(e=>ls(e.context?.elements.domReference||null))?.context?.elements.domReference,...e,...C(),M.current,N.current,oe.current,se.current,j?.beforeOutsideRef.current,j?.afterOutsideRef.current,Mo(p),Mo(f),T?v:null].filter(e=>e!=null),c||T);return()=>{t()}},[_,r,v,y,c,E,j,T,A,S,C,f,p]),ro(()=>{if(!_||r||!Fa(B))return;let e=ns(ss(B));queueMicrotask(()=>{let t=ae(B),n=D.current,r=typeof n==`function`?n(k.current||``):n;if(r===void 0||r===!1)return;let i;i=r===!0||r===null?t[0]||B:Mo(r),i=i||t[0]||B,!rs(B,e)&&ul(i,{preventScroll:i===B})})},[r,_,B,w,ae,D,k]),ro(()=>{if(r||!B)return;let e=ss(B);Al(ns(e));function t(e){if(e.open||(R.current=El(e.nativeEvent,ee.current)),e.reason===`trigger-hover`&&e.nativeEvent.type===`mouseleave`&&(P.current=!0),e.reason===`outside-press`)if(e.nested)P.current=!1;else if(gs(e.nativeEvent)||_s(e.nativeEvent))P.current=!1;else{let e=!1;document.createElement(`div`).focus({get preventScroll(){return e=!0,!1}}),e?P.current=!1:P.current=!0}}b.on(`openchange`,t);let n=e.createElement(`span`);n.setAttribute(`tabindex`,`-1`),n.setAttribute(`aria-hidden`,`true`),Object.assign(n.style,ol),re&&v&&v.insertAdjacentElement(`afterend`,n);function i(){let e=O.current,t=typeof e==`function`?e(R.current):e;if(t===void 0||t===!1)return null;if(t===null&&(t=!0),typeof t==`boolean`){let e=v||jl();return e&&e.isConnected?e:n}let r=v||jl()||n;return Mo(t)||r}return()=>{b.off(`openchange`,t);let r=ns(e),a=rs(y,r)||A&&fs(A.nodesRef.current,S(),!1).some(e=>rs(e.context?.elements.floating,r)),o=i();queueMicrotask(()=>{let t=Ml(o),i=typeof O.current!=`boolean`;O.current&&!P.current&&Fa(t)&&(!(!i&&t!==r&&r!==e.body)||a)&&t.focus({preventScroll:!0}),n.remove()})}},[r,y,B,O,x,b,A,re,v,S]),H.useEffect(()=>{queueMicrotask(()=>{P.current=!1})},[r]),H.useEffect(()=>{if(r||!_)return;function e(e){is(e)?.closest(`[data-base-ui-click-trigger]`)&&(F.current=!0)}let t=ss(B);return t.addEventListener(`pointerdown`,e,!0),()=>{t.removeEventListener(`pointerdown`,e,!0)}},[r,_,B]),ro(()=>{if(!r&&j)return j.setFocusManagerState({modal:c,closeOnFocusOut:l,open:_,onOpenChange:g.setOpen,domReference:v}),()=>{j.setFocusManagerState(null)}},[r,j,c,_,g,l,v]),ro(()=>{if(!(r||!B))return Pl(B,E),()=>{queueMicrotask(kl)}},[r,B,E]);let ue=!r&&(c?!T:!0)&&(re||c);return(0,V.jsxs)(H.Fragment,{children:[ue&&(0,V.jsx)(cl,{"data-type":`inside`,ref:ce,onFocus:e=>{if(c){let e=ae();ul(e[e.length-1])}else j?.portalNode&&(P.current=!1,Uc(e,j.portalNode)?Rc(v)?.focus():Mo(p??j.beforeOutsideRef)?.focus())}}),n,ue&&(0,V.jsx)(cl,{"data-type":`inside`,ref:le,onFocus:e=>{c?ul(ae()[0]):j?.portalNode&&(l&&(P.current=!0),Uc(e,j.portalNode)?zc(v)?.focus():Mo(f??j.afterOutsideRef)?.focus())}})]})}function Il(e,t={}){let n=`rootStore`in e?e.rootStore:e,r=n.context.dataRef,{enabled:i=!0,event:a=`click`,toggle:o=!0,ignoreMouse:s=!1,stickIfOpen:c=!0,touchOpenDelay:l=0}=t,u=H.useRef(void 0),d=Oo(),f=zo(),p=H.useMemo(()=>({onPointerDown(e){u.current=e.pointerType},onMouseDown(e){let t=u.current,i=e.nativeEvent,p=n.select(`open`);if(e.button!==0||a===`click`||vs(t,!0)&&s)return;let m=r.current.openEvent,h=m?.type,g=n.select(`domReferenceElement`)!==e.currentTarget,_=p&&g||!(p&&o&&(!(m&&c)||h===`click`||h===`mousedown`));if(cs(i.target)){let e=So(ha,i,i.target);_&&t===`touch`&&l>0?f.start(l,()=>{n.setOpen(!0,e)}):n.setOpen(_,e);return}let v=e.currentTarget;d.request(()=>{let e=So(ha,i,v);_&&t===`touch`&&l>0?f.start(l,()=>{n.setOpen(!0,e)}):n.setOpen(_,e)})},onClick(e){if(a===`mousedown-only`)return;let t=u.current;if(a===`mousedown`&&t){u.current=void 0;return}if(vs(t,!0)&&s)return;let i=n.select(`open`),d=r.current.openEvent,p=n.select(`domReferenceElement`)!==e.currentTarget,m=i&&p||!(i&&o&&(!(d&&c)||ys(d))),h=So(ha,e.nativeEvent,e.currentTarget);m&&t===`touch`&&l>0?f.start(l,()=>{n.setOpen(!0,h)}):n.setOpen(m,h)},onKeyDown(){u.current=void 0}}),[r,a,s,n,c,o,d,f,l]);return H.useMemo(()=>i?{reference:p}:Ui,[i,p])}function Ll(e,t){let n=null,r=null,i=!1;return{contextElement:e||void 0,getBoundingClientRect(){let a=e?.getBoundingClientRect()||{width:0,height:0,x:0,y:0},o=t.axis===`x`||t.axis===`both`,s=t.axis===`y`||t.axis===`both`,c=[`mouseenter`,`mousemove`].includes(t.dataRef.current.openEvent?.type||``)&&t.pointerType!==`touch`,l=a.width,u=a.height,d=a.x,f=a.y;return n==null&&t.x&&o&&(n=a.x-t.x),r==null&&t.y&&s&&(r=a.y-t.y),d-=n||0,f-=r||0,l=0,u=0,!i||c?(l=t.axis===`y`?a.width:0,u=t.axis===`x`?a.height:0,d=o&&t.x!=null?t.x:d,f=s&&t.y!=null?t.y:f):i&&!c&&(u=t.axis===`x`?a.height:u,l=t.axis===`y`?a.width:l),i=!0,{width:l,height:u,x:d,y:f,top:f,right:d+l,bottom:f+u,left:d}}}}function Rl(e){return e!=null&&e.clientX!=null}function zl(e,t={}){let n=`rootStore`in e?e.rootStore:e,r=n.useState(`open`),i=n.useState(`floatingElement`),a=n.useState(`domReferenceElement`),o=n.context.dataRef,{enabled:s=!0,axis:c=`both`,x:l=null,y:u=null}=t,d=H.useRef(!1),f=H.useRef(null),[p,m]=H.useState(),[h,g]=H.useState([]),_=U((e,t)=>{d.current||o.current.openEvent&&!Rl(o.current.openEvent)||n.set(`positionReference`,Ll(a,{x:e,y:t,axis:c,dataRef:o,pointerType:p}))}),v=U(e=>{l!=null||u!=null||(r?f.current||g([]):_(e.clientX,e.clientY))}),y=vs(p)?i:r,b=H.useCallback(()=>{if(!y||!s||l!=null||u!=null)return;let e=ja(i);function t(n){rs(i,is(n))?(e.removeEventListener(`mousemove`,t),f.current=null):_(n.clientX,n.clientY)}if(!o.current.openEvent||Rl(o.current.openEvent)){e.addEventListener(`mousemove`,t);let n=()=>{e.removeEventListener(`mousemove`,t),f.current=null};return f.current=n,n}n.set(`positionReference`,a)},[y,s,l,u,i,o,a,n,_]);H.useEffect(()=>b(),[b,h]),H.useEffect(()=>{s&&!i&&(d.current=!1)},[s,i]),H.useEffect(()=>{!s&&r&&(d.current=!0)},[s,r]),ro(()=>{s&&(l!=null||u!=null)&&(d.current=!1,_(l,u))},[s,l,u,_]);let x=H.useMemo(()=>{function e(e){m(e.pointerType)}return{onPointerDown:e,onPointerEnter:e,onMouseMove:v,onMouseEnter:v}},[v]);return H.useMemo(()=>s?{reference:x}:{},[s,x])}function Bl(e,t,n){let{reference:r,floating:i}=e,a=Fs(t),o=Is(t),s=Ns(o),c=As(t),l=a===`y`,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2,p;switch(c){case`top`:p={x:u,y:r.y-i.height};break;case`bottom`:p={x:u,y:r.y+r.height};break;case`right`:p={x:r.x+r.width,y:d};break;case`left`:p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(js(t)){case`start`:p[o]-=f*(n&&l?-1:1);break;case`end`:p[o]+=f*(n&&l?-1:1);break}return p}var Vl=async(e,t,n)=>{let{placement:r=`bottom`,strategy:i=`absolute`,middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t)),l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Bl(l,r,c),f=r,p={},m=0;for(let n=0;n<s.length;n++){let{name:a,fn:h}=s[n],{x:g,y:_,data:v,reset:y}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:e,floating:t}});u=g??u,d=_??d,p={...p,[a]:{...p[a],...v}},y&&m<=50&&(m++,typeof y==`object`&&(y.placement&&(f=y.placement),y.rects&&(l=y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:u,y:d}=Bl(l,f,c)),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function Hl(e,t){t===void 0&&(t={});let{x:n,y:r,platform:i,rects:a,elements:o,strategy:s}=e,{boundary:c=`clippingAncestors`,rootBoundary:l=`viewport`,elementContext:u=`floating`,altBoundary:d=!1,padding:f=0}=ks(t,e),p=Js(f),m=o[d?u===`floating`?`reference`:`floating`:u],h=Ys(await i.getClippingRect({element:await(i.isElement==null?void 0:i.isElement(m))??!0?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:s})),g=u===`floating`?{x:n,y:r,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),v=await(i.isElement==null?void 0:i.isElement(_))&&await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1},y=Ys(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:_,strategy:s}):g);return{top:(h.top-y.top+p.top)/v.y,bottom:(y.bottom-h.bottom+p.bottom)/v.y,left:(h.left-y.left+p.left)/v.x,right:(y.right-h.right+p.right)/v.x}}var Ul=function(e){return e===void 0&&(e={}),{name:`flip`,options:e,async fn(t){var n;let{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f=`bestFit`,fallbackAxisSideDirection:p=`none`,flipAlignment:m=!0,...h}=ks(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let g=As(r),_=Fs(o),v=As(o)===o,y=await(s.isRTL==null?void 0:s.isRTL(c.floating)),b=d||(v||!m?[Ks(o)]:Rs(o)),x=p!==`none`;!d&&x&&b.push(...Gs(o,m,p,y));let S=[o,...b],C=await Hl(t,h),w=[],T=i.flip?.overflows||[];if(l&&w.push(C[g]),u){let e=Ls(r,a,y);w.push(C[e[0]],C[e[1]])}if(T=[...T,{placement:r,overflows:w}],!w.every(e=>e<=0)){let e=(i.flip?.index||0)+1,t=S[e];if(t&&(!(u===`alignment`&&_!==Fs(t))||T.every(e=>Fs(e.placement)===_?e.overflows[0]>0:!0)))return{data:{index:e,overflows:T},reset:{placement:t}};let n=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0]?.placement;if(!n)switch(f){case`bestFit`:{let e=T.filter(e=>{if(x){let t=Fs(e.placement);return t===_||t===`y`}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0]?.[0];e&&(n=e);break}case`initialPlacement`:n=o;break}if(r!==n)return{reset:{placement:n}}}return{}}}};function Wl(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Gl(e){return bs.some(t=>e[t]>=0)}var Kl=function(e){return e===void 0&&(e={}),{name:`hide`,options:e,async fn(t){let{rects:n}=t,{strategy:r=`referenceHidden`,...i}=ks(e,t);switch(r){case`referenceHidden`:{let e=Wl(await Hl(t,{...i,elementContext:`reference`}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Gl(e)}}}case`escaped`:{let e=Wl(await Hl(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:Gl(e)}}}default:return{}}}}},ql=new Set([`left`,`top`]);async function Jl(e,t){let{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=As(n),s=js(n),c=Fs(n)===`y`,l=ql.has(o)?-1:1,u=a&&c?-1:1,d=ks(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d==`number`?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m==`number`&&(p=s===`end`?m*-1:m),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}var Yl=function(e){return e===void 0&&(e=0),{name:`offset`,options:e,async fn(t){var n;let{x:r,y:i,placement:a,middlewareData:o}=t,s=await Jl(t,e);return a===o.offset?.placement&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:a}}}}},Xl=function(e){return e===void 0&&(e={}),{name:`shift`,options:e,async fn(t){let{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=ks(e,t),l={x:n,y:r},u=await Hl(t,c),d=Fs(As(i)),f=Ms(d),p=l[f],m=l[d];if(a){let e=f===`y`?`top`:`left`,t=f===`y`?`bottom`:`right`,n=p+u[e],r=p-u[t];p=Os(n,p,r)}if(o){let e=d===`y`?`top`:`left`,t=d===`y`?`bottom`:`right`,n=m+u[e],r=m-u[t];m=Os(n,m,r)}let h=s.fn({...t,[f]:p,[d]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[f]:a,[d]:o}}}}}},Zl=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:c=!0,crossAxis:l=!0}=ks(e,t),u={x:n,y:r},d=Fs(i),f=Ms(d),p=u[f],m=u[d],h=ks(s,t),g=typeof h==`number`?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){let e=f===`y`?`height`:`width`,t=a.reference[f]-a.floating[e]+g.mainAxis,n=a.reference[f]+a.reference[e]-g.mainAxis;p<t?p=t:p>n&&(p=n)}if(l){let e=f===`y`?`width`:`height`,t=ql.has(As(i)),n=a.reference[d]-a.floating[e]+(t&&o.offset?.[d]||0)+(t?0:g.crossAxis),r=a.reference[d]+a.reference[e]+(t?0:o.offset?.[d]||0)-(t?g.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[f]:p,[d]:m}}}},Ql=function(e){return e===void 0&&(e={}),{name:`size`,options:e,async fn(t){var n,r;let{placement:i,rects:a,platform:o,elements:s}=t,{apply:c=()=>{},...l}=ks(e,t),u=await Hl(t,l),d=As(i),f=js(i),p=Fs(i)===`y`,{width:m,height:h}=a.floating,g,_;d===`top`||d===`bottom`?(g=d,_=f===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?`start`:`end`)?`left`:`right`):(_=d,g=f===`end`?`top`:`bottom`);let v=h-u.top-u.bottom,y=m-u.left-u.right,b=xs(h-u[g],v),x=xs(m-u[_],y),S=!t.middlewareData.shift,C=b,w=x;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(w=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),S&&!f){let e=Ss(u.left,0),t=Ss(u.right,0),n=Ss(u.top,0),r=Ss(u.bottom,0);p?w=m-2*(e!==0||t!==0?e+t:Ss(u.left,u.right)):C=h-2*(n!==0||r!==0?n+r:Ss(u.top,u.bottom))}await c({...t,availableWidth:w,availableHeight:C});let T=await o.getDimensions(s.floating);return m!==T.width||h!==T.height?{reset:{rects:!0}}:{}}}};function $l(e){let t=Za(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=Fa(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Cs(n)!==a||Cs(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function eu(e){return Pa(e)?e:e.contextElement}function tu(e){let t=eu(e);if(!Fa(t))return Ts(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:a}=$l(t),o=(a?Cs(n.width):n.width)/r,s=(a?Cs(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}var nu=Ts(0);function ru(e){let t=ja(e);return!Ja()||!t.visualViewport?nu:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function iu(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ja(e)?!1:t}function au(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),a=eu(e),o=Ts(1);t&&(r?Pa(r)&&(o=tu(r)):o=tu(e));let s=iu(a,n,r)?ru(a):Ts(0),c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){let e=ja(a),t=r&&Pa(r)?ja(r):r,n=e,i=no(n);for(;i&&r&&t!==n;){let e=tu(i),t=i.getBoundingClientRect(),r=Za(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=a,l+=o,n=ja(i),i=no(n)}}return Ys({width:u,height:d,x:c,y:l})}function ou(e,t){let n=Qa(e).scrollLeft;return t?t.left+n:au(Ma(e)).left+n}function su(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-ou(e,n),y:n.top+t.scrollTop}}function cu(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,a=i===`fixed`,o=Ma(r),s=t?Ha(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=Ts(1),u=Ts(0),d=Fa(r);if((d||!d&&!a)&&((Aa(r)!==`body`||Ra(o))&&(c=Qa(r)),Fa(r))){let e=au(r);l=tu(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}let f=o&&!d&&!a?su(o,c):Ts(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function lu(e){return Array.from(e.getClientRects())}function uu(e){let t=Ma(e),n=Qa(e),r=e.ownerDocument.body,i=Ss(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Ss(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+ou(e),s=-n.scrollTop;return Za(r).direction===`rtl`&&(o+=Ss(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}var du=25;function fu(e,t){let n=ja(e),r=Ma(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;let e=Ja();(!e||e&&t===`fixed`)&&(s=i.offsetLeft,c=i.offsetTop)}let l=ou(r);if(l<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i=e.compatMode===`CSS1Compat`&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=du&&(a-=o)}else l<=du&&(a+=l);return{width:a,height:o,x:s,y:c}}var pu=new Set([`absolute`,`fixed`]);function mu(e,t){let n=au(e,!0,t===`fixed`),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Fa(e)?tu(e):Ts(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}function hu(e,t,n){let r;if(t===`viewport`)r=fu(e,n);else if(t===`document`)r=uu(Ma(e));else if(Pa(t))r=mu(t,n);else{let n=ru(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Ys(r)}function gu(e,t){let n=$a(e);return n===t||!Pa(n)||Xa(n)?!1:Za(n).position===`fixed`||gu(n,t)}function _u(e,t){let n=t.get(e);if(n)return n;let r=to(e,[],!1).filter(e=>Pa(e)&&Aa(e)!==`body`),i=null,a=Za(e).position===`fixed`,o=a?$a(e):e;for(;Pa(o)&&!Xa(o);){let t=Za(o),n=Ka(o);!n&&t.position===`fixed`&&(i=null),(a?!n&&!i:!n&&t.position===`static`&&i&&pu.has(i.position)||Ra(o)&&!n&&gu(e,o))?r=r.filter(e=>e!==o):i=t,o=$a(o)}return t.set(e,r),r}function vu(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n===`clippingAncestors`?Ha(t)?[]:_u(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{let r=hu(t,n,i);return e.top=Ss(r.top,e.top),e.right=xs(r.right,e.right),e.bottom=xs(r.bottom,e.bottom),e.left=Ss(r.left,e.left),e},hu(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function yu(e){let{width:t,height:n}=$l(e);return{width:t,height:n}}function bu(e,t,n){let r=Fa(t),i=Ma(t),a=n===`fixed`,o=au(e,!0,a,t),s={scrollLeft:0,scrollTop:0},c=Ts(0);function l(){c.x=ou(i)}if(r||!r&&!a)if((Aa(t)!==`body`||Ra(i))&&(s=Qa(t)),r){let e=au(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();a&&!r&&i&&l();let u=i&&!r&&!a?su(i,s):Ts(0);return{x:o.left+s.scrollLeft-c.x-u.x,y:o.top+s.scrollTop-c.y-u.y,width:o.width,height:o.height}}function xu(e){return Za(e).position===`static`}function Su(e,t){if(!Fa(e)||Za(e).position===`fixed`)return null;if(t)return t(e);let n=e.offsetParent;return Ma(e)===n&&(n=n.ownerDocument.body),n}function Cu(e,t){let n=ja(e);if(Ha(e))return n;if(!Fa(e)){let t=$a(e);for(;t&&!Xa(t);){if(Pa(t)&&!xu(t))return t;t=$a(t)}return n}let r=Su(e,t);for(;r&&Ba(r)&&xu(r);)r=Su(r,t);return r&&Xa(r)&&xu(r)&&!Ka(r)?n:r||qa(e)||n}var wu=async function(e){let t=this.getOffsetParent||Cu,n=this.getDimensions,r=await n(e.floating);return{reference:bu(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Tu(e){return Za(e).direction===`rtl`}var Eu={convertOffsetParentRelativeRectToViewportRelativeRect:cu,getDocumentElement:Ma,getClippingRect:vu,getOffsetParent:Cu,getElementRects:wu,getClientRects:lu,getDimensions:yu,getScale:tu,isElement:Pa,isRTL:Tu};function Du(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ou(e,t){let n=null,r,i=Ma(e);function a(){var e;clearTimeout(r),(e=n)==null||e.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();let l=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=l;if(s||t(),!f||!p)return;let m=ws(d),h=ws(i.clientWidth-(u+f)),g=ws(i.clientHeight-(d+p)),_=ws(u),v={rootMargin:-m+`px `+-h+`px `+-g+`px `+-_+`px`,threshold:Ss(0,xs(1,c))||1},y=!0;function b(t){let n=t[0].intersectionRatio;if(n!==c){if(!y)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}n===1&&!Du(l,e.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return o(!0),a}function ku(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver==`function`,layoutShift:s=typeof IntersectionObserver==`function`,animationFrame:c=!1}=r,l=eu(e),u=i||a?[...l?to(l):[],...to(t)]:[];u.forEach(e=>{i&&e.addEventListener(`scroll`,n,{passive:!0}),a&&e.addEventListener(`resize`,n)});let d=l&&s?Ou(l,n):null,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;(e=p)==null||e.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let m,h=c?au(e):null;c&&g();function g(){let t=au(e);h&&!Du(h,t)&&n(),h=t,m=requestAnimationFrame(g)}return n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener(`scroll`,n),a&&e.removeEventListener(`resize`,n)}),d?.(),(e=p)==null||e.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var Au=Yl,ju=Xl,Mu=Ul,Nu=Ql,Pu=Kl,Fu=Zl,Iu=(e,t,n)=>{let r=new Map,i={platform:Eu,...n},a={...i.platform,_c:r};return Vl(e,t,{...i,platform:a})},Lu=l(h(),1),Ru=typeof document<`u`?H.useLayoutEffect:function(){};function zu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e==`function`&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e==`object`){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zu(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){let n=i[r];if(!(n===`_owner`&&e.$$typeof)&&!zu(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Bu(e){return typeof window>`u`?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vu(e,t){let n=Bu(e);return Math.round(t*n)/n}function Hu(e){let t=H.useRef(e);return Ru(()=>{t.current=e}),t}function Uu(e){e===void 0&&(e={});let{placement:t=`bottom`,strategy:n=`absolute`,middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:l}=e,[u,d]=H.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=H.useState(r);zu(f,r)||p(r);let[m,h]=H.useState(null),[g,_]=H.useState(null),v=H.useCallback(e=>{e!==S.current&&(S.current=e,h(e))},[]),y=H.useCallback(e=>{e!==C.current&&(C.current=e,_(e))},[]),b=a||m,x=o||g,S=H.useRef(null),C=H.useRef(null),w=H.useRef(u),T=c!=null,E=Hu(c),D=Hu(i),O=Hu(l),k=H.useCallback(()=>{if(!S.current||!C.current)return;let e={placement:t,strategy:n,middleware:f};D.current&&(e.platform=D.current),Iu(S.current,C.current,e).then(e=>{let t={...e,isPositioned:O.current!==!1};A.current&&!zu(w.current,t)&&(w.current=t,Lu.flushSync(()=>{d(t)}))})},[f,t,n,D,O]);Ru(()=>{l===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[l]);let A=H.useRef(!1);Ru(()=>(A.current=!0,()=>{A.current=!1}),[]),Ru(()=>{if(b&&(S.current=b),x&&(C.current=x),b&&x){if(E.current)return E.current(b,x,k);k()}},[b,x,k,E,T]);let j=H.useMemo(()=>({reference:S,floating:C,setReference:v,setFloating:y}),[v,y]),M=H.useMemo(()=>({reference:b,floating:x}),[b,x]),N=H.useMemo(()=>{let e={position:n,left:0,top:0};if(!M.floating)return e;let t=Vu(M.floating,u.x),r=Vu(M.floating,u.y);return s?{...e,transform:`translate(`+t+`px, `+r+`px)`,...Bu(M.floating)>=1.5&&{willChange:`transform`}}:{position:n,left:t,top:r}},[n,s,M.floating,u.x,u.y]);return H.useMemo(()=>({...u,update:k,refs:j,elements:M,floatingStyles:N}),[u,k,j,M,N])}var Wu=(e,t)=>({...Au(e),options:[e,t]}),Gu=(e,t)=>({...ju(e),options:[e,t]}),Ku=(e,t)=>({...Fu(e),options:[e,t]}),qu=(e,t)=>({...Mu(e),options:[e,t]}),Ju=(e,t)=>({...Nu(e),options:[e,t]}),Yu=(e,t)=>({...Pu(e),options:[e,t]}),Xu={intentional:`onClick`,sloppy:`onPointerDown`};function Zu(e){return{escapeKey:typeof e==`boolean`?e:e?.escapeKey??!1,outsidePress:typeof e==`boolean`?e:e?.outsidePress??!0}}function Qu(e,t={}){let n=`rootStore`in e?e.rootStore:e,r=n.useState(`open`),i=n.useState(`floatingElement`),a=n.useState(`referenceElement`),o=n.useState(`domReferenceElement`),{onOpenChange:s,dataRef:c}=n.context,{enabled:l=!0,escapeKey:u=!0,outsidePress:d=!0,outsidePressEvent:f=`sloppy`,referencePress:p=!1,referencePressEvent:m=`sloppy`,ancestorScroll:h=!1,bubbles:g,externalTree:_}=t,v=Zc(_),y=U(typeof d==`function`?d:()=>!1),b=typeof d==`function`?y:d,x=H.useRef(!1),{escapeKey:S,outsidePress:C}=Zu(g),w=H.useRef(null),T=zo(),E=zo(),D=U(()=>{E.clear(),c.current.insideReactTree=!1}),O=H.useRef(!1),k=H.useRef(``),A=U(e=>{k.current=e.pointerType}),j=U(()=>{let e=k.current,t=e===`pen`||!e?`mouse`:e,n=typeof f==`function`?f():f;return typeof n==`string`?n:n[t]}),M=U(e=>{if(!r||!l||!u||e.key!==`Escape`||O.current)return;let t=c.current.floatingContext?.nodeId,i=v?fs(v.nodesRef.current,t):[];if(!S&&i.length>0){let e=!0;if(i.forEach(t=>{t.context?.open&&!t.context.dataRef.current.__escapeKeyBubbles&&(e=!1)}),!e)return}let a=So(`escape-key`,hs(e)?e.nativeEvent:e);n.setOpen(!1,a),!S&&!a.isPropagationAllowed&&e.stopPropagation()}),N=U(e=>{let t=j();return t===`intentional`&&e.type!==`click`||t===`sloppy`&&e.type===`click`}),P=U(()=>{c.current.insideReactTree=!0,E.start(0,D)}),F=U((e,t=!1)=>{if(N(e)){D();return}if(c.current.insideReactTree){D();return}if(j()===`intentional`&&t||typeof b==`function`&&!b(e))return;let r=is(e),i=`[${tl(`inert`)}]`,a=ss(n.select(`floatingElement`)).querySelectorAll(i),o=n.context.triggerElements;if(r&&(o.hasElement(r)||o.hasMatchingElement(e=>rs(e,r))))return;let s=Pa(r)?r:null;for(;s&&!Xa(s);){let e=$a(s);if(Xa(e)||!Pa(e))break;s=e}if(a.length&&Pa(r)&&!os(r)&&!rs(r,n.select(`floatingElement`))&&Array.from(a).every(e=>!rs(s,e)))return;if(Fa(r)&&!(`touches`in e)){let t=Xa(r),n=Za(r),i=/auto|scroll/,a=t||i.test(n.overflowX),o=t||i.test(n.overflowY),s=a&&r.clientWidth>0&&r.scrollWidth>r.clientWidth,c=o&&r.clientHeight>0&&r.scrollHeight>r.clientHeight,l=n.direction===`rtl`,u=c&&(l?e.offsetX<=r.offsetWidth-r.clientWidth:e.offsetX>r.clientWidth),d=s&&e.offsetY>r.clientHeight;if(u||d)return}let l=c.current.floatingContext?.nodeId,u=v&&fs(v.nodesRef.current,l).some(t=>as(e,t.context?.elements.floating));if(as(e,n.select(`floatingElement`))||as(e,n.select(`domReferenceElement`))||u)return;let d=v?fs(v.nodesRef.current,l):[];if(d.length>0){let e=!0;if(d.forEach(t=>{t.context?.open&&!t.context.dataRef.current.__outsidePressBubbles&&(e=!1)}),!e)return}n.setOpen(!1,So(`outside-press`,e)),D()}),I=U(e=>{j()!==`sloppy`||e.pointerType===`touch`||!n.select(`open`)||!l||as(e,n.select(`floatingElement`))||as(e,n.select(`domReferenceElement`))||F(e)}),L=U(e=>{if(j()!==`sloppy`||!n.select(`open`)||!l||as(e,n.select(`floatingElement`))||as(e,n.select(`domReferenceElement`)))return;let t=e.touches[0];t&&(w.current={startTime:Date.now(),startX:t.clientX,startY:t.clientY,dismissOnTouchEnd:!1,dismissOnMouseDown:!0},T.start(1e3,()=>{w.current&&(w.current.dismissOnTouchEnd=!1,w.current.dismissOnMouseDown=!1)}))}),R=U(e=>{let t=is(e);function n(){L(e),t?.removeEventListener(e.type,n)}t?.addEventListener(e.type,n)}),ee=U(e=>{let t=x.current;if(x.current=!1,T.clear(),e.type===`mousedown`&&w.current&&!w.current.dismissOnMouseDown)return;let n=is(e);function r(){e.type===`pointerdown`?I(e):F(e,t),n?.removeEventListener(e.type,r)}n?.addEventListener(e.type,r)}),te=U(e=>{if(j()!==`sloppy`||!w.current||as(e,n.select(`floatingElement`))||as(e,n.select(`domReferenceElement`)))return;let t=e.touches[0];if(!t)return;let r=Math.abs(t.clientX-w.current.startX),i=Math.abs(t.clientY-w.current.startY),a=Math.sqrt(r*r+i*i);a>5&&(w.current.dismissOnTouchEnd=!0),a>10&&(F(e),T.clear(),w.current=null)}),z=U(e=>{let t=is(e);function n(){te(e),t?.removeEventListener(e.type,n)}t?.addEventListener(e.type,n)}),ne=U(e=>{j()!==`sloppy`||!w.current||as(e,n.select(`floatingElement`))||as(e,n.select(`domReferenceElement`))||(w.current.dismissOnTouchEnd&&F(e),T.clear(),w.current=null)}),re=U(e=>{let t=is(e);function n(){ne(e),t?.removeEventListener(e.type,n)}t?.addEventListener(e.type,n)});H.useEffect(()=>{if(!r||!l)return;c.current.__escapeKeyBubbles=S,c.current.__outsidePressBubbles=C;let e=new Ro;function t(e){n.setOpen(!1,So(ma,e))}function s(){e.clear(),O.current=!0}function d(){e.start(Ja()?5:0,()=>{O.current=!1})}let f=ss(i);f.addEventListener(`pointerdown`,A,!0),u&&(f.addEventListener(`keydown`,M),f.addEventListener(`compositionstart`,s),f.addEventListener(`compositionend`,d)),b&&(f.addEventListener(`click`,ee,!0),f.addEventListener(`pointerdown`,ee,!0),f.addEventListener(`touchstart`,R,!0),f.addEventListener(`touchmove`,z,!0),f.addEventListener(`touchend`,re,!0),f.addEventListener(`mousedown`,ee,!0));let p=[];return h&&(Pa(o)&&(p=to(o)),Pa(i)&&(p=p.concat(to(i))),!Pa(a)&&a&&a.contextElement&&(p=p.concat(to(a.contextElement)))),p=p.filter(e=>e!==f.defaultView?.visualViewport),p.forEach(e=>{e.addEventListener(`scroll`,t,{passive:!0})}),()=>{f.removeEventListener(`pointerdown`,A,!0),u&&(f.removeEventListener(`keydown`,M),f.removeEventListener(`compositionstart`,s),f.removeEventListener(`compositionend`,d)),b&&(f.removeEventListener(`click`,ee,!0),f.removeEventListener(`pointerdown`,ee,!0),f.removeEventListener(`touchstart`,R,!0),f.removeEventListener(`touchmove`,z,!0),f.removeEventListener(`touchend`,re,!0),f.removeEventListener(`mousedown`,ee,!0)),p.forEach(e=>{e.removeEventListener(`scroll`,t)}),e.clear()}},[c,i,a,o,u,b,r,s,h,l,S,C,M,F,ee,I,R,z,re,A,n]),H.useEffect(D,[b,D]);let B=H.useMemo(()=>({onKeyDown:M,...p&&{[Xu[m]]:e=>{n.setOpen(!1,So(`trigger-press`,e.nativeEvent))},...m!==`intentional`&&{onClick(e){n.setOpen(!1,So(`trigger-press`,e.nativeEvent))}}}}),[M,n,p,m]),ie=U(e=>{let t=is(e.nativeEvent);!rs(n.select(`floatingElement`),t)||e.button!==0||(x.current=!0)}),ae=H.useMemo(()=>({onKeyDown:M,onPointerDown:ie,onMouseDown:ie,onMouseUp:ie,onClickCapture:P,onMouseDownCapture:P,onPointerDownCapture:P,onMouseUpCapture:P,onTouchEndCapture:P,onTouchMoveCapture:P}),[M,ie,P]);return H.useMemo(()=>l?{reference:B,floating:ae,trigger:B}:{},[l,B,ae])}var $u=Symbol(`NOT_FOUND`);function ed(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!=`function`)throw TypeError(t)}function td(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!=`object`)throw TypeError(t)}function nd(e,t=`expected all items to be functions, instead received the following types: `){if(!e.every(e=>typeof e==`function`)){let n=e.map(e=>typeof e==`function`?`function ${e.name||`unnamed`}()`:typeof e).join(`, `);throw TypeError(`${t}[${n}]`)}}var rd=e=>Array.isArray(e)?e:[e];function id(e){let t=Array.isArray(e[0])?e[0]:e;return nd(t,`createSelector expects all input-selectors to be functions, but received the following types: `),t}function ad(e,t){let n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}function od(e){let t;return{get(n){return t&&e(t.key,n)?t.value:$u},put(e,n){t={key:e,value:n}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function sd(e,t){let n=[];function r(e){let r=n.findIndex(n=>t(e,n.key));if(r>-1){let e=n[r];return r>0&&(n.splice(r,1),n.unshift(e)),e.value}return $u}function i(t,i){r(t)===$u&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())}function a(){return n}function o(){n=[]}return{get:r,put:i,getEntries:a,clear:o}}var cd=(e,t)=>e===t;function ld(e){return function(t,n){if(t===null||n===null||t.length!==n.length)return!1;let{length:r}=t;for(let i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}function ud(e,t){let{equalityCheck:n=cd,maxSize:r=1,resultEqualityCheck:i}=typeof t==`object`?t:{equalityCheck:t},a=ld(n),o=0,s=r<=1?od(a):sd(r,a);function c(){let t=s.get(arguments);if(t===$u){if(t=e.apply(null,arguments),o++,i){let e=s.getEntries().find(e=>i(e.value,t));e&&(t=e.value,o!==0&&o--)}s.put(arguments,t)}return t}return c.clearCache=()=>{s.clear(),c.resetResultsCount()},c.resultsCount=()=>o,c.resetResultsCount=()=>{o=0},c}var dd=class{constructor(e){this.value=e}deref(){return this.value}},fd=typeof WeakRef<`u`?WeakRef:dd,pd=0,md=1;function hd(){return{s:pd,v:void 0,o:null,p:null}}function gd(e,t={}){let n=hd(),{resultEqualityCheck:r}=t,i,a=0;function o(){let t=n,{length:o}=arguments;for(let e=0,n=o;e<n;e++){let n=arguments[e];if(typeof n==`function`||typeof n==`object`&&n){let e=t.o;e===null&&(t.o=e=new WeakMap);let r=e.get(n);r===void 0?(t=hd(),e.set(n,t)):t=r}else{let e=t.p;e===null&&(t.p=e=new Map);let r=e.get(n);r===void 0?(t=hd(),e.set(n,t)):t=r}}let s=t,c;if(t.s===md)c=t.v;else if(c=e.apply(null,arguments),a++,r){let e=i?.deref?.()??i;e!=null&&r(e,c)&&(c=e,a!==0&&a--),i=typeof c==`object`&&c||typeof c==`function`?new fd(c):c}return s.s=md,s.v=c,c}return o.clearCache=()=>{n=hd(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function _d(e,...t){let n=typeof e==`function`?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t=0,r=0,i,a={},o=e.pop();typeof o==`object`&&(a=o,o=e.pop()),ed(o,`createSelector expects an output function after the inputs, but received: [${typeof o}]`);let{memoize:s,memoizeOptions:c=[],argsMemoize:l=gd,argsMemoizeOptions:u=[],devModeChecks:d={}}={...n,...a},f=rd(c),p=rd(u),m=id(e),h=s(function(){return t++,o.apply(null,arguments)},...f),g=l(function(){r++;let e=ad(m,arguments);return i=h.apply(null,e),i},...p);return Object.assign(g,{resultFunc:o,memoizedResultFunc:h,dependencies:m,dependencyRecomputations:()=>r,resetDependencyRecomputations:()=>{r=0},lastResult:()=>i,recomputations:()=>t,resetRecomputations:()=>{t=0},memoize:s,argsMemoize:l})};return Object.assign(r,{withTypes:()=>r}),r}var W=_d(gd),vd=Object.assign((e,t=W)=>{td(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);let n=Object.keys(e);return t(n.map(t=>e[t]),(...e)=>e.reduce((e,t,r)=>(e[n[r]]=t,e),{}))},{withTypes:()=>vd});_d({memoize:ud,memoizeOptions:{maxSize:1,equalityCheck:Object.is}});const G=(e,t,n,r,i,a,...o)=>{if(o.length>0)throw Error(li(1));let s;if(e&&t&&n&&r&&i&&a)s=(o,s,c,l)=>a(e(o,s,c,l),t(o,s,c,l),n(o,s,c,l),r(o,s,c,l),i(o,s,c,l),s,c,l);else if(e&&t&&n&&r&&i)s=(a,o,s,c)=>i(e(a,o,s,c),t(a,o,s,c),n(a,o,s,c),r(a,o,s,c),o,s,c);else if(e&&t&&n&&r)s=(i,a,o,s)=>r(e(i,a,o,s),t(i,a,o,s),n(i,a,o,s),a,o,s);else if(e&&t&&n)s=(r,i,a,o)=>n(e(r,i,a,o),t(r,i,a,o),i,a,o);else if(e&&t)s=(n,r,i,a)=>t(e(n,r,i,a),r,i,a);else if(e)s=e;else throw Error(`Missing arguments`);return s};var yd=dn(),bd=pn(),xd=Ci(19)?Cd:wd;function Sd(e,t,n,r,i){return xd(e,t,n,r,i)}function Cd(e,t,n,r,i){let a=H.useCallback(()=>t(e.getSnapshot(),n,r,i),[e,t,n,r,i]);return(0,yd.useSyncExternalStore)(e.subscribe,a,a)}function wd(e,t,n,r,i){return(0,bd.useSyncExternalStoreWithSelector)(e.subscribe,e.getSnapshot,e.getSnapshot,e=>t(e,n,r,i))}var Td=class e{constructor(e){this.state=e,this.listeners=new Set,this.updateTick=0}subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)});getSnapshot=()=>this.state;setState(e){if(this.state===e)return;this.state=e,this.updateTick+=1;let t=this.updateTick;for(let n of this.listeners){if(t!==this.updateTick)return;n(e)}}update(t){for(let n in t)if(!Object.is(this.state[n],t[n])){e.prototype.setState.call(this,{...this.state,...t});return}}set(t,n){Object.is(this.state[t],n)||e.prototype.setState.call(this,{...this.state,[t]:n})}notifyAll(){let t={...this.state};e.prototype.setState.call(this,t)}},Ed=class extends Td{constructor(e,t={},n){super(e),this.context=t,this.selectors=n}controlledValues=new Map;useSyncedValue(e,t){H.useDebugValue(e),ro(()=>{this.state[e]!==t&&this.set(e,t)},[e,t])}useSyncedValueWithCleanup(e,t){ro(()=>(this.state[e]!==t&&this.set(e,t),()=>{this.set(e,void 0)}),[e,t])}useSyncedValues(e){ro(()=>{this.update(e)},Object.values(e))}useControlledProp(e,t,n){H.useDebugValue(e);let r=t!==void 0;this.controlledValues.has(e)||(this.controlledValues.set(e,r),!r&&!Object.is(this.state[e],n)&&super.setState({...this.state,[e]:n})),ro(()=>{r&&!Object.is(this.state[e],t)&&super.setState({...this.state,[e]:t})},[e,t,n,r])}set(e,t){this.controlledValues.get(e)!==!0&&super.set(e,t)}update(e){let t={...e};for(let e in t)if(Object.hasOwn(t,e)&&this.controlledValues.get(e)===!0){delete t[e];continue}super.update(t)}setState(e){let t={...e};for(let e in t)if(Object.hasOwn(t,e)&&this.controlledValues.get(e)===!0){delete t[e];continue}super.setState({...this.state,...t})}select=(e,t,n,r)=>{let i=this.selectors[e];return i(this.state,t,n,r)};useState=(e,t,n,r)=>{H.useDebugValue(e);let i=this.selectors[e];return Sd(this,i,t,n,r)};useContextCallback(e,t){H.useDebugValue(e);let n=U(t??Vi);this.context[e]=n}useStateSetter(e){let t=H.useRef(void 0);return t.current===void 0&&(t.current=t=>{this.set(e,t)}),t.current}observe(e,t){let n;n=typeof e==`function`?e:this.selectors[e];let r=n(this.state);return t(r,r,this),this.subscribe(e=>{let i=n(e);if(!Object.is(r,i)){let e=r;r=i,t(i,e,this)}})}},Dd={open:G(e=>e.open),domReferenceElement:G(e=>e.domReferenceElement),referenceElement:G(e=>e.positionReference??e.referenceElement),floatingElement:G(e=>e.floatingElement),floatingId:G(e=>e.floatingId)},Od=class extends Ed{constructor(e){let{nested:t,noEmit:n,onOpenChange:r,triggerElements:i,...a}=e;super({...a,positionReference:a.referenceElement,domReferenceElement:a.referenceElement},{onOpenChange:r,dataRef:{current:{}},events:Kc(),nested:t,noEmit:n,triggerElements:i},Dd)}setOpen=(e,t)=>{if((!e||!this.state.open||ys(t.event))&&(this.context.dataRef.current.openEvent=e?t.event:void 0),!this.context.noEmit){let n={open:e,reason:t.reason,nativeEvent:t.event,nested:this.context.nested,triggerElement:t.trigger};this.context.events.emit(`openchange`,n)}this.context.onOpenChange?.(e,t)}};function kd(e,t){let n=H.useRef(null);return H.useCallback(r=>{e!==void 0&&(n.current!==null&&(t.context.triggerElements.delete(n.current),n.current=null),r!==null&&(n.current=e,t.context.triggerElements.add(e,r)))},[t,e])}function Ad(e,t,n,r){let i=n.useState(`isMountedByTrigger`,e),a=kd(e,n),o=U(t=>{a(t),t!==null&&n.select(`open`)&&n.select(`activeTriggerId`)==null&&n.update({activeTriggerId:e,activeTriggerElement:t,...r})});return ro(()=>{i&&n.update({activeTriggerElement:t.current,...r})},[i,n,t,...Object.values(r)]),{registerTrigger:o,isMountedByThisTrigger:i}}function jd(e){let t=e.useState(`open`);ro(()=>{if(t&&!e.select(`activeTriggerId`)&&e.context.triggerElements.size===1){let t=e.context.triggerElements.entries().next();if(!t.done){let[n,r]=t.value;e.update({activeTriggerId:n,activeTriggerElement:r})}}},[t,e])}function Md(e,t,n){let{mounted:r,setMounted:i,transitionStatus:a}=ko(e);t.useSyncedValues({mounted:r,transitionStatus:a});let o=U(()=>{i(!1),t.update({activeTriggerId:null,activeTriggerElement:null,mounted:!1}),n?.(),t.context.onOpenChangeComplete?.(!1)});return Fo({enabled:!t.useState(`preventUnmountingOnClose`),open:e,ref:t.context.popupRef,onComplete(){e||o()}}),{forceUnmount:o,transitionStatus:a}}var Nd=class{constructor(){this.elements=new Set,this.idMap=new Map}add(e,t){let n=this.idMap.get(e);n!==t&&(n!==void 0&&this.elements.delete(n),this.elements.add(t),this.idMap.set(e,t))}delete(e){let t=this.idMap.get(e);t&&(this.elements.delete(t),this.idMap.delete(e))}hasElement(e){return this.elements.has(e)}hasMatchingElement(e){for(let t of this.elements)if(e(t))return!0;return!1}getById(e){return this.idMap.get(e)}entries(){return this.idMap.entries()}get size(){return this.idMap.size}};function Pd(){return new Od({open:!1,floatingElement:null,referenceElement:null,triggerElements:new Nd,floatingId:``,nested:!1,noEmit:!1,onOpenChange:void 0})}function Fd(){return{open:!1,mounted:!1,transitionStatus:`idle`,floatingRootContext:Pd(),preventUnmountingOnClose:!1,payload:void 0,activeTriggerId:null,activeTriggerElement:null,popupElement:null,positionerElement:null,activeTriggerProps:Ui,inactiveTriggerProps:Ui,popupProps:Ui}}const Id={open:G(e=>e.open),mounted:G(e=>e.mounted),transitionStatus:G(e=>e.transitionStatus),floatingRootContext:G(e=>e.floatingRootContext),preventUnmountingOnClose:G(e=>e.preventUnmountingOnClose),payload:G(e=>e.payload),activeTriggerId:G(e=>e.activeTriggerId),activeTriggerElement:G(e=>e.mounted?e.activeTriggerElement:null),isTriggerActive:G((e,t)=>t!==void 0&&e.activeTriggerId===t),isOpenedByTrigger:G((e,t)=>t!==void 0&&e.activeTriggerId===t&&e.open),isMountedByTrigger:G((e,t)=>t!==void 0&&e.activeTriggerId===t&&e.mounted),triggerProps:G((e,t)=>t?e.activeTriggerProps:e.inactiveTriggerProps),popupProps:G(e=>e.popupProps),popupElement:G(e=>e.popupElement),positionerElement:G(e=>e.positionerElement)};function Ld(e){let{open:t=!1,onOpenChange:n,elements:r={}}=e,i=bo(),a=Xc()!=null,o=hi(()=>new Od({open:t,onOpenChange:n,referenceElement:r.reference??null,floatingElement:r.floating??null,triggerElements:r.triggers??new Nd,floatingId:i,nested:a,noEmit:e.noEmit||!1})).current;return ro(()=>{let e={open:t,floatingId:i};r.reference!==void 0&&(e.referenceElement=r.reference,e.domReferenceElement=Pa(r.reference)?r.reference:null),r.floating!==void 0&&(e.floatingElement=r.floating),o.update(e)},[t,i,r.reference,r.floating,o]),o.context.onOpenChange=n,o.context.nested=a,o.context.noEmit=e.noEmit||!1,o}function Rd(e={}){let{nodeId:t,externalTree:n}=e,r=Ld(e),i=e.rootContext||r,a={reference:i.useState(`referenceElement`),floating:i.useState(`floatingElement`),domReference:i.useState(`domReferenceElement`)},[o,s]=H.useState(null),c=H.useRef(null),l=Zc(n);ro(()=>{a.domReference&&(c.current=a.domReference)},[a.domReference]);let u=Uu({...e,elements:{...a,...o&&{reference:o}}}),d=H.useCallback(e=>{let t=Pa(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;s(t),u.refs.setReference(t)},[u.refs]),[f,p]=H.useState(null),[m,h]=H.useState(null);i.useSyncedValue(`referenceElement`,f),i.useSyncedValue(`domReferenceElement`,Pa(f)?f:null),i.useSyncedValue(`floatingElement`,m);let g=H.useCallback(e=>{(Pa(e)||e===null)&&(c.current=e,p(e)),(Pa(u.refs.reference.current)||u.refs.reference.current===null||e!==null&&!Pa(e))&&u.refs.setReference(e)},[u.refs,p]),_=H.useCallback(e=>{h(e),u.refs.setFloating(e)},[u.refs]),v=H.useMemo(()=>({...u.refs,setReference:g,setFloating:_,setPositionReference:d,domReference:c}),[u.refs,g,_,d]),y=H.useMemo(()=>({...u.elements,domReference:a.domReference}),[u.elements,a.domReference]),b=i.useState(`open`),x=i.useState(`floatingId`),S=H.useMemo(()=>({...u,dataRef:i.context.dataRef,open:b,onOpenChange:i.setOpen,events:i.context.events,floatingId:x,refs:v,elements:y,nodeId:t,rootStore:i}),[u,v,y,t,i,b,x]);return ro(()=>{i.context.dataRef.current.floatingContext=S;let e=l?.nodesRef.current.find(e=>e.id===t);e&&(e.context=S)}),H.useMemo(()=>({...u,context:S,refs:v,elements:y,rootStore:i}),[u,v,y,S,i])}function zd(e){let{popupStore:t,noEmit:n=!1,treatPopupAsFloatingElement:r=!1,onOpenChange:i}=e,a=bo(),o=Xc()!=null,s=t.useState(`open`),c=t.useState(`activeTriggerElement`),l=t.useState(r?`popupElement`:`positionerElement`),u=t.context.triggerElements,d=hi(()=>new Od({open:s,referenceElement:c,floatingElement:l,triggerElements:u,onOpenChange:i,floatingId:a,nested:o,noEmit:n})).current;return ro(()=>{let e={open:s,floatingId:a,referenceElement:c,floatingElement:l};Pa(c)&&(e.domReferenceElement=c),d.update(e)},[s,a,c,l,d]),d.context.onOpenChange=i,d.context.nested=o,d.context.noEmit=n,d}var Bd=Jo&&Ko;function Vd(e,t={}){let n=`rootStore`in e?e.rootStore:e,{events:r,dataRef:i}=n.context,{enabled:a=!0,visibleOnly:o=!0}=t,s=H.useRef(!1),c=zo(),l=H.useRef(!0);H.useEffect(()=>{let e=n.select(`domReferenceElement`);if(!a)return;let t=ja(e);function r(){!n.select(`open`)&&Fa(e)&&e===ns(ss(e))&&(s.current=!0)}function i(){l.current=!0}function o(){l.current=!1}return t.addEventListener(`blur`,r),Bd&&(t.addEventListener(`keydown`,i,!0),t.addEventListener(`pointerdown`,o,!0)),()=>{t.removeEventListener(`blur`,r),Bd&&(t.removeEventListener(`keydown`,i,!0),t.removeEventListener(`pointerdown`,o,!0))}},[n,a]),H.useEffect(()=>{if(!a)return;function e(e){(e.reason===`trigger-press`||e.reason===`escape-key`)&&(s.current=!0)}return r.on(`openchange`,e),()=>{r.off(`openchange`,e)}},[r,a]);let u=H.useMemo(()=>({onMouseLeave(){s.current=!1},onFocus(e){if(s.current)return;let t=is(e.nativeEvent);if(o&&Pa(t)){if(Bd&&!e.relatedTarget){if(!l.current&&!cs(t))return}else if(!us(t))return}n.setOpen(!0,So(_a,e.nativeEvent,e.currentTarget))},onBlur(e){s.current=!1;let t=e.relatedTarget,r=e.nativeEvent,a=Pa(t)&&t.hasAttribute(tl(`focus-guard`))&&t.getAttribute(`data-type`)===`outside`;c.start(0,()=>{let o=n.select(`domReferenceElement`),s=ns(o?o.ownerDocument:document);!t&&s===o||rs(i.current.floatingContext?.refs.floating.current,s)||rs(o,s)||a||n.context.triggerElements.hasElement(e.relatedTarget)||n.setOpen(!1,So(_a,r))})}}),[i,n,o,c]);return H.useMemo(()=>a?{reference:u,trigger:u}:{},[a,u])}const Hd=tl(`safe-polygon`);var Ud=`button,a,[role="button"],select,[tabindex]:not([tabindex="-1"]),${$o}`;function Wd(e){return e?!!e.closest(Ud):!1}function Gd(e){let t=H.useRef(void 0),n=H.useRef(!1),r=H.useRef(void 0),i=H.useRef(!0),a=H.useRef(!1),o=H.useRef(()=>{}),s=H.useRef(!1),c=zo(),l=zo(),u=H.useRef(void 0);return H.useMemo(()=>{let d=e.context.dataRef.current;return d.hoverInteractionState||={pointerTypeRef:t,interactedInsideRef:n,handlerRef:r,blockMouseMoveRef:i,performedPointerEventsMutationRef:a,unbindMouseMoveRef:o,restTimeoutPendingRef:s,openChangeTimeout:c,restTimeout:l,handleCloseOptionsRef:u},d.hoverInteractionState},[e,t,n,r,i,a,o,s,c,l,u])}var Kd=new Set([`click`,`mousedown`]);function qd(e,t={}){let n=`rootStore`in e?e.rootStore:e,r=n.useState(`open`),i=n.useState(`floatingElement`),a=n.useState(`domReferenceElement`),{dataRef:o}=n.context,{enabled:s=!0,closeDelay:c=0,externalTree:l}=t,{pointerTypeRef:u,interactedInsideRef:d,handlerRef:f,performedPointerEventsMutationRef:p,unbindMouseMoveRef:m,restTimeoutPendingRef:h,openChangeTimeout:g,handleCloseOptionsRef:_}=Gd(n),v=Zc(l),y=Xc(),b=U(()=>d.current?!0:o.current.openEvent?Kd.has(o.current.openEvent.type):!1),x=U(()=>{let e=o.current.openEvent?.type;return e?.includes(`mouse`)&&e!==`mousedown`}),S=H.useCallback((e,t=!0)=>{let r=Jd(c,u.current);r&&!f.current?g.start(r,()=>n.setOpen(!1,So(ga,e))):t&&(g.clear(),n.setOpen(!1,So(ga,e)))},[c,f,n,u,g]),C=U(()=>{m.current(),f.current=void 0}),w=U(()=>{if(p.current){let e=ss(i).body;e.style.pointerEvents=``,e.removeAttribute(Hd),p.current=!1}}),T=U(e=>{if(!Wd(is(e))){d.current=!1;return}d.current=!0});ro(()=>{r||(u.current=void 0,h.current=!1,d.current=!1,C(),w())},[r,u,h,d,C,w]),H.useEffect(()=>()=>{C()},[C]),H.useEffect(()=>w,[w]),ro(()=>{if(s&&r&&_.current?.blockPointerEvents&&x()&&Pa(a)&&i){p.current=!0;let e=ss(i).body;e.setAttribute(Hd,``);let t=a,n=i,r=v?.nodesRef.current.find(e=>e.id===y)?.context?.elements.floating;return r&&(r.style.pointerEvents=``),e.style.pointerEvents=`none`,t.style.pointerEvents=`auto`,n.style.pointerEvents=`auto`,()=>{e.style.pointerEvents=``,t.style.pointerEvents=``,n.style.pointerEvents=``}}},[s,r,a,i,_,x,v,y,p]),H.useEffect(()=>{if(!s)return;function e(e){if(b()||!o.current.floatingContext||!n.select(`open`))return;let t=n.context.triggerElements;e.relatedTarget&&t.hasElement(e.relatedTarget)||(w(),C(),b()||S(e))}function t(e){g.clear(),w(),f.current?.(e),C()}function r(e){b()||S(e,!1)}let a=i;return a&&(a.addEventListener(`mouseleave`,e),a.addEventListener(`mouseenter`,t),a.addEventListener(`mouseleave`,r),a.addEventListener(`pointerdown`,T,!0)),()=>{a&&(a.removeEventListener(`mouseleave`,e),a.removeEventListener(`mouseenter`,t),a.removeEventListener(`mouseleave`,r),a.removeEventListener(`pointerdown`,T,!0))}})}function Jd(e,t){return t&&!vs(t)?0:typeof e==`function`?e():e}var Yd=l(h(),1);function Xd(e){return typeof e==`function`?e():e}var Zd={current:null};function Qd(e,t={}){let n=`rootStore`in e?e.rootStore:e,{dataRef:r,events:i}=n.context,{enabled:a=!0,delay:o=0,handleClose:s=null,mouseOnly:c=!1,restMs:l=0,move:u=!0,triggerElementRef:d=Zd,externalTree:f,isActiveTrigger:p=!0}=t,m=Zc(f),{pointerTypeRef:h,interactedInsideRef:g,handlerRef:_,blockMouseMoveRef:v,performedPointerEventsMutationRef:y,unbindMouseMoveRef:b,restTimeoutPendingRef:x,openChangeTimeout:S,restTimeout:C,handleCloseOptionsRef:w}=Gd(n),T=Ao(s),E=Ao(o),D=Ao(l);p&&(w.current=T.current?.__options);let O=U(()=>g.current?!0:r.current.openEvent?[`click`,`mousedown`].includes(r.current.openEvent.type):!1),k=H.useCallback((e,t=!0)=>{let r=nl(E.current,`close`,h.current);r&&!_.current?S.start(r,()=>n.setOpen(!1,So(ga,e))):t&&(S.clear(),n.setOpen(!1,So(ga,e)))},[E,_,n,h,S]),A=U(()=>{b.current(),_.current=void 0}),j=U(()=>{if(y.current){let e=ss(n.select(`domReferenceElement`)).body;e.style.pointerEvents=``,e.removeAttribute(Hd),y.current=!1}});H.useEffect(()=>{if(!a)return;function e(e){e.open||(S.clear(),C.clear(),v.current=!0,x.current=!1)}return i.on(`openchange`,e),()=>{i.off(`openchange`,e)}},[a,i,S,C,v,x]);let M=U(e=>{if(O()||!r.current.floatingContext)return;let t=n.context.triggerElements;if(e.relatedTarget&&t.hasElement(e.relatedTarget))return;let i=d.current;T.current?.({...r.current.floatingContext,tree:m,x:e.clientX,y:e.clientY,onClose(){j(),A(),!O()&&i===n.select(`domReferenceElement`)&&k(e)}})(e)});return H.useEffect(()=>{if(!a)return;let e=d.current??(p?n.select(`domReferenceElement`):null);if(!Pa(e))return;function t(e){if(S.clear(),v.current=!1,c&&!vs(h.current)||Xd(D.current)>0&&!nl(E.current,`open`))return;let t=nl(E.current,`open`,h.current),r=n.select(`domReferenceElement`),i=n.context.triggerElements,a=(i.hasElement(e.target)||i.hasMatchingElement(t=>rs(t,e.target)))&&(!r||!rs(r,e.target)),o=e.currentTarget??null,s=!n.select(`open`)||a;t?S.start(t,()=>{s&&n.setOpen(!0,So(ga,e,o))}):s&&n.setOpen(!0,So(ga,e,o))}function i(e){if(O()){j();return}b.current();let t=ss(n.select(`domReferenceElement`));C.clear(),x.current=!1;let i=n.context.triggerElements;if(!(e.relatedTarget&&i.hasElement(e.relatedTarget))){if(T.current&&r.current.floatingContext){n.select(`open`)||S.clear();let i=d.current;_.current=T.current({...r.current.floatingContext,tree:m,x:e.clientX,y:e.clientY,onClose(){j(),A(),!O()&&i===n.select(`domReferenceElement`)&&k(e,!0)}});let a=_.current;a(e),t.addEventListener(`mousemove`,a),b.current=()=>{t.removeEventListener(`mousemove`,a)};return}(h.current!==`touch`||!rs(n.select(`floatingElement`),e.relatedTarget))&&k(e)}}function o(e){M(e)}return n.select(`open`)&&e.addEventListener(`mouseleave`,o),u&&e.addEventListener(`mousemove`,t,{once:!0}),e.addEventListener(`mouseenter`,t),e.addEventListener(`mouseleave`,i),()=>{e.removeEventListener(`mouseleave`,o),u&&e.removeEventListener(`mousemove`,t),e.removeEventListener(`mouseenter`,t),e.removeEventListener(`mouseleave`,i)}},[A,j,v,r,E,k,n,a,T,M,p,O,c,u,h,D,C,x,S,d,m,b,_]),H.useMemo(()=>{function e(e){h.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){let{nativeEvent:t}=e,r=e.currentTarget,i=n.select(`domReferenceElement`),a=n.context.triggerElements,o=n.select(`open`),s=(a.hasElement(e.target)||a.hasMatchingElement(t=>rs(t,e.target)))&&(!i||!rs(i,e.target));if(c&&!vs(h.current)||o&&!s||Xd(D.current)===0||!s&&x.current&&e.movementX**2+e.movementY**2<2)return;C.clear();function l(){!v.current&&(!o||s)&&n.setOpen(!0,So(ga,t,r))}h.current===`touch`?Yd.flushSync(()=>{l()}):s&&o?l():(x.current=!0,C.start(Xd(D.current),l))}}},[v,c,n,h,D,C,x])}function $d(e=[]){let t=e.map(e=>e?.reference),n=e.map(e=>e?.floating),r=e.map(e=>e?.item),i=e.map(e=>e?.trigger),a=H.useCallback(t=>ef(t,e,`reference`),t),o=H.useCallback(t=>ef(t,e,`floating`),n),s=H.useCallback(t=>ef(t,e,`item`),r),c=H.useCallback(t=>ef(t,e,`trigger`),i);return H.useMemo(()=>({getReferenceProps:a,getFloatingProps:o,getItemProps:s,getTriggerProps:c}),[a,o,s,c])}function ef(e,t,n){let r=new Map,i=n===`item`,a={};for(let t in n===`floating`&&(a.tabIndex=-1,a[`data-base-ui-focusable`]=``),e)i&&e&&(t===`active`||t===`selected`)||(a[t]=e[t]);for(let o=0;o<t.length;o+=1){let s,c=t[o]?.[n];s=typeof c==`function`?e?c(e):null:c,s&&tf(a,s,i,r)}return tf(a,e,i,r),a}function tf(e,t,n,r){for(let i in t){let a=t[i];n&&(i===`active`||i===`selected`)||(i.startsWith(`on`)?(r.has(i)||r.set(i,[]),typeof a==`function`&&(r.get(i)?.push(a),e[i]=(...e)=>r.get(i)?.map(t=>t(...e)).find(e=>e!==void 0))):e[i]=a)}}function nf(e,t,n){switch(e){case`vertical`:return t;case`horizontal`:return n;default:return t||n}}function rf(e,t){return nf(t,e===`ArrowUp`||e===`ArrowDown`,e===`ArrowLeft`||e===`ArrowRight`)}function af(e,t,n){return nf(t,e===`ArrowDown`,n?e===`ArrowLeft`:e===`ArrowRight`)||e===`Enter`||e===` `||e===``}function of(e,t,n){return nf(t,n?e===es:e===ts,e===`ArrowDown`)}function sf(e,t,n,r){return t===`both`||t===`horizontal`&&r&&r>1?e===`Escape`:nf(t,n?e===ts:e===es,e===`ArrowUp`)}function cf(e,t){let n=`rootStore`in e?e.rootStore:e,r=n.useState(`open`),i=n.useState(`floatingElement`),a=n.useState(`domReferenceElement`),o=n.context.dataRef,{listRef:s,activeIndex:c,onNavigate:l=()=>{},enabled:u=!0,selectedIndex:d=null,allowEscape:f=!1,loopFocus:p=!1,nested:m=!1,rtl:h=!1,virtual:g=!1,focusItemOnOpen:_=`auto`,focusItemOnHover:v=!0,openOnArrowKeyDown:y=!0,disabledIndices:b=void 0,orientation:x=`vertical`,parentOrientation:S,cols:C=1,scrollItemIntoView:w=!0,itemSizes:T,dense:E=!1,id:D,resetOnPointerLeave:O=!0,externalTree:k}=t,A=Ao(ds(i)),j=Xc(),M=Zc(k);ro(()=>{o.current.orientation=x},[o,x]);let N=ls(a),P=H.useRef(_),F=H.useRef(d??-1),I=H.useRef(null),L=H.useRef(!0),R=U(e=>{l(F.current===-1?null:F.current,e)}),ee=H.useRef(R),te=H.useRef(!!i),z=H.useRef(r),ne=H.useRef(!1),re=H.useRef(!1),B=Ao(b),ie=Ao(r),ae=Ao(w),oe=Ao(d),se=Ao(O),ce=U(()=>{function e(e){g?M?.events.emit(`virtualfocus`,e):ul(e,{sync:ne.current,preventScroll:!0})}let t=s.current[F.current],n=re.current;t&&e(t),(ne.current?e=>e():requestAnimationFrame)(()=>{let r=s.current[F.current]||t;if(!r)return;t||e(r);let i=ae.current;i&&ue&&(n||!L.current)&&r.scrollIntoView?.(typeof i==`boolean`?{block:`nearest`,inline:`nearest`}:i)})});ro(()=>{u&&(r&&i?(F.current=d??-1,P.current&&d!=null&&(re.current=!0,R())):te.current&&(F.current=-1,ee.current()))},[u,r,i,d,R]),ro(()=>{if(u){if(!r){ne.current=!1;return}if(i)if(c==null){if(ne.current=!1,oe.current!=null)return;if(te.current&&(F.current=-1,ce()),(!z.current||!te.current)&&P.current&&(I.current!=null||P.current===!0&&I.current==null)){let e=0,t=()=>{s.current[0]==null?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e+=1):(F.current=I.current==null||af(I.current,x,h)||m?Qs(s):$s(s),I.current=null,R())};t()}}else Zs(s,c)||(F.current=c,ce(),re.current=!1)}},[u,r,i,c,oe,m,s,x,h,R,ce,B]),ro(()=>{if(!u||i||!M||g||!te.current)return;let e=M.nodesRef.current,t=e.find(e=>e.id===j)?.context?.elements.floating,n=ns(ss(i)),r=e.some(e=>e.context&&rs(e.context.elements.floating,n));t&&!r&&L.current&&t.focus({preventScroll:!0})},[u,i,M,j,g]),ro(()=>{ee.current=R,z.current=r,te.current=!!i}),ro(()=>{r||(I.current=null,P.current=_)},[r,_]);let le=c!=null,ue=H.useMemo(()=>{function e(e){if(!ie.current)return;let t=s.current.indexOf(e.currentTarget);t!==-1&&F.current!==t&&(F.current=t,R(e))}return{onFocus(t){ne.current=!0,e(t)},onClick:({currentTarget:e})=>e.focus({preventScroll:!0}),onMouseMove(t){ne.current=!0,re.current=!1,v&&e(t)},onPointerLeave(e){if(!ie.current||!L.current||e.pointerType===`touch`)return;ne.current=!0;let t=e.relatedTarget;!v||s.current.includes(t)||se.current&&(F.current=-1,R(e),g||A.current?.focus({preventScroll:!0}))}}},[ie,A,v,s,R,se,g]),de=H.useCallback(()=>S??M?.nodesRef.current.find(e=>e.id===j)?.context?.dataRef?.current.orientation,[j,M,S]),fe=U(e=>{if(L.current=!1,ne.current=!0,e.which===229||!ie.current&&e.currentTarget===A.current)return;if(m&&sf(e.key,x,h,C)){rf(e.key,de())||ms(e),n.setOpen(!1,So(ba,e.nativeEvent)),Fa(a)&&(g?M?.events.emit(`virtualfocus`,a):a.focus());return}let t=F.current,i=Qs(s,b),o=$s(s,b);if(N||(e.key===`Home`&&(ms(e),F.current=i,R(e)),e.key===`End`&&(ms(e),F.current=o,R(e))),C>1){let t=T||Array.from({length:s.current.length},()=>({width:1,height:1})),n=nc(t,C,E),r=n.findIndex(e=>e!=null&&!ac(s,e,b)),a=n.reduce((e,t,n)=>t!=null&&!ac(s,t,b)?n:e,-1),c=n[tc({current:n.map(e=>e==null?null:s.current[e])},{event:e,orientation:x,loopFocus:p,rtl:h,cols:C,disabledIndices:ic([...(typeof b==`function`?null:b)||s.current.map((e,t)=>ac(s,t,b)?t:void 0),void 0],n),minIndex:r,maxIndex:a,prevIndex:rc(F.current>o?i:F.current,t,n,C,e.key===`ArrowDown`?`bl`:e.key===(h?`ArrowLeft`:`ArrowRight`)?`tr`:`tl`),stopEvent:!0})];if(c!=null&&(F.current=c,R(e)),x===`both`)return}if(rf(e.key,x)){if(ms(e),r&&!g&&ns(e.currentTarget.ownerDocument)===e.currentTarget){F.current=af(e.key,x,h)?i:o,R(e);return}af(e.key,x,h)?p?t>=o?f&&t!==s.current.length?F.current=-1:(ne.current=!1,F.current=i):F.current=ec(s,{startingIndex:t,disabledIndices:b}):F.current=Math.min(o,ec(s,{startingIndex:t,disabledIndices:b})):p?t<=i?f&&t!==-1?F.current=s.current.length:(ne.current=!1,F.current=o):F.current=ec(s,{startingIndex:t,decrement:!0,disabledIndices:b}):F.current=Math.max(i,ec(s,{startingIndex:t,decrement:!0,disabledIndices:b})),Zs(s,F.current)&&(F.current=-1),R(e)}}),pe=H.useMemo(()=>g&&r&&le&&{"aria-activedescendant":`${D}-${c}`},[g,r,le,D,c]),me=H.useMemo(()=>({"aria-orientation":x===`both`?void 0:x,...N?{}:pe,onKeyDown(e){if(e.key===`Tab`&&e.shiftKey&&r&&!g){let t=is(e.nativeEvent);if(t&&!rs(A.current,t))return;ms(e),n.setOpen(!1,So(ya,e.nativeEvent)),Fa(a)&&a.focus();return}fe(e)},onPointerMove(){L.current=!0}}),[pe,fe,A,x,N,n,r,g,a]),he=H.useMemo(()=>{function e(e){_===`auto`&&gs(e.nativeEvent)&&(P.current=!g)}function t(e){P.current=_,_===`auto`&&_s(e.nativeEvent)&&(P.current=!0)}return{onKeyDown(e){let t=n.select(`open`);L.current=!1;let r=e.key.startsWith(`Arrow`),i=of(e.key,de(),h),a=rf(e.key,x),o=(m?i:a)||e.key===`Enter`||e.key.trim()===``;if(g&&t)return fe(e);if(!(!t&&!y&&r)){if(o){let t=rf(e.key,de());I.current=m&&t?null:e.key}if(m){i&&(ms(e),t?(F.current=Qs(s,B.current),R(e)):n.setOpen(!0,So(ba,e.nativeEvent,e.currentTarget)));return}a&&(oe.current!=null&&(F.current=oe.current),ms(e),!t&&y?n.setOpen(!0,So(ba,e.nativeEvent,e.currentTarget)):fe(e),t&&R(e))}},onFocus(e){n.select(`open`)&&!g&&(F.current=-1,R(e))},onPointerDown:t,onPointerEnter:t,onMouseDown:e,onClick:e}},[fe,B,_,s,m,R,n,y,x,de,h,oe,g]),ge=H.useMemo(()=>({...pe,...he}),[pe,he]);return H.useMemo(()=>u?{reference:ge,floating:me,item:ue,trigger:he}:{},[u,ge,me,he,ue])}var lf=new Map([[`select`,`listbox`],[`combobox`,`listbox`],[`label`,!1]]);function uf(e,t={}){let n=`rootStore`in e?e.rootStore:e,r=n.useState(`open`),i=n.useState(`floatingId`),a=n.useState(`domReferenceElement`),o=n.useState(`floatingElement`),{enabled:s=!0,role:c=`dialog`}=t,l=bo(),u=a?.id||l,d=H.useMemo(()=>ds(o)?.id||i,[o,i]),f=lf.get(c)??c,p=Xc()!=null,m=H.useMemo(()=>f===`tooltip`||c===`label`?Ui:{"aria-haspopup":f===`alertdialog`?`dialog`:f,"aria-expanded":`false`,...f===`listbox`&&{role:`combobox`},...f===`menu`&&p&&{role:`menuitem`},...c===`select`&&{"aria-autocomplete":`none`},...c===`combobox`&&{"aria-autocomplete":`list`}},[f,p,c]),h=H.useMemo(()=>f===`tooltip`||c===`label`?{[`aria-${c===`label`?`labelledby`:`describedby`}`]:r?d:void 0}:{...m,"aria-expanded":r?`true`:`false`,"aria-controls":r?d:void 0,...f===`menu`&&{id:u}},[f,d,r,u,c,m]),g=H.useMemo(()=>{let e={id:d,...f&&{role:f}};return f===`tooltip`||c===`label`?e:{...e,...f===`menu`&&{"aria-labelledby":u}}},[f,d,u,c]),_=H.useCallback(({active:e,selected:t})=>{let n={role:`option`,...e&&{id:`${d}-fui-option`}};switch(c){case`select`:case`combobox`:return{...n,"aria-selected":t};default:}return{}},[d,c]);return H.useMemo(()=>s?{reference:h,floating:g,item:_,trigger:m}:{},[s,h,g,m,_])}function df(e,t){let n=`rootStore`in e?e.rootStore:e,r=n.useState(`open`),i=n.context.dataRef,{listRef:a,activeIndex:o,onMatch:s,onTypingChange:c,enabled:l=!0,findMatch:u=null,resetMs:d=750,ignoreKeys:f=Hi,selectedIndex:p=null}=t,m=zo(),h=H.useRef(``),g=H.useRef(p??o??-1),_=H.useRef(null);ro(()=>{r&&(m.clear(),_.current=null,h.current=``)},[r,m]),ro(()=>{r&&h.current===``&&(g.current=p??o??-1)},[r,p,o]);let v=U(e=>{e?i.current.typing||(i.current.typing=e,c?.(e)):i.current.typing&&(i.current.typing=e,c?.(e))}),y=U(e=>{function t(e,t,n){let r=u?u(t,n):t.find(e=>e?.toLocaleLowerCase().indexOf(n.toLocaleLowerCase())===0);return r?e.indexOf(r):-1}let n=a.current;if(h.current.length>0&&h.current[0]!==` `&&(t(n,n,h.current)===-1?v(!1):e.key===` `&&ms(e)),n==null||f.includes(e.key)||e.key.length!==1||e.ctrlKey||e.metaKey||e.altKey)return;r&&e.key!==` `&&(ms(e),v(!0)),n.every(e=>e?e[0]?.toLocaleLowerCase()!==e[1]?.toLocaleLowerCase():!0)&&h.current===e.key&&(h.current=``,g.current=_.current),h.current+=e.key,m.start(d,()=>{h.current=``,g.current=_.current,v(!1)});let i=g.current,o=t(n,[...n.slice((i||0)+1),...n.slice(0,(i||0)+1)],h.current);o===-1?e.key!==` `&&(h.current=``,v(!1)):(s?.(o),_.current=o)}),b=H.useMemo(()=>({onKeyDown:y}),[y]),x=H.useMemo(()=>({onKeyDown:y,onKeyUp(e){e.key===` `&&v(!1)}}),[y,v]);return H.useMemo(()=>l?{reference:b,floating:x}:{},[l,b,x])}function ff(e,t){let[n,r]=e,i=!1,a=t.length;for(let e=0,o=a-1;e<a;o=e++){let[a,s]=t[e]||[0,0],[c,l]=t[o]||[0,0];s>=r!=l>=r&&n<=(c-a)*(r-s)/(l-s)+a&&(i=!i)}return i}function pf(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function mf(e={}){let{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e,i=new Ro,a=!1,o=null,s=null,c=typeof performance<`u`?performance.now():0;function l(e,t){let n=performance.now(),r=n-c;if(o===null||s===null||r===0)return o=e,s=t,c=n,null;let i=e-o,a=t-s,l=Math.sqrt(i*i+a*a)/r;return o=e,s=t,c=n,l}let u=({x:e,y:n,placement:o,elements:s,onClose:c,nodeId:u,tree:d})=>function(f){function p(){i.clear(),c()}if(i.clear(),!s.domReference||!s.floating||o==null||e==null||n==null)return;let{clientX:m,clientY:h}=f,g=[m,h],_=is(f),v=f.type===`mouseleave`,y=rs(s.floating,_),b=rs(s.domReference,_),x=s.domReference.getBoundingClientRect(),S=s.floating.getBoundingClientRect(),C=o.split(`-`)[0],w=e>S.right-S.width/2,T=n>S.bottom-S.height/2,E=pf(g,x),D=S.width>x.width,O=S.height>x.height,k=(D?x:S).left,A=(D?x:S).right,j=(O?x:S).top,M=(O?x:S).bottom;if(y&&(a=!0,!v))return;if(b&&(a=!1),b&&!v){a=!0;return}if(v&&Pa(f.relatedTarget)&&rs(s.floating,f.relatedTarget)||d&&fs(d.nodesRef.current,u).some(({context:e})=>e?.open))return;if(C===`top`&&n>=x.bottom-1||C===`bottom`&&n<=x.top+1||C===`left`&&e>=x.right-1||C===`right`&&e<=x.left+1)return p();let N=[];switch(C){case`top`:N=[[k,x.top+1],[k,S.bottom-1],[A,S.bottom-1],[A,x.top+1]];break;case`bottom`:N=[[k,S.top+1],[k,x.bottom-1],[A,x.bottom-1],[A,S.top+1]];break;case`left`:N=[[S.right-1,M],[S.right-1,j],[x.left+1,j],[x.left+1,M]];break;case`right`:N=[[x.right-1,M],[x.right-1,j],[S.left+1,j],[S.left+1,M]];break;default:}function P([e,n]){switch(C){case`top`:return[[D?e+t/2:w?e+t*4:e-t*4,n+t+1],[D?e-t/2:w?e+t*4:e-t*4,n+t+1],...[[S.left,w||D?S.bottom-t:S.top],[S.right,w?D?S.bottom-t:S.top:S.bottom-t]]];case`bottom`:return[[D?e+t/2:w?e+t*4:e-t*4,n-t],[D?e-t/2:w?e+t*4:e-t*4,n-t],...[[S.left,w||D?S.top+t:S.bottom],[S.right,w?D?S.top+t:S.bottom:S.top+t]]];case`left`:{let r=[e+t+1,O?n+t/2:T?n+t*4:n-t*4],i=[e+t+1,O?n-t/2:T?n+t*4:n-t*4];return[...[[T||O?S.right-t:S.left,S.top],[T?O?S.right-t:S.left:S.right-t,S.bottom]],r,i]}case`right`:return[[e-t,O?n+t/2:T?n+t*4:n-t*4],[e-t,O?n-t/2:T?n+t*4:n-t*4],...[[T||O?S.left+t:S.right,S.top],[T?O?S.left+t:S.right:S.left+t,S.bottom]]];default:return[]}}if(!ff([m,h],N)){if(a&&!E)return p();if(!v&&r){let e=l(f.clientX,f.clientY);if(e!==null&&e<.1)return p()}ff([m,h],P([e,n]))?!a&&r&&i.start(40,p):p()}};return u.__options={blockPointerEvents:n},u}const hf=H.createContext(void 0);function gf(e){let t=H.useContext(hf);if(t===void 0&&!e)throw Error(li(69));return t}const _f=`ArrowUp`,vf=`ArrowDown`,yf=`ArrowLeft`,bf=`ArrowRight`,xf=`Home`,Sf=new Set([yf,bf]),Cf=new Set([_f,vf]),wf=new Set([...Sf,...Cf]);new Set([...wf,xf,`End`]);const Tf=new Set([_f,vf,yf,bf,xf,`End`]);function Ef(e){return e===`starting`?Wi:Ui}var Df={...da,...ta};const Of=H.forwardRef(function(e,t){let{render:n,className:r,finalFocus:i,...a}=e,{store:o}=pi(),{side:s,align:c}=di(),l=gf(!0)!=null,u=o.useState(`open`),d=o.useState(`transitionStatus`),f=o.useState(`popupProps`),p=o.useState(`mounted`),m=o.useState(`instantType`),h=o.useState(`activeTriggerElement`),g=o.useState(`parent`),_=o.useState(`lastOpenChangeReason`),v=o.useState(`rootId`),y=o.useState(`floatingRootContext`),b=o.useState(`floatingTreeRoot`),x=o.useState(`closeDelay`),S=o.useState(`activeTriggerElement`);Fo({open:u,ref:o.context.popupRef,onComplete(){u&&o.context.onOpenChangeComplete?.(!0)}}),H.useEffect(()=>{function e(e){o.setOpen(!1,So(e.reason,e.domEvent))}return b.events.on(`close`,e),()=>{b.events.off(`close`,e)}},[b.events,o]);let C=o.useState(`hoverEnabled`),w=o.useState(`disabled`);qd(y,{enabled:C&&!w&&g.type!==`context-menu`&&g.type!==`menubar`,closeDelay:x});let T=Ji(`div`,e,{state:H.useMemo(()=>({transitionStatus:d,side:s,align:c,open:u,nested:g.type===`menu`,instant:m}),[d,s,c,u,g.type,m]),ref:[t,o.context.popupRef],stateAttributesMapping:Df,props:[f,{onKeyDown(e){l&&Tf.has(e.key)&&e.stopPropagation()}},Ef(d),a,{"data-rootownerid":v}]}),E=g.type===void 0||g.type===`context-menu`;return(h||g.type===`menubar`&&_!==`outside-press`)&&(E=!0),(0,V.jsx)(Fl,{context:y,modal:!1,disabled:!p,returnFocus:i===void 0?E:i,initialFocus:g.type!==`menu`,restoreFocus:!0,externalTree:g.type===`menubar`?void 0:b,previousFocusableElement:S,nextFocusableElement:g.type===void 0?o.context.triggerFocusTargetRef:void 0,beforeContentFocusGuardRef:g.type===void 0?o.context.beforeContentFocusGuardRef:void 0,children:T})}),kf=H.createContext(void 0);function Af(){let e=H.useContext(kf);if(e===void 0)throw Error(li(32));return e}const jf=H.forwardRef(function(e,t){let{keepMounted:n=!1,...r}=e,{store:i}=pi();return i.useState(`mounted`)||n?(0,V.jsx)(kf.Provider,{value:n,children:(0,V.jsx)(Tl,{ref:t,...r})}):null});function Mf(e){return Ci(19)?e:e?`true`:void 0}const Nf=H.createContext(void 0);function Pf(){return H.useContext(Nf)?.direction??`ltr`}const Ff=e=>({name:`arrow`,options:e,async fn(t){let{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:l,padding:u=0,offsetParent:d=`real`}=ks(e,t)||{};if(l==null)return{};let f=Js(u),p={x:n,y:r},m=Is(i),h=Ns(m),g=await o.getDimensions(l),_=m===`y`,v=_?`top`:`left`,y=_?`bottom`:`right`,b=_?`clientHeight`:`clientWidth`,x=a.reference[h]+a.reference[m]-p[m]-a.floating[h],S=p[m]-a.reference[m],C=d===`real`?await o.getOffsetParent?.(l):s.floating,w=s.floating[b]||a.floating[h];(!w||!await o.isElement?.(C))&&(w=s.floating[b]||a.floating[h]);let T=x/2-S/2,E=w/2-g[h]/2-1,D=Math.min(f[v],E),O=Math.min(f[y],E),k=D,A=w-g[h]-O,j=w/2-g[h]/2+T,M=Os(k,j,A),N=!c.arrow&&js(i)!=null&&j!==M&&a.reference[h]/2-(j<k?D:O)-g[h]/2<0,P=N?j<k?j-k:j-A:0;return{[m]:p[m]+P,data:{[m]:M,centerOffset:j-M-P,...N&&{alignmentOffset:P}},reset:N}}}),If=(e,t)=>({...Ff(e),options:[e,t]}),Lf={name:`hide`,async fn(e){let{width:t,height:n,x:r,y:i}=e.rects.reference,a=t===0&&n===0&&r===0&&i===0;return{data:{referenceHidden:(await Yu().fn(e)).data?.referenceHidden||a}}}},Rf={sideX:`left`,sideY:`top`},zf={name:`adaptiveOrigin`,async fn(e){let{x:t,y:n,rects:{floating:r},elements:{floating:i},platform:a,strategy:o,placement:s}=e,c=ja(i),l=c.getComputedStyle(i);if(!(l.transitionDuration!==`0s`&&l.transitionDuration!==``))return{x:t,y:n,data:Rf};let u=await a.getOffsetParent?.(i),d={width:0,height:0};if(o===`fixed`&&c?.visualViewport)d={width:c.visualViewport.width,height:c.visualViewport.height};else if(u===c){let e=sl(i);d={width:e.documentElement.clientWidth,height:e.documentElement.clientHeight}}else await a.isElement?.(u)&&(d=await a.getDimensions(u));let f=As(s),p=t,m=n;f===`left`&&(p=d.width-(t+r.width)),f===`top`&&(m=d.height-(n+r.height));let h=f===`left`?`right`:Rf.sideX,g=f===`top`?`bottom`:Rf.sideY;return{x:p,y:m,data:{sideX:h,sideY:g}}}};function Bf(e,t,n){let r=e===`inline-start`||e===`inline-end`;return{top:`top`,right:r?n?`inline-start`:`inline-end`:`right`,bottom:`bottom`,left:r?n?`inline-end`:`inline-start`:`left`}[t]}function Vf(e,t,n){let{rects:r,placement:i}=e;return{side:Bf(t,As(i),n),align:js(i)||`center`,anchor:{width:r.reference.width,height:r.reference.height},positioner:{width:r.floating.width,height:r.floating.height}}}function Hf(e){let{anchor:t,positionMethod:n=`absolute`,side:r=`bottom`,sideOffset:i=0,align:a=`center`,alignOffset:o=0,collisionBoundary:s,collisionPadding:c=5,sticky:l=!1,arrowPadding:u=5,disableAnchorTracking:d=!1,keepMounted:f=!1,floatingRootContext:p,mounted:m,collisionAvoidance:h,shiftCrossAxis:g=!1,nodeId:_,adaptiveOrigin:v,lazyFlip:y=!1,externalTree:b}=e,[x,S]=H.useState(null);!m&&x!==null&&S(null);let C=h.side||`flip`,w=h.align||`flip`,T=h.fallbackAxisSide||`end`,E=typeof t==`function`?t:void 0,D=U(E),O=E?D:t,k=Ao(t),A=Pf()===`rtl`,j=x||{top:`top`,right:`right`,bottom:`bottom`,left:`left`,"inline-end":A?`left`:`right`,"inline-start":A?`right`:`left`}[r],M=a===`center`?j:`${j}-${a}`,N=c,P=r===`bottom`?1:0,F=r===`top`?1:0,I=r===`right`?1:0,L=r===`left`?1:0;typeof N==`number`?N={top:N+P,right:N+L,bottom:N+F,left:N+I}:N&&={top:(N.top||0)+P,right:(N.right||0)+L,bottom:(N.bottom||0)+F,left:(N.left||0)+I};let R={boundary:s===`clipping-ancestors`?`clippingAncestors`:s,padding:N},ee=H.useRef(null),te=Ao(i),z=Ao(o),ne=[Wu(e=>{let t=Vf(e,r,A),n=typeof te.current==`function`?te.current(t):te.current,i=typeof z.current==`function`?z.current(t):z.current;return{mainAxis:n,crossAxis:i,alignmentAxis:i}},[typeof i==`function`?0:i,typeof o==`function`?0:o,A,r])],re=w===`none`&&C!==`shift`,B=!re&&(l||g||C===`shift`),ie=C===`none`?null:qu({...R,padding:{top:N.top+1,right:N.right+1,bottom:N.bottom+1,left:N.left+1},mainAxis:!g&&C===`flip`,crossAxis:w===`flip`?`alignment`:!1,fallbackAxisSideDirection:T}),ae=re?null:Gu(e=>{let t=sl(e.elements.floating).documentElement;return{...R,rootBoundary:g?{x:0,y:0,width:t.clientWidth,height:t.clientHeight}:void 0,mainAxis:w!==`none`,crossAxis:B,limiter:l||g?void 0:Ku(e=>{if(!ee.current)return{};let{width:t,height:n}=ee.current.getBoundingClientRect(),r=Fs(As(e.placement)),i=r===`y`?t:n,a=r===`y`?N.left+N.right:N.top+N.bottom;return{offset:i/2+a/2}})}},[R,l,g,N,w]);C===`shift`||w===`shift`||a===`center`?ne.push(ae,ie):ne.push(ie,ae),ne.push(Ju({...R,apply({elements:{floating:e},rects:{reference:t},availableWidth:n,availableHeight:r}){Object.entries({"--available-width":`${n}px`,"--available-height":`${r}px`,"--anchor-width":`${t.width}px`,"--anchor-height":`${t.height}px`}).forEach(([t,n])=>{e.style.setProperty(t,n)})}}),If(()=>({element:ee.current||document.createElement(`div`),padding:u,offsetParent:`floating`}),[u]),{name:`transformOrigin`,fn(e){let{elements:t,middlewareData:n,placement:a,rects:o,y:s}=e,c=As(a),l=Fs(c),u=ee.current,d=n.arrow?.x||0,f=n.arrow?.y||0,p=u?.clientWidth||0,m=u?.clientHeight||0,h=d+p/2,g=f+m/2,_=Math.abs(n.shift?.y||0),v=o.reference.height/2,y=typeof i==`function`?i(Vf(e,r,A)):i,b=_>y,x={top:`${h}px calc(100% + ${y}px)`,bottom:`${h}px ${-y}px`,left:`calc(100% + ${y}px) ${g}px`,right:`${-y}px ${g}px`}[c],S=`${h}px ${o.reference.y+v-s}px`;return t.floating.style.setProperty(`--transform-origin`,B&&l===`y`&&b?S:x),{}}},Lf,v),ro(()=>{!m&&p&&p.update({referenceElement:null,floatingElement:null,domReferenceElement:null})},[m,p]);let oe=H.useMemo(()=>({elementResize:!d&&typeof ResizeObserver<`u`,layoutShift:!d&&typeof IntersectionObserver<`u`}),[d]),{refs:se,elements:ce,x:le,y:ue,middlewareData:de,update:fe,placement:pe,context:me,isPositioned:he,floatingStyles:ge}=Rd({rootContext:p,placement:M,middleware:ne,strategy:n,whileElementsMounted:f?void 0:(...e)=>ku(...e,oe),nodeId:_,externalTree:b}),{sideX:_e,sideY:ve}=de.adaptiveOrigin||Rf,ye=he?n:`fixed`,be=H.useMemo(()=>v?{position:ye,[_e]:le,[ve]:ue}:{position:ye,...ge},[v,ye,_e,le,ve,ue,ge]),xe=H.useRef(null);ro(()=>{if(!m)return;let e=k.current,t=typeof e==`function`?e():e,n=(Uf(t)?t.current:t)||null;n!==xe.current&&(se.setPositionReference(n),xe.current=n)},[m,se,O,k]),H.useEffect(()=>{if(!m)return;let e=k.current;typeof e!=`function`&&Uf(e)&&e.current!==xe.current&&(se.setPositionReference(e.current),xe.current=e.current)},[m,se,O,k]),H.useEffect(()=>{if(f&&m&&ce.domReference&&ce.floating)return ku(ce.domReference,ce.floating,fe,oe)},[f,m,ce,fe,oe]);let Se=As(pe),Ce=Bf(r,Se,A),we=js(pe)||`center`,Te=!!de.hide?.referenceHidden;ro(()=>{y&&m&&he&&S(Se)},[y,m,he,Se]);let Ee=H.useMemo(()=>({position:`absolute`,top:de.arrow?.y,left:de.arrow?.x}),[de.arrow]),De=de.arrow?.centerOffset!==0;return H.useMemo(()=>({positionerStyles:be,arrowStyles:Ee,arrowRef:ee,arrowUncentered:De,side:Ce,align:we,physicalSide:Se,anchorHidden:Te,refs:se,context:me,isPositioned:he,update:fe}),[be,Ee,ee,De,Ce,we,Se,Te,se,me,he,fe])}function Uf(e){return e!=null&&`current`in e}function Wf(e){let{children:t,elementsRef:n,labelsRef:r,onMapChange:i}=e,a=U(i),o=H.useRef(0),s=hi(Kf).current,c=hi(Gf).current,[l,u]=H.useState(0),d=H.useRef(l),f=U((e,t)=>{c.set(e,t??null),d.current+=1,u(d.current)}),p=U(e=>{c.delete(e),d.current+=1,u(d.current)}),m=H.useMemo(()=>{let e=new Map;return Array.from(c.keys()).filter(e=>e.isConnected).sort(qf).forEach((t,n)=>{let r=c.get(t)??{};e.set(t,{...r,index:n})}),e},[c,l]);ro(()=>{if(typeof MutationObserver!=`function`||m.size===0)return;let e=new MutationObserver(e=>{let t=new Set,n=e=>t.has(e)?t.delete(e):t.add(e);e.forEach(e=>{e.removedNodes.forEach(n),e.addedNodes.forEach(n)}),t.size===0&&(d.current+=1,u(d.current))});return m.forEach((t,n)=>{n.parentElement&&e.observe(n.parentElement,{childList:!0})}),()=>{e.disconnect()}},[m]),ro(()=>{d.current===l&&(n.current.length!==m.size&&(n.current.length=m.size),r&&r.current.length!==m.size&&(r.current.length=m.size),o.current=m.size),a(m)},[a,m,n,r,l]),ro(()=>()=>{n.current=[]},[n]),ro(()=>()=>{r&&(r.current=[])},[r]);let h=U(e=>(s.add(e),()=>{s.delete(e)}));ro(()=>{s.forEach(e=>e(m))},[s,m]);let g=H.useMemo(()=>({register:f,unregister:p,subscribeMapChange:h,elementsRef:n,labelsRef:r,nextIndexRef:o}),[f,p,h,n,r,o]);return(0,V.jsx)(fo.Provider,{value:g,children:t})}function Gf(){return new Map}function Kf(){return new Set}function qf(e,t){let n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const Jf=H.forwardRef(function(e,t){let{cutout:n,...r}=e,i;if(n){let e=n?.getBoundingClientRect();i=`polygon(
      0% 0%,
      100% 0%,
      100% 100%,
      0% 100%,
      0% 0%,
      ${e.left}px ${e.top}px,
      ${e.left}px ${e.bottom}px,
      ${e.right}px ${e.bottom}px,
      ${e.right}px ${e.top}px,
      ${e.left}px ${e.top}px
    )`}return(0,V.jsx)(`div`,{ref:t,role:`presentation`,"data-base-ui-inert":``,...r,style:{position:`fixed`,inset:0,userSelect:`none`,WebkitUserSelect:`none`,clipPath:i}})}),Yf=H.forwardRef(function(e,t){let{anchor:n,positionMethod:r=`absolute`,className:i,render:a,side:o,align:s,sideOffset:c=0,alignOffset:l=0,collisionBoundary:u=`clipping-ancestors`,collisionPadding:d=5,arrowPadding:f=5,sticky:p=!1,disableAnchorTracking:m=!1,collisionAvoidance:h=Gi,...g}=e,{store:_}=pi(),v=Af(),y=pa(!0),b=_.useState(`parent`),x=_.useState(`floatingRootContext`),S=_.useState(`floatingTreeRoot`),C=_.useState(`mounted`),w=_.useState(`open`),T=_.useState(`modal`),E=_.useState(`activeTriggerElement`),D=_.useState(`lastOpenChangeReason`),O=_.useState(`floatingNodeId`),k=_.useState(`floatingParentNodeId`),A=n,j=c,M=l,N=s,P=h;b.type===`context-menu`&&(A=n??b.context?.anchor,N??=`start`,!o&&N!==`center`&&(M=e.alignOffset??2,j=e.sideOffset??-5));let F=o,I=N;b.type===`menu`?(F??=`inline-end`,I??=`start`,P=e.collisionAvoidance??Ki):b.type===`menubar`&&(F??=`bottom`,I??=`start`);let L=b.type===`context-menu`,R=Hf({anchor:A,floatingRootContext:x,positionMethod:y?`fixed`:r,mounted:C,side:F,sideOffset:j,align:I,alignOffset:M,arrowPadding:L?0:f,collisionBoundary:u,collisionPadding:d,sticky:p,nodeId:O,keepMounted:v,disableAnchorTracking:m,collisionAvoidance:P,shiftCrossAxis:L,externalTree:S}),ee=H.useMemo(()=>{let e={};return w||(e.pointerEvents=`none`),{role:`presentation`,hidden:!C,style:{...R.positionerStyles,...e}}},[w,C,R.positionerStyles]);H.useEffect(()=>{function e(e){e.open?(e.parentNodeId===O&&_.set(`hoverEnabled`,!1),e.nodeId!==O&&e.parentNodeId===_.select(`floatingParentNodeId`)&&_.setOpen(!1,So(Sa))):e.parentNodeId===O&&e.reason!==`sibling-open`&&_.set(`hoverEnabled`,!0)}return S.events.on(`menuopenchange`,e),()=>{S.events.off(`menuopenchange`,e)}},[_,S.events,O]),H.useEffect(()=>{if(_.select(`floatingParentNodeId`)==null)return;function e(e){if(e.open||e.nodeId!==_.select(`floatingParentNodeId`))return;let t=e.reason??`sibling-open`;_.setOpen(!1,So(t))}return S.events.on(`menuopenchange`,e),()=>{S.events.off(`menuopenchange`,e)}},[S.events,_]),H.useEffect(()=>{function e(e){!w||e.nodeId!==_.select(`floatingParentNodeId`)||e.target&&E&&E!==e.target&&_.setOpen(!1,So(Sa))}return S.events.on(`itemhover`,e),()=>{S.events.off(`itemhover`,e)}},[S.events,w,E,_]),H.useEffect(()=>{let e={open:w,nodeId:O,parentNodeId:k,reason:_.select(`lastOpenChangeReason`)};S.events.emit(`menuopenchange`,e)},[S.events,w,_,O,k]);let te=H.useMemo(()=>({open:w,side:R.side,align:R.align,anchorHidden:R.anchorHidden,nested:b.type===`menu`}),[w,R.side,R.align,R.anchorHidden,b.type]),z=H.useMemo(()=>({side:R.side,align:R.align,arrowRef:R.arrowRef,arrowUncentered:R.arrowUncentered,arrowStyles:R.arrowStyles,nodeId:R.context.nodeId}),[R.side,R.align,R.arrowRef,R.arrowUncentered,R.arrowStyles,R.context.nodeId]),ne=Ji(`div`,e,{state:te,stateAttributesMapping:da,ref:[t,_.useStateSetter(`positionerElement`)],props:[ee,g]}),re=C&&b.type!==`menu`&&(b.type!==`menubar`&&T&&D!==`trigger-hover`||b.type===`menubar`&&b.context.modal),B=null;return b.type===`menubar`?B=b.context.contentElement:b.type===void 0&&(B=E),(0,V.jsxs)(ui.Provider,{value:z,children:[re&&(0,V.jsx)(Jf,{ref:b.type===`context-menu`||b.type===`nested-context-menu`?b.context.internalBackdropRef:null,inert:Mf(!w),cutout:B}),(0,V.jsx)($c,{id:O,children:(0,V.jsx)(Wf,{elementsRef:_.context.itemDomElements,labelsRef:_.context.itemLabels,children:ne})})]})});var Xf={},Zf={},Qf=``;function $f(e){if(typeof document>`u`)return!1;let t=sl(e);return ja(t).innerWidth-t.documentElement.clientWidth>0}function ep(e){let t=sl(e),n=t.documentElement,r=t.body,i=Ra(n)?n:r,a=i.style.overflow;return i.style.overflow=`hidden`,()=>{i.style.overflow=a}}function tp(e){let t=sl(e),n=t.documentElement,r=t.body,i=ja(n),a=0,o=0,s=Do.create(),c=typeof CSS<`u`&&CSS.supports?.(`scrollbar-gutter`,`stable`);if(Wo&&(i.visualViewport?.scale??1)!==1)return()=>{};function l(){let e=i.getComputedStyle(n),t=i.getComputedStyle(r),s=(e.scrollbarGutter||``).includes(`both-edges`)?`stable both-edges`:`stable`;a=n.scrollTop,o=n.scrollLeft,Xf={scrollbarGutter:n.style.scrollbarGutter,overflowY:n.style.overflowY,overflowX:n.style.overflowX},Qf=n.style.scrollBehavior,Zf={position:r.style.position,height:r.style.height,width:r.style.width,boxSizing:r.style.boxSizing,overflowY:r.style.overflowY,overflowX:r.style.overflowX,scrollBehavior:r.style.scrollBehavior};let l=n.scrollHeight>n.clientHeight,u=n.scrollWidth>n.clientWidth,d=e.overflowY===`scroll`||t.overflowY===`scroll`,f=e.overflowX===`scroll`||t.overflowX===`scroll`,p=Math.max(0,i.innerWidth-n.clientWidth),m=Math.max(0,i.innerHeight-n.clientHeight),h=parseFloat(t.marginTop)+parseFloat(t.marginBottom),g=parseFloat(t.marginLeft)+parseFloat(t.marginRight),_=Ra(n)?n:r;if(c){n.style.scrollbarGutter=s,_.style.overflowY=`hidden`,_.style.overflowX=`hidden`;return}Object.assign(n.style,{scrollbarGutter:s,overflowY:`hidden`,overflowX:`hidden`}),(l||d)&&(n.style.overflowY=`scroll`),(u||f)&&(n.style.overflowX=`scroll`),Object.assign(r.style,{position:`relative`,height:h||m?`calc(100dvh - ${h+m}px)`:`100dvh`,width:g||p?`calc(100vw - ${g+p}px)`:`100vw`,boxSizing:`border-box`,overflow:`hidden`,scrollBehavior:`unset`}),r.scrollTop=a,r.scrollLeft=o,n.setAttribute(`data-base-ui-scroll-locked`,``),n.style.scrollBehavior=`unset`}function u(){Object.assign(n.style,Xf),Object.assign(r.style,Zf),c||(n.scrollTop=a,n.scrollLeft=o,n.removeAttribute(`data-base-ui-scroll-locked`),n.style.scrollBehavior=Qf)}function d(){u(),s.request(l)}return l(),i.addEventListener(`resize`,d),()=>{s.cancel(),u(),typeof i.removeEventListener==`function`&&i.removeEventListener(`resize`,d)}}var np=new class{lockCount=0;restore=null;timeoutLock=Ro.create();timeoutUnlock=Ro.create();acquire(e){return this.lockCount+=1,this.lockCount===1&&this.restore===null&&this.timeoutLock.start(0,()=>this.lock(e)),this.release}release=()=>{--this.lockCount,this.lockCount===0&&this.restore&&this.timeoutUnlock.start(0,this.unlock)};unlock=()=>{this.lockCount===0&&this.restore&&(this.restore?.(),this.restore=null)};lock(e){if(this.lockCount===0||this.restore!==null)return;let t=sl(e).documentElement,n=ja(t).getComputedStyle(t).overflowY;if(n===`hidden`||n===`clip`){this.restore=Vi;return}this.restore=Go||!$f(e)?ep(e):tp(e)}};function rp(e=!0,t=null){ro(()=>{if(e)return np.acquire(t)},[e,t])}const ip=H.createContext(null);function ap(e){let t=H.useContext(ip);if(t===null&&!e)throw Error(li(5));return t}function op(e){let t=H.useRef(``),n=H.useCallback(n=>{n.defaultPrevented||(t.current=n.pointerType,e(n,n.pointerType))},[e]);return{onClick:H.useCallback(n=>{if(n.detail===0){e(n,`keyboard`);return}`pointerType`in n&&e(n,n.pointerType),e(n,t.current),t.current=``},[e]),onPointerDown:n}}function sp(e){let[t,n]=H.useState(null),r=U((t,r)=>{e||n(r)}),i=H.useCallback(()=>{n(null)},[]),{onClick:a,onPointerDown:o}=op(r);return H.useMemo(()=>({openMethod:t,reset:i,triggerProps:{onClick:a,onPointerDown:o}}),[t,i,a,o])}var cp={...Id,disabled:G(e=>e.parent.type===`menubar`&&e.parent.context.disabled||e.disabled),modal:G(e=>(e.parent.type===void 0||e.parent.type===`context-menu`)&&(e.modal??!0)),allowMouseEnter:G(e=>e.parent.type===`menu`?e.parent.store.select(`allowMouseEnter`):e.allowMouseEnter),stickIfOpen:G(e=>e.stickIfOpen),parent:G(e=>e.parent),rootId:G(e=>e.parent.type===`menu`?e.parent.store.select(`rootId`):e.parent.type===void 0?e.rootId:e.parent.context.rootId),activeIndex:G(e=>e.activeIndex),isActive:G((e,t)=>e.activeIndex===t),hoverEnabled:G(e=>e.hoverEnabled),instantType:G(e=>e.instantType),lastOpenChangeReason:G(e=>e.openChangeReason),floatingTreeRoot:G(e=>e.parent.type===`menu`?e.parent.store.select(`floatingTreeRoot`):e.floatingTreeRoot),floatingNodeId:G(e=>e.floatingNodeId),floatingParentNodeId:G(e=>e.floatingParentNodeId),itemProps:G(e=>e.itemProps),closeDelay:G(e=>e.closeDelay),keyboardEventRelay:G(e=>{if(e.keyboardEventRelay)return e.keyboardEventRelay;if(e.parent.type===`menu`)return e.parent.store.select(`keyboardEventRelay`)})},lp=class e extends Ed{constructor(e){super({...up(),...e},{positionerRef:H.createRef(),popupRef:H.createRef(),typingRef:{current:!1},itemDomElements:{current:[]},itemLabels:{current:[]},allowMouseUpTriggerRef:{current:!1},triggerFocusTargetRef:H.createRef(),beforeContentFocusGuardRef:H.createRef(),onOpenChangeComplete:void 0,triggerElements:new Nd},cp),this.observe(G(e=>e.allowMouseEnter),(e,t)=>{this.state.parent.type===`menu`&&e!==t&&this.state.parent.store.set(`allowMouseEnter`,e)}),this.unsubscribeParentListener=this.observe(`parent`,e=>{if(this.unsubscribeParentListener?.(),e.type===`menu`){this.unsubscribeParentListener=e.store.subscribe(()=>{this.notifyAll()}),this.context.allowMouseUpTriggerRef=e.store.context.allowMouseUpTriggerRef;return}e.type!==void 0&&(this.context.allowMouseUpTriggerRef=e.context.allowMouseUpTriggerRef),this.unsubscribeParentListener=null})}setOpen(e,t){this.state.floatingRootContext.context.events.emit(`setOpen`,{open:e,eventDetails:t})}static useStore(t,n){return hi(()=>t??new e(n)).current}unsubscribeParentListener=null};function up(){return{...Fd(),disabled:!1,modal:!0,allowMouseEnter:!0,stickIfOpen:!0,parent:{type:void 0},rootId:void 0,activeIndex:null,hoverEnabled:!0,instantType:void 0,openChangeReason:null,floatingTreeRoot:new qc,floatingNodeId:void 0,floatingParentNodeId:null,itemProps:Ui,keyboardEventRelay:void 0,closeDelay:0}}const dp=H.createContext(void 0);function fp(){return H.useContext(dp)}var pp=l(h(),1);function mp(e){let{children:t,open:n,onOpenChange:r,onOpenChangeComplete:i,defaultOpen:a=!1,disabled:o=!1,modal:s,loopFocus:c=!0,orientation:l=`vertical`,actionsRef:u,closeParentOnEsc:d=!1,handle:f,triggerId:p,defaultTriggerId:m=null,highlightItemOnHover:h=!0}=e,g=pa(!0),_=pi(!0),v=ap(!0),y=fp(),b=H.useMemo(()=>y&&_?{type:`menu`,store:_.store}:v?{type:`menubar`,context:v}:g&&!_?{type:`context-menu`,context:g}:{type:void 0},[g,_,v,y]),x=lp.useStore(f?.store,{parent:b}),S=x.useState(`floatingTreeRoot`),C=Qc(S),w=Xc();ro(()=>{g&&!_?x.update({parent:{type:`context-menu`,context:g},floatingNodeId:C,floatingParentNodeId:w}):_&&x.update({floatingNodeId:C,floatingParentNodeId:w})},[g,_,C,w,x]),x.useControlledProp(`open`,n,a),x.useControlledProp(`activeTriggerId`,p,m),x.useContextCallback(`onOpenChangeComplete`,i);let T=x.useState(`open`),E=x.useState(`activeTriggerElement`),D=x.useState(`positionerElement`),O=x.useState(`hoverEnabled`),k=x.useState(`modal`),A=x.useState(`disabled`),j=x.useState(`lastOpenChangeReason`),M=x.useState(`parent`),N=x.useState(`activeIndex`),P=x.useState(`payload`),F=x.useState(`floatingParentNodeId`),I=H.useRef(null),L=F!=null,R;x.useSyncedValues({disabled:o,modal:M.type===void 0?s:void 0,rootId:bo()});let{openMethod:ee,triggerProps:te,reset:z}=sp(T);jd(x);let{forceUnmount:ne}=Md(T,x,()=>{x.update({allowMouseEnter:!1,stickIfOpen:!0}),z()}),re=H.useRef(M.type!==`context-menu`),B=zo();H.useEffect(()=>{if(T||(I.current=null),M.type===`context-menu`){if(!T){B.clear(),re.current=!1;return}B.start(500,()=>{re.current=!0})}},[B,T,M.type]),rp(T&&k&&j!==`trigger-hover`&&ee!==`touch`,D),ro(()=>{!T&&!O&&x.set(`hoverEnabled`,!0)},[T,O,x]);let ie=H.useRef(!0),ae=zo(),oe=U((e,t)=>{let n=t.reason;if(T===e&&t.trigger===E||(t.preventUnmountOnClose=()=>{x.set(`preventUnmountingOnClose`,!0)},!e&&t.trigger==null&&(t.trigger=E??void 0),r?.(e,t),t.isCanceled))return;let i={open:e,nativeEvent:t.event,reason:t.reason,nested:L};R?.emit(`openchange`,i);let a=t.event;if(e===!1&&a?.type===`click`&&a.pointerType===`touch`&&!ie.current)return;if(!e&&N!==null){let e=x.context.itemDomElements.current[N];queueMicrotask(()=>{e?.setAttribute(`tabindex`,`-1`)})}e&&n===`trigger-focus`?(ie.current=!1,ae.start(300,()=>{ie.current=!0})):(ie.current=!0,ae.clear());let o=(n===`trigger-press`||n===`item-press`)&&a.detail===0&&a?.isTrusted,s=!e&&(n===`escape-key`||n==null);function c(){let r={open:e,openChangeReason:n};I.current=t.event??null;let i=t.trigger?.id??null;(i||e)&&(r.activeTriggerId=i,r.activeTriggerElement=t.trigger??null),x.update(r)}n===`trigger-hover`?pp.flushSync(c):c(),M.type===`menubar`&&(n===`trigger-focus`||n===`focus-out`||n===`trigger-hover`||n===`list-navigation`||n===`sibling-open`)?x.set(`instantType`,`group`):o||s?x.set(`instantType`,o?`click`:`dismiss`):x.set(`instantType`,void 0)}),se=H.useCallback(e=>{let t=So(e);return t.preventUnmountOnClose=()=>{x.set(`preventUnmountingOnClose`,!0)},t},[x]),ce=H.useCallback(()=>{x.setOpen(!1,se(Ca))},[x,se]);H.useImperativeHandle(u,()=>({unmount:ne,close:ce}),[ne,ce]);let le;M.type===`context-menu`&&(le=M.context),H.useImperativeHandle(le?.positionerRef,()=>D,[D]),H.useImperativeHandle(le?.actionsRef,()=>({setOpen:oe}),[oe]);let ue=zd({popupStore:x,onOpenChange:oe});R=ue.context.events,H.useEffect(()=>{let e=({open:e,eventDetails:t})=>oe(e,t);return R.on(`setOpen`,e),()=>{R?.off(`setOpen`,e)}},[R,oe]);let de=Qu(ue,{enabled:!A,bubbles:d&&M.type===`menu`,outsidePress(){return M.type!==`context-menu`||I.current?.type===`contextmenu`?!0:re.current},externalTree:L?S:void 0}),fe=uf(ue,{role:`menu`}),pe=Pf(),me=H.useCallback(e=>{x.select(`activeIndex`)!==e&&x.set(`activeIndex`,e)},[x]),he=cf(ue,{enabled:!A,listRef:x.context.itemDomElements,activeIndex:N,nested:M.type!==void 0,loopFocus:c,orientation:l,parentOrientation:M.type===`menubar`?M.context.orientation:void 0,rtl:pe===`rtl`,disabledIndices:Hi,onNavigate:me,openOnArrowKeyDown:M.type!==`context-menu`,externalTree:L?S:void 0,focusItemOnHover:h}),ge=H.useCallback(e=>{x.context.typingRef.current=e},[x]),{getReferenceProps:_e,getFloatingProps:ve,getItemProps:ye,getTriggerProps:be}=$d([de,fe,he,df(ue,{listRef:x.context.itemLabels,activeIndex:N,resetMs:500,onMatch:e=>{T&&e!==N&&x.set(`activeIndex`,e)},onTypingChange:ge})]),xe=H.useMemo(()=>{let e=Ai(_e(),{onMouseEnter(){x.set(`hoverEnabled`,!0)},onMouseMove(){x.set(`allowMouseEnter`,!0)}},te);return delete e.role,e},[_e,x,te]),Se=H.useMemo(()=>{let e=be();if(!e)return e;let t=Ai(e,te);return delete t.role,delete t[`aria-controls`],t},[be,te]),Ce=Oo(),we=H.useMemo(()=>ve({onMouseEnter(){M.type===`menu`&&Ce.request(()=>x.set(`hoverEnabled`,!1))},onMouseMove(){x.set(`allowMouseEnter`,!0)},onClick(){x.select(`hoverEnabled`)&&x.set(`hoverEnabled`,!1)},onKeyDown(e){let t=x.select(`keyboardEventRelay`);t&&!e.isPropagationStopped()&&t(e)}}),[ve,M.type,Ce,x]),Te=H.useMemo(()=>ye(),[ye]);x.useSyncedValues({floatingRootContext:ue,activeTriggerProps:xe,inactiveTriggerProps:Se,popupProps:we,itemProps:Te});let Ee=H.useMemo(()=>({store:x,parent:b}),[x,b]),De=(0,V.jsx)(fi.Provider,{value:Ee,children:typeof t==`function`?t({payload:P}):t});return M.type===void 0||M.type===`context-menu`?(0,V.jsx)(el,{externalTree:S,children:De}):De}function hp(e){let t=e.getBoundingClientRect(),n=window.getComputedStyle(e,`::before`),r=window.getComputedStyle(e,`::after`);if(!(n.content!==`none`||r.content!==`none`))return t;let i=parseFloat(n.width)||0,a=parseFloat(n.height)||0,o=parseFloat(r.width)||0,s=parseFloat(r.height)||0,c=Math.max(t.width,i,o),l=Math.max(t.height,a,s),u=c-t.width,d=l-t.height;return{left:t.left-u/2,right:t.right+u/2,top:t.top-d/2,bottom:t.bottom+d/2}}function gp(e={}){let{highlightItemOnHover:t,highlightedIndex:n,onHighlightedIndexChange:r}=ao(),{ref:i,index:a}=ho(e),o=n===a,s=H.useRef(null),c=gi(i,s);return{compositeProps:H.useMemo(()=>({tabIndex:o?0:-1,onFocus(){r(a)},onMouseMove(){let e=s.current;if(!t||!e)return;let n=e.hasAttribute(`disabled`)||e.ariaDisabled===`true`;!o&&!n&&e.focus()}}),[o,r,a,t]),compositeRef:c,index:a}}function _p(e){let{render:t,className:n,state:r=Ui,props:i=Hi,refs:a=Hi,metadata:o,stateAttributesMapping:s,tag:c=`div`,...l}=e,{compositeProps:u,compositeRef:d}=gp({metadata:o});return Ji(c,e,{state:r,ref:[...a,d],props:[u,...i,l],stateAttributesMapping:s})}function vp(e){if(Fa(e)&&e.hasAttribute(`data-rootownerid`))return e.getAttribute(`data-rootownerid`)??void 0;if(!Xa(e))return vp($a(e))}function yp(e){let{enabled:t=!0,mouseDownAction:n,open:r}=e,i=H.useRef(!1);return H.useMemo(()=>t?{onMouseDown:e=>{(n===`open`&&!r||n===`close`&&r)&&(i.current=!0,sl(e.currentTarget).addEventListener(`click`,()=>{i.current=!1},{once:!0}))},onClick:e=>{i.current&&(i.current=!1,e.preventBaseUIHandler())}}:Ui,[t,n,r])}var bp=l(h(),1),xp=2;const Sp=H.forwardRef(function(e,t){let{render:n,className:r,disabled:i=!1,nativeButton:a=!0,id:o,openOnHover:s,delay:c=100,closeDelay:l=0,handle:u,payload:d,...f}=e,p=pi(!0),m=u?.store??p?.store;if(!m)throw Error(li(85));let h=xo(o),g=m.useState(`isTriggerActive`,h),_=m.useState(`floatingRootContext`),v=m.useState(`isOpenedByTrigger`,h),y=H.useRef(null),b=wp(),x=ao(!0),S=Zc(),C=H.useMemo(()=>S??new qc,[S]),{registerTrigger:w,isMountedByThisTrigger:T}=Ad(h,y,m,{payload:d,closeDelay:l,parent:b,floatingTreeRoot:C,floatingNodeId:Qc(C),floatingParentNodeId:Xc(),keyboardEventRelay:x?.relayKeyboardEvent}),E=m.useState(`disabled`),D=i||E||b.type===`menubar`&&b.context.disabled,{getButtonProps:O,buttonRef:k}=so({disabled:D,native:a});H.useEffect(()=>{!v&&b.type===void 0&&(m.context.allowMouseUpTriggerRef.current=!1)},[m,v,b.type]);let A=H.useRef(null),j=zo(),M=U(e=>{if(!A.current)return;j.clear(),m.context.allowMouseUpTriggerRef.current=!1;let t=e.target;if(rs(A.current,t)||rs(m.select(`positionerElement`),t)||t===A.current||t!=null&&vp(t)===m.select(`rootId`))return;let n=hp(A.current);e.clientX>=n.left-xp&&e.clientX<=n.right+xp&&e.clientY>=n.top-xp&&e.clientY<=n.bottom+xp||C.events.emit(`close`,{domEvent:e,reason:xa})});H.useEffect(()=>{v&&m.select(`lastOpenChangeReason`)===`trigger-hover`&&sl(A.current).addEventListener(`mouseup`,M,{once:!0})},[v,M,m]);let N=b.type===`menubar`&&b.context.hasSubmenuOpen,P=Qd(_,{enabled:(s??N??!1)&&!D&&b.type!==`context-menu`&&(b.type!==`menubar`||N&&!T),handleClose:mf({blockPointerEvents:b.type!==`menubar`}),mouseOnly:!0,move:!1,restMs:b.type===void 0?c:void 0,delay:{close:l},triggerElementRef:y,externalTree:C,isActiveTrigger:g}),F=Cp(v,m.select(`lastOpenChangeReason`)),I=Il(_,{enabled:!D&&b.type!==`context-menu`,event:v&&b.type===`menubar`?`click`:`mousedown`,toggle:!0,ignoreMouse:!1,stickIfOpen:b.type===void 0?F:!1}),L=Vd(_,{enabled:!D&&(b.type!==`menubar`&&v||N)}),R=yp({open:v,enabled:b.type===`menubar`,mouseDownAction:`open`}),ee=$d([I,L]),te=b.type===`menubar`,z=H.useMemo(()=>({disabled:D,open:v}),[D,v]),ne=m.useState(`triggerProps`,T),re=[A,t,k,w,y],B=[ee.getReferenceProps(),P??Ui,ne,{"aria-haspopup":`menu`,id:h,onMouseDown:e=>{m.select(`open`)||(j.start(200,()=>{m.context.allowMouseUpTriggerRef.current=!0}),sl(e.currentTarget).addEventListener(`mouseup`,M,{once:!0}))}},te?{role:`menuitem`}:{},R,f,O],ie=H.useRef(null),ae=U(e=>{bp.flushSync(()=>{m.setOpen(!1,So(ya,e.nativeEvent,e.currentTarget))}),Hc(ie.current)?.focus()}),oe=U(e=>{let t=m.select(`positionerElement`);if(t&&Uc(e,t))m.context.beforeContentFocusGuardRef.current?.focus();else{bp.flushSync(()=>{m.setOpen(!1,So(ya,e.nativeEvent,e.currentTarget))});let n=Vc(y.current);for(;n!==null&&rs(t,n)||n?.hasAttribute(`aria-hidden`);){let e=n;if(n=Rc(n),n===e)break}n?.focus()}}),se=Ji(`button`,e,{enabled:!te,stateAttributesMapping:ua,state:z,ref:re,props:B});return te?(0,V.jsx)(_p,{tag:`button`,render:n,className:r,state:z,refs:re,props:B,stateAttributesMapping:ua}):v?(0,V.jsxs)(H.Fragment,{children:[(0,V.jsx)(cl,{ref:ie,onFocus:ae},`${h}-pre-focus-guard`),(0,V.jsx)(H.Fragment,{children:se},h),(0,V.jsx)(cl,{ref:m.context.triggerFocusTargetRef,onFocus:oe},`${h}-post-focus-guard`)]}):(0,V.jsx)(H.Fragment,{children:se},h)});function Cp(e,t){let n=zo(),[r,i]=H.useState(!1);return ro(()=>{e&&t===`trigger-hover`?(i(!0),n.start(500,()=>{i(!1)})):e||(n.clear(),i(!1))},[e,t,n]),r}function wp(){let e=pa(!0),t=pi(!0),n=ap(!0);return H.useMemo(()=>n?{type:`menubar`,context:n}:e&&!t?{type:`context-menu`,context:e}:{type:void 0},[e,t,n])}const Tp=H.forwardRef(function(e,t){let{className:n,render:r,orientation:i=`horizontal`,...a}=e;return Ji(`div`,e,{state:H.useMemo(()=>({orientation:i}),[i]),ref:t,props:[{role:`separator`,"aria-orientation":i},a]})});var Ep=br();const Dp=H.forwardRef((e,t)=>{let n=(0,Ep.c)(34),r,i,a,o,s,c,l,u,d;n[0]===e?(r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],c=n[6],l=n[7],u=n[8],d=n[9]):({variant:c,size:l,isLoading:u,leftIcon:a,rightIcon:s,children:r,className:d,disabled:i,...o}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=a,n[4]=o,n[5]=s,n[6]=c,n[7]=l,n[8]=u,n[9]=d);let f=c===void 0?`secondary`:c,p=l===void 0?`md`:l,m=u===void 0?!1:u,h=d===void 0?``:d,g=`btn-${f}`,_=`btn-${p}`,v=m?`btn-loading`:``,y;n[10]!==h||n[11]!==g||n[12]!==_||n[13]!==v?(y=[`btn`,g,_,v,h].filter(Boolean),n[10]=h,n[11]=g,n[12]=_,n[13]=v,n[14]=y):y=n[14];let b=y.join(` `),x=i||m,S;n[15]===m?S=n[16]:(S=m&&(0,V.jsx)(`span`,{className:`btn-spinner`}),n[15]=m,n[16]=S);let C;n[17]!==m||n[18]!==a?(C=!m&&a&&(0,V.jsx)(`span`,{className:`btn-icon btn-icon-left`,children:a}),n[17]=m,n[18]=a,n[19]=C):C=n[19];let w;n[20]===r?w=n[21]:(w=r&&(0,V.jsx)(`span`,{className:`btn-content`,children:r}),n[20]=r,n[21]=w);let T;n[22]!==m||n[23]!==s?(T=!m&&s&&(0,V.jsx)(`span`,{className:`btn-icon btn-icon-right`,children:s}),n[22]=m,n[23]=s,n[24]=T):T=n[24];let E;return n[25]!==b||n[26]!==o||n[27]!==t||n[28]!==S||n[29]!==C||n[30]!==w||n[31]!==T||n[32]!==x?(E=(0,V.jsxs)(`button`,{ref:t,className:b,disabled:x,...o,children:[S,C,w,T]}),n[25]=b,n[26]=o,n[27]=t,n[28]=S,n[29]=C,n[30]=w,n[31]=T,n[32]=x,n[33]=E):E=n[33],E});Dp.displayName=`Button`;let Op=function(e){return e.disabled=`data-disabled`,e.valid=`data-valid`,e.invalid=`data-invalid`,e.touched=`data-touched`,e.dirty=`data-dirty`,e.filled=`data-filled`,e.focused=`data-focused`,e}({});const kp={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:null,valueMissing:!1},Ap={valid(e){return e===null?null:e?{[Op.valid]:``}:{[Op.invalid]:``}}},jp=H.createContext({invalid:void 0,name:void 0,validityData:{state:kp,errors:[],error:``,value:``,initialValue:null},setValidityData:Vi,disabled:void 0,touched:!1,setTouched:Vi,dirty:!1,setDirty:Vi,filled:!1,setFilled:Vi,focused:!1,setFocused:Vi,validate:()=>null,validationMode:`onSubmit`,validationDebounceTime:0,shouldValidateOnChange:()=>!1,state:{disabled:!1,valid:null,touched:!1,dirty:!1,filled:!1,focused:!1},markedDirtyRef:{current:!1},validation:{getValidationProps:(e=Ui)=>e,getInputValidationProps:(e=Ui)=>e,inputRef:{current:null},commit:async()=>{}}});function Mp(e=!0){let t=H.useContext(jp);if(t.setValidityData===Vi&&!e)throw Error(li(28));return t}const Np=H.createContext({legendId:void 0,setLegendId:()=>{},disabled:void 0});function Pp(e=!1){let t=H.useContext(Np);if(!t&&!e)throw Error(li(86));return t}const Fp=H.createContext({formRef:{current:{fields:new Map}},errors:{},clearErrors:Vi,validationMode:`onSubmit`,submitAttemptedRef:{current:!1}});function Ip(){return H.useContext(Fp)}const Lp=H.createContext({controlId:void 0,setControlId:Vi,labelId:void 0,setLabelId:Vi,messageIds:[],setMessageIds:Vi,getDescriptionProps:e=>e});function Rp(){return H.useContext(Lp)}const zp=function(e){let t=xo(),[n,r]=H.useState(e.initialControlId===void 0?t:e.initialControlId),[i,a]=H.useState(void 0),[o,s]=H.useState([]),{messageIds:c}=Rp(),l=H.useCallback(e=>Ai({"aria-describedby":c.concat(o).join(` `)||void 0},e),[c,o]),u=H.useMemo(()=>({controlId:n,setControlId:r,labelId:i,setLabelId:a,messageIds:o,setMessageIds:s,getDescriptionProps:l}),[n,r,i,a,o,s,l]);return(0,V.jsx)(Lp.Provider,{value:u,children:e.children})};function Bp(e,t){return{...e,state:{...e.state,valid:!t&&e.state.valid}}}var Vp=Object.keys(kp);function Hp(e){if(!e||e.valid||!e.valueMissing)return!1;let t=!1;for(let n of Vp)n!==`valid`&&(n===`valueMissing`&&(t=e[n]),e[n]&&(t=!1));return t}function Up(e){let{formRef:t,clearErrors:n}=Ip(),{setValidityData:r,validate:i,validityData:a,validationDebounceTime:o,invalid:s,markedDirtyRef:c,state:l,name:u,shouldValidateOnChange:d}=e,{controlId:f,getDescriptionProps:p}=Rp(),m=zo(),h=H.useRef(null),g=U(async(e,n=!1)=>{let o=h.current;if(!o)return;if(n){if(l.valid!==!1)return;let n=o.validity;if(!n.valueMissing){let n={value:e,state:{...kp,valid:!0},error:``,errors:[],initialValue:a.initialValue};if(o.setCustomValidity(``),f){let e=t.current.fields.get(f);e&&t.current.fields.set(f,{...e,...Bp(n,!1)})}r(n);return}let i=Vp.reduce((e,t)=>(e[t]=n[t],e),{});if(!i.valid&&!Hp(i))return}function u(e){let t=Vp.reduce((t,n)=>(t[n]=e.validity[n],t),{}),n=!1;for(let e of Vp)if(e!==`valid`){if(e===`valueMissing`&&t[e])n=!0;else if(t[e])return t}return n&&!c.current&&(t.valid=!0,t.valueMissing=!1),t}m.clear();let p=null,g=[],_=u(o),v,y=d();if(o.validationMessage&&!y)v=o.validationMessage,g=[o.validationMessage];else{let n=i(e,Array.from(t.current.fields.values()).reduce((e,t)=>(t.name&&(e[t.name]=t.getValue()),e),{}));p=typeof n==`object`&&n&&`then`in n?await n:n,p===null?y&&(o.setCustomValidity(``),_.customError=!1,o.validationMessage?(v=o.validationMessage,g=[o.validationMessage]):o.validity.valid&&!_.valid&&(_.valid=!0)):(_.valid=!1,_.customError=!0,Array.isArray(p)?(g=p,o.setCustomValidity(p.join(`
`))):p&&(g=[p],o.setCustomValidity(p)))}let b={value:e,state:_,error:v??(Array.isArray(p)?p[0]:p??``),errors:g,initialValue:a.initialValue};if(f){let e=t.current.fields.get(f);e&&t.current.fields.set(f,{...e,...Bp(b,s)})}r(b)}),_=H.useCallback((e={})=>Ai(p,l.valid===!1?{"aria-invalid":!0}:Ui,e),[p,l.valid]),v=H.useCallback((e={})=>Ai({onChange(e){if(e.nativeEvent.defaultPrevented)return;if(n(u),!d()){g(e.currentTarget.value,!0);return}if(s)return;let t=e.currentTarget;if(t.value===``){g(t.value);return}m.clear(),o?m.start(o,()=>{g(t.value)}):g(t.value)}},_(e)),[_,n,u,m,g,s,o,d]);return H.useMemo(()=>({getValidationProps:_,getInputValidationProps:v,inputRef:h,commit:g}),[_,v,g])}var Wp=H.forwardRef(function(e,t){let{errors:n,validationMode:r,submitAttemptedRef:i}=Ip(),{render:a,className:o,validate:s,validationDebounceTime:c=0,validationMode:l=r,name:u,disabled:d=!1,invalid:f,dirty:p,touched:m,...h}=e,{disabled:g}=Pp(),_=U(s||(()=>null)),v=g||d,[y,b]=H.useState(!1),[x,S]=H.useState(!1),[C,w]=H.useState(!1),[T,E]=H.useState(!1),D=p??x,O=m??y,k=H.useRef(!1),A=U(e=>{p===void 0&&(e&&(k.current=!0),S(e))}),j=U(e=>{m===void 0&&b(e)}),M=U(()=>l===`onChange`||l===`onSubmit`&&i.current),N=!!(f||u&&{}.hasOwnProperty.call(n,u)&&n[u]!==void 0),[P,F]=H.useState({state:kp,error:``,errors:[],value:null,initialValue:null}),I=!N&&P.state.valid,L=H.useMemo(()=>({disabled:v,touched:O,dirty:D,valid:I,filled:C,focused:T}),[v,O,D,I,C,T]),R=Up({setValidityData:F,validate:_,validityData:P,validationDebounceTime:c,invalid:N,markedDirtyRef:k,state:L,name:u,shouldValidateOnChange:M}),ee=H.useMemo(()=>({invalid:N,name:u,validityData:P,setValidityData:F,disabled:v,touched:O,setTouched:j,dirty:D,setDirty:A,filled:C,setFilled:w,focused:T,setFocused:E,validate:_,validationMode:l,validationDebounceTime:c,shouldValidateOnChange:M,state:L,markedDirtyRef:k,validation:R}),[N,u,P,v,O,j,D,A,C,w,T,E,_,l,c,M,L,R]),te=Ji(`div`,e,{ref:t,state:L,props:h,stateAttributesMapping:Ap});return(0,V.jsx)(jp.Provider,{value:ee,children:te})});const Gp=H.forwardRef(function(e,t){return(0,V.jsx)(zp,{children:(0,V.jsx)(Wp,{...e,ref:t})})}),Kp=H.forwardRef(function(e,t){let{render:n,className:r,id:i,...a}=e,o=Mp(!1),{controlId:s,setLabelId:c,labelId:l}=Rp(),u=xo(i),d=H.useRef(null);return ro(()=>(u&&c(u),()=>{c(void 0)}),[u,c]),Ji(`label`,e,{ref:[t,d],state:o.state,props:[{id:l,htmlFor:s??void 0,onMouseDown(e){is(e.nativeEvent)?.closest(`button,input,select,textarea`)||!e.defaultPrevented&&e.detail>1&&e.preventDefault()}},a],stateAttributesMapping:Ap})}),qp=H.forwardRef(function(e,t){let{render:n,id:r,className:i,match:a,...o}=e,s=xo(r),{validityData:c,state:l,name:u}=Mp(!1),{setMessageIds:d}=Rp(),{errors:f}=Ip(),p=u?f[u]:null,m=!1;m=p||a===!0?!0:a?!!c.state[a]:c.state.valid===!1,ro(()=>{if(!(!m||!s))return d(e=>e.concat(s)),()=>{d(e=>e.filter(e=>e!==s))}},[m,s,d]);let h=Ji(`div`,e,{ref:t,state:l,props:[{id:s,children:p||(c.errors.length>1?H.createElement(`ul`,{},c.errors.map(e=>H.createElement(`li`,{key:e},e))):c.error)},o],stateAttributesMapping:Ap});return m?h:null});function Jp(e={}){let{id:t,implicit:n=!1,controlRef:r}=e,{controlId:i,setControlId:a}=Rp(),o=xo(t);return ro(()=>{if(!(!n&&!t||a===Vi)){if(n){let e=r?.current;Pa(e)&&e.closest(`label`)!=null?a(t??null):a(i??o)}else t&&a(t);return()=>{t&&a(void 0)}}},[t,r,i,a,n,o]),i??o}var eee=l(h(),1);function Yp(e){let{enabled:t=!0,value:n,id:r,name:i,controlRef:a,commit:o}=e,{formRef:s}=Ip(),{invalid:c,markedDirtyRef:l,validityData:u,setValidityData:d}=Mp(),f=U(e.getValue);ro(()=>{if(!t)return;let e=n;e===void 0&&(e=f()),u.initialValue===null&&e!==null&&d(t=>({...t,initialValue:e}))},[t,d,n,u.initialValue,f]),ro(()=>{!t||!r||s.current.fields.set(r,{getValue:f,name:i,controlRef:a,validityData:Bp(u,c),validate(){let e=n;e===void 0&&(e=f()),l.current=!0,eee.flushSync(()=>o(e))}})},[o,a,t,s,f,r,c,l,i,u,n]),ro(()=>{let e=s.current.fields;return()=>{r&&e.delete(r)}},[s,r])}const tee=H.forwardRef(function(e,t){let{render:n,className:r,id:i,name:a,value:o,disabled:s=!1,onValueChange:c,defaultValue:l,...u}=e,{state:d,name:f,disabled:p}=Mp(),m=p||s,h=f??a,g=H.useMemo(()=>({...d,disabled:m}),[d,m]),{setTouched:_,setDirty:v,validityData:y,setFocused:b,setFilled:x,validationMode:S,validation:C}=Mp(),{labelId:w}=Rp(),T=Jp({id:i});ro(()=>{let e=o!=null;C.inputRef.current?.value||e&&o!==``?x(!0):e&&o===``&&x(!1)},[C.inputRef,x,o]);let[E,D]=Oa({controlled:o,default:l,name:`FieldControl`,state:`value`}),O=o!==void 0,k=U((e,t)=>{c?.(e,t),!t.isCanceled&&D(e)});return Yp({id:T,name:h,commit:C.commit,value:E,getValue:()=>C.inputRef.current?.value,controlRef:C.inputRef}),Ji(`input`,e,{ref:t,state:g,props:[{id:T,disabled:m,name:h,ref:C.inputRef,"aria-labelledby":w,...O?{value:E}:{defaultValue:l},onChange(e){let t=e.currentTarget.value;k(t,So(ma,e.nativeEvent)),v(t!==y.initialValue),x(t!==``)},onFocus(){b(!0)},onBlur(e){_(!0),b(!1),S===`onBlur`&&C.commit(e.currentTarget.value)},onKeyDown(e){e.currentTarget.tagName===`INPUT`&&e.key===`Enter`&&(_(!0),C.commit(e.currentTarget.value))}},C.getInputValidationProps(),u],stateAttributesMapping:Ap})});var nee=br();const Xp=H.forwardRef((e,t)=>{let n=(0,nee.c)(37),r,i,a,o,s,c,l,u,d;n[0]===e?(r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],c=n[6],l=n[7],u=n[8],d=n[9]):({label:a,error:r,leftIcon:o,rightIcon:l,rightElement:c,fullWidth:u,className:d,id:i,...s}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=a,n[4]=o,n[5]=s,n[6]=c,n[7]=l,n[8]=u,n[9]=d);let f=u===void 0?!0:u,p=d===void 0?``:d,m=(0,H.useId)(),h=i||s.name||m,g=`form-field ${f?`full-width`:``} ${p}`,_;n[10]!==h||n[11]!==a?(_=a&&(0,V.jsx)(Kp,{htmlFor:h,className:`form-label`,children:a}),n[10]=h,n[11]=a,n[12]=_):_=n[12];let v=`input-wrapper ${r?`has-error`:``}`,y;n[13]===o?y=n[14]:(y=o&&(0,V.jsx)(`span`,{className:`input-icon input-icon-left`,children:o}),n[13]=o,n[14]=y);let b=`form-input ${o?`has-left-icon`:``} ${l||c?`has-right-icon`:``}`,x;n[15]!==h||n[16]!==s||n[17]!==t||n[18]!==b?(x=(0,V.jsx)(tee,{ref:t,id:h,className:b,...s}),n[15]=h,n[16]=s,n[17]=t,n[18]=b,n[19]=x):x=n[19];let S;n[20]===l?S=n[21]:(S=l&&(0,V.jsx)(`span`,{className:`input-icon input-icon-right`,children:l}),n[20]=l,n[21]=S);let C;n[22]===c?C=n[23]:(C=c&&(0,V.jsx)(`span`,{className:`input-element-right`,children:c}),n[22]=c,n[23]=C);let w;n[24]!==C||n[25]!==v||n[26]!==y||n[27]!==x||n[28]!==S?(w=(0,V.jsxs)(`div`,{className:v,children:[y,x,S,C]}),n[24]=C,n[25]=v,n[26]=y,n[27]=x,n[28]=S,n[29]=w):w=n[29];let T;n[30]===r?T=n[31]:(T=r&&(0,V.jsx)(qp,{className:`form-error`,children:r}),n[30]=r,n[31]=T);let E;return n[32]!==w||n[33]!==T||n[34]!==g||n[35]!==_?(E=(0,V.jsxs)(Gp,{className:g,children:[_,w,T]}),n[32]=w,n[33]=T,n[34]=g,n[35]=_,n[36]=E):E=n[36],E});Xp.displayName=`Input`,br();function ree(e){let t=H.useRef(!0);t.current&&(t.current=!1,e())}const Zp=H.createContext(null),Qp=H.createContext(null);function $p(){let e=H.useContext(Zp);if(e===null)throw Error(li(60));return e}function em(){let e=H.useContext(Qp);if(e===null)throw Error(li(61));return e}const iee=(e,t)=>Object.is(e,t);function tm(e,t,n){return e==null||t==null?Object.is(e,t):n(e,t)}function nm(e,t,n){return!e||e.length===0?!1:e.some(e=>e===void 0?!1:tm(e,t,n))}function rm(e,t,n){return!e||e.length===0?-1:e.findIndex(e=>e===void 0?!1:tm(e,t,n))}function aee(e,t,n){return e.filter(e=>!tm(e,t,n))}function im(e){if(e==null)return``;if(typeof e==`string`)return e;try{return JSON.stringify(e)}catch{return String(e)}}function oee(e){return e!=null&&e.length>0&&typeof e[0]==`object`&&e[0]!=null&&`items`in e[0]}function am(e,t){if(t&&e!=null)return t(e)??``;if(e&&typeof e==`object`){if(`label`in e&&e.label!=null)return String(e.label);if(`value`in e)return String(e.value)}return im(e)}function om(e,t){return t&&e!=null?t(e)??``:e&&typeof e==`object`&&`value`in e&&`label`in e?im(e.value):im(e)}function see(e,t,n){if(n&&e!=null)return n(e);if(e&&typeof e==`object`&&`label`in e&&e.label!=null)return e.label;if(t&&!Array.isArray(t))return t[e]??am(e,n);if(Array.isArray(t)){let r=oee(t)?t.flatMap(e=>e.items):t;if(e==null){let t=r.find(e=>e.value==null);return t&&t.label!=null?t.label:am(e,n)}if(typeof e!=`object`){let t=r.find(t=>t&&t.value===e);return t&&t.label!=null?t.label:am(e,n)}if(`value`in e){let t=r.find(t=>t&&t.value===e.value);if(t&&t.label!=null)return t.label}}return am(e,n)}function cee(e,t){return!Array.isArray(e)||e.length===0?``:e.map(e=>am(e,t)).join(`, `)}const sm={id:G(e=>e.id),modal:G(e=>e.modal),multiple:G(e=>e.multiple),items:G(e=>e.items),itemToStringLabel:G(e=>e.itemToStringLabel),itemToStringValue:G(e=>e.itemToStringValue),isItemEqualToValue:G(e=>e.isItemEqualToValue),value:G(e=>e.value),open:G(e=>e.open),mounted:G(e=>e.mounted),forceMount:G(e=>e.forceMount),transitionStatus:G(e=>e.transitionStatus),openMethod:G(e=>e.openMethod),activeIndex:G(e=>e.activeIndex),selectedIndex:G(e=>e.selectedIndex),isActive:G((e,t)=>e.activeIndex===t),isSelected:G((e,t,n)=>{let r=e.isItemEqualToValue,i=e.value;return e.multiple?Array.isArray(i)&&i.some(e=>tm(e,n,r)):e.selectedIndex===t&&e.selectedIndex!==null?!0:tm(i,n,r)}),isSelectedByFocus:G((e,t)=>e.selectedIndex===t),popupProps:G(e=>e.popupProps),triggerProps:G(e=>e.triggerProps),triggerElement:G(e=>e.triggerElement),positionerElement:G(e=>e.positionerElement),listElement:G(e=>e.listElement),scrollUpArrowVisible:G(e=>e.scrollUpArrowVisible),scrollDownArrowVisible:G(e=>e.scrollDownArrowVisible),hasScrollArrows:G(e=>e.hasScrollArrows),serializedValue:G(e=>{let{multiple:t,value:n,itemToStringValue:r}=e;return t&&Array.isArray(n)&&n.length===0?``:om(n,r)})};function cm(e,t){let n=H.useRef(e),r=U(t);ro(()=>{n.current!==e&&r(n.current)},[e,r]),ro(()=>{n.current=e},[e])}function lm(e){let{id:t,value:n,defaultValue:r=null,onValueChange:i,open:a,defaultOpen:o=!1,onOpenChange:s,name:c,disabled:l=!1,readOnly:u=!1,required:d=!1,modal:f=!0,actionsRef:p,inputRef:m,onOpenChangeComplete:h,items:g,multiple:_=!1,itemToStringLabel:v,itemToStringValue:y,isItemEqualToValue:b=iee,highlightItemOnHover:x=!0,children:S}=e,{clearErrors:C}=Ip(),{setDirty:w,shouldValidateOnChange:T,validityData:E,setFilled:D,name:O,disabled:k,validation:A}=Mp(),{controlId:j}=Rp(),M=Jp({id:t}),N=k||l,P=O??c,[F,I]=Oa({controlled:n,default:_?r??Hi:r,name:`Select`,state:`value`}),[L,R]=Oa({controlled:a,default:o,name:`Select`,state:`open`}),ee=H.useRef([]),te=H.useRef([]),z=H.useRef(null),ne=H.useRef(null),re=H.useRef(0),B=H.useRef(null),ie=H.useRef([]),ae=H.useRef(!1),oe=H.useRef(!1),se=H.useRef(null),ce=H.useRef({allowSelectedMouseUp:!1,allowUnselectedMouseUp:!1}),le=H.useRef(!1),{mounted:ue,setMounted:de,transitionStatus:fe}=ko(L),{openMethod:pe,triggerProps:me,reset:he}=sp(L),ge=hi(()=>new Td({id:M,modal:f,multiple:_,itemToStringLabel:v,itemToStringValue:y,isItemEqualToValue:b,value:F,open:L,mounted:ue,transitionStatus:fe,items:g,forceMount:!1,openMethod:null,activeIndex:null,selectedIndex:null,popupProps:{},triggerProps:{},triggerElement:null,positionerElement:null,listElement:null,scrollUpArrowVisible:!1,scrollDownArrowVisible:!1,hasScrollArrows:!1})).current,_e=Sd(ge,sm.activeIndex),ve=Sd(ge,sm.selectedIndex),ye=Sd(ge,sm.triggerElement),be=Sd(ge,sm.positionerElement),xe=H.useMemo(()=>_&&Array.isArray(F)&&F.length===0?``:om(F,y),[_,F,y]),Se=H.useMemo(()=>_&&Array.isArray(F)?F.map(e=>om(e,y)):om(F,y),[_,F,y]),Ce=Ao(ge.state.triggerElement);Yp({id:M,commit:A.commit,value:F,controlRef:Ce,name:P,getValue:()=>Se});let we=H.useRef(F);ro(()=>{F!==we.current&&ge.set(`forceMount`,!0)},[ge,F]),ro(()=>{D(F!==null)},[F,D]),ro(function(){if(L)return;let e=ie.current;if(_){let t=Array.isArray(F)?F:[];if(t.length===0){ge.set(`selectedIndex`,null);return}let n=t[t.length-1],r=rm(e,n,b);ge.set(`selectedIndex`,r===-1?null:r);return}let t=rm(e,F,b);ge.set(`selectedIndex`,t===-1?null:t)},[_,L,F,ie,b,ge]),cm(F,()=>{C(P),w(F!==E.initialValue),T()?A.commit(F):A.commit(F,!0)});let Te=U((e,t)=>{if(s?.(e,t),!t.isCanceled&&(R(e),!e&&ge.state.activeIndex!==null)){let e=ee.current[ge.state.activeIndex];queueMicrotask(()=>{e?.setAttribute(`tabindex`,`-1`)})}}),Ee=U(()=>{de(!1),ge.set(`activeIndex`,null),he(),h?.(!1)});Fo({enabled:!p,open:L,ref:z,onComplete(){L||Ee()}}),H.useImperativeHandle(p,()=>({unmount:Ee}),[Ee]);let De=U((e,t)=>{i?.(e,t),!t.isCanceled&&I(e)}),Oe=U(()=>{let e=ge.state.listElement||z.current;if(!e)return;let t=e.scrollTop,n=e.scrollTop+e.clientHeight,r=t>1,i=n<e.scrollHeight-1;ge.state.scrollUpArrowVisible!==r&&ge.set(`scrollUpArrowVisible`,r),ge.state.scrollDownArrowVisible!==i&&ge.set(`scrollDownArrowVisible`,i)}),ke=Ld({open:L,onOpenChange:Te,elements:{reference:ye,floating:be}}),{getReferenceProps:Ae,getFloatingProps:je,getItemProps:Me}=$d([Il(ke,{enabled:!u&&!N,event:`mousedown`}),Qu(ke,{bubbles:!1}),cf(ke,{enabled:!u&&!N,listRef:ee,activeIndex:_e,selectedIndex:ve,disabledIndices:Hi,onNavigate(e){e===null&&!L||ge.set(`activeIndex`,e)},focusItemOnHover:!1}),df(ke,{enabled:!u&&!N&&(L||!_),listRef:te,activeIndex:_e,selectedIndex:ve,onMatch(e){L?ge.set(`activeIndex`,e):De(ie.current[e],So(`none`))},onTypingChange(e){ae.current=e}})]),Ne=H.useMemo(()=>Ai(Ae(),me),[Ae,me]);ree(()=>{ge.update({popupProps:je(),triggerProps:Ne})}),ro(()=>{ge.update({id:M,modal:f,multiple:_,value:F,open:L,mounted:ue,transitionStatus:fe,popupProps:je(),triggerProps:Ne,items:g,itemToStringLabel:v,itemToStringValue:y,isItemEqualToValue:b,openMethod:pe})},[ge,M,f,_,F,L,ue,fe,je,Ne,g,v,y,b,pe]);let Pe=H.useMemo(()=>({store:ge,name:P,required:d,disabled:N,readOnly:u,multiple:_,itemToStringLabel:v,itemToStringValue:y,highlightItemOnHover:x,setValue:De,setOpen:Te,listRef:ee,popupRef:z,scrollHandlerRef:ne,handleScrollArrowVisibility:Oe,scrollArrowsMountedCountRef:re,getItemProps:Me,events:ke.context.events,valueRef:B,valuesRef:ie,labelsRef:te,typingRef:ae,selectionRef:ce,selectedItemTextRef:se,validation:A,onOpenChangeComplete:h,keyboardActiveRef:oe,alignItemWithTriggerActiveRef:le,initialValueRef:we}),[ge,P,d,N,u,_,v,y,x,De,Te,Me,ke.context.events,A,h,Oe]),Fe=gi(m,A.inputRef),Ie=_&&Array.isArray(F)&&F.length>0,Le=H.useMemo(()=>!_||!Array.isArray(F)||!P?null:F.map(e=>{let t=om(e,y);return(0,V.jsx)(`input`,{type:`hidden`,name:P,value:t},t)}),[_,F,P,y]);return(0,V.jsx)(Zp.Provider,{value:Pe,children:(0,V.jsxs)(Qp.Provider,{value:ke,children:[S,(0,V.jsx)(`input`,{...A.getInputValidationProps({onFocus(){ge.state.triggerElement?.focus()},onChange(e){if(e.nativeEvent.defaultPrevented)return;let t=e.target.value,n=So(ma,e.nativeEvent);function r(){if(_)return;let e=ie.current.find(e=>om(e,y).toLowerCase()===t.toLowerCase());e!=null&&(w(e!==E.initialValue),De(e,n),T()&&A.commit(e))}ge.set(`forceMount`,!0),queueMicrotask(r)}}),id:t||j||void 0,name:_?void 0:P,value:xe,disabled:N,required:d&&!Ie,readOnly:u,ref:Fe,style:ol,tabIndex:-1,"aria-hidden":!0}),Le]})})}var um=2,dm={...ua,...Ap,value:()=>null};const fm=H.forwardRef(function(e,t){let{render:n,className:r,disabled:i=!1,nativeButton:a=!0,...o}=e,{setTouched:s,setFocused:c,validationMode:l,state:u,disabled:d}=Mp(),{labelId:f}=Rp(),{store:p,setOpen:m,selectionRef:h,validation:g,readOnly:_,alignItemWithTriggerActiveRef:v,disabled:y,keyboardActiveRef:b}=$p(),x=d||y||i,S=Sd(p,sm.open),C=Sd(p,sm.value),w=Sd(p,sm.triggerProps),T=Sd(p,sm.positionerElement),E=Sd(p,sm.listElement),D=Sd(p,sm.serializedValue),O=Ao(T),k=H.useRef(null),A=zo(),j=zo(),{getButtonProps:M,buttonRef:N}=so({disabled:x,native:a}),P=gi(t,k,N,U(e=>{p.set(`triggerElement`,e)})),F=zo(),I=zo();H.useEffect(()=>{if(S)return I.start(200,()=>{h.current.allowUnselectedMouseUp=!0,F.start(200,()=>{h.current.allowSelectedMouseUp=!0})}),()=>{F.clear(),I.clear()};h.current={allowSelectedMouseUp:!1,allowUnselectedMouseUp:!1},j.clear()},[S,h,j,F,I]);let L=H.useMemo(()=>E?.id??ds(T)?.id,[E,T]),R=Ai(w,{role:`combobox`,"aria-expanded":S?`true`:`false`,"aria-haspopup":`listbox`,"aria-controls":S?L:void 0,"aria-labelledby":f,"aria-readonly":_||void 0,tabIndex:x?-1:0,ref:P,onFocus(e){c(!0),S&&v.current&&m(!1,So(ya,e.nativeEvent)),A.start(0,()=>{p.set(`forceMount`,!0)})},onBlur(){s(!0),c(!1),l===`onBlur`&&g.commit(C)},onPointerMove(){b.current=!1},onKeyDown(){b.current=!0},onMouseDown(e){if(S)return;let t=sl(e.currentTarget);function n(e){if(!k.current)return;let t=e.target;if(rs(k.current,t)||rs(O.current,t)||t===k.current)return;let n=hp(k.current);e.clientX>=n.left-um&&e.clientX<=n.right+um&&e.clientY>=n.top-um&&e.clientY<=n.bottom+um||m(!1,So(xa,e))}j.start(0,()=>{t.addEventListener(`mouseup`,n,{once:!0})})}},g.getValidationProps,o,M);R.role=`combobox`;let ee=H.useMemo(()=>({...u,open:S,disabled:x,value:C,readOnly:_,placeholder:!D}),[u,S,x,C,_,D]);return Ji(`button`,e,{ref:[t,k],state:ee,stateAttributesMapping:dm,props:R})});var pm={value:()=>null};const lee=H.forwardRef(function(e,t){let{className:n,render:r,children:i,...a}=e,{store:o,valueRef:s}=$p(),c=Sd(o,sm.value),l=Sd(o,sm.items),u=Sd(o,sm.itemToStringLabel),d=Sd(o,sm.serializedValue),f=H.useMemo(()=>({value:c,placeholder:!d}),[c,d]),p=typeof i==`function`?i(c):i??(Array.isArray(c)?cee(c,u):see(c,l,u));return Ji(`span`,e,{state:f,ref:[t,s],props:[{children:p},a],stateAttributesMapping:pm})}),uee=H.forwardRef(function(e,t){let{className:n,render:r,...i}=e,{store:a}=$p(),o=Sd(a,sm.open);return Ji(`span`,e,{state:H.useMemo(()=>({open:o}),[o]),ref:t,props:[{"aria-hidden":!0,children:``},i],stateAttributesMapping:la})}),dee=H.createContext(void 0),fee=H.forwardRef(function(e,t){let{store:n}=$p(),r=Sd(n,sm.mounted),i=Sd(n,sm.forceMount);return r||i?(0,V.jsx)(dee.Provider,{value:!0,children:(0,V.jsx)(Tl,{ref:t,...e})}):null}),mm=H.createContext(void 0);function hm(){let e=H.useContext(mm);if(!e)throw Error(li(59));return e}function gm(e,t){e&&Object.assign(e.style,t)}const _m={position:`relative`,maxHeight:`100%`,overflowX:`hidden`,overflowY:`auto`};var pee={position:`fixed`};const mee=H.forwardRef(function(e,t){let{anchor:n,positionMethod:r=`absolute`,className:i,render:a,side:o=`bottom`,align:s=`center`,sideOffset:c=0,alignOffset:l=0,collisionBoundary:u=`clipping-ancestors`,collisionPadding:d,arrowPadding:f=5,sticky:p=!1,disableAnchorTracking:m,alignItemWithTrigger:h=!0,collisionAvoidance:g=Gi,..._}=e,{store:v,listRef:y,labelsRef:b,alignItemWithTriggerActiveRef:x,selectedItemTextRef:S,valuesRef:C,initialValueRef:w,popupRef:T,setValue:E}=$p(),D=em(),O=Sd(v,sm.open),k=Sd(v,sm.mounted),A=Sd(v,sm.modal),j=Sd(v,sm.value),M=Sd(v,sm.openMethod),N=Sd(v,sm.positionerElement),P=Sd(v,sm.triggerElement),F=Sd(v,sm.isItemEqualToValue),I=H.useRef(null),L=H.useRef(null),[R,ee]=H.useState(h),te=k&&R&&M!==`touch`;!k&&R!==h&&ee(h),ro(()=>{k||(sm.scrollUpArrowVisible(v.state)&&v.set(`scrollUpArrowVisible`,!1),sm.scrollDownArrowVisible(v.state)&&v.set(`scrollDownArrowVisible`,!1))},[v,k]),H.useImperativeHandle(x,()=>te),rp((te||A)&&O&&M!==`touch`,P);let z=Hf({anchor:n,floatingRootContext:D,positionMethod:r,mounted:k,side:o,sideOffset:c,align:s,alignOffset:l,arrowPadding:f,collisionBoundary:u,collisionPadding:d,sticky:p,disableAnchorTracking:m??te,collisionAvoidance:g,keepMounted:!0}),ne=te?`none`:z.side,re=te?pee:z.positionerStyles,B=H.useMemo(()=>{let e={};return O||(e.pointerEvents=`none`),{role:`presentation`,hidden:!k,style:{...re,...e}}},[O,k,re]),ie=H.useMemo(()=>({open:O,side:ne,align:z.align,anchorHidden:z.anchorHidden}),[O,ne,z.align,z.anchorHidden]),ae=Ji(`div`,e,{ref:[t,U(e=>{v.set(`positionerElement`,e)})],state:ie,stateAttributesMapping:da,props:[B,_]}),oe=H.useRef(0),se=U(e=>{if(e.size===0&&oe.current===0||C.current.length===0)return;let t=oe.current;if(oe.current=e.size,e.size===t)return;let n=So(ma);if(t!==0&&!v.state.multiple&&j!==null&&rm(C.current,j,F)===-1){let e=w.current,t=e!=null&&nm(C.current,e,F)?e:null;E(t,n),t===null&&(v.set(`selectedIndex`,null),S.current=null)}if(t!==0&&v.state.multiple&&Array.isArray(j)){let e=j.filter(e=>nm(C.current,e,F));(e.length!==j.length||e.some(e=>!nm(j,e,F)))&&(E(e,n),e.length===0&&(v.set(`selectedIndex`,null),S.current=null))}if(O&&te){v.update({scrollUpArrowVisible:!1,scrollDownArrowVisible:!1});let e={height:``};gm(N,e),gm(T.current,e)}}),ce=H.useMemo(()=>({...z,side:ne,alignItemWithTriggerActive:te,setControlledAlignItemWithTrigger:ee,scrollUpArrowRef:I,scrollDownArrowRef:L}),[z,ne,te,ee]);return(0,V.jsx)(Wf,{elementsRef:y,labelsRef:b,onMapChange:se,children:(0,V.jsxs)(mm.Provider,{value:ce,children:[k&&A&&(0,V.jsx)(Jf,{inert:Mf(!O),cutout:P}),ae]})})});function vm(e){let t=e.currentTarget.getBoundingClientRect();return t.top+1<=e.clientY&&e.clientY<=t.bottom-1&&t.left+1<=e.clientX&&e.clientX<=t.right-1}var ym=`base-ui-disable-scrollbar`;const bm={className:ym,element:(0,V.jsx)(`style`,{href:ym,precedence:`base-ui:low`,children:`.${ym}{scrollbar-width:none}.${ym}::-webkit-scrollbar{display:none}`})};var xm=l(h(),1),Sm={...da,...ta};const Cm=H.forwardRef(function(e,t){let{render:n,className:r,...i}=e,{store:a,popupRef:o,onOpenChangeComplete:s,setOpen:c,valueRef:l,selectedItemTextRef:u,keyboardActiveRef:d,multiple:f,handleScrollArrowVisibility:p,scrollHandlerRef:m}=$p(),{side:h,align:g,alignItemWithTriggerActive:_,setControlledAlignItemWithTrigger:v,scrollDownArrowRef:y,scrollUpArrowRef:b}=hm(),x=gf(!0)!=null,S=em(),C=zo(),w=Sd(a,sm.id),T=Sd(a,sm.open),E=Sd(a,sm.mounted),D=Sd(a,sm.popupProps),O=Sd(a,sm.transitionStatus),k=Sd(a,sm.triggerElement),A=Sd(a,sm.positionerElement),j=Sd(a,sm.listElement),M=H.useRef(0),N=H.useRef(!1),P=H.useRef(0),F=H.useRef(!1),I=H.useRef({}),L=Oo(),R=U(e=>{if(!A||!o.current||!F.current)return;if(N.current||!_){p();return}let t=A.style.top===`0px`,n=A.style.bottom===`0px`,r=A.getBoundingClientRect().height,i=sl(A),a=getComputedStyle(A),s=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=i.documentElement.clientHeight-s-c,u=e.scrollTop,d=e.scrollHeight-e.clientHeight,f=null,m=null,h=!1;if(t){let e=r+(d-u),t=Math.min(e,l);f=t,t===l?h=!0:m=d}else if(n){let e=u-0,t=r+e,n=Math.min(t,l),i=t-l;f=n,n===l?(h=!0,u<d&&(m=u-(e-i))):m=0}f!=null&&(A.style.height=`${f}px`),m!=null&&(e.scrollTop=m),h&&(N.current=!0),p()});H.useImperativeHandle(m,()=>R,[R]),Fo({open:T,ref:o,onComplete(){T&&s?.(!0)}});let ee=H.useMemo(()=>({open:T,transitionStatus:O,side:h,align:g}),[T,O,h,g]);ro(()=>{!A||!o.current||Object.keys(I.current).length||(I.current={top:A.style.top||`0`,left:A.style.left||`0`,right:A.style.right,height:A.style.height,bottom:A.style.bottom,minHeight:A.style.minHeight,maxHeight:A.style.maxHeight,marginTop:A.style.marginTop,marginBottom:A.style.marginBottom})},[o,A]),ro(()=>{E||_||(F.current=!1,N.current=!1,M.current=0,P.current=0,gm(A,I.current))},[E,_,A,o]),ro(()=>{let e=o.current;if(!(!E||!k||!A||!e)){if(!_){F.current=!0,L.request(p);return}queueMicrotask(()=>{let t=getComputedStyle(A),n=getComputedStyle(e),r=sl(k),i=ja(A),a=k.getBoundingClientRect(),o=A.getBoundingClientRect(),s=a.left,c=a.height,d=j||e,f=d.scrollHeight,m=parseFloat(n.borderBottomWidth),h=parseFloat(t.marginTop)||10,g=parseFloat(t.marginBottom)||10,_=parseFloat(t.minHeight)||100,y=r.documentElement.clientHeight-h-g,b=r.documentElement.clientWidth,x=y-a.bottom+c,S=u.current,C=l.current,w=0,T=0;if(S&&C){let e=C.getBoundingClientRect(),t=S.getBoundingClientRect(),n=e.left-s,r=t.left-o.left,i=e.top-a.top+e.height/2,c=t.top-o.top+t.height/2;w=n-r,T=c-i}let E=x+T+g+m,D=Math.min(y,E),O=y-h-g,P=E-D,L=Math.max(5,s+w),R=b-5,ee=Math.max(0,L+o.width-R);A.style.left=`${L-ee}px`,A.style.height=`${D}px`,A.style.maxHeight=`auto`,A.style.marginTop=`${h}px`,A.style.marginBottom=`${g}px`,e.style.height=`100%`;let te=d.scrollHeight-d.clientHeight,z=P>=te;z&&(D=Math.min(y,o.height)-(P-te));let ne=a.top<20||a.bottom>y-20||D<Math.min(f,_),re=(i.visualViewport?.scale??1)!==1&&Wo;if(ne||re){F.current=!0,gm(A,I.current),xm.flushSync(()=>v(!1));return}if(z){let e=Math.max(0,y-E);A.style.top=o.height>=O?`0`:`${e}px`,A.style.height=`${D}px`,d.scrollTop=d.scrollHeight-d.clientHeight,M.current=Math.max(_,D)}else A.style.bottom=`0`,M.current=Math.max(_,D),d.scrollTop=P;M.current===y&&(N.current=!0),p(),setTimeout(()=>{F.current=!0})})}},[a,E,A,k,l,u,o,p,_,v,L,y,b,j]),H.useEffect(()=>{if(!_||!A||!E)return;let e=ja(A);function t(e){c(!1,So(`window-resize`,e))}return e.addEventListener(`resize`,t),()=>{e.removeEventListener(`resize`,t)}},[c,_,A,E]);let te={...j?{role:`presentation`,"aria-orientation":void 0}:{role:`listbox`,"aria-multiselectable":f||void 0,id:`${w}-list`},onKeyDown(e){d.current=!0,x&&Tf.has(e.key)&&e.stopPropagation()},onMouseMove(){d.current=!1},onPointerLeave(e){if(vm(e)||e.pointerType===`touch`)return;let t=e.currentTarget;C.start(0,()=>{a.set(`activeIndex`,null),t.focus({preventScroll:!0})})},onScroll(e){j||m.current?.(e.currentTarget)},..._&&{style:j?{height:`100%`}:_m}},z=Ji(`div`,e,{ref:[t,o],state:ee,stateAttributesMapping:Sm,props:[D,te,Ef(O),{className:!j&&_?bm.className:void 0},i]});return(0,V.jsxs)(H.Fragment,{children:[bm.element,(0,V.jsx)(Fl,{context:S,modal:!1,disabled:!E,restoreFocus:!0,children:z})]})}),wm=H.forwardRef(function(e,t){let{className:n,render:r,...i}=e,{store:a,scrollHandlerRef:o}=$p(),{alignItemWithTriggerActive:s}=hm(),c=Sd(a,sm.hasScrollArrows),l=Sd(a,sm.openMethod),u=Sd(a,sm.multiple),d={id:`${Sd(a,sm.id)}-list`,role:`listbox`,"aria-multiselectable":u||void 0,onScroll(e){o.current?.(e.currentTarget)},...s&&{style:_m},className:c&&l!==`touch`?bm.className:void 0};return Ji(`div`,e,{ref:[t,U(e=>{a.set(`listElement`,e)})],props:[d,i]})}),Tm=H.createContext(void 0);function Em(){let e=H.useContext(Tm);if(!e)throw Error(li(57));return e}const hee=H.memo(H.forwardRef(function(e,t){let{render:n,className:r,value:i=null,label:a,disabled:o=!1,nativeButton:s=!1,...c}=e,l=H.useRef(null),u=ho({label:a,textRef:l,indexGuessBehavior:mo.GuessFromOrder}),{store:d,getItemProps:f,setOpen:p,setValue:m,selectionRef:h,typingRef:g,valuesRef:_,keyboardActiveRef:v,multiple:y,highlightItemOnHover:b}=$p(),x=zo(),S=Sd(d,sm.isActive,u.index),C=Sd(d,sm.isSelected,u.index,i),w=Sd(d,sm.isSelectedByFocus,u.index),T=Sd(d,sm.isItemEqualToValue),E=u.index,D=E!==-1,O=H.useRef(null),k=Ao(E);ro(()=>{if(!D)return;let e=_.current;return e[E]=i,()=>{delete e[E]}},[D,E,i,_]),ro(()=>{if(!D)return;let e=d.state.value,t=e;y&&Array.isArray(e)&&e.length>0&&(t=e[e.length-1]),t!==void 0&&tm(t,i,T)&&d.set(`selectedIndex`,E)},[D,E,y,T,d,i]);let A=H.useMemo(()=>({disabled:o,selected:C,highlighted:S}),[o,C,S]),j=f({active:S,selected:C});j.onFocus=void 0,j.id=void 0;let M=H.useRef(null),N=H.useRef(`mouse`),P=H.useRef(!1),{getButtonProps:F,buttonRef:I}=so({disabled:o,focusableWhenDisabled:!0,native:s});function L(e){let t=d.state.value;if(y){let n=Array.isArray(t)?t:[];m(C?aee(n,i,T):[...n,i],So(va,e))}else m(i,So(va,e)),p(!1,So(va,e))}let R={role:`option`,"aria-selected":C,"aria-disabled":o||void 0,tabIndex:S?0:-1,onFocus(){d.set(`activeIndex`,E)},onMouseEnter(){!v.current&&d.state.selectedIndex===null&&d.set(`activeIndex`,E)},onMouseMove(){b&&d.set(`activeIndex`,E)},onMouseLeave(e){!b||v.current||vm(e)||x.start(0,()=>{d.state.activeIndex===E&&d.set(`activeIndex`,null)})},onTouchStart(){h.current={allowSelectedMouseUp:!1,allowUnselectedMouseUp:!1}},onKeyDown(e){M.current=e.key,d.set(`activeIndex`,E)},onClick(e){P.current=!1,!(e.type===`keydown`&&M.current===null)&&(o||M.current===` `&&g.current||N.current!==`touch`&&!S||(M.current=null,L(e.nativeEvent)))},onPointerEnter(e){N.current=e.pointerType},onPointerDown(e){N.current=e.pointerType,P.current=!0},onMouseUp(e){if(o)return;if(P.current){P.current=!1;return}let t=!h.current.allowSelectedMouseUp&&C,n=!h.current.allowUnselectedMouseUp&&!C;t||n||N.current!==`touch`&&!S||L(e.nativeEvent)}},ee=Ji(`div`,e,{ref:[I,t,u.ref,O],state:A,props:[j,R,c,F]}),te=H.useMemo(()=>({selected:C,indexRef:k,textRef:l,selectedByFocus:w,hasRegistered:D}),[C,k,l,w,D]);return(0,V.jsx)(Tm.Provider,{value:te,children:ee})})),gee=H.forwardRef(function(e,t){let n=e.keepMounted??!1,{selected:r}=Em();return n||r?(0,V.jsx)(_ee,{...e,ref:t}):null});var _ee=H.memo(H.forwardRef((e,t)=>{let{render:n,className:r,keepMounted:i,...a}=e,{selected:o}=Em(),s=H.useRef(null),{transitionStatus:c,setMounted:l}=ko(o),u=H.useMemo(()=>({selected:o,transitionStatus:c}),[o,c]),d=Ji(`span`,e,{ref:[t,s],state:u,props:[{"aria-hidden":!0,children:``},a],stateAttributesMapping:ta});return Fo({open:o,ref:s,onComplete(){o||l(!1)}}),d}));const vee=H.memo(H.forwardRef(function(e,t){let{indexRef:n,textRef:r,selectedByFocus:i,hasRegistered:a}=Em(),{selectedItemTextRef:o}=$p(),{className:s,render:c,...l}=e;return Ji(`div`,e,{ref:[H.useCallback(e=>{if(!e||!a)return;let t=o.current===null||!o.current.isConnected;(i||t&&n.current===0)&&(o.current=e)},[o,n,i,a]),t,r],props:l})}));var yee=br();const bee=e=>{let t=(0,yee.c)(23),{value:n,defaultValue:r,onValueChange:i,options:a,placeholder:o,label:s,disabled:c,className:l,name:u}=e,d=o===void 0?`Select...`:o,f=c===void 0?!1:c,p=`select-field ${l===void 0?``:l}`,m;t[0]===s?m=t[1]:(m=s&&(0,V.jsx)(`label`,{className:`form-label`,children:s}),t[0]=s,t[1]=m);let h;t[2]===d?h=t[3]:(h=(0,V.jsx)(lee,{children:e=>e??d}),t[2]=d,t[3]=h);let g;t[4]===Symbol.for(`react.memo_cache_sentinel`)?(g=(0,V.jsx)(uee,{className:`select-icon`,children:(0,V.jsx)(Pr,{size:14})}),t[4]=g):g=t[4];let _;t[5]===h?_=t[6]:(_=(0,V.jsxs)(fm,{className:`select-trigger`,children:[h,g]}),t[5]=h,t[6]=_);let v;t[7]===a?v=t[8]:(v=a.map(xee),t[7]=a,t[8]=v);let y;t[9]===v?y=t[10]:(y=(0,V.jsx)(fee,{children:(0,V.jsx)(mee,{className:`select-positioner`,sideOffset:4,alignItemWithTrigger:!1,children:(0,V.jsx)(Cm,{className:`select-popup`,children:(0,V.jsx)(wm,{children:v})})})}),t[9]=v,t[10]=y);let b;t[11]!==r||t[12]!==f||t[13]!==u||t[14]!==i||t[15]!==y||t[16]!==_||t[17]!==n?(b=(0,V.jsxs)(lm,{value:n,defaultValue:r,onValueChange:i,disabled:f,name:u,children:[_,y]}),t[11]=r,t[12]=f,t[13]=u,t[14]=i,t[15]=y,t[16]=_,t[17]=n,t[18]=b):b=t[18];let x;return t[19]!==b||t[20]!==p||t[21]!==m?(x=(0,V.jsxs)(`div`,{className:p,children:[m,b]}),t[19]=b,t[20]=p,t[21]=m,t[22]=x):x=t[22],x};function xee(e){return(0,V.jsxs)(hee,{value:e.value,disabled:e.disabled,className:`select-item`,children:[(0,V.jsx)(gee,{className:`select-item-indicator`,children:(0,V.jsx)(Nr,{size:14})}),(0,V.jsx)(vee,{children:e.label})]},e.value)}const Dm=H.createContext(void 0);function Om(e){let t=H.useContext(Dm);if(t===void 0&&!e)throw Error(li(72));return t}var See=l(h(),1),Cee={...Id,disabled:G(e=>e.disabled),instantType:G(e=>e.instantType),isInstantPhase:G(e=>e.isInstantPhase),trackCursorAxis:G(e=>e.trackCursorAxis),disableHoverablePopup:G(e=>e.disableHoverablePopup),lastOpenChangeReason:G(e=>e.openChangeReason),closeDelay:G(e=>e.closeDelay)},wee=class e extends Ed{constructor(e){super({...Tee(),...e},{popupRef:H.createRef(),onOpenChange:void 0,onOpenChangeComplete:void 0,triggerElements:new Nd},Cee)}setOpen=(e,t)=>{let n=t.reason,r=n===ga,i=e&&n===`trigger-focus`,a=!e&&(n===`trigger-press`||n===`escape-key`);if(t.preventUnmountOnClose=()=>{this.set(`preventUnmountingOnClose`,!0)},this.context.onOpenChange?.(e,t),t.isCanceled)return;let o=()=>{let r={open:e,openChangeReason:n};i?r.instantType=`focus`:a?r.instantType=`dismiss`:n===`trigger-hover`&&(r.instantType=void 0);let o=t.trigger?.id??null;(o||e)&&(r.activeTriggerId=o,r.activeTriggerElement=t.trigger??null),this.update(r)};r?See.flushSync(o):o()};static useStore(t,n){let r=hi(()=>t??new e(n)).current,i=zd({popupStore:r,onOpenChange:r.setOpen});return r.state.floatingRootContext=i,r}};function Tee(){return{...Fd(),disabled:!1,instantType:void 0,isInstantPhase:!1,trackCursorAxis:`none`,disableHoverablePopup:!1,openChangeReason:null,closeDelay:0}}function Eee(e){let{disabled:t=!1,defaultOpen:n=!1,open:r,disableHoverablePopup:i=!1,trackCursorAxis:a=`none`,actionsRef:o,onOpenChange:s,onOpenChangeComplete:c,handle:l,triggerId:u,defaultTriggerId:d=null,children:f}=e,p=wee.useStore(l?.store,{open:r??n,activeTriggerId:u===void 0?d:u});p.useControlledProp(`open`,r,n),p.useControlledProp(`activeTriggerId`,u,d),p.useContextCallback(`onOpenChange`,s),p.useContextCallback(`onOpenChangeComplete`,c);let m=p.useState(`open`),h=p.useState(`activeTriggerId`),g=p.useState(`payload`);p.useSyncedValues({trackCursorAxis:a,disableHoverablePopup:i});let _=!t&&m;ro(()=>{m&&t&&p.setOpen(!1,So(`disabled`))},[m,t,p]),p.useSyncedValue(`disabled`,t),jd(p);let{forceUnmount:v,transitionStatus:y}=Md(_,p),b=p.useState(`isInstantPhase`),x=p.useState(`instantType`),S=p.useState(`lastOpenChangeReason`),C=H.useRef(null);ro(()=>{y===`ending`&&S===`none`||y!==`ending`&&b?(x!==`delay`&&(C.current=x),p.set(`instantType`,`delay`)):C.current!==null&&(p.set(`instantType`,C.current),C.current=null)},[y,b,S,x,p]),ro(()=>{_&&(h??p.set(`payload`,void 0))},[p,h,_]);let w=H.useCallback(()=>{p.setOpen(!1,Dee(p,Ca))},[p]);H.useImperativeHandle(o,()=>({unmount:v,close:w}),[v,w]);let T=p.useState(`floatingRootContext`),{getReferenceProps:E,getFloatingProps:D,getTriggerProps:O}=$d([Vd(T,{enabled:!t}),Qu(T,{enabled:!t,referencePress:!0}),zl(T,{enabled:!t&&a!==`none`,axis:a===`none`?void 0:a})]),k=H.useMemo(()=>E(),[E]),A=H.useMemo(()=>O(),[O]),j=H.useMemo(()=>D(),[D]);return p.useSyncedValues({floatingRootContext:T,activeTriggerProps:k,inactiveTriggerProps:A,popupProps:j}),(0,V.jsx)(Dm.Provider,{value:p,children:typeof f==`function`?f({payload:g}):f})}function Dee(e,t){let n=So(t);return n.preventUnmountOnClose=()=>{e.set(`preventUnmountingOnClose`,!0)},n}const km=H.createContext(void 0);function Oee(){return H.useContext(km)}const kee=H.forwardRef(function(e,t){let{className:n,render:r,handle:i,payload:a,disabled:o,delay:s,closeDelay:c,id:l,...u}=e,d=Om(!0),f=i?.store??d;if(!f)throw Error(li(82));let p=xo(l),m=f.useState(`isTriggerActive`,p),h=f.useState(`floatingRootContext`),g=f.useState(`isOpenedByTrigger`,p),_=H.useRef(null),v=s??600,y=c??0,{registerTrigger:b,isMountedByThisTrigger:x}=Ad(p,_,f,{payload:a,closeDelay:y}),S=Oee(),{delayRef:C,isInstantPhase:w,hasProvider:T}=al(h,{open:g});f.useSyncedValue(`isInstantPhase`,w);let E=f.useState(`disabled`),D=o??E,O=f.useState(`trackCursorAxis`),k=f.useState(`disableHoverablePopup`),A=Qd(h,{enabled:!D,mouseOnly:!0,move:!1,handleClose:!k&&O!==`both`?mf():null,restMs(){let e=S?.delay,t=typeof C.current==`object`?C.current.open:void 0,n=v;return T&&(n=t===0?0:s??e??v),n},delay(){let e=typeof C.current==`object`?C.current.close:void 0,t=y;return c==null&&T&&(t=e),{close:t}},triggerElementRef:_,isActiveTrigger:m}),j=H.useMemo(()=>({open:g}),[g]),M=f.useState(`triggerProps`,x);return Ji(`button`,e,{state:j,ref:[t,b,_],props:[A,M,{id:p},u],stateAttributesMapping:la})}),Am=H.createContext(void 0);function Aee(){let e=H.useContext(Am);if(e===void 0)throw Error(li(70));return e}var jee=l(h(),1);const Mee=H.forwardRef(function(e,t){let{children:n,container:r,className:i,render:a,...o}=e,{portalNode:s,portalSubtree:c}=wl({container:r,ref:t,componentProps:e,elementProps:o});return!c&&!s?null:(0,V.jsxs)(H.Fragment,{children:[c,s&&jee.createPortal(n,s)]})}),Nee=H.forwardRef(function(e,t){let{keepMounted:n=!1,...r}=e;return Om().useState(`mounted`)||n?(0,V.jsx)(Am.Provider,{value:n,children:(0,V.jsx)(Mee,{ref:t,...r})}):null}),jm=H.createContext(void 0);function Mm(){let e=H.useContext(jm);if(e===void 0)throw Error(li(71));return e}const Pee=H.forwardRef(function(e,t){let{render:n,className:r,anchor:i,positionMethod:a=`absolute`,side:o=`top`,align:s=`center`,sideOffset:c=0,alignOffset:l=0,collisionBoundary:u=`clipping-ancestors`,collisionPadding:d=5,arrowPadding:f=5,sticky:p=!1,disableAnchorTracking:m=!1,collisionAvoidance:h=Ki,...g}=e,_=Om(),v=Aee(),y=_.useState(`open`),b=_.useState(`mounted`),x=_.useState(`trackCursorAxis`),S=_.useState(`disableHoverablePopup`),C=_.useState(`floatingRootContext`),w=_.useState(`instantType`),T=_.useState(`transitionStatus`),E=Hf({anchor:i,positionMethod:a,floatingRootContext:C,mounted:b,side:o,sideOffset:c,align:s,alignOffset:l,collisionBoundary:u,collisionPadding:d,sticky:p,arrowPadding:f,disableAnchorTracking:m,keepMounted:v,collisionAvoidance:h,adaptiveOrigin:zf}),D=H.useMemo(()=>{let e={};return(!y||x===`both`||S)&&(e.pointerEvents=`none`),{role:`presentation`,hidden:!b,style:{...E.positionerStyles,...e}}},[y,x,S,b,E.positionerStyles]),O=H.useMemo(()=>({open:y,side:E.side,align:E.align,anchorHidden:E.anchorHidden,instant:x===`none`?w:`tracking-cursor`}),[y,E.side,E.align,E.anchorHidden,x,w]),k=H.useMemo(()=>({...O,arrowRef:E.arrowRef,arrowStyles:E.arrowStyles,arrowUncentered:E.arrowUncentered}),[O,E.arrowRef,E.arrowStyles,E.arrowUncentered]),A=Ji(`div`,e,{state:O,props:[D,Ef(T),g],ref:[t,_.useStateSetter(`positionerElement`)],stateAttributesMapping:da});return(0,V.jsx)(jm.Provider,{value:k,children:A})});function Nm(e){let t=Za(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=Fa(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r;return(Cs(n)!==a||Cs(r)!==o)&&(n=a,r=o),{width:n,height:r}}var Fee=typeof ResizeObserver<`u`,Iee=()=>!0;function Lee(e){let{popupElement:t,positionerElement:n,content:r,mounted:i,enabled:a=Iee,onMeasureLayout:o,onMeasureLayoutComplete:s,side:c,direction:l}=e,u=H.useRef(!0),d=Po(t,!0,!1),f=Oo(),p=H.useRef(null),m=U(o),h=U(s),g=H.useMemo(()=>{let e=c===`top`,t=c===`left`;return l===`rtl`?(e||=c===`inline-end`,t||=c===`inline-end`):(e||=c===`inline-start`,t||=c===`inline-start`),e?{position:`absolute`,[c===`top`?`bottom`:`top`]:`0`,[t?`right`:`left`]:`0`}:Ui},[c,l]);ro(()=>{if(!i||!a()||!Fee){u.current=!0,p.current=null;return}if(!t||!n)return;Object.entries(g).forEach(([e,n])=>{t.style.setProperty(e,n)});let e=new ResizeObserver(e=>{let t=e[0];t&&(p.current===null?p.current={width:Math.ceil(t.borderBoxSize[0].inlineSize),height:Math.ceil(t.borderBoxSize[0].blockSize)}:(p.current.width=Math.ceil(t.borderBoxSize[0].inlineSize),p.current.height=Math.ceil(t.borderBoxSize[0].blockSize)))});e.observe(t),t.style.setProperty(`--popup-width`,`auto`),t.style.setProperty(`--popup-height`,`auto`);let r=Pm(t,`position`,`static`),o=Pm(t,`transform`,`none`),s=Pm(t,`scale`,`1`),c=Pm(n,`--available-width`,`max-content`),l=Pm(n,`--available-height`,`max-content`);if(m?.(),u.current||p.current===null){n.style.setProperty(`--positioner-width`,`max-content`),n.style.setProperty(`--positioner-height`,`max-content`);let i=Nm(t);return n.style.setProperty(`--positioner-width`,`${i.width}px`),n.style.setProperty(`--positioner-height`,`${i.height}px`),r(),o(),s(),c(),l(),h?.(null,i),u.current=!1,()=>{e.disconnect()}}t.style.setProperty(`--popup-width`,`auto`),t.style.setProperty(`--popup-height`,`auto`),n.style.setProperty(`--positioner-width`,`max-content`),n.style.setProperty(`--positioner-height`,`max-content`);let _=Nm(t);t.style.setProperty(`--popup-width`,`${p.current.width}px`),t.style.setProperty(`--popup-height`,`${p.current.height}px`),r(),o(),c(),l(),h?.(p.current,_),n.style.setProperty(`--positioner-width`,`${_.width}px`),n.style.setProperty(`--positioner-height`,`${_.height}px`);let v=new AbortController;return f.request(()=>{t.style.setProperty(`--popup-width`,`${_.width}px`),t.style.setProperty(`--popup-height`,`${_.height}px`),d(()=>{t.style.setProperty(`--popup-width`,`auto`),t.style.setProperty(`--popup-height`,`auto`)},v.signal)}),()=>{e.disconnect(),v.abort(),f.cancel()}},[r,t,n,d,f,a,i,m,h,g])}function Pm(e,t,n){let r=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{e.style.setProperty(t,r)}}var Ree={...da,...ta};const zee=H.forwardRef(function(e,t){let{className:n,render:r,...i}=e,a=Om(),{side:o,align:s}=Mm(),c=a.useState(`open`),l=a.useState(`mounted`),u=a.useState(`instantType`),d=a.useState(`transitionStatus`),f=a.useState(`popupProps`),p=a.useState(`payload`),m=a.useState(`popupElement`),h=a.useState(`positionerElement`),g=a.useState(`floatingRootContext`),_=Pf();Fo({open:c,ref:a.context.popupRef,onComplete(){c&&a.context.onOpenChangeComplete?.(!0)}});function v(){g.context.events.emit(`measure-layout`)}function y(e,t){g.context.events.emit(`measure-layout-complete`,{previousDimensions:e,nextDimensions:t})}Lee({popupElement:m,positionerElement:h,mounted:l,content:p,enabled:H.useCallback(()=>a.context.triggerElements.size>1,[a]),onMeasureLayout:v,onMeasureLayoutComplete:y,side:o,direction:_});let b=a.useState(`disabled`),x=a.useState(`closeDelay`);return qd(g,{enabled:!b,closeDelay:x}),Ji(`div`,e,{state:H.useMemo(()=>({open:c,side:o,align:s,instant:u,transitionStatus:d}),[c,o,s,u,d]),ref:[t,a.context.popupRef,a.useStateSetter(`popupElement`)],props:[f,Ef(d),i],stateAttributesMapping:Ree})}),Bee=H.forwardRef(function(e,t){let{className:n,render:r,...i}=e,a=Om().useState(`instantType`),{open:o,arrowRef:s,side:c,align:l,arrowUncentered:u,arrowStyles:d}=Mm();return Ji(`div`,e,{state:H.useMemo(()=>({open:o,side:c,align:l,uncentered:u,instant:a}),[o,c,l,u,a]),ref:[t,s],props:[{style:d,"aria-hidden":!0},i],stateAttributesMapping:da})}),Vee=function(e){let{delay:t,closeDelay:n,timeout:r=400}=e,i=H.useMemo(()=>({delay:t,closeDelay:n}),[t,n]),a=H.useMemo(()=>({open:t,close:n}),[t,n]);return(0,V.jsx)(km.Provider,{value:i,children:(0,V.jsx)(il,{delay:a,timeoutMs:r,children:e.children})})};var Hee=br();const Uee=e=>{let t=(0,Hee.c)(14),{content:n,children:r,position:i,delay:a}=e,o=i===void 0?`top`:i,s=a===void 0?300:a,c;t[0]===r?c=t[1]:(c=(0,V.jsx)(kee,{className:`tooltip-trigger`,children:r}),t[0]=r,t[1]=c);let l;t[2]===n?l=t[3]:(l=(0,V.jsx)(zee,{className:`tooltip-popup`,children:n}),t[2]=n,t[3]=l);let u;t[4]===Symbol.for(`react.memo_cache_sentinel`)?(u=(0,V.jsx)(Bee,{className:`tooltip-arrow`}),t[4]=u):u=t[4];let d;t[5]!==o||t[6]!==l?(d=(0,V.jsx)(Nee,{children:(0,V.jsxs)(Pee,{side:o,sideOffset:8,children:[l,u]})}),t[5]=o,t[6]=l,t[7]=d):d=t[7];let f;t[8]!==c||t[9]!==d?(f=(0,V.jsxs)(Eee,{children:[c,d]}),t[8]=c,t[9]=d,t[10]=f):f=t[10];let p;return t[11]!==s||t[12]!==f?(p=(0,V.jsx)(Vee,{delay:s,children:f}),t[11]=s,t[12]=f,t[13]=p):p=t[13],p};var Fm=e=>{let t,n=new Set,r=(e,r)=>{let i=typeof e==`function`?e(t):e;if(!Object.is(i,t)){let e=t;t=r??(typeof i!=`object`||!i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,i,a);return a},Wee=(e=>e?Fm(e):Fm),Gee=e=>e;function Kee(e,t=Gee){let n=H.useSyncExternalStore(e.subscribe,H.useCallback(()=>t(e.getState()),[e,t]),H.useCallback(()=>t(e.getInitialState()),[e,t]));return H.useDebugValue(n),n}var Im=e=>{let t=Wee(e),n=e=>Kee(t,e);return Object.assign(n,t),n},Lm=(e=>e?Im(e):Im),Rm={BASE_URL:`/`,DEV:!1,MODE:`production`,PROD:!0,SSR:!1},zm=new Map,Bm=e=>{let t=zm.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},qee=(e,t,n)=>{if(e===void 0)return{type:`untracked`,connection:t.connect(n)};let r=zm.get(n.name);if(r)return{type:`tracked`,store:e,...r};let i={connection:t.connect(n),stores:{}};return zm.set(n.name,i),{type:`tracked`,store:e,...i}},Jee=(e,t)=>{if(t===void 0)return;let n=zm.get(e);n&&(delete n.stores[t],Object.keys(n.stores).length===0&&zm.delete(e))},Yee=e=>{if(!e)return;let t=e.split(`
`),n=t.findIndex(e=>e.includes(`api.setState`));if(n<0)return;let r=t[n+1]?.trim()||``;return/.+ (.+) .+/.exec(r)?.[1]},Vm=(e,t={})=>(n,r,i)=>{let{enabled:a,anonymousActionType:o,store:s,...c}=t,l;try{l=(a??(Rm?`production`:void 0)!==`production`)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!l)return e(n,r,i);let{connection:u,...d}=qee(s,l,c),f=!0;i.setState=((e,t,a)=>{let l=n(e,t);if(!f)return l;let d=a===void 0?{type:o||Yee(Error().stack)||`anonymous`}:typeof a==`string`?{type:a}:a;return s===void 0?(u?.send(d,r()),l):(u?.send({...d,type:`${s}/${d.type}`},{...Bm(c.name),[s]:i.getState()}),l)}),i.devtools={cleanup:()=>{u&&typeof u.unsubscribe==`function`&&u.unsubscribe(),Jee(c.name,s)}};let p=(...e)=>{let t=f;f=!1,n(...e),f=t},m=e(i.setState,r,i);if(d.type===`untracked`?u?.init(m):(d.stores[d.store]=i,u?.init(Object.fromEntries(Object.entries(d.stores).map(([e,t])=>[e,e===d.store?m:t.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch==`function`){let e=!1,t=i.dispatch;i.dispatch=(...n)=>{(Rm?`production`:void 0)!==`production`&&n[0].type===`__setState`&&!e&&(console.warn(`[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.`),e=!0),t(...n)}}return u.subscribe(e=>{switch(e.type){case`ACTION`:if(typeof e.payload!=`string`){console.error(`[zustand devtools middleware] Unsupported action format`);return}return Hm(e.payload,e=>{if(e.type===`__setState`){if(s===void 0){p(e.state);return}Object.keys(e.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let t=e.state[s];if(t==null)return;JSON.stringify(i.getState())!==JSON.stringify(t)&&p(t);return}i.dispatchFromDevtools&&typeof i.dispatch==`function`&&i.dispatch(e)});case`DISPATCH`:switch(e.payload.type){case`RESET`:return p(m),s===void 0?u?.init(i.getState()):u?.init(Bm(c.name));case`COMMIT`:if(s===void 0){u?.init(i.getState());return}return u?.init(Bm(c.name));case`ROLLBACK`:return Hm(e.state,e=>{if(s===void 0){p(e),u?.init(i.getState());return}p(e[s]),u?.init(Bm(c.name))});case`JUMP_TO_STATE`:case`JUMP_TO_ACTION`:return Hm(e.state,e=>{if(s===void 0){p(e);return}JSON.stringify(i.getState())!==JSON.stringify(e[s])&&p(e[s])});case`IMPORT_STATE`:{let{nextLiftedState:t}=e.payload,n=t.computedStates.slice(-1)[0]?.state;if(!n)return;p(s===void 0?n:n[s]),u?.send(null,t);return}case`PAUSE_RECORDING`:return f=!f}return}}),m},Hm=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){console.error(`[zustand devtools middleware] Could not parse the received json`,e)}n!==void 0&&t(n)};function Um(e,t){return(...n)=>Object.assign({},e,t(...n))}const Wm=Lm(Vm(Um({sidebarOpen:{left:!0,right:!1},events:[]},e=>({toggleSidebar:t=>e(e=>({sidebarOpen:{...e.sidebarOpen,[t]:!e.sidebarOpen[t]}})),addEvent:t=>e(e=>({events:Array.from(new Set(e.events).add(t))})),removeEvent:t=>e(e=>{let n=new Set(e.events);return n.delete(t),{events:Array.from(n)}}),hasEvent:e=>Wm.getState().events.includes(e)})),{name:`AppStore`})),Gm=Lm(Vm(Um({launcher:{isOpen:!1,content:null}},e=>({openLauncher:({content:t,onClose:n,onOpen:r})=>e({launcher:{isOpen:!0,content:t,onClose:n,onOpen:r}}),closeLauncher:()=>e({launcher:{isOpen:!1,content:null,onClose:void 0,onOpen:void 0}})})),{name:`LauncherStore`}));var Km=class{},qm=class extends Km{constructor(e,t){super(),this.collection=e,this.alias=t,this.type=`collectionRef`}},Jm=class extends Km{constructor(e,t){super(),this.query=e,this.alias=t,this.type=`queryRef`}},Ym=class extends Km{constructor(e){super(),this.path=e,this.type=`ref`}},Xm=class extends Km{constructor(e){super(),this.value=e,this.type=`val`}},Zm=class extends Km{constructor(e,t){super(),this.name=e,this.args=t,this.type=`func`}},Qm=class extends Km{constructor(e,t){super(),this.name=e,this.args=t,this.type=`agg`}};function $m(e){return e instanceof Qm||e instanceof Zm||e instanceof Ym||e instanceof Xm}function eh(e){return typeof e==`object`&&`expression`in e?e.expression:e}function th(e){return typeof e==`object`&&`expression`in e?e.expression:e}function nh(e){return typeof e==`object`&&`expression`in e&&e.residual===!0}function rh(e){return{expression:e,residual:!0}}function ih(e,t){if(e.from.alias===t)return e.from;for(let n of e.join||[])if(n.from.alias===t)return n.from}function ah(e,t,n){if(t.path.length!==0){if(t.path.length===1){let r=t.path[0];if(e.select){let t=e.select[r];if(t&&t.type===`ref`)return ah(e,t,n)}return{collection:n,path:[r]}}if(t.path.length>1){let[r,...i]=t.path,a=ih(e,r);return a?a.type===`queryRef`?ah(a.query,new Ym(i),n):{collection:a.collection,path:i}:void 0}}}var oh=class extends Error{constructor(e){super(e),this.name=`TanStackDBError`}},sh=class extends oh{constructor(e,t,n){let r=`${e===`insert`?`Insert`:`Update`} validation failed: ${t.map(e=>`
- ${e.message} - path: ${e.path}`).join(``)}`;super(n||r),this.name=`SchemaValidationError`,this.type=e,this.issues=t}},ch=class extends oh{constructor(e){super(e),this.name=`CollectionConfigurationError`}},lh=class extends ch{constructor(){super(`Collection requires a config`)}},uh=class extends ch{constructor(){super(`Collection requires a sync config`)}},dh=class extends ch{constructor(){super(`Schema must implement the standard-schema interface`)}},fh=class extends ch{constructor(){super(`Schema validation must be synchronous`)}},ph=class extends oh{constructor(e){super(e),this.name=`CollectionStateError`}},mh=class extends ph{constructor(e,t){super(`Cannot perform ${e} on collection "${t}" - collection is in error state. Try calling cleanup() and restarting the collection.`)}},hh=class extends ph{constructor(e,t,n){super(`Invalid collection status transition from "${e}" to "${t}" for collection "${n}"`)}},Xee=class extends ph{constructor(){super(`Collection is in error state`)}},Zee=class extends ph{constructor(){super(`Active subscribers count is negative - this should never happen`)}},gh=class extends oh{constructor(e){super(e),this.name=`CollectionOperationError`}},Qee=class extends gh{constructor(e){super(`An object was created without a defined key: ${JSON.stringify(e)}`)}},$ee=class extends gh{constructor(e,t){super(`getKey returned an invalid key type. Expected string or number, but got ${e===null?`null`:typeof e}: ${JSON.stringify(e)}. Item: ${JSON.stringify(t)}`)}},ete=class extends gh{constructor(e){super(`Cannot insert document with ID "${e}" because it already exists in the collection`)}},tte=class extends gh{constructor(e,t,n){let r=`Cannot insert document with key "${e}" from sync because it already exists in the collection "${t}"`;n?.hasCustomGetKey&&n.hasJoins?super(`${r}. This collection uses a custom getKey with joined queries. Joined queries can produce multiple rows with the same key when relationships are not 1:1. Consider: (1) using a composite key in your getKey function (e.g., \`\${item.key1}-\${item.key2}\`), (2) ensuring your join produces unique rows per key, or (3) removing the custom getKey to use the default composite key behavior.`):super(r)}},nte=class extends gh{constructor(){super(`The first argument to update is missing`)}},rte=class extends gh{constructor(){super(`No keys were passed to update`)}},ite=class extends gh{constructor(e){super(`The key "${e}" was passed to update but an object for this key was not found in the collection`)}},ate=class extends gh{constructor(e,t){super(`Updating the key of an item is not allowed. Original key: "${e}", Attempted new key: "${t}". Please delete the old item and create a new one if a key change is necessary.`)}},ote=class extends gh{constructor(){super(`No keys were passed to delete`)}},ste=class extends gh{constructor(e){super(`Collection.delete was called with key '${e}' but there is no item in the collection with this key`)}},_h=class extends oh{constructor(e){super(e),this.name=`MissingHandlerError`}},cte=class extends _h{constructor(){super(`Collection.insert called directly (not within an explicit transaction) but no 'onInsert' handler is configured.`)}},lte=class extends _h{constructor(){super(`Collection.update called directly (not within an explicit transaction) but no 'onUpdate' handler is configured.`)}},ute=class extends _h{constructor(){super(`Collection.delete called directly (not within an explicit transaction) but no 'onDelete' handler is configured.`)}},vh=class extends oh{constructor(e){super(e),this.name=`TransactionError`}},dte=class extends vh{constructor(){super(`mutationFn is required when creating a transaction`)}},fte=class extends vh{constructor(){super(`You can no longer call .mutate() as the transaction is no longer pending`)}},pte=class extends vh{constructor(){super(`You can no longer call .rollback() as the transaction is already completed`)}},mte=class extends vh{constructor(){super(`You can no longer call .commit() as the transaction is no longer pending`)}},yh=class extends vh{constructor(){super(`No pending sync transaction to write to`)}},bh=class extends vh{constructor(){super(`The pending sync transaction is already committed, you can't still write to it.`)}},hte=class extends vh{constructor(){super(`No pending sync transaction to commit`)}},gte=class extends vh{constructor(){super(`The pending sync transaction is already committed, you can't commit it again.`)}},xh=class extends oh{constructor(e){super(e),this.name=`QueryBuilderError`}},_te=class extends xh{constructor(e){super(`Only one source is allowed in the ${e}`)}},vte=class extends xh{constructor(e){super(`A sub query passed to a ${e} must have a from clause itself`)}},yte=class extends xh{constructor(e){super(`Invalid source for live query: The value provided for alias "${e}" is not a Collection or subquery. Live queries only accept Collection instances or subqueries. Please ensure you're passing a valid Collection or QueryBuilder, not a plain array or other data type.`)}},Sh=class extends xh{constructor(e,t){super(`Invalid source for ${e}: Expected an object with a single key-value pair like { alias: collection }. For example: .from({ todos: todosCollection }). Got: ${t}`)}},bte=class extends xh{constructor(){super(`Join condition must be an equality expression`)}},xte=class extends xh{constructor(){super(`Query must have a from clause`)}},Ch=class extends oh{constructor(e){super(e),this.name=`QueryCompilationError`}},Ste=class extends Ch{constructor(){super(`DISTINCT requires a SELECT clause.`)}},Cte=class extends Ch{constructor(){super(`HAVING clause requires GROUP BY clause`)}},wte=class extends Ch{constructor(){super(`LIMIT and OFFSET require an ORDER BY clause to ensure deterministic results`)}},wh=class extends Ch{constructor(e,t,n){let r=t?`alias "${e}" (collection "${t}")`:`collection "${e}"`,i=n?.length?`. Available keys: ${n.join(`, `)}`:``;super(`Input for ${r} not found in inputs map${i}`)}},Tte=class extends Ch{constructor(e,t){super(`Subquery uses alias "${e}" which is already used in the parent query. Each alias must be unique across parent and subquery contexts. Parent query aliases: ${t.join(`, `)}. Please rename "${e}" in either the parent query or subquery to avoid conflicts.`)}},Ete=class extends Ch{constructor(e){super(`Unsupported FROM type: ${e}`)}},Dte=class extends Ch{constructor(e){super(`Unknown expression type: ${e}`)}},Ote=class extends Ch{constructor(){super(`Reference path cannot be empty`)}},kte=class extends Ch{constructor(e){super(`Unknown function: ${e}`)}},Th=class extends Ch{constructor(e){super(`Collection "${e}" not found during compilation of join`)}},Eh=class extends oh{constructor(e){super(e),this.name=`JoinError`}},Ate=class extends Eh{constructor(e){super(`Unsupported join type: ${e}`)}},jte=class extends Eh{constructor(e){super(`Invalid join condition: both expressions refer to the same source "${e}"`)}},Mte=class extends Eh{constructor(){super(`Invalid join condition: expressions must reference source aliases`)}},Nte=class extends Eh{constructor(e){super(`Invalid join condition: left expression refers to an unavailable source "${e}"`)}},Pte=class extends Eh{constructor(e){super(`Invalid join condition: right expression does not refer to the joined source "${e}"`)}},Fte=class extends Eh{constructor(){super(`Invalid join condition`)}},Ite=class extends Eh{constructor(e){super(`Unsupported join source type: ${e}`)}},Dh=class extends oh{constructor(e){super(e),this.name=`GroupByError`}},Lte=class extends Dh{constructor(e){super(`Non-aggregate expression '${e}' in SELECT must also appear in GROUP BY clause`)}},Rte=class extends Dh{constructor(e){super(`Unsupported aggregate function: ${e}`)}},zte=class extends Dh{constructor(e){super(`Aggregate function in HAVING clause must also be in SELECT clause: ${e}`)}},Bte=class extends Dh{constructor(e){super(`Unknown expression type in HAVING clause: ${e}`)}},Oh=class extends oh{constructor(e,t){let n=t instanceof Error?t.message:String(t);super(`Collection "${e}" sync cleanup function threw an error: ${n}`),this.name=`SyncCleanupError`}},Vte=class extends oh{constructor(e){super(e),this.name=`QueryOptimizerError`}},Hte=class extends Vte{constructor(){super(`Cannot combine empty expression list`)}},Ute=class extends Ch{constructor(e,t,n,r){super(`Internal error: subscription for alias '${e}' (remapped from '${t}', collection '${n}') is missing in join pipeline. Available aliases: ${r.join(`, `)}. This indicates a bug in alias tracking.`)}},Wte=class extends Ch{constructor(e){super(`Internal error: compiler returned aliases without inputs: ${e.join(`, `)}. This indicates a bug in query compilation. Please report this issue.`)}},Gte=class extends Ch{constructor(){super(`setWindow() can only be called on collections with an ORDER BY clause. Add .orderBy() to your query to enable window movement.`)}},kh=new WeakMap,Kte=1;function Ah(e){if(kh.has(e))return kh.get(e);let t=Kte++;return kh.set(e,t),t}var jh=(e,t,n)=>{let{nulls:r}=n;if(e==null&&t==null)return 0;if(e==null)return r===`first`?-1:1;if(t==null)return r===`first`?1:-1;if(typeof e==`string`&&typeof t==`string`&&n.stringSort===`locale`)return e.localeCompare(t,n.locale,n.localeOptions);if(Array.isArray(e)&&Array.isArray(t)){for(let r=0;r<Math.min(e.length,t.length);r++){let i=jh(e[r],t[r],n);if(i!==0)return i}return e.length-t.length}if(e instanceof Date&&t instanceof Date)return e.getTime()-t.getTime();let i=typeof e==`object`,a=typeof t==`object`;if(i||a){if(i&&a)return Ah(e)-Ah(t);if(i)return 1;if(a)return-1}return e<t?-1:e>t?1:0},qte=(e,t,n)=>jh(t,e,{...n,nulls:n.nulls===`first`?`last`:`first`});function Mh(e){return(t,n)=>e.direction===`asc`?jh(t,n,e):qte(t,n,e)}var Nh=Mh({direction:`asc`,nulls:`first`,stringSort:`locale`});function Jte(e,t){if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}var Yte=128;function Ph(e){return e instanceof Date?e.getTime():(typeof Buffer<`u`&&e instanceof Buffer||e instanceof Uint8Array)&&e.byteLength<=Yte?`__u8__${Array.from(e).join(`,`)}`:e}function Xte(e,t){if(e===t)return!0;let n=typeof Buffer<`u`&&e instanceof Buffer||e instanceof Uint8Array,r=typeof Buffer<`u`&&t instanceof Buffer||t instanceof Uint8Array;return n&&r?Jte(e,t):!1}function Fh(e){return e==null}function Ih(e){return e===!0}function Lh(e,t=!1){return zh(e,t)}function Rh(e){return zh(e,!0)}function zh(e,t){switch(e.type){case`val`:{let t=e.value;return()=>t}case`ref`:return t?Qte(e):Zte(e);case`func`:return $te(e,t);default:throw new Dte(e.type)}}function Zte(e){let[t,...n]=e.path;if(!t)throw new Ote;if(n.length===0)return e=>e[t];if(n.length===1){let e=n[0];return n=>n[t]?.[e]}else return e=>{let r=e[t];if(r===void 0)return;let i=r;for(let e of n){if(i==null)return i;i=i[e]}return i}}function Qte(e){let t=e.path;return e=>{let n=e;for(let e of t){if(n==null)return n;n=n[e]}return n}}function $te(e,t){let n=e.args.map(e=>zh(e,t));switch(e.name){case`eq`:{let e=n[0],t=n[1];return n=>{let r=Ph(e(n)),i=Ph(t(n));return Fh(r)||Fh(i)?null:Xte(r,i)}}case`gt`:{let e=n[0],t=n[1];return n=>{let r=e(n),i=t(n);return Fh(r)||Fh(i)?null:r>i}}case`gte`:{let e=n[0],t=n[1];return n=>{let r=e(n),i=t(n);return Fh(r)||Fh(i)?null:r>=i}}case`lt`:{let e=n[0],t=n[1];return n=>{let r=e(n),i=t(n);return Fh(r)||Fh(i)?null:r<i}}case`lte`:{let e=n[0],t=n[1];return n=>{let r=e(n),i=t(n);return Fh(r)||Fh(i)?null:r<=i}}case`and`:return e=>{let t=!1;for(let r of n){let n=r(e);if(n===!1)return!1;Fh(n)&&(t=!0)}return t?null:!0};case`or`:return e=>{let t=!1;for(let r of n){let n=r(e);if(n===!0)return!0;Fh(n)&&(t=!0)}return t?null:!1};case`not`:{let e=n[0];return t=>{let n=e(t);return Fh(n)?null:!n}}case`in`:{let e=n[0],t=n[1];return n=>{let r=e(n),i=t(n);return Fh(r)?null:Array.isArray(i)?i.includes(r):!1}}case`like`:{let e=n[0],t=n[1];return n=>{let r=e(n),i=t(n);return Fh(r)||Fh(i)?null:Bh(r,i,!1)}}case`ilike`:{let e=n[0],t=n[1];return n=>{let r=e(n),i=t(n);return Fh(r)||Fh(i)?null:Bh(r,i,!0)}}case`upper`:{let e=n[0];return t=>{let n=e(t);return typeof n==`string`?n.toUpperCase():n}}case`lower`:{let e=n[0];return t=>{let n=e(t);return typeof n==`string`?n.toLowerCase():n}}case`length`:{let e=n[0];return t=>{let n=e(t);return typeof n==`string`||Array.isArray(n)?n.length:0}}case`concat`:return e=>n.map(t=>{let n=t(e);try{return String(n??``)}catch{try{return JSON.stringify(n)||``}catch{return`[object]`}}}).join(``);case`coalesce`:return e=>{for(let t of n){let n=t(e);if(n!=null)return n}return null};case`add`:{let e=n[0],t=n[1];return n=>{let r=e(n),i=t(n);return(r??0)+(i??0)}}case`subtract`:{let e=n[0],t=n[1];return n=>{let r=e(n),i=t(n);return(r??0)-(i??0)}}case`multiply`:{let e=n[0],t=n[1];return n=>{let r=e(n),i=t(n);return(r??0)*(i??0)}}case`divide`:{let e=n[0],t=n[1];return n=>{let r=e(n),i=t(n)??0;return i===0?null:(r??0)/i}}case`isUndefined`:{let e=n[0];return t=>e(t)===void 0}case`isNull`:{let e=n[0];return t=>e(t)===null}default:throw new kte(e.name)}}function Bh(e,t,n){if(typeof e!=`string`||typeof t!=`string`)return!1;let r=n?e.toLowerCase():e,i=(n?t.toLowerCase():t).replace(/[.*+?^${}()|[\]\\]/g,`\\$&`);return i=i.replace(/%/g,`.*`),i=i.replace(/_/g,`.`),RegExp(`^${i}$`).test(r)}function Vh(e,t){return Hh(e,t,new Map)}function Hh(e,t,n){if(e===t)return!0;if(e==null||t==null||typeof e!=typeof t)return!1;if(e instanceof Date)return t instanceof Date?e.getTime()===t.getTime():!1;if(e instanceof RegExp)return t instanceof RegExp?e.source===t.source&&e.flags===t.flags:!1;if(e instanceof Map){if(!(t instanceof Map)||e.size!==t.size)return!1;if(n.has(e))return n.get(e)===t;n.set(e,t);let r=Array.from(e.entries()).every(([e,r])=>t.has(e)&&Hh(r,t.get(e),n));return n.delete(e),r}if(e instanceof Set){if(!(t instanceof Set)||e.size!==t.size)return!1;if(n.has(e))return n.get(e)===t;n.set(e,t);let r=Array.from(e),i=Array.from(t);if(r.every(e=>typeof e!=`object`))return n.delete(e),r.every(e=>t.has(e));let a=r.length===i.length;return n.delete(e),a}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)&&!(e instanceof DataView)&&!(t instanceof DataView)){let n=e,r=t;if(n.length!==r.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==r[e])return!1;return!0}if(Wh(e)&&Wh(t))return Uh(e)===Uh(t)?typeof e.equals==`function`?e.equals(t):e.toString()===t.toString():!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;if(n.has(e))return n.get(e)===t;n.set(e,t);let r=e.every((e,r)=>Hh(e,t[r],n));return n.delete(e),r}if(typeof e==`object`){if(n.has(e))return n.get(e)===t;n.set(e,t);let r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return n.delete(e),!1;let a=r.every(r=>r in t&&Hh(e[r],t[r],n));return n.delete(e),a}return!1}var ene=[`Temporal.Duration`,`Temporal.Instant`,`Temporal.PlainDate`,`Temporal.PlainDateTime`,`Temporal.PlainMonthDay`,`Temporal.PlainTime`,`Temporal.PlainYearMonth`,`Temporal.ZonedDateTime`];function Uh(e){return e[Symbol.toStringTag]}function Wh(e){let t=Uh(e);return typeof t==`string`&&ene.includes(t)}var Gh={direction:`asc`,nulls:`first`,stringSort:`locale`},tne=class{constructor(e){this.originalIndex=e}lookup(e,t){let n=e===`gt`?`lt`:e===`gte`?`lte`:e===`lt`?`gt`:e===`lte`?`gte`:e;return this.originalIndex.lookup(n,t)}rangeQuery(e={}){return this.originalIndex.rangeQueryReversed(e)}rangeQueryReversed(e={}){return this.originalIndex.rangeQuery(e)}take(e,t,n){return this.originalIndex.takeReversed(e,t,n)}takeReversed(e,t,n){return this.originalIndex.take(e,t,n)}get orderedEntriesArray(){return this.originalIndex.orderedEntriesArrayReversed}get orderedEntriesArrayReversed(){return this.originalIndex.orderedEntriesArray}supports(e){return this.originalIndex.supports(e)}matchesField(e){return this.originalIndex.matchesField(e)}matchesCompareOptions(e){return this.originalIndex.matchesCompareOptions(e)}matchesDirection(e){return this.originalIndex.matchesDirection(e)}getStats(){return this.originalIndex.getStats()}add(e,t){this.originalIndex.add(e,t)}remove(e,t){this.originalIndex.remove(e,t)}update(e,t,n){this.originalIndex.update(e,t,n)}build(e){this.originalIndex.build(e)}clear(){this.originalIndex.clear()}get keyCount(){return this.originalIndex.keyCount}equalityLookup(e){return this.originalIndex.equalityLookup(e)}inArrayLookup(e){return this.originalIndex.inArrayLookup(e)}get indexedKeysSet(){return this.originalIndex.indexedKeysSet}get valueMapData(){return this.originalIndex.valueMapData}};function Kh(e,t,n){let r=n??{...Gh,...e.compareOptions};for(let n of e.indexes.values())if(n.matchesField(t)&&n.matchesCompareOptions(r))return n.matchesDirection(r.direction)?n:new tne(n)}function nne(e){if(e.length===0)return new Set;if(e.length===1)return new Set(e[0]);let t=new Set(e[0]);for(let n=1;n<e.length;n++){let r=new Set;for(let i of t)e[n].has(i)&&r.add(i);t=r}return t}function rne(e){let t=new Set;for(let n of e)for(let e of n)t.add(e);return t}function ine(e,t){return qh(e,t)}function qh(e,t){if(e.type===`func`)switch(e.name){case`eq`:case`gt`:case`gte`:case`lt`:case`lte`:return one(e,t);case`and`:return sne(e,t);case`or`:return cne(e,t);case`in`:return lne(e,t)}return{canOptimize:!1,matchingKeys:new Set}}function ane(e,t){if(e.type!==`func`||e.args.length<2)return{canOptimize:!1,matchingKeys:new Set};let n=new Map;for(let t of e.args)if(t.type===`func`&&[`gt`,`gte`,`lt`,`lte`].includes(t.name)){let e=t;if(e.args.length===2){let t=e.args[0],r=e.args[1],i=null,a=null,o=e.name;if(t.type===`ref`&&r.type===`val`)i=t,a=r;else if(t.type===`val`&&r.type===`ref`)switch(i=r,a=t,o){case`gt`:o=`lt`;break;case`gte`:o=`lte`;break;case`lt`:o=`gt`;break;case`lte`:o=`gte`;break}if(i&&a){let e=i.path.join(`.`),t=a.value;n.has(e)||n.set(e,[]),n.get(e).push({operation:o,value:t})}}}for(let[e,r]of n)if(r.length>=2){let n=Kh(t,e.split(`.`));if(n&&n.supports(`gt`)&&n.supports(`lt`)){let e,t,i=!0,a=!0;for(let{operation:n,value:o}of r)switch(n){case`gt`:(e===void 0||o>e)&&(e=o,i=!1);break;case`gte`:(e===void 0||o>e)&&(e=o,i=!0);break;case`lt`:(t===void 0||o<t)&&(t=o,a=!1);break;case`lte`:(t===void 0||o<t)&&(t=o,a=!0);break}return{canOptimize:!0,matchingKeys:n.rangeQuery({from:e,to:t,fromInclusive:i,toInclusive:a})}}}return{canOptimize:!1,matchingKeys:new Set}}function one(e,t){if(e.type!==`func`||e.args.length!==2)return{canOptimize:!1,matchingKeys:new Set};let n=e.args[0],r=e.args[1],i=null,a=null,o=e.name;if(n.type===`ref`&&r.type===`val`)i=n,a=r;else if(n.type===`val`&&r.type===`ref`)switch(i=r,a=n,o){case`gt`:o=`lt`;break;case`gte`:o=`lte`;break;case`lt`:o=`gt`;break;case`lte`:o=`gte`;break}if(i&&a){let e=i.path,n=Kh(t,e);if(n){let e=a.value,t=o;return n.supports(t)?{canOptimize:!0,matchingKeys:n.lookup(t,e)}:{canOptimize:!1,matchingKeys:new Set}}}return{canOptimize:!1,matchingKeys:new Set}}function sne(e,t){if(e.type!==`func`||e.args.length<2)return{canOptimize:!1,matchingKeys:new Set};let n=ane(e,t);if(n.canOptimize)return n;let r=[];for(let n of e.args){let e=qh(n,t);e.canOptimize&&r.push(e)}return r.length>0?{canOptimize:!0,matchingKeys:nne(r.map(e=>e.matchingKeys))}:{canOptimize:!1,matchingKeys:new Set}}function cne(e,t){if(e.type!==`func`||e.args.length<2)return{canOptimize:!1,matchingKeys:new Set};let n=[];for(let r of e.args){let e=qh(r,t);e.canOptimize&&n.push(e)}return n.length>0?{canOptimize:!0,matchingKeys:rne(n.map(e=>e.matchingKeys))}:{canOptimize:!1,matchingKeys:new Set}}function lne(e,t){if(e.type!==`func`||e.args.length!==2)return{canOptimize:!1,matchingKeys:new Set};let n=e.args[0],r=e.args[1];if(n.type===`ref`&&r.type===`val`&&Array.isArray(r.value)){let e=n.path,i=r.value,a=Kh(t,e);if(a){if(a.supports(`in`))return{canOptimize:!0,matchingKeys:a.lookup(`in`,i)};if(a.supports(`eq`)){let e=new Set;for(let t of i){let n=a.lookup(`eq`,t);for(let t of n)e.add(t)}return{canOptimize:!0,matchingKeys:e}}}}return{canOptimize:!1,matchingKeys:new Set}}var une=class extends Map{constructor(e,t){super(t),this.defaultValue=e}get(e){return this.has(e)?super.get(e):this.defaultValue()}update(e,t){let n=t(this.get(e));return this.set(e,n),n}},Jh=3e4;function Yh(e,t){if(t.length<=Jh)e.push(...t);else for(let n=0;n<t.length;n+=Jh){let r=t.slice(n,n+Jh);e.push(...r)}}function dne(e,t,n){let r=0,i=e.length;for(;r<i;){let a=Math.floor((r+i)/2),o=n(e[a],t);if(o<0)r=a+1;else if(o>0)i=a;else return a}return r}var Xh=new class{constructor(){this.objectIds=new WeakMap,this.nextId=0}getId(e){if(typeof e!=`object`||!e){let t=String(e),n=0;for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);n=(n<<5)-n+r,n&=n}return n}return this.objectIds.has(e)||this.objectIds.set(e,this.nextId++),this.objectIds.get(e)}getStringId(e){return e===null?`null`:e===void 0?`undefined`:typeof e==`object`?`obj_${this.getId(e)}`:`str_${String(e)}`}};function fne(e,t){let[n,r]=e,[i,a]=t;return{onlyInA:[...Zh(n,Math.min(r,i)),...Zh(Math.max(n,a),r)],onlyInB:[...Zh(i,Math.min(a,n)),...Zh(Math.max(i,r),a)]}}function Zh(e,t){let n=[];for(let r=e;r<t;r++)n.push(r);return n}function Qh(e,t){return typeof e==typeof t?e<t?-1:e>t?1:0:typeof e==`string`?-1:1}var pne=$h(),mne=$h(),hne=$h(),gne=$h(),_ne=$h();function $h(){return Math.random()*(2**31-1)>>>0}var eg=new ArrayBuffer(8),vne=new DataView(eg),tg=new Uint8Array(eg),ng=class{constructor(){this.hash=pne,this.length=0,this.carry=0,this.carryBytes=0}_mix(e){e=Math.imul(e,3432918353),e=e<<15|e>>>17,e=Math.imul(e,461845907),this.hash^=e,this.hash=this.hash<<13|this.hash>>>19,this.hash=Math.imul(this.hash,5)+3864292196}writeByte(e){this.carry|=(e&255)<<8*this.carryBytes,this.carryBytes++,this.length++,this.carryBytes===4&&(this._mix(this.carry>>>0),this.carry=0,this.carryBytes=0)}update(e){switch(typeof e){case`symbol`:{this.update(_ne);let t=e.description;if(!t)return;for(let e=0;e<t.length;e++){let n=t.charCodeAt(e);this.writeByte(n&255),this.writeByte(n>>>8&255)}return}case`string`:this.update(mne);for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);this.writeByte(n&255),this.writeByte(n>>>8&255)}return;case`number`:vne.setFloat64(0,e,!0),this.writeByte(tg[0]),this.writeByte(tg[1]),this.writeByte(tg[2]),this.writeByte(tg[3]),this.writeByte(tg[4]),this.writeByte(tg[5]),this.writeByte(tg[6]),this.writeByte(tg[7]);return;case`bigint`:{let t=e;for(t<0n?(t=-t,this.update(gne)):this.update(hne);t>0n;)this.writeByte(Number(t&255n)),t>>=8n;e===0n&&this.writeByte(0);return}default:throw TypeError(`Unsupported input type: ${typeof e}`)}}digest(){if(this.carryBytes>0){let e=this.carry>>>0;e=Math.imul(e,3432918353),e=e<<15|e>>>17,e=Math.imul(e,461845907),this.hash^=e}return this.hash^=this.length,this.hash^=this.hash>>>16,this.hash=Math.imul(this.hash,2246822507),this.hash^=this.hash>>>13,this.hash=Math.imul(this.hash,3266489909),this.hash^=this.hash>>>16,this.hash>>>0}},yne=$h(),bne=$h(),xne=$h(),Sne=$h(),Cne=$h(),wne=$h(),Tne=$h(),Ene=$h(),rg=$h(),Dne=$h(),One=$h(),kne=$h(),Ane=128,ig=new WeakMap;function ag(e){let t=new ng;return og(t,e),t.digest()}function jne(e){let t=ig.get(e);if(t!==void 0)return t;let n;if(e instanceof Date)n=Mne(e);else if(typeof Buffer<`u`&&e instanceof Buffer||e instanceof Uint8Array)if(e.byteLength<=Ane)n=Nne(e);else return cg(e);else if(e instanceof File)return cg(e);else{let t=e,r=Ene;e instanceof Array&&(r=rg),e instanceof Map&&(r=Dne,t=[...e.entries()]),e instanceof Set&&(r=One,t=[...e.entries()]),n=Pne(t,r)}return ig.set(e,n),n}function Mne(e){let t=new ng;return t.update(Tne),t.update(e.getTime()),t.digest()}function Nne(e){let t=new ng;t.update(kne),t.update(e.byteLength);for(let n=0;n<e.byteLength;n++)t.writeByte(e[n]);return t.digest()}function Pne(e,t){let n=new ng;n.update(t);let r=Object.keys(e);r.sort(Ine);for(let t of r)n.update(Cne),n.update(t),og(n,e[t]);return n.digest()}function og(e,t){if(t===null){e.update(xne);return}switch(typeof t){case`undefined`:e.update(Sne);return;case`boolean`:e.update(t?yne:bne);return;case`number`:e.update(isNaN(t)?NaN:t===0?0:t);return;case`bigint`:case`string`:case`symbol`:e.update(t);return;case`object`:e.update(Fne(t));return;case`function`:e.update(cg(t));return;default:console.warn(`Ignored input during hashing because it is of type ${typeof t} which is not supported`)}}function Fne(e){let t=ig.get(e);return t===void 0&&(t=jne(e)),t}var sg=1;function cg(e){let t=ig.get(e);return t===void 0&&(t=sg^wne,sg++,ig.set(e,t)),t}function Ine(e,t){return e.localeCompare(t)}var lg=class e{#e;constructor(e=[]){this.#e=e}toString(e=!1){return`MultiSet(${JSON.stringify(this.#e,null,e?2:void 0)})`}toJSON(){return JSON.stringify(Array.from(this.getInner()))}static fromJSON(t){return new e(JSON.parse(t))}map(t){return new e(this.#e.map(([e,n])=>[t(e),n]))}filter(t){return new e(this.#e.filter(([e,n])=>t(e)))}negate(){return new e(this.#e.map(([e,t])=>[e,-t]))}concat(t){let n=[];return Yh(n,this.#e),Yh(n,t.getInner()),new e(n)}consolidate(){if(this.#e.length>0){let e=this.#e[0]?.[0];if(Array.isArray(e)&&e.length===2)return this.#t()}return this.#n()}#t(){let t=new Map,n=new Map,r=e=>{if(e.length!==2)throw Error(`Expected tuple of length 2`);let[t,n]=e;return`${Xh.getStringId(t)}|${Xh.getStringId(n)}`};for(let[e,i]of this.#e){if(!Array.isArray(e)||e.length!==2)return this.#n();let[a,o]=e;if(typeof a!=`string`&&typeof a!=`number`)return this.#n();let s;s=Array.isArray(o)&&o.length===2?r(o):Xh.getStringId(o);let c=a+`|`+s;t.set(c,(t.get(c)||0)+i),n.has(c)||n.set(c,e)}let i=[];for(let[e,r]of t)r!==0&&i.push([n.get(e),r]);return new e(i)}#n(){let t=new une(()=>0),n=new Map,r=!1,i=!1,a=!1;for(let[e,t]of this.#e)if(typeof e==`string`)r=!0;else if(typeof e==`number`)i=!0;else{a=!0;break}let o=a||r&&i;for(let[e,r]of this.#e){let i=o?ag(e):e;o&&!n.has(i)&&n.set(i,e),t.update(i,e=>e+r)}let s=[];for(let[e,r]of t.entries())if(r!==0){let t=o?n.get(e):e;s.push([t,r])}return new e(s)}extend(t){let n=t instanceof e?t.getInner():t;Yh(this.#e,n)}add(e,t){t!==0&&this.#e.push([e,t])}getInner(){return this.#e}},Lne=class{#e;constructor(e){this.#e=e}drain(){let e=[...this.#e].reverse();return this.#e.length=0,e}isEmpty(){return this.#e.length===0}},ug=class{#e=[];sendData(e){e instanceof lg||(e=new lg(e));for(let t of this.#e)t.unshift(e)}newReader(){let e=[];return this.#e.push(e),new Lne(e)}},dg=class{constructor(e,t,n){this.id=e,this.inputs=t,this.output=n}hasPendingWork(){return this.inputs.some(e=>!e.isEmpty())}},fg=class extends dg{constructor(e,t,n){super(e,[t],n),this.id=e}inputMessages(){return this.inputs[0].drain()}},Rne=class extends dg{constructor(e,t,n,r){super(e,[t,n],r),this.id=e}inputAMessages(){return this.inputs[0].drain()}inputBMessages(){return this.inputs[1].drain()}},pg=class extends fg{run(){for(let e of this.inputMessages())this.output.sendData(this.inner(e))}},zne=class{#e=[];#t=0;#n=!1;constructor(){}#r(){if(this.#n)throw Error(`Graph already finalized`)}getNextOperatorId(){return this.#r(),this.#t++}newInput(){this.#r();let e=new ug;return new Bne(this,e)}addOperator(e){this.#r(),this.#e.push(e)}finalize(){this.#r(),this.#n=!0}step(){if(!this.#n)throw Error(`Graph not finalized`);for(let e of this.#e)e.run()}pendingWork(){return this.#e.some(e=>e.hasPendingWork())}run(){for(;this.pendingWork();)this.step()}},mg=class{#e;#t;constructor(e,t){this.#e=e,this.#t=t}connectReader(){return this.#t.newReader()}get writer(){return this.#t}get graph(){return this.#e}pipe(...e){return e.reduce((e,t)=>t(e),this)}},Bne=class extends mg{sendData(e){this.writer.sendData(e)}},Vne=class extends pg{#e;constructor(e,t,n,r){super(e,t,n),this.#e=r}inner(e){return e.map(this.#e)}};function hg(e){return t=>{let n=new mg(t.graph,new ug),r=new Vne(t.graph.getNextOperatorId(),t.connectReader(),n.writer,e);return t.graph.addOperator(r),n}}var gg=Symbol(`NO_PREFIX`),_g=class extends Map{addValue(e,t){if(t===0)return this.size===0;let n=bg(e),r=this.get(n);if(xg(r)){let[i,a]=r;if(bg(i)!==n)throw Error(`Mismatching prefixes, this should never happen`);if(i===e||ag(i)===ag(e)){let r=a+t;r===0?this.delete(n):this.set(n,[e,r])}else{let a=new vg;a.set(ag(i),r),a.set(ag(e),[e,t]),this.set(n,a)}}else r===void 0?this.set(n,[e,t]):r.addValue(e,t)&&this.delete(n);return this.size===0}},vg=class extends Map{addValue(e,t){if(t===0)return this.size===0;let n=ag(e),r=this.get(n);if(r){let[,i]=r,a=i+t;a===0?this.delete(n):this.set(n,[e,a])}else this.set(n,[e,t]);return this.size===0}},yg=class e{#e;#t=new Map;constructor(){this.#e=new Map}static fromMultiSets(t){let n=new e;for(let e of t)for(let[t,r]of e.getInner()){let[e,i]=t;n.addValue(e,[i,r])}return n}toString(e=!1){return`Index(${JSON.stringify([...this.entries()],void 0,e?2:void 0)})`}get size(){return this.#e.size}has(e){return this.#e.has(e)}hasPresence(e){return(this.#t.get(e)||0)!==0}getConsolidatedMultiplicity(e){return this.#t.get(e)||0}getPresenceKeys(){return this.#t.keys()}get(e){return[...this.getIterator(e)]}*getIterator(e){let t=this.#e.get(e);if(xg(t))yield t;else if(t===void 0)return;else if(t instanceof vg)for(let e of t.values())yield e;else for(let e of t.values())if(xg(e))yield e;else for(let t of e.values())yield t}*entries(){for(let e of this.#e.keys())for(let t of this.getIterator(e))yield[e,t]}*entriesIterators(){for(let e of this.#e.keys())yield[e,this.getIterator(e)]}addValue(e,t){let[n,r]=t;if(r===0)return;let i=(this.#t.get(e)||0)+r;i===0?this.#t.delete(e):this.#t.set(e,i);let a=this.#e.get(e);if(a===void 0){this.#e.set(e,t);return}if(xg(a)){this.#n(e,a,n,r);return}if(a instanceof vg){let i=bg(n);if(i!==gg){let n=new _g;n.set(gg,a),n.set(i,t),this.#e.set(e,n)}else a.addValue(n,r)&&this.#e.delete(e)}else a.addValue(n,r)&&this.#e.delete(e)}#n(e,t,n,r){let[i,a]=t;if(i===n){let t=a+r;t===0?this.#e.delete(e):this.#e.set(e,[n,t]);return}let o=bg(n),s=bg(i);if(s===o&&(i===n||ag(i)===ag(n))){let t=a+r;t===0?this.#e.delete(e):this.#e.set(e,[n,t]);return}if(s===gg&&o===gg){let a=new vg;a.set(ag(i),t),a.set(ag(n),[n,r]),this.#e.set(e,a)}else{let a=new _g;if(s===o){let e=new vg;e.set(ag(i),t),e.set(ag(n),[n,r]),a.set(s,e)}else a.set(s,t),a.set(o,[n,r]);this.#e.set(e,a)}}append(e){for(let[t,n]of e.entries())this.addValue(t,n)}join(e){let t=[];if(this.size<=e.size)for(let[n,r]of this.entriesIterators()){if(!e.has(n))continue;let i=e.get(n);for(let[e,a]of r)for(let[r,o]of i)a!==0&&o!==0&&t.push([[n,[e,r]],a*o])}else for(let[n,r]of e.entriesIterators()){if(!this.has(n))continue;let e=this.get(n);for(let[i,a]of r)for(let[r,o]of e)o!==0&&a!==0&&t.push([[n,[r,i]],o*a])}return new lg(t)}};function bg(e){return Array.isArray(e)&&(typeof e[0]==`string`||typeof e[0]==`number`||typeof e[0]==`bigint`)?e[0]:gg}function xg(e){return Array.isArray(e)}var Sg=class extends fg{#e=new yg;#t=new yg;#n;constructor(e,t,n,r){super(e,t,n),this.#n=r}run(){let e=new Set;for(let t of this.inputMessages())for(let[n,r]of t.getInner()){let[t,i]=n;this.#e.addValue(t,[i,r]),e.add(t)}let t=[];for(let n of e){let e=this.#e.get(n),r=this.#t.get(n),i=this.#n(e),a=new Map,o=new Map;for(let[e,t]of i){let n=a.get(e)??0;a.set(e,n+t)}for(let[e,t]of r){let n=o.get(e)??0;o.set(e,n+t)}for(let[e,r]of o)a.has(e)||(t.push([[n,e],-r]),this.#t.addValue(n,[e,-r]));for(let[e,r]of a)o.has(e)||r!==0&&(t.push([[n,e],r]),this.#t.addValue(n,[e,r]));for(let[e,r]of a){let i=o.get(e);if(i!==void 0){let a=r-i;a!==0&&(t.push([[n,e],a]),this.#t.addValue(n,[e,a]))}}}t.length>0&&this.output.sendData(new lg(t))}};function Cg(e){return t=>{let n=new mg(t.graph,new ug),r=new Sg(t.graph.getNextOperatorId(),t.connectReader(),n.writer,e);return t.graph.addOperator(r),n}}function wg(e){return`pipe`in e}function Tg(e,t={}){let n=Object.fromEntries(Object.entries(t).filter(([e,t])=>!wg(t)));return Object.fromEntries(Object.entries(t).filter(([e,t])=>wg(t))),t=>{let r=`__original_key__`;return t.pipe(hg(t=>{let i=e(t),a=JSON.stringify(i),o={};o[r]=i;for(let[e,r]of Object.entries(n))o[e]=r.preMap(t);return[a,o]})).pipe(Cg(e=>{let t=0;for(let[n,r]of e)t+=r;if(t<=0)return[];let i={};i[r]=e[0]?.[0]?.[r];for(let[t,r]of Object.entries(n)){let n=e.map(([e,n])=>[e[t],n]);i[t]=r.reduce(n)}return[[i,1]]})).pipe(hg(([e,t])=>{let i=t[r],a={};Object.assign(a,i);for(let[e,r]of Object.entries(n))r.postMap?a[e]=r.postMap(t[e]):a[e]=t[e];return[e,a]}))}}function Eg(e=e=>e){return{preMap:t=>e(t),reduce:e=>{let t=0;for(let[n,r]of e)t+=n*r;return t}}}function Hne(e=e=>e){return{preMap:t=>e(t)==null?0:1,reduce:e=>{let t=0;for(let[n,r]of e)t+=n*r;return t}}}function Une(e=e=>e){return{preMap:t=>({sum:e(t),count:0}),reduce:e=>{let t=0,n=0;for(let[r,i]of e)t+=r.sum*i,n+=i;return{sum:t,count:n}},postMap:e=>e.sum/e.count}}function Wne(e){let t=e??(e=>e);return{preMap:e=>t(e),reduce:e=>{let t;for(let[n,r]of e)(!t||n&&n<t)&&(t=n);return t}}}function Gne(e){let t=e??(e=>e);return{preMap:e=>t(e),reduce:e=>{let t;for(let[n,r]of e)(!t||n&&n>t)&&(t=n);return t}}}function Kne(e=e=>e){return{preMap:t=>[e(t)],reduce:e=>{let t=[];for(let[n,r]of e)for(let e of n)for(let n=0;n<r;n++)t.push(e);return t.length===0?[]:(t.sort((e,t)=>e-t),t)},postMap:e=>{if(e.length===0)return 0;let t=Math.floor(e.length/2);return e.length%2==0?(e[t-1]+e[t])/2:e[t]}}}function qne(e=e=>e){return{preMap:t=>{let n=e(t),r=new Map;return r.set(n,1),r},reduce:e=>{let t=new Map;for(let[n,r]of e)for(let[e,i]of n.entries()){let n=t.get(e)||0;t.set(e,n+i*r)}return t},postMap:e=>{if(e.size===0)return 0;let t=0,n=0;for(let[r,i]of e.entries())i>n&&(n=i,t=r);return t}}}var Jne={sum:Eg,count:Hne,avg:Une,min:Wne,max:Gne,median:Kne,mode:qne},Yne=class extends pg{#e;constructor(e,t,n,r){super(e,t,n),this.#e=r}inner(e){return this.#e(e),e}};function Xne(e){return t=>{let n=new mg(t.graph,new ug),r=new Yne(t.graph.getNextOperatorId(),t.connectReader(),n.writer,e);return t.graph.addOperator(r),n}}var Zne=class extends pg{#e;constructor(e,t,n,r){super(e,t,n),this.#e=r}inner(e){return e.filter(this.#e)}};function Dg(e){return t=>{let n=new mg(t.graph,new ug),r=new Zne(t.graph.getNextOperatorId(),t.connectReader(),n.writer,e);return t.graph.addOperator(r),n}}var Qne=class extends fg{#e;constructor(e,t,n,r){super(e,t,n),this.#e=r}run(){for(let e of this.inputMessages())this.#e(e),this.output.sendData(e)}};function $ne(e){return t=>{let n=new mg(t.graph,new ug),r=new Qne(t.graph.getNextOperatorId(),t.connectReader(),n.writer,e);return t.graph.addOperator(r),n}}var ere=class extends fg{run(){let e=this.inputMessages();if(e.length===0)return;let t=new lg;for(let n of e)t.extend(n);let n=t.consolidate();n.getInner().length>0&&this.output.sendData(n)}};function tre(){return e=>{let t=new mg(e.graph,new ug),n=new ere(e.graph.getNextOperatorId(),e.connectReader(),t.writer);return e.graph.addOperator(n),t}}var nre=class extends Rne{#e=new yg;#t=new yg;#n;constructor(e,t,n,r,i=`inner`){super(e,t,n,r),this.#n=i}run(){let e=yg.fromMultiSets(this.inputAMessages()),t=yg.fromMultiSets(this.inputBMessages());if(e.size===0&&t.size===0)return;let n=new lg;this.#n!==`anti`&&this.emitInnerResults(e,t,n),(this.#n===`left`||this.#n===`full`||this.#n===`anti`)&&this.emitLeftOuterResults(e,t,n),(this.#n===`right`||this.#n===`full`)&&this.emitRightOuterResults(e,t,n),this.#e.append(e),this.#t.append(t),n.getInner().length>0&&this.output.sendData(n)}emitInnerResults(e,t,n){e.size>0&&n.extend(e.join(this.#t)),t.size>0&&n.extend(this.#e.join(t)),e.size>0&&t.size>0&&n.extend(e.join(t))}emitLeftOuterResults(e,t,n){if(e.size>0){for(let[r,i]of e.entriesIterators())if(this.#t.getConsolidatedMultiplicity(r)+t.getConsolidatedMultiplicity(r)===0)for(let[e,t]of i)t!==0&&n.add([r,[e,null]],t)}if(t.size>0)for(let e of t.getPresenceKeys()){let r=this.#t.getConsolidatedMultiplicity(e),i=t.getConsolidatedMultiplicity(e);if(i===0)continue;let a=r+i;if(r===0==(a===0))continue;let o=r===0;for(let[t,r]of this.#e.getIterator(e))r!==0&&n.add([e,[t,null]],o?-r:+r)}}emitRightOuterResults(e,t,n){if(t.size>0){for(let[r,i]of t.entriesIterators())if(this.#e.getConsolidatedMultiplicity(r)+e.getConsolidatedMultiplicity(r)===0)for(let[e,t]of i)t!==0&&n.add([r,[null,e]],t)}if(e.size>0)for(let t of e.getPresenceKeys()){let r=this.#e.getConsolidatedMultiplicity(t),i=e.getConsolidatedMultiplicity(t);if(i===0)continue;let a=r+i;if(r===0==(a===0))continue;let o=r===0;for(let[e,r]of this.#t.getIterator(t))r!==0&&n.add([t,[null,e]],o?-r:+r)}}};function rre(e,t=`inner`){return n=>{if(n.graph!==e.graph)throw Error(`Cannot join streams from different graphs`);let r=new mg(n.graph,new ug),i=new nre(n.graph.getNextOperatorId(),n.connectReader(),e.connectReader(),r.writer,t);return n.graph.addOperator(i),r}}var ire=class extends fg{#e;#t;constructor(e,t,n,r=e=>e){super(e,t,n),this.#e=r,this.#t=new Map}run(){let e=new Map;for(let t of this.inputMessages())for(let[n,r]of t.getInner()){let t=ag(this.#e(n)),i=(e.get(t)?.[0]??this.#t.get(t)??0)+r;e.set(t,[i,n])}let t=[];for(let[n,[r,i]]of e.entries()){let e=this.#t.get(n)??0;r===0?this.#t.delete(n):this.#t.set(n,r),e<=0&&r>0?t.push([[ag(this.#e(i)),i[1]],1]):e>0&&r<=0&&t.push([[ag(this.#e(i)),i[1]],-1])}t.length>0&&this.output.sendData(new lg(t))}};function are(e=e=>e){return t=>{let n=new mg(t.graph,new ug),r=new ire(t.graph.getNextOperatorId(),t.connectReader(),n.writer,e);return t.graph.addOperator(r),n}}function Og(e,t,n){let r=n[0];if(t!=null&&e>=t)throw Error(e+` >= `+t);if(e.slice(-1)===r||t&&t.slice(-1)===r)throw Error(`trailing zero`);if(t){let i=0;for(;(e[i]||r)===t[i];)i++;if(i>0)return t.slice(0,i)+Og(e.slice(i),t.slice(i),n)}let i=e?n.indexOf(e[0]):0,a=t==null?n.length:n.indexOf(t[0]);return a-i>1?n[Math.round(.5*(i+a))]:t&&t.length>1?t.slice(0,1):n[i]+Og(e.slice(1),null,n)}function kg(e){if(e.length!==Ag(e[0]))throw Error(`invalid integer part of order key: `+e)}function Ag(e){if(e>=`a`&&e<=`z`)return e.charCodeAt(0)-97+2;if(e>=`A`&&e<=`Z`)return 90-e.charCodeAt(0)+2;throw Error(`invalid order key head: `+e)}function jg(e){let t=Ag(e[0]);if(t>e.length)throw Error(`invalid order key: `+e);return e.slice(0,t)}function Mg(e,t){if(e===`A`+t[0].repeat(26))throw Error(`invalid order key: `+e);let n=jg(e);if(e.slice(n.length).slice(-1)===t[0])throw Error(`invalid order key: `+e)}function Ng(e,t){kg(e);let[n,...r]=e.split(``),i=!0;for(let e=r.length-1;i&&e>=0;e--){let n=t.indexOf(r[e])+1;n===t.length?r[e]=t[0]:(r[e]=t[n],i=!1)}if(i){if(n===`Z`)return`a`+t[0];if(n===`z`)return null;let e=String.fromCharCode(n.charCodeAt(0)+1);return e>`a`?r.push(t[0]):r.pop(),e+r.join(``)}else return n+r.join(``)}function ore(e,t){kg(e);let[n,...r]=e.split(``),i=!0;for(let e=r.length-1;i&&e>=0;e--){let n=t.indexOf(r[e])-1;n===-1?r[e]=t.slice(-1):(r[e]=t[n],i=!1)}if(i){if(n===`a`)return`Z`+t.slice(-1);if(n===`A`)return null;let e=String.fromCharCode(n.charCodeAt(0)-1);return e<`Z`?r.push(t.slice(-1)):r.pop(),e+r.join(``)}else return n+r.join(``)}function sre(e,t,n=`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`){if(e!=null&&Mg(e,n),t!=null&&Mg(t,n),e!=null&&t!=null&&e>=t)throw Error(e+` >= `+t);if(e==null){if(t==null)return`a`+n[0];let e=jg(t),r=t.slice(e.length);if(e===`A`+n[0].repeat(26))return e+Og(``,r,n);if(e<t)return e;let i=ore(e,n);if(i==null)throw Error(`cannot decrement any more`);return i}if(t==null){let t=jg(e),r=e.slice(t.length);return Ng(t,n)??t+Og(r,null,n)}let r=jg(e),i=e.slice(r.length),a=jg(t),o=t.slice(a.length);if(r===a)return r+Og(i,o,n);let s=Ng(r,n);if(s==null)throw Error(`cannot increment any more`);return s<t?s:r+Og(i,null,n)}var Pg=class{#e=[];#t;#n;#r;constructor(e,t,n){this.#n=e,this.#r=e+t,this.#t=n}get size(){let e=this.#n,t=this.#r-this.#n,n=this.#e.length-e;return Math.max(0,Math.min(t,n))}move({offset:e,limit:t}){let n=this.#n,r=this.#r-this.#n,i=[this.#n,this.#r===1/0?this.#n+this.size:this.#r];this.#n=e??n,this.#r=this.#n+(t??r);let{onlyInA:a,onlyInB:o}=fne(i,[this.#n,this.#r===1/0?Math.max(this.#n+this.size,i[1]):this.#r]),s=[];o.forEach(e=>{let t=this.#e[e];t&&s.push(t)});let c=[];return a.forEach(e=>{let t=this.#e[e];t&&c.push(t)}),{moveIns:s,moveOuts:c,changes:a.length+o.length>0}}insert(e){let t={moveIn:null,moveOut:null},n=this.#i(e),r=Fg(e,sre(n===0?null:Lg(this.#e[n-1]),n===this.#e.length?null:Lg(this.#e[n])));if(this.#e.splice(n,0,r),n<this.#r){let e=Math.max(n,this.#n);e<this.#e.length&&(t.moveIn=this.#e[e],this.#r<this.#e.length&&(t.moveOut=this.#e[this.#r]))}return t}delete(e){let t={moveIn:null,moveOut:null},n=this.#i(e),[r]=this.#e.splice(n,1);if(n<this.#r){if(t.moveOut=r,n<this.#n){let e=this.#n-1;e<this.#e.length?t.moveOut=this.#e[e]:t.moveOut=null}let e=this.#r-1;e<this.#e.length&&(t.moveIn=this.#e[e])}return t}#i(e){return dne(this.#e,Fg(e,``),(e,t)=>this.#t(Ig(e),Ig(t)))}},cre=class extends fg{#e=new Map;#t;constructor(e,t,n,r,i){super(e,t,n);let a=i.limit??1/0,o=i.offset??0;this.#t=this.createTopK(o,a,ure(r)),i.setSizeCallback?.(()=>this.#t.size),i.setWindowFn?.(this.moveTopK.bind(this))}createTopK(e,t,n){return new Pg(e,t,n)}moveTopK({offset:e,limit:t}){if(!(this.#t instanceof Pg))throw Error(`Cannot move B+-tree implementation of TopK with fractional index`);let n=[],r=this.#t.move({offset:e,limit:t});r.moveIns.forEach(e=>this.handleMoveIn(e,n)),r.moveOuts.forEach(e=>this.handleMoveOut(e,n)),r.changes&&this.output.sendData(new lg(n))}run(){let e=[];for(let t of this.inputMessages())for(let[n,r]of t.getInner()){let[t,i]=n;this.processElement(t,i,r,e)}e.length>0&&this.output.sendData(new lg(e))}processElement(e,t,n,r){let{oldMultiplicity:i,newMultiplicity:a}=this.addKey(e,n),o={moveIn:null,moveOut:null};i<=0&&a>0?o=this.#t.insert([e,t]):i>0&&a<=0&&(o=this.#t.delete([e,t])),this.handleMoveIn(o.moveIn,r),this.handleMoveOut(o.moveOut,r)}handleMoveIn(e,t){if(e){let[[n,r],i]=e;t.push([[n,[r,i]],1])}}handleMoveOut(e,t){if(e){let[[n,r],i]=e;t.push([[n,[r,i]],-1])}}getMultiplicity(e){return this.#e.get(e)??0}addKey(e,t){let n=this.getMultiplicity(e),r=n+t;return r===0?this.#e.delete(e):this.#e.set(e,r),{oldMultiplicity:n,newMultiplicity:r}}};function lre(e,t){let n=t||{};return t=>{let r=new mg(t.graph,new ug),i=new cre(t.graph.getNextOperatorId(),t.connectReader(),r.writer,e,n);return t.graph.addOperator(i),r}}function Fg(e,t){return[e,t]}function Ig(e){return e[0]}function Lg(e){return e[1]}function ure(e){return([t,n],[r,i])=>{let a=e(n,i);return a===0?Qh(t,r):a}}function dre(e,t,n){let r=n?.limit??1/0,i=n?.offset??0,a=n?.setSizeCallback,o=n?.setWindowFn,s=n?.comparator??((e,t)=>e===t?0:e<t?-1:1);return n=>n.pipe(e((e,n)=>s(t(e),t(n)),{limit:r,offset:i,setSizeCallback:a,setWindowFn:o}),tre())}function fre(e,t){return dre(lre,e,t)}var pre=class{constructor(e,t,n){this._root=Bg,this._size=0,this._maxNodeSize=n>=4?Math.min(n,256):32,this._compare=e,t&&this.setPairs(t)}get size(){return this._size}get length(){return this._size}get isEmpty(){return this._size===0}clear(){this._root=Bg,this._size=0}get(e,t){return this._root.get(e,t,this)}set(e,t,n){this._root.isShared&&(this._root=this._root.clone());let r=this._root.set(e,t,n,this);return r===!0||r===!1?r:(this._root=new mre([this._root,r]),!0)}has(e){return this.forRange(e,e,!0,void 0)!==0}delete(e){return this.editRange(e,e,!0,gre)!==0}get maxNodeSize(){return this._maxNodeSize}minKey(){return this._root.minKey()}maxKey(){return this._root.maxKey()}keysArray(){let e=[];return this._root.forRange(this.minKey(),this.maxKey(),!0,!1,this,0,(t,n)=>{e.push(t)}),e}nextHigherPair(e,t){return t||=[],e===void 0?this._root.minPair(t):this._root.getPairOrNextHigher(e,this._compare,!1,t)}nextHigherKey(e){let t=this.nextHigherPair(e,Vg);return t&&t[0]}nextLowerPair(e,t){return t||=[],e===void 0?this._root.maxPair(t):this._root.getPairOrNextLower(e,this._compare,!1,t)}nextLowerKey(e){let t=this.nextLowerPair(e,Vg);return t&&t[0]}setPairs(e,t){let n=0;for(let r of e)this.set(r[0],r[1],t)&&n++;return n}forRange(e,t,n,r,i){let a=this._root.forRange(e,t,n,!1,this,i||0,r);return typeof a==`number`?a:a.break}editRange(e,t,n,r,i){let a=this._root;a.isShared&&(this._root=a=a.clone());try{let o=a.forRange(e,t,n,!0,this,i||0,r);return typeof o==`number`?o:o.break}finally{let e;for(;a.keys.length<=1&&!a.isLeaf;)e||=a.isShared,this._root=a=a.keys.length===0?Bg:a.children[0];e&&(a.isShared=!0)}}},Rg=class e{get isLeaf(){return this.children===void 0}constructor(e=[],t){this.keys=e,this.values=t||zg,this.isShared=void 0}maxKey(){return this.keys[this.keys.length-1]}indexOf(e,t,n){let r=this.keys,i=0,a=r.length,o=a>>1;for(;i<a;){let t=n(r[o],e);if(t<0)i=o+1;else if(t>0)a=o;else if(t===0)return o;else if(e===e)return r.length;else throw Error(`BTree: NaN was used as a key`);o=i+a>>1}return o^t}minKey(){return this.keys[0]}minPair(e){if(this.keys.length!==0)return e[0]=this.keys[0],e[1]=this.values[0],e}maxPair(e){if(this.keys.length===0)return;let t=this.keys.length-1;return e[0]=this.keys[t],e[1]=this.values[t],e}clone(){let t=this.values;return new e(this.keys.slice(0),t===zg?t:t.slice(0))}get(e,t,n){let r=this.indexOf(e,-1,n._compare);return r<0?t:this.values[r]}getPairOrNextLower(e,t,n,r){let i=this.indexOf(e,-1,t),a=i<0?~i-1:n?i:i-1;if(a>=0)return r[0]=this.keys[a],r[1]=this.values[a],r}getPairOrNextHigher(e,t,n,r){let i=this.indexOf(e,-1,t),a=i<0?~i:n?i:i+1,o=this.keys;if(a<o.length)return r[0]=o[a],r[1]=this.values[a],r}set(e,t,n,r){let i=this.indexOf(e,-1,r._compare);if(i<0){if(i=~i,r._size++,this.keys.length<r._maxNodeSize)return this.insertInLeaf(i,e,t,r);{let n=this.splitOffRightSide(),a=this;return i>this.keys.length&&(i-=this.keys.length,a=n),a.insertInLeaf(i,e,t,r),n}}else return n!==!1&&(t!==void 0&&this.reifyValues(),this.keys[i]=e,this.values[i]=t),!1}reifyValues(){return this.values===zg?this.values=this.values.slice(0,this.keys.length):this.values}insertInLeaf(e,t,n,r){if(this.keys.splice(e,0,t),this.values===zg){for(;zg.length<r._maxNodeSize;)zg.push(void 0);if(n===void 0)return!0;this.values=zg.slice(0,this.keys.length-1)}return this.values.splice(e,0,n),!0}takeFromRight(e){let t=this.values;e.values===zg?t!==zg&&t.push(void 0):(t=this.reifyValues(),t.push(e.values.shift())),this.keys.push(e.keys.shift())}takeFromLeft(e){let t=this.values;e.values===zg?t!==zg&&t.unshift(void 0):(t=this.reifyValues(),t.unshift(e.values.pop())),this.keys.unshift(e.keys.pop())}splitOffRightSide(){let t=this.keys.length>>1;return new e(this.keys.splice(t),this.values===zg?zg:this.values.splice(t))}forRange(e,t,n,r,i,a,o){let s=i._compare,c,l;if(t===e){if(!n||(l=(c=this.indexOf(e,-1,s))+1,c<0))return a}else c=this.indexOf(e,0,s),l=this.indexOf(t,-1,s),l<0?l=~l:n===!0&&l++;let u=this.keys,d=this.values;if(o!==void 0)for(let e=c;e<l;e++){let t=u[e],n=o(t,d[e],a++);if(n!==void 0){if(r===!0){if(t!==u[e]||this.isShared===!0)throw Error(`BTree illegally changed or cloned in editRange`);n.delete?(this.keys.splice(e,1),this.values!==zg&&this.values.splice(e,1),i._size--,e--,l--):n.hasOwnProperty(`value`)&&(d[e]=n.value)}if(n.break!==void 0)return n}}else a+=l-c;return a}mergeSibling(e,t){if(this.keys.push.apply(this.keys,e.keys),this.values===zg){if(e.values===zg)return;this.values=this.values.slice(0,this.keys.length)}this.values.push.apply(this.values,e.reifyValues())}},mre=class e extends Rg{constructor(e,t){if(!t){t=[];for(let n=0;n<e.length;n++)t[n]=e[n].maxKey()}super(t),this.children=e}minKey(){return this.children[0].minKey()}minPair(e){return this.children[0].minPair(e)}maxPair(e){return this.children[this.children.length-1].maxPair(e)}get(e,t,n){let r=this.indexOf(e,0,n._compare),i=this.children;return r<i.length?i[r].get(e,t,n):void 0}getPairOrNextLower(e,t,n,r){let i=this.indexOf(e,0,t),a=this.children;if(i>=a.length)return this.maxPair(r);let o=a[i].getPairOrNextLower(e,t,n,r);return o===void 0&&i>0?a[i-1].maxPair(r):o}getPairOrNextHigher(e,t,n,r){let i=this.indexOf(e,0,t),a=this.children,o=a.length;if(i>=o)return;let s=a[i].getPairOrNextHigher(e,t,n,r);return s===void 0&&i<o-1?a[i+1].minPair(r):s}set(e,t,n,r){let i=this.children,a=r._maxNodeSize,o=r._compare,s=Math.min(this.indexOf(e,0,o),i.length-1),c=i[s];if(c.isShared&&(i[s]=c=c.clone()),c.keys.length>=a){let t;s>0&&(t=i[s-1]).keys.length<a&&o(c.keys[0],e)<0?(t.isShared&&(i[s-1]=t=t.clone()),t.takeFromRight(c),this.keys[s-1]=t.maxKey()):(t=i[s+1])!==void 0&&t.keys.length<a&&o(c.maxKey(),e)<0&&(t.isShared&&(i[s+1]=t=t.clone()),t.takeFromLeft(c),this.keys[s]=i[s].maxKey())}let l=c.set(e,t,n,r);if(l===!1)return!1;if(this.keys[s]=c.maxKey(),l===!0)return!0;if(this.keys.length<a)return this.insert(s+1,l),!0;{let e=this.splitOffRightSide(),t=this;return o(l.maxKey(),this.maxKey())>0&&(t=e,s-=this.keys.length),t.insert(s+1,l),e}}insert(e,t){this.children.splice(e,0,t),this.keys.splice(e,0,t.maxKey())}splitOffRightSide(){let t=this.children.length>>1;return new e(this.children.splice(t),this.keys.splice(t))}takeFromRight(e){this.keys.push(e.keys.shift()),this.children.push(e.children.shift())}takeFromLeft(e){this.keys.unshift(e.keys.pop()),this.children.unshift(e.children.pop())}forRange(e,t,n,r,i,a,o){let s=i._compare,c=this.keys,l=this.children,u=this.indexOf(e,0,s),d=u,f=Math.min(t===e?u:this.indexOf(t,0,s),c.length-1);if(r){if(d<=f)try{for(;d<=f;d++){l[d].isShared&&(l[d]=l[d].clone());let s=l[d].forRange(e,t,n,r,i,a,o);if(c[d]=l[d].maxKey(),typeof s!=`number`)return s;a=s}}finally{let e=i._maxNodeSize>>1;for(u>0&&u--,d=f;d>=u;d--)l[d].keys.length<=e&&(l[d].keys.length===0?(c.splice(d,1),l.splice(d,1)):this.tryMerge(d,i._maxNodeSize));l.length!==0&&l[0].keys.length===0&&_re(!1,`emptiness bug`)}}else for(;d<=f;d++){let s=l[d].forRange(e,t,n,r,i,a,o);if(typeof s!=`number`)return s;a=s}return a}tryMerge(e,t){let n=this.children;return e>=0&&e+1<n.length&&n[e].keys.length+n[e+1].keys.length<=t?(n[e].isShared&&(n[e]=n[e].clone()),n[e].mergeSibling(n[e+1],t),n.splice(e+1,1),this.keys.splice(e+1,1),this.keys[e]=n[e].maxKey(),!0):!1}mergeSibling(e,t){let n=this.keys.length;this.keys.push.apply(this.keys,e.keys);let r=e.children;if(this.children.push.apply(this.children,r),e.isShared&&!this.isShared)for(let e of r)e.isShared=!0;this.tryMerge(n-1,t)}},zg=[],hre={delete:!0},gre=()=>hre,Bg=(function(){let e=new Rg;return e.isShared=!0,e})(),Vg=[];function _re(e,...t){throw t.unshift(`B+ tree`),Error(t.join(` `))}function vre(){let e=new Map;function t(n){let r=n.join(`.`);if(e.has(r))return e.get(r);let i=new Proxy({},{get(e,r,i){if(r===`__refProxy`)return!0;if(r===`__path`)return n;if(r!==`__type`)return typeof r==`symbol`?Reflect.get(e,r,i):t([...n,String(r)])},has(e,t){return t===`__refProxy`||t===`__path`||t===`__type`?!0:Reflect.has(e,t)},ownKeys(e){return Reflect.ownKeys(e)},getOwnPropertyDescriptor(e,t){return t===`__refProxy`||t===`__path`||t===`__type`?{enumerable:!1,configurable:!0}:Reflect.getOwnPropertyDescriptor(e,t)}});return e.set(r,i),i}return t([])}function Hg(e){let t=new Map,n=0;function r(e){let i=e.join(`.`);if(t.has(i))return t.get(i);let a=new Proxy({},{get(t,n,i){if(n===`__refProxy`)return!0;if(n===`__path`)return e;if(n!==`__type`)return typeof n==`symbol`?Reflect.get(t,n,i):r([...e,String(n)])},has(e,t){return t===`__refProxy`||t===`__path`||t===`__type`?!0:Reflect.has(e,t)},ownKeys(t){let r=++n,i=`__SPREAD_SENTINEL__${e.join(`.`)}__${r}`;return Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{enumerable:!0,configurable:!0,value:!0}),Reflect.ownKeys(t)},getOwnPropertyDescriptor(e,t){return t===`__refProxy`||t===`__path`||t===`__type`?{enumerable:!1,configurable:!0}:Reflect.getOwnPropertyDescriptor(e,t)}});return t.set(i,a),a}return new Proxy({},{get(t,n,i){if(n===`__refProxy`)return!0;if(n===`__path`)return[];if(n===`__type`)return;if(typeof n==`symbol`)return Reflect.get(t,n,i);let a=String(n);if(e.includes(a))return r([a])},has(t,n){return n===`__refProxy`||n===`__path`||n===`__type`||typeof n==`string`&&e.includes(n)?!0:Reflect.has(t,n)},ownKeys(t){return[...e,`__refProxy`,`__path`,`__type`]},getOwnPropertyDescriptor(t,n){if(n===`__refProxy`||n===`__path`||n===`__type`)return{enumerable:!1,configurable:!0};if(typeof n==`string`&&e.includes(n))return{enumerable:!0,configurable:!0}}})}function Ug(e){return yre(e)?new Ym(e.__path):e&&typeof e==`object`&&`type`in e&&(e.type===`func`||e.type===`ref`||e.type===`val`||e.type===`agg`)?e:new Xm(e)}function yre(e){return e&&typeof e==`object`&&e.__refProxy===!0}function Wg(e,t){return new Zm(`eq`,[Ug(e),Ug(t)])}function Gg(e,t){return new Zm(`gt`,[Ug(e),Ug(t)])}function bre(e,t){return new Zm(`gte`,[Ug(e),Ug(t)])}function Kg(e,t){return new Zm(`lt`,[Ug(e),Ug(t)])}function qg(e,t,...n){return new Zm(`and`,[e,t,...n].map(e=>Ug(e)))}function xre(e,t,...n){return new Zm(`or`,[e,t,...n].map(e=>Ug(e)))}function Sre(e,t){return new Zm(`in`,[Ug(e),Ug(t)])}var Cre=class{constructor(e,t,n,r){this.lookupCount=0,this.totalLookupTime=0,this.lastUpdated=new Date,this.id=e,this.expression=t,this.compareOptions=Gh,this.name=n,this.initialize(r)}supports(e){return this.supportedOperations.has(e)}matchesField(e){return this.expression.type===`ref`&&this.expression.path.length===e.length&&this.expression.path.every((t,n)=>t===e[n])}matchesCompareOptions(e){return Vh({...this.compareOptions,direction:void 0},{...e,direction:void 0})}matchesDirection(e){return this.compareOptions.direction===e}getStats(){return{entryCount:this.keyCount,lookupCount:this.lookupCount,averageLookupTime:this.lookupCount>0?this.totalLookupTime/this.lookupCount:0,lastUpdated:this.lastUpdated}}evaluateIndexExpression(e){return Rh(this.expression)(e)}trackLookup(e){let t=performance.now()-e;this.lookupCount++,this.totalLookupTime+=t}updateTimestamp(){this.lastUpdated=new Date}},Jg=class extends Cre{constructor(e,t,n,r){super(e,t,n,r),this.supportedOperations=new Set([`eq`,`gt`,`gte`,`lt`,`lte`,`in`]),this.valueMap=new Map,this.indexedKeys=new Set,this.compareFn=Nh,this.compareFn=r?.compareFn??Nh,r?.compareOptions&&(this.compareOptions=r.compareOptions),this.orderedEntries=new pre(this.compareFn)}initialize(e){}add(e,t){let n;try{n=this.evaluateIndexExpression(t)}catch(t){throw Error(`Failed to evaluate index expression for key ${e}: ${t}`)}let r=Ph(n);if(this.valueMap.has(r))this.valueMap.get(r).add(e);else{let t=new Set([e]);this.valueMap.set(r,t),this.orderedEntries.set(r,void 0)}this.indexedKeys.add(e),this.updateTimestamp()}remove(e,t){let n;try{n=this.evaluateIndexExpression(t)}catch(t){console.warn(`Failed to evaluate index expression for key ${e} during removal:`,t);return}let r=Ph(n);if(this.valueMap.has(r)){let t=this.valueMap.get(r);t.delete(e),t.size===0&&(this.valueMap.delete(r),this.orderedEntries.delete(r))}this.indexedKeys.delete(e),this.updateTimestamp()}update(e,t,n){this.remove(e,t),this.add(e,n)}build(e){this.clear();for(let[t,n]of e)this.add(t,n)}clear(){this.orderedEntries.clear(),this.valueMap.clear(),this.indexedKeys.clear(),this.updateTimestamp()}lookup(e,t){let n=performance.now(),r;switch(e){case`eq`:r=this.equalityLookup(t);break;case`gt`:r=this.rangeQuery({from:t,fromInclusive:!1});break;case`gte`:r=this.rangeQuery({from:t,fromInclusive:!0});break;case`lt`:r=this.rangeQuery({to:t,toInclusive:!1});break;case`lte`:r=this.rangeQuery({to:t,toInclusive:!0});break;case`in`:r=this.inArrayLookup(t);break;default:throw Error(`Operation ${e} not supported by BTreeIndex`)}return this.trackLookup(n),r}get keyCount(){return this.indexedKeys.size}equalityLookup(e){let t=Ph(e);return new Set(this.valueMap.get(t)??[])}rangeQuery(e={}){let{from:t,to:n,fromInclusive:r=!0,toInclusive:i=!0}=e,a=new Set,o=Ph(t),s=Ph(n),c=o??this.orderedEntries.minKey(),l=s??this.orderedEntries.maxKey();return this.orderedEntries.forRange(c,l,i,(e,n)=>{if(!r&&this.compareFn(e,t)===0)return;let i=this.valueMap.get(e);i&&i.forEach(e=>a.add(e))}),a}rangeQueryReversed(e={}){let{from:t,to:n,fromInclusive:r=!0,toInclusive:i=!0}=e;return this.rangeQuery({from:n??this.orderedEntries.maxKey(),to:t??this.orderedEntries.minKey(),fromInclusive:i,toInclusive:r})}takeInternal(e,t,n,r,i=!1){let a=new Set,o=[],s,c=Ph(n);for(;(s=t(c))!==void 0&&o.length<e;){c=s[0];let t=this.valueMap.get(c);if(t&&t.size>0){let n=Array.from(t).sort(Qh);i&&n.reverse();for(let t of n){if(o.length>=e)break;!a.has(t)&&(r?.(t)??!0)&&(o.push(t),a.add(t))}}}return o}take(e,t,n){return this.takeInternal(e,e=>this.orderedEntries.nextHigherPair(e),t,n)}takeReversed(e,t,n){return this.takeInternal(e,e=>this.orderedEntries.nextLowerPair(e),t,n,!0)}inArrayLookup(e){let t=new Set;for(let n of e){let e=Ph(n),r=this.valueMap.get(e);r&&r.forEach(e=>t.add(e))}return t}get indexedKeysSet(){return this.indexedKeys}get orderedEntriesArray(){return this.orderedEntries.keysArray().map(e=>[e,this.valueMap.get(e)??new Set])}get orderedEntriesArrayReversed(){return this.takeReversed(this.orderedEntries.size).map(e=>[e,this.valueMap.get(e)??new Set])}get valueMapData(){return this.valueMap}};function Yg(e){return e.config.autoIndex===`eager`}function Xg(e,t,n,r,i){if(!Yg(n))return;let a=r??{...Gh,...n.compareOptions};if(!Array.from(n.indexes.values()).find(e=>e.matchesField(t)&&e.matchesCompareOptions(a)))try{n.createIndex(e=>{let n=e;for(let e of t)n=n[e];return n},{name:`auto:${t.join(`.`)}`,indexType:Jg,options:i?{compareFn:i,compareOptions:a}:{}})}catch(e){console.warn(`${n.id?`[${n.id}] `:``}Failed to create auto-index for field path "${t.join(`.`)}":`,e)}}function Zg(e,t){if(!Yg(t))return;let n=Qg(e);for(let{fieldName:e,fieldPath:r}of n)Xg(e,r,t)}function Qg(e){let t=[];function n(e){if(e.type!==`func`)return;let r=e;if(r.name===`and`){for(let e of r.args)n(e);return}if(![`eq`,`gt`,`gte`,`lt`,`lte`,`in`].includes(r.name)||r.args.length<1||r.args[0].type!==`ref`)return;let i=r.args[0].path;if(i.length===0)return;let a=i.join(`_`);t.push({fieldName:a,fieldPath:i})}return n(e),t}var{sum:$g,count:e_,avg:t_,min:n_,max:r_}=Jne;function i_(e,t){let n=new Map,r=[...e];if(!t)return{selectToGroupByIndex:n,groupByExpressions:r};for(let[e,i]of Object.entries(t)){if(i.type===`agg`)continue;let t=r.findIndex(e=>o_(i,e));if(t===-1)throw new Lte(e);n.set(e,t)}return{selectToGroupByIndex:n,groupByExpressions:r}}function a_(e,t,n,r,i){if(t.length===0){let t={};if(r)for(let[e,n]of Object.entries(r))n.type===`agg`&&(t[e]=s_(n));if(e=e.pipe(Tg(()=>({__singleGroup:!0}),t)),e=e.pipe(hg(([,e])=>{let t={...e.__select_results||{}};if(r)for(let[n,i]of Object.entries(r))i.type===`agg`&&(t[n]=e[n]);return[`single_group`,{...e,__select_results:t}]})),n&&n.length>0)for(let t of n){let n=Lh(c_(th(t),r||{}));e=e.pipe(Dg(([,e])=>Ih(n({result:e.__select_results}))))}if(i&&i.length>0)for(let t of i)e=e.pipe(Dg(([,e])=>Ih(t({result:e.__select_results}))));return e}let a=i_(t,r),o=t.map(e=>Lh(e)),s=([,e])=>{let n={...e};delete n.__select_results;let r={};for(let e=0;e<t.length;e++){let t=o[e],i=t(n);r[`__key_${e}`]=i}return r},c={};if(r)for(let[e,t]of Object.entries(r))t.type===`agg`&&(c[e]=s_(t));if(e=e.pipe(Tg(s,c)),e=e.pipe(hg(([,e])=>{let n=e.__select_results||{},i={};if(r)for(let[t,o]of Object.entries(r))if(o.type!==`agg`){let r=a.selectToGroupByIndex.get(t);r===void 0?i[t]=n[t]:i[t]=e[`__key_${r}`]}else i[t]=e[t];else for(let n=0;n<t.length;n++)i[`__key_${n}`]=e[`__key_${n}`];let o;if(t.length===1)o=e.__key_0;else{let n=[];for(let r=0;r<t.length;r++)n.push(e[`__key_${r}`]);o=JSON.stringify(n)}return[o,{...e,__select_results:i}]})),n&&n.length>0)for(let t of n){let n=Lh(c_(th(t),r||{}));e=e.pipe(Dg(([,e])=>n({result:e.__select_results})))}if(i&&i.length>0)for(let t of i)e=e.pipe(Dg(([,e])=>Ih(t({result:e.__select_results}))));return e}function o_(e,t){if(!e||!t||e.type!==t.type)return!1;switch(e.type){case`ref`:return!e.path||!t.path||e.path.length!==t.path.length?!1:e.path.every((e,n)=>e===t.path[n]);case`val`:return e.value===t.value;case`func`:return e.name===t.name&&e.args?.length===t.args?.length&&(e.args||[]).every((e,n)=>o_(e,t.args[n]));case`agg`:return e.name===t.name&&e.args?.length===t.args?.length&&(e.args||[]).every((e,n)=>o_(e,t.args[n]));default:return!1}}function s_(e){let t=Lh(e.args[0]),n=([,e])=>{let n=t(e);return typeof n==`number`?n:n==null?0:Number(n)},r=([,e])=>{let n=t(e);return typeof n==`number`||n instanceof Date?n:n==null?0:Number(n)},i=([,e])=>t(e);switch(e.name.toLowerCase()){case`sum`:return $g(n);case`count`:return e_(i);case`avg`:return t_(n);case`min`:return n_(r);case`max`:return r_(r);default:throw new Rte(e.name)}}function c_(e,t,n=`result`){switch(e.type){case`agg`:{let r=e;for(let[e,i]of Object.entries(t))if(i.type===`agg`&&l_(r,i))return new Ym([n,e]);throw new zte(r.name)}case`func`:{let n=e,r=n.args.map(e=>c_(e,t));return new Zm(n.name,r)}case`ref`:return e;case`val`:return e;default:throw new Bte(e.type)}}function l_(e,t){return e.name===t.name&&e.args.length===t.args.length&&e.args.every((e,n)=>o_(e,t.args[n]))}function u_(e,t,n,r,i,a,o,s,c){let l=n.map(e=>({compiledExpression:Lh(c_(e.expression,r,`__select_results`)),compareOptions:d_(e,i)})),u=e=>{let t=e;return n.length>1?l.map(e=>e.compiledExpression(t)):n.length===1?l[0].compiledExpression(t):null},d=(e,t)=>{if(n.length>1){let r=e,i=t;for(let e=0;e<n.length;e++){let t=l[e],n=Mh(t.compareOptions)(r[e],i[e]);if(n!==0)return n}return r.length-i.length}if(n.length===1){let n=l[0];return Mh(n.compareOptions)(e,t)}return Nh(e,t)},f,p;if(s){let t,r,o,l=e.from.alias,u=n[0],m=u.expression;if(m.type===`ref`){let n=ah(e,m,i);if(n){r=n.collection;let i=n.path[0],a=d_(u,r);i&&Xg(i,n.path,r,a,d),o=Lh(new Ym(n.path),!0),t=Kh(r,n.path,a),t?.supports(`gt`)||(t=void 0),l=m.path.length>1?String(m.path[0]):e.from.alias}}if(o){let u=n.every(e=>e.expression.type===`ref`)?n.map(t=>{let n=t.expression,r=ah(e,n,i);return Lh(r?new Ym(r.path):t.expression,!0)}):void 0;p={alias:l,offset:c??0,limit:s,comparator:(e,t)=>{if(n.length===1)return d(e&&o(e),t&&o(t));if(u){let n=e=>e&&u.map(t=>t(e));return d(n(e),n(t))}return 0},valueExtractorForRawRow:e=>{if(n.length===1)return o(e);if(u)return u.map(t=>t(e))},firstColumnValueExtractor:o,index:t,orderBy:n};let m=r?.id??i.id;a[m]=p,t&&(f=e=>{a[m].dataNeeded=()=>{let t=e();return Math.max(0,p.limit-t)}})}}return t.pipe(fre(u,{limit:s,offset:c,comparator:d,setSizeCallback:f,setWindowFn:e=>{o(t=>{e(t),p&&(p.offset=t.offset??p.offset,p.limit=t.limit??p.limit)})}}))}function d_(e,t){return e.compareOptions.stringSort===void 0?{...t.compareOptions,direction:e.compareOptions.direction,nulls:e.compareOptions.nulls}:e.compareOptions}function f_(e,t={}){let n=t=>{let n=[];for(let[r,i]of e.entries())(t?.(i)??!0)&&n.push({type:`insert`,key:r,value:i});return n};if(t.limit!==void 0&&!t.orderBy)throw Error(`limit cannot be used without orderBy`);if(t.orderBy){let n=t.where?p_(t.where):void 0,r=h_(e,t.orderBy,t.limit,n,t.optimizedOnly);if(r===void 0)return;let i=[];for(let t of r){let n=e.get(t);n!==void 0&&i.push({type:`insert`,key:t,value:n})}return i}if(!t.where)return n();try{let r=t.where,i=ine(r,e);if(i.canOptimize){let t=[];for(let n of i.matchingKeys){let r=e.get(n);r!==void 0&&t.push({type:`insert`,key:n,value:r})}return t}else return t.optimizedOnly?void 0:n(p_(r))}catch(r){console.warn(`${e.id?`[${e.id}] `:``}Error processing where clause, falling back to full scan:`,r);let i=p_(t.where);return t.optimizedOnly?void 0:n(i)}}function p_(e){let t=Rh(e);return e=>{try{return Ih(t(e))}catch{return!1}}}function m_(e,t){let n=p_(t.whereExpression);return t=>{let r=[];for(let e of t)if(e.type===`insert`)n(e.value)&&r.push(e);else if(e.type===`update`){let t=n(e.value),i=e.previousValue?n(e.previousValue):!1;t&&i?r.push(e):t&&!i?r.push({...e,type:`insert`}):!t&&i&&r.push({...e,type:`delete`,value:e.previousValue})}else n(e.value)&&r.push(e);(r.length>0||t.length===0)&&e(r)}}function h_(e,t,n,r,i){if(t.length===1){let i=t[0],a=i.expression;if(a.type===`ref`){let t=a.path,o=d_(i,e);Xg(t[0],t,e,o);let s=Kh(e,t,o);if(s&&s.supports(`gt`))return s.take(n??s.keyCount,void 0,t=>{let n=e.get(t);return n===void 0?!1:r?.(n)??!0})}}if(i)return;let a=[];for(let[t,n]of e.entries())(r?.(n)??!0)&&a.push({key:t,value:n});a.sort((e,n)=>{for(let r of t){let t=Mh(r.compareOptions)(g_(e.value,r.expression),g_(n.value,r.expression));if(t!==0)return t}return 0});let o=a.map(e=>e.key);return n===void 0?o:o.slice(0,n)}function g_(e,t){if(t.type===`ref`){let n=t,r=e;for(let e of n.path)r=r?.[e];return r}else if(t.type===`val`)return t.value;else return Rh(t)(e)}var __=class{constructor(e){this.map=new Map,this.sortedKeys=[],this.comparator=e}indexOf(e,t){let n=0,r=this.sortedKeys.length;if(!this.comparator){for(;n<r;){let t=Math.floor((n+r)/2),i=this.sortedKeys[t],a=Qh(e,i);if(a<0)r=t;else if(a>0)n=t+1;else return t}return n}for(;n<r;){let i=Math.floor((n+r)/2),a=this.sortedKeys[i],o=this.map.get(a),s=this.comparator(t,o);if(s<0)r=i;else if(s>0)n=i+1;else{let t=Qh(e,a);if(t<0)r=i;else if(t>0)n=i+1;else return i}}return n}set(e,t){if(this.map.has(e)){let t=this.map.get(e),n=this.indexOf(e,t);this.sortedKeys.splice(n,1)}let n=this.indexOf(e,t);return this.sortedKeys.splice(n,0,e),this.map.set(e,t),this}get(e){return this.map.get(e)}delete(e){if(this.map.has(e)){let t=this.map.get(e),n=this.indexOf(e,t);return this.sortedKeys.splice(n,1),this.map.delete(e)}return!1}has(e){return this.map.has(e)}clear(){this.map.clear(),this.sortedKeys=[]}get size(){return this.map.size}*[Symbol.iterator](){for(let e of this.sortedKeys)yield[e,this.map.get(e)]}entries(){return this[Symbol.iterator]()}keys(){return this.sortedKeys[Symbol.iterator]()}values(){return(function*(){for(let e of this.sortedKeys)yield this.map.get(e)}).call(this)}forEach(e){for(let t of this.sortedKeys)e(this.map.get(t),t,this.map)}},v_=class{constructor(e){this.pendingSyncedTransactions=[],this.syncedMetadata=new Map,this.optimisticUpserts=new Map,this.optimisticDeletes=new Set,this.size=0,this.syncedKeys=new Set,this.preSyncVisibleState=new Map,this.recentlySyncedKeys=new Set,this.hasReceivedFirstCommit=!1,this.isCommittingSyncTransactions=!1,this.commitPendingTransactions=()=>{let e=!1;for(let t of this.transactions.values())if(t.state===`persisting`){e=!0;break}let{committedSyncedTransactions:t,uncommittedSyncedTransactions:n,hasTruncateSync:r}=this.pendingSyncedTransactions.reduce((e,t)=>(t.committed?(e.committedSyncedTransactions.push(t),t.truncate===!0&&(e.hasTruncateSync=!0)):e.uncommittedSyncedTransactions.push(t),e),{committedSyncedTransactions:[],uncommittedSyncedTransactions:[],hasTruncateSync:!1});if(!e||r){this.isCommittingSyncTransactions=!0;let e=r?t.find(e=>e.truncate)?.optimisticSnapshot:null,i=new Set;for(let e of t)for(let t of e.operations)i.add(t.key);let a=this.preSyncVisibleState;if(a.size===0){a=new Map;for(let e of i){let t=this.get(e);t!==void 0&&a.set(e,t)}}let o=[],s=this.config.sync.rowUpdateMode||`partial`;for(let n of t){if(n.truncate){let t=new Set([...this.syncedData.keys(),...e?.upserts.keys()||[]]);for(let n of t){if(e?.deletes.has(n))continue;let t=e?.upserts.get(n)||this.syncedData.get(n);t!==void 0&&o.push({type:`delete`,key:n,value:t})}this.syncedData.clear(),this.syncedMetadata.clear(),this.syncedKeys.clear();for(let e of i)a.delete(e);this._events.emit(`truncate`,{type:`truncate`,collection:this.collection})}for(let e of n.operations){let t=e.key;switch(this.syncedKeys.add(t),e.type){case`insert`:this.syncedMetadata.set(t,e.metadata);break;case`update`:this.syncedMetadata.set(t,Object.assign({},this.syncedMetadata.get(t),e.metadata));break;case`delete`:this.syncedMetadata.delete(t);break}switch(e.type){case`insert`:this.syncedData.set(t,e.value);break;case`update`:if(s===`partial`){let n=Object.assign({},this.syncedData.get(t),e.value);this.syncedData.set(t,n)}else this.syncedData.set(t,e.value);break;case`delete`:this.syncedData.delete(t);break}}}if(r){let n=new Set;for(let e of t)for(let t of e.operations)(t.type===`insert`||t.type===`update`)&&n.add(t.key);let r=new Map(e.upserts),i=new Set(e.deletes);for(let[e,t]of r)if(!i.has(e))if(n.has(e)){let n=!1;for(let r=o.length-1;r>=0;r--){let i=o[r];if(i.key===e&&i.type===`insert`){i.value=t,n=!0;break}}n||o.push({type:`insert`,key:e,value:t})}else o.push({type:`insert`,key:e,value:t});if(o.length>0&&i.size>0){let e=[];for(let t of o)t.type===`insert`&&i.has(t.key)||e.push(t);o.length=0,o.push(...e)}this.lifecycle.status!==`ready`&&this.lifecycle.markReady()}if(this.optimisticUpserts.clear(),this.optimisticDeletes.clear(),this.isCommittingSyncTransactions=!1,r&&e){for(let[t,n]of e.upserts)this.optimisticUpserts.set(t,n);for(let t of e.deletes)this.optimisticDeletes.add(t)}for(let e of this.transactions.values())if(![`completed`,`failed`].includes(e.state)){for(let t of e.mutations)if(this.isThisCollection(t.collection)&&t.optimistic)switch(t.type){case`insert`:case`update`:this.optimisticUpserts.set(t.key,t.modified),this.optimisticDeletes.delete(t.key);break;case`delete`:this.optimisticUpserts.delete(t.key),this.optimisticDeletes.add(t.key);break}}let c=new Map;for(let e of this.transactions.values())if(e.state===`completed`)for(let t of e.mutations)t.optimistic&&this.isThisCollection(t.collection)&&i.has(t.key)&&c.set(t.key,{type:t.type,value:t.modified});for(let e of i){let t=a.get(e),n=this.get(e),r=c.get(e),i=!1;r&&(r.type===`delete`&&t!==void 0&&n===void 0&&Vh(r.value,t)||n!==void 0&&Vh(r.value,n))&&(i=!0),i||(t===void 0&&n!==void 0?o.push({type:`insert`,key:e,value:n}):t!==void 0&&n===void 0?o.push({type:`delete`,key:e,value:t}):t!==void 0&&n!==void 0&&!Vh(t,n)&&o.push({type:`update`,key:e,value:n,previousValue:t}))}this.size=this.calculateSize(),o.length>0&&this.indexes.updateIndexes(o),this.changes.emitEvents(o,!0),this.pendingSyncedTransactions=n,this.preSyncVisibleState.clear(),Promise.resolve().then(()=>{this.recentlySyncedKeys.clear()}),this.hasReceivedFirstCommit||=!0}},this.config=e,this.transactions=new __((e,t)=>e.compareCreatedAt(t)),this.syncedData=new __(e.compare)}setDeps(e){this.collection=e.collection,this.lifecycle=e.lifecycle,this.changes=e.changes,this.indexes=e.indexes,this._events=e.events}get(e){let{optimisticDeletes:t,optimisticUpserts:n,syncedData:r}=this;if(!t.has(e))return n.has(e)?n.get(e):r.get(e)}has(e){let{optimisticDeletes:t,optimisticUpserts:n,syncedData:r}=this;return t.has(e)?!1:n.has(e)?!0:r.has(e)}*keys(){let{syncedData:e,optimisticDeletes:t,optimisticUpserts:n}=this;for(let n of e.keys())t.has(n)||(yield n);for(let r of n.keys())!e.has(r)&&!t.has(r)&&(yield r)}*values(){for(let e of this.keys()){let t=this.get(e);t!==void 0&&(yield t)}}*entries(){for(let e of this.keys()){let t=this.get(e);t!==void 0&&(yield[e,t])}}*[Symbol.iterator](){for(let[e,t]of this.entries())yield[e,t]}forEach(e){let t=0;for(let[n,r]of this.entries())e(r,n,t++)}map(e){let t=[],n=0;for(let[r,i]of this.entries())t.push(e(i,r,n++));return t}isThisCollection(e){return e===this.collection}recomputeOptimisticState(e=!1){if(this.isCommittingSyncTransactions&&!e)return;let t=new Map(this.optimisticUpserts),n=new Set(this.optimisticDeletes);this.optimisticUpserts.clear(),this.optimisticDeletes.clear();let r=[];for(let e of this.transactions.values())[`completed`,`failed`].includes(e.state)||r.push(e);for(let e of r)for(let t of e.mutations)if(this.isThisCollection(t.collection)&&t.optimistic)switch(t.type){case`insert`:case`update`:this.optimisticUpserts.set(t.key,t.modified),this.optimisticDeletes.delete(t.key);break;case`delete`:this.optimisticUpserts.delete(t.key),this.optimisticDeletes.add(t.key);break}this.size=this.calculateSize();let i=[];this.collectOptimisticChanges(t,n,i);let a=i.filter(t=>!!(!this.recentlySyncedKeys.has(t.key)||e));if(this.pendingSyncedTransactions.length>0&&!e){let t=new Set;for(let e of this.pendingSyncedTransactions)for(let n of e.operations)t.add(n.key);let n=a.filter(e=>!(e.type===`delete`&&t.has(e.key)&&!r.some(t=>t.mutations.some(t=>this.isThisCollection(t.collection)&&t.key===e.key))));n.length>0&&this.indexes.updateIndexes(n),this.changes.emitEvents(n,e)}else a.length>0&&this.indexes.updateIndexes(a),this.changes.emitEvents(a,e)}calculateSize(){let e=this.syncedData.size,t=Array.from(this.optimisticDeletes).filter(e=>this.syncedData.has(e)&&!this.optimisticUpserts.has(e)).length,n=Array.from(this.optimisticUpserts.keys()).filter(e=>!this.syncedData.has(e)).length;return e-t+n}collectOptimisticChanges(e,t,n){let r=new Set([...e.keys(),...this.optimisticUpserts.keys(),...t,...this.optimisticDeletes]);for(let i of r){let r=this.get(i),a=this.getPreviousValue(i,e,t);a!==void 0&&r===void 0?n.push({type:`delete`,key:i,value:a}):a===void 0&&r!==void 0?n.push({type:`insert`,key:i,value:r}):a!==void 0&&r!==void 0&&a!==r&&n.push({type:`update`,key:i,value:r,previousValue:a})}}getPreviousValue(e,t,n){if(!n.has(e))return t.has(e)?t.get(e):this.syncedData.get(e)}scheduleTransactionCleanup(e){if(e.state===`completed`){this.transactions.delete(e.id);return}e.isPersisted.promise.then(()=>{this.transactions.delete(e.id)}).catch(()=>{})}capturePreSyncVisibleState(){if(this.pendingSyncedTransactions.length===0)return;let e=new Set;for(let t of this.pendingSyncedTransactions)for(let n of t.operations)e.add(n.key);for(let t of e)this.recentlySyncedKeys.add(t);for(let t of e)if(!this.preSyncVisibleState.has(t)){let e=this.get(t);e!==void 0&&this.preSyncVisibleState.set(t,e)}}onTransactionStateChange(){this.changes.shouldBatchEvents=this.pendingSyncedTransactions.length>0,this.capturePreSyncVisibleState(),this.recomputeOptimisticState(!1)}cleanup(){this.syncedData.clear(),this.syncedMetadata.clear(),this.optimisticUpserts.clear(),this.optimisticDeletes.clear(),this.size=0,this.pendingSyncedTransactions=[],this.syncedKeys.clear(),this.hasReceivedFirstCommit=!1}},y_=class{constructor(){this.listeners=new Map}on(e,t){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),()=>{this.listeners.get(e)?.delete(t)}}once(e,t){let n=this.on(e,e=>{t(e),n()});return n}off(e,t){this.listeners.get(e)?.delete(t)}waitFor(e,t){return new Promise((n,r)=>{let i,a=this.on(e,e=>{i&&=(clearTimeout(i),void 0),n(e),a()});t&&(i=setTimeout(()=>{i=void 0,a(),r(Error(`Timeout waiting for event ${String(e)}`))},t))})}emitInner(e,t){this.listeners.get(e)?.forEach(e=>{try{e(t)}catch(e){queueMicrotask(()=>{throw e})}})}clearListeners(){this.listeners.clear()}};function b_(e,t){if(t.length===0||e.length===0)return;if(e.length===1){let{expression:n,compareOptions:r}=e[0];return(r.direction===`asc`?Gg:Kg)(n,new Xm(t[0]))}let n=[];for(let r=0;r<e.length&&r<t.length;r++){let i=e[r],a=t[r],o=[];for(let n=0;n<r;n++){let r=e[n],i=t[n];o.push(Wg(r.expression,new Xm(i)))}let s=(i.compareOptions.direction===`asc`?Gg:Kg)(i.expression,new Xm(a));if(o.length===0)n.push(s);else{let e=[...o,s];n.push(e.reduce((e,t)=>qg(e,t)))}}return n.length===1?n[0]:n.reduce((e,t)=>xre(e,t))}var x_=class extends y_{constructor(e,t,n){super(),this.collection=e,this.callback=t,this.options=n,this.loadedInitialState=!1,this.snapshotSent=!1,this.loadedSubsets=[],this.sentKeys=new Set,this.limitedSnapshotRowCount=0,this._status=`ready`,this.pendingLoadSubsetPromises=new Set,n.onUnsubscribe&&this.on(`unsubscribed`,e=>n.onUnsubscribe(e)),n.whereExpression&&Zg(n.whereExpression,this.collection),this.callback=e=>{t(e),this.trackSentKeys(e)},this.filteredCallback=n.whereExpression?m_(this.callback,n):this.callback}get status(){return this._status}setOrderByIndex(e){this.orderByIndex=e}setStatus(e){if(this._status===e)return;let t=this._status;this._status=e,this.emitInner(`status:change`,{type:`status:change`,subscription:this,previousStatus:t,status:e});let n=`status:${e}`;this.emitInner(n,{type:n,subscription:this,previousStatus:t,status:e})}trackLoadSubsetPromise(e){e instanceof Promise&&(this.pendingLoadSubsetPromises.add(e),this.setStatus(`loadingSubset`),e.finally(()=>{this.pendingLoadSubsetPromises.delete(e),this.pendingLoadSubsetPromises.size===0&&this.setStatus(`ready`)}))}hasLoadedInitialState(){return this.loadedInitialState}hasSentAtLeastOneSnapshot(){return this.snapshotSent}emitEvents(e){let t=this.filterAndFlipChanges(e);this.filteredCallback(t)}requestSnapshot(e){if(this.loadedInitialState)return!1;let t={where:this.options.whereExpression,optimizedOnly:e?.optimizedOnly??!1};if(e){if(`where`in e){let n=e.where;if(t.where){let e=t.where;t.where=qg(e,n)}else t.where=n}}else this.loadedInitialState=!0;let n={where:t.where,subscription:this,orderBy:e?.orderBy,limit:e?.limit},r=this.collection._sync.loadSubset(n);this.loadedSubsets.push(n),(e?.trackLoadSubsetPromise??!0)&&this.trackLoadSubsetPromise(r);let i=this.collection.currentStateAsChanges(t);if(i===void 0)return!1;let a=i.filter(e=>!this.sentKeys.has(e.key));return this.snapshotSent=!0,this.callback(a),!0}requestLimitedSnapshot({orderBy:e,limit:t,minValues:n,offset:r}){if(!t)throw Error(`limit is required`);if(!this.orderByIndex)throw Error(`Ordered snapshot was requested but no index was found. You have to call setOrderByIndex before requesting an ordered snapshot.`);let i=n?.[0],a=this.orderByIndex,o=this.options.whereExpression,s=o?p_(o):void 0,c=e=>{if(this.sentKeys.has(e))return!1;let t=this.collection.get(e);return t===void 0?!1:s?.(t)??!0},l=i,u=[],d=[];if(i!==void 0){let{expression:n}=e[0],r=this.collection.currentStateAsChanges({where:Wg(n,new Xm(i))});if(r){let e=r.map(e=>e.key).filter(e=>!this.sentKeys.has(e)&&c(e));d.push(...e);let n=a.take(t-d.length,i,c);d.push(...n)}else d=a.take(t,i,c)}else d=a.take(t,i,c);let f=()=>Math.max(t-u.length,0),p=()=>d.length===0;for(;f()>0&&!p();){let e=new Set;for(let t of d){let n=this.collection.get(t);u.push({type:`insert`,key:t,value:n}),l=n,e.add(t)}d=a.take(f(),l,c)}let m=this.limitedSnapshotRowCount;this.callback(u),this.limitedSnapshotRowCount+=u.length,u.length>0&&(this.lastSentKey=u[u.length-1].key);let h;if(n!==void 0&&n.length>0){let t=b_(e,n);if(t){let{expression:r}=e[0],i=n[0],a;if(i instanceof Date){let e=new Date(i.getTime()+1);a=qg(bre(r,new Xm(i)),Kg(r,new Xm(e)))}else a=Wg(r,new Xm(i));h={whereFrom:t,whereCurrent:a,lastKey:this.lastSentKey}}}let g={where:o,limit:t,orderBy:e,cursor:h,offset:r??m,subscription:this},_=this.collection._sync.loadSubset(g);this.loadedSubsets.push(g),this.trackLoadSubsetPromise(_)}filterAndFlipChanges(e){if(this.loadedInitialState)return e;let t=[];for(let n of e){let e=n;if(!this.sentKeys.has(n.key)){if(n.type===`update`)e={...n,type:`insert`,previousValue:void 0};else if(n.type===`delete`)continue;this.sentKeys.add(n.key)}t.push(e)}return t}trackSentKeys(e){if(!this.loadedInitialState)for(let t of e)this.sentKeys.add(t.key)}unsubscribe(){for(let e of this.loadedSubsets)this.collection._sync.unloadSubset(e);this.loadedSubsets=[],this.emitInner(`unsubscribed`,{type:`unsubscribed`,subscription:this}),this.clearListeners()}},S_=class{constructor(){this.activeSubscribersCount=0,this.changeSubscriptions=new Set,this.batchedEvents=[],this.shouldBatchEvents=!1}setDeps(e){this.lifecycle=e.lifecycle,this.sync=e.sync,this.events=e.events,this.collection=e.collection}emitEmptyReadyEvent(){for(let e of this.changeSubscriptions)e.emitEvents([])}emitEvents(e,t=!1){if(this.shouldBatchEvents&&!t){this.batchedEvents.push(...e);return}let n=e;if(t&&(this.batchedEvents.length>0&&(n=[...this.batchedEvents,...e]),this.batchedEvents=[],this.shouldBatchEvents=!1),n.length!==0)for(let e of this.changeSubscriptions)e.emitEvents(n)}subscribeChanges(e,t={}){this.addSubscriber();let n=new x_(this.collection,e,{...t,onUnsubscribe:()=>{this.removeSubscriber(),this.changeSubscriptions.delete(n)}});return t.includeInitialState&&n.requestSnapshot({trackLoadSubsetPromise:!1}),this.changeSubscriptions.add(n),n}addSubscriber(){let e=this.activeSubscribersCount;this.activeSubscribersCount++,this.lifecycle.cancelGCTimer(),(this.lifecycle.status===`cleaned-up`||this.lifecycle.status===`idle`)&&this.sync.startSync(),this.events.emitSubscribersChange(this.activeSubscribersCount,e)}removeSubscriber(){let e=this.activeSubscribersCount;if(this.activeSubscribersCount--,this.activeSubscribersCount===0)this.lifecycle.startGCTimer();else if(this.activeSubscribersCount<0)throw new Zee;this.events.emitSubscribersChange(this.activeSubscribersCount,e)}cleanup(){this.batchedEvents=[],this.shouldBatchEvents=!1}},C_=e=>setTimeout(()=>{e({didTimeout:!0,timeRemaining:()=>50})},0),w_=e=>{clearTimeout(e)},T_=typeof window<`u`&&`requestIdleCallback`in window?(e,t)=>window.requestIdleCallback(e,t):(e,t)=>C_(e),E_=typeof window<`u`&&`cancelIdleCallback`in window?e=>window.cancelIdleCallback(e):w_,D_=class{constructor(e,t){this.status=`idle`,this.hasBeenReady=!1,this.hasReceivedFirstCommit=!1,this.onFirstReadyCallbacks=[],this.gcTimeoutId=null,this.idleCallbackId=null,this.config=e,this.id=t}setDeps(e){this.indexes=e.indexes,this.events=e.events,this.changes=e.changes,this.sync=e.sync,this.state=e.state}validateStatusTransition(e,t){if(e!==t&&!{idle:[`loading`,`error`,`cleaned-up`],loading:[`ready`,`error`,`cleaned-up`],ready:[`cleaned-up`,`error`],error:[`cleaned-up`,`idle`],"cleaned-up":[`loading`,`error`]}[e].includes(t))throw new hh(e,t,this.id)}setStatus(e,t=!1){if(e===`ready`&&!t)throw new ph(`You can't directly call "setStatus('ready'). You must use markReady instead.`);this.validateStatusTransition(this.status,e);let n=this.status;this.status=e,e===`ready`&&!this.indexes.isIndexesResolved&&this.indexes.resolveAllIndexes().catch(e=>{console.warn(`${this.config.id?`[${this.config.id}] `:``}Failed to resolve indexes:`,e)}),this.events.emitStatusChange(e,n)}validateCollectionUsable(e){switch(this.status){case`error`:throw new mh(e,this.id);case`cleaned-up`:this.sync.startSync();break}}markReady(){if(this.validateStatusTransition(this.status,`ready`),this.status===`loading`){if(this.setStatus(`ready`,!0),!this.hasBeenReady){this.hasBeenReady=!0,this.hasReceivedFirstCommit||=!0;let e=[...this.onFirstReadyCallbacks];this.onFirstReadyCallbacks=[],e.forEach(e=>e())}this.changes.changeSubscriptions.size>0&&this.changes.emitEmptyReadyEvent()}}startGCTimer(){this.gcTimeoutId&&clearTimeout(this.gcTimeoutId);let e=this.config.gcTime??3e5;e!==0&&(this.gcTimeoutId=setTimeout(()=>{this.changes.activeSubscribersCount===0&&this.scheduleIdleCleanup()},e))}cancelGCTimer(){this.gcTimeoutId&&=(clearTimeout(this.gcTimeoutId),null),this.idleCallbackId!==null&&(E_(this.idleCallbackId),this.idleCallbackId=null)}scheduleIdleCleanup(){this.idleCallbackId!==null&&E_(this.idleCallbackId),this.idleCallbackId=T_(e=>{this.changes.activeSubscribersCount===0?this.performCleanup(e)&&(this.idleCallbackId=null):this.idleCallbackId=null},{timeout:1e3})}performCleanup(e){return!e||e.timeRemaining()>0||e.didTimeout?(this.sync.cleanup(),this.state.cleanup(),this.changes.cleanup(),this.indexes.cleanup(),this.gcTimeoutId&&=(clearTimeout(this.gcTimeoutId),null),this.hasBeenReady=!1,this.onFirstReadyCallbacks=[],this.setStatus(`cleaned-up`),this.events.cleanup(),!0):(this.scheduleIdleCleanup(),!1)}onFirstReady(e){if(this.hasBeenReady){e();return}this.onFirstReadyCallbacks.push(e)}cleanup(){this.idleCallbackId!==null&&(E_(this.idleCallbackId),this.idleCallbackId=null),this.performCleanup()}},O_=Symbol(`liveQueryInternal`),k_=class{constructor(e,t){this.preloadPromise=null,this.syncCleanupFn=null,this.syncLoadSubsetFn=null,this.syncUnloadSubsetFn=null,this.pendingLoadSubsetPromises=new Set,this.config=e,this.id=t,this.syncMode=e.syncMode??`eager`}setDeps(e){this.collection=e.collection,this.state=e.state,this.lifecycle=e.lifecycle,this._events=e.events}startSync(){if(!(this.lifecycle.status!==`idle`&&this.lifecycle.status!==`cleaned-up`)){this.lifecycle.setStatus(`loading`);try{let e=A_(this.config.sync.sync({collection:this.collection,begin:()=>{this.state.pendingSyncedTransactions.push({committed:!1,operations:[],deletedKeys:new Set})},write:e=>{let t=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!t)throw new yh;if(t.committed)throw new bh;let n=this.config.getKey(e.value),r=e.type;if(e.type===`insert`){let i=this.state.syncedData.has(n),a=t.deletedKeys.has(n),o=t.truncate===!0;if(i&&!a&&!o){let t=this.state.syncedData.get(n);if(t!==void 0&&Vh(t,e.value))r=`update`;else{let e=this.config.utils[O_];throw new tte(n,this.id,{hasCustomGetKey:e?.hasCustomGetKey??!1,hasJoins:e?.hasJoins??!1})}}}let i={...e,type:r,key:n};t.operations.push(i),r===`delete`&&t.deletedKeys.add(n)},commit:()=>{let e=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!e)throw new hte;if(e.committed)throw new gte;e.committed=!0,this.state.commitPendingTransactions()},markReady:()=>{this.lifecycle.markReady()},truncate:()=>{let e=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!e)throw new yh;if(e.committed)throw new bh;e.operations=[],e.deletedKeys.clear(),e.truncate=!0,e.optimisticSnapshot={upserts:new Map(this.state.optimisticUpserts),deletes:new Set(this.state.optimisticDeletes)}}}));if(this.syncCleanupFn=e?.cleanup??null,this.syncLoadSubsetFn=e?.loadSubset??null,this.syncUnloadSubsetFn=e?.unloadSubset??null,this.syncMode===`on-demand`&&!this.syncLoadSubsetFn)throw new ch(`Collection "${this.id}" is configured with syncMode "on-demand" but the sync function did not return a loadSubset handler. Either provide a loadSubset handler or use syncMode "eager".`)}catch(e){throw this.lifecycle.setStatus(`error`),e}}}preload(){return this.preloadPromise?this.preloadPromise:(this.syncMode===`on-demand`&&console.warn(`${this.id?`[${this.id}] `:``}Calling .preload() on a collection with syncMode "on-demand" is a no-op. In on-demand mode, data is only loaded when queries request it. Instead, create a live query and call .preload() on that to load the specific data you need. See https://tanstack.com/blog/tanstack-db-0.5-query-driven-sync for more details.`),this.preloadPromise=new Promise((e,t)=>{if(this.lifecycle.status===`ready`){e();return}if(this.lifecycle.status===`error`){t(new Xee);return}if(this.lifecycle.onFirstReady(()=>{e()}),this.lifecycle.status===`idle`||this.lifecycle.status===`cleaned-up`)try{this.startSync()}catch(e){t(e);return}}),this.preloadPromise)}get isLoadingSubset(){return this.pendingLoadSubsetPromises.size>0}trackLoadPromise(e){let t=!this.isLoadingSubset;this.pendingLoadSubsetPromises.add(e),t&&this._events.emit(`loadingSubset:change`,{type:`loadingSubset:change`,collection:this.collection,isLoadingSubset:!0,previousIsLoadingSubset:!1,loadingSubsetTransition:`start`}),e.finally(()=>{let t=this.pendingLoadSubsetPromises.size===1&&this.pendingLoadSubsetPromises.has(e);this.pendingLoadSubsetPromises.delete(e),t&&this._events.emit(`loadingSubset:change`,{type:`loadingSubset:change`,collection:this.collection,isLoadingSubset:!1,previousIsLoadingSubset:!0,loadingSubsetTransition:`end`})})}loadSubset(e){if(this.syncMode===`eager`)return!0;if(this.syncLoadSubsetFn){let t=this.syncLoadSubsetFn(e);if(t instanceof Promise)return this.trackLoadPromise(t),t}return!0}unloadSubset(e){this.syncUnloadSubsetFn&&this.syncUnloadSubsetFn(e)}cleanup(){try{this.syncCleanupFn&&=(this.syncCleanupFn(),null)}catch(e){queueMicrotask(()=>{if(e instanceof Error){let t=new Oh(this.id,e);throw t.cause=e,t.stack=e.stack,t}else throw new Oh(this.id,e)})}this.preloadPromise=null}};function A_(e){if(typeof e==`function`)return{cleanup:e};if(typeof e==`object`)return e}function j_(e){return typeof e==`function`&&e.prototype!==void 0&&e.prototype.constructor===e}async function M_(e){return j_(e)?e:await e()}var N_=class{constructor(e,t,n,r,i,a){this.id=e,this.expression=t,this.name=n,this.resolver=r,this.options=i,this.collectionEntries=a,this.indexPromise=null,this.resolvedIndex=null,j_(this.resolver)&&(this.resolvedIndex=new this.resolver(this.id,this.expression,this.name,this.options),this.collectionEntries&&this.resolvedIndex.build(this.collectionEntries))}async resolve(){return this.resolvedIndex?this.resolvedIndex:(this.indexPromise||=this.createIndex(),this.resolvedIndex=await this.indexPromise,this.resolvedIndex)}isResolved(){return this.resolvedIndex!==null}getResolved(){if(!this.resolvedIndex)throw Error(`Index ${this.id} has not been resolved yet. Ensure collection is synced.`);return this.resolvedIndex}getId(){return this.id}getName(){return this.name}getExpression(){return this.expression}async createIndex(){return new(await(M_(this.resolver)))(this.id,this.expression,this.name,this.options)}},P_=class{constructor(e,t){this.indexId=e,this.lazyIndex=t}get index(){return this.lazyIndex.getResolved()}get isReady(){return this.lazyIndex.isResolved()}async whenReady(){return await this.lazyIndex.resolve()}get id(){return this.indexId}get name(){return this.isReady?this.index.name:this.lazyIndex.getName()}get expression(){return this.lazyIndex.getExpression()}supports(e){return this.index.supports(e)}getStats(){return this.index.getStats()}matchesField(e){let t=this.expression;return t.type===`ref`&&t.path.length===e.length&&t.path.every((t,n)=>t===e[n])}get keyCount(){return this.index.keyCount}get indexedKeysSet(){return this.index.indexedKeysSet}get orderedEntriesArray(){return this.index.orderedEntriesArray}get valueMapData(){return this.index.valueMapData}equalityLookup(e){return this.index.equalityLookup?.(e)??new Set}rangeQuery(e){return this.index.rangeQuery?.(e)??new Set}inArrayLookup(e){return this.index.inArrayLookup?.(e)??new Set}_getLazyWrapper(){return this.lazyIndex}},F_=class{constructor(){this.lazyIndexes=new Map,this.resolvedIndexes=new Map,this.isIndexesResolved=!1,this.indexCounter=0}setDeps(e){this.state=e.state,this.lifecycle=e.lifecycle}createIndex(e,t={}){this.lifecycle.validateCollectionUsable(`createIndex`);let n=++this.indexCounter,r=Ug(e(vre())),i=t.indexType??Jg,a=new N_(n,r,t.name,i,t.options,this.state.entries());if(this.lazyIndexes.set(n,a),i===Jg)try{let e=a.getResolved();this.resolvedIndexes.set(n,e)}catch(e){console.warn(`Failed to resolve BTreeIndex:`,e)}else if(typeof i==`function`&&i.prototype)try{let e=a.getResolved();this.resolvedIndexes.set(n,e)}catch{this.resolveSingleIndex(n,a).catch(e=>{console.warn(`Failed to resolve single index:`,e)})}else this.isIndexesResolved&&this.resolveSingleIndex(n,a).catch(e=>{console.warn(`Failed to resolve single index:`,e)});return new P_(n,a)}async resolveAllIndexes(){if(this.isIndexesResolved)return;let e=Array.from(this.lazyIndexes.entries()).map(async([e,t])=>{let n=await t.resolve();return n.build(this.state.entries()),this.resolvedIndexes.set(e,n),{indexId:e,resolvedIndex:n}});await Promise.all(e),this.isIndexesResolved=!0}async resolveSingleIndex(e,t){let n=await t.resolve();return n.build(this.state.entries()),this.resolvedIndexes.set(e,n),n}get indexes(){return this.resolvedIndexes}updateIndexes(e){for(let t of this.resolvedIndexes.values())for(let n of e)switch(n.type){case`insert`:t.add(n.key,n.value);break;case`update`:n.previousValue?t.update(n.key,n.previousValue,n.value):t.add(n.key,n.value);break;case`delete`:t.remove(n.key,n.value);break}}cleanup(){this.lazyIndexes.clear(),this.resolvedIndexes.clear()}},I_=new Set([`find`,`findLast`,`findIndex`,`findLastIndex`,`filter`,`map`,`flatMap`,`forEach`,`some`,`every`,`reduce`,`reduceRight`]),L_=new Set([`pop`,`push`,`shift`,`unshift`,`splice`,`sort`,`reverse`,`fill`,`copyWithin`]),R_=new Set([`set`,`delete`,`clear`,`add`]),z_=new Set([`entries`,`keys`,`values`,`forEach`]);function B_(e){return typeof e==`object`&&!!e&&!(e instanceof Date)&&!(e instanceof RegExp)&&!Wh(e)}function V_(e,t,n,r){if(I_.has(e))return function(...i){let a=i[0];if(typeof a!=`function`)return t.apply(n.copy_,i);let o=(e,t)=>{if(B_(e)){let{proxy:i}=r(e,{tracker:n,prop:String(t)});return i}return e},s=function(e,t,n){let r=o(e,t);return a.call(this,r,t,n)};if(e===`reduce`||e===`reduceRight`)return t.apply(n.copy_,[function(e,t,n,r){let i=o(t,n);return a.call(this,e,i,n,r)},...i.slice(1)]);let c=t.apply(n.copy_,[s,...i.slice(1)]);if((e===`find`||e===`findLast`)&&c&&typeof c==`object`){let e=n.copy_.indexOf(c);if(e!==-1)return o(c,e)}return e===`filter`&&Array.isArray(c)?c.map(e=>{let t=n.copy_.indexOf(e);return t===-1?e:o(e,t)}):c}}function wre(e,t){return function(){let n=e.copy_,r=0;return{next(){if(r>=n.length)return{done:!0,value:void 0};let i=n[r],a=i;if(B_(i)){let{proxy:n}=t(i,{tracker:e,prop:String(r)});a=n}return r++,{done:!1,value:a}},[Symbol.iterator](){return this}}}}function H_(e,t,n){return function(...r){let i=e.apply(t.copy_,r);return n(t),i}}function Tre(e,t,n,r,i,a,o){if(z_.has(e)||t===Symbol.iterator)return function(...s){let c=n.apply(i.copy_,s);if(e===`forEach`){let e=s[0];if(typeof e==`function`)return n.apply(r,[function(t,n,r){let a=e.call(this,t,n,r);return o(i),a},...s.slice(1)])}if(e===`entries`||e===`values`||e===Symbol.iterator.toString()||t===Symbol.iterator){let n=c,o=new Map;if(e===`values`&&r instanceof Map)for(let[e,t]of i.copy_.entries())o.set(t,e);let s=new Map;if(r instanceof Set)for(let e of i.copy_.values())s.set(e,e);return{next(){let c=n.next();if(!c.done&&c.value&&typeof c.value==`object`){if(e===`entries`&&Array.isArray(c.value)&&c.value.length===2){if(c.value[1]&&typeof c.value[1]==`object`){let e=c.value[0],t={tracker:i,prop:e,updateMap:t=>{i.copy_ instanceof Map&&i.copy_.set(e,t)}},{proxy:n}=a(c.value[1],t);c.value[1]=n}}else if(e===`values`||e===Symbol.iterator.toString()||t===Symbol.iterator)if(e===`values`&&r instanceof Map){let e=o.get(c.value);if(e!==void 0){let t={tracker:i,prop:e,updateMap:t=>{i.copy_ instanceof Map&&i.copy_.set(e,t)}},{proxy:n}=a(c.value,t);c.value=n}}else if(r instanceof Set){let e=c.value,t={tracker:i,prop:e,updateSet:t=>{i.copy_ instanceof Set&&(i.copy_.delete(e),i.copy_.add(t),s.set(e,t))}},{proxy:n}=a(c.value,t);c.value=n}else{let e=Symbol(`iterator-value`),{proxy:t}=a(c.value,{tracker:i,prop:e});c.value=t}}return c},[Symbol.iterator](){return this}}}return c}}function U_(...e){let t=typeof window<`u`&&typeof localStorage<`u`;(t&&localStorage.getItem(`DEBUG`)===`true`||!t&&typeof process<`u`&&{}.DEBUG===`true`)&&console.log(`[proxy]`,...e)}function W_(e,t=new WeakMap){if(typeof e!=`object`||!e)return e;if(t.has(e))return t.get(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e.source,e.flags);if(Array.isArray(e)){let n=[];return t.set(e,n),e.forEach((e,r)=>{n[r]=W_(e,t)}),n}if(ArrayBuffer.isView(e)&&!(e instanceof DataView)){let n=Object.getPrototypeOf(e).constructor,r=new n(e.length);t.set(e,r);for(let t=0;t<e.length;t++)r[t]=e[t];return r}if(e instanceof Map){let n=new Map;return t.set(e,n),e.forEach((e,r)=>{n.set(r,W_(e,t))}),n}if(e instanceof Set){let n=new Set;return t.set(e,n),e.forEach(e=>{n.add(W_(e,t))}),n}if(Wh(e))return e;let n={};for(let r in t.set(e,n),e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=W_(e[r],t));let r=Object.getOwnPropertySymbols(e);for(let i of r)n[i]=W_(e[i],t);return n}var G_=0;function Ere(){return G_+=1,G_}function K_(e,t){let n=new Map;function r(e,t){if(U_(`Object ID:`,e.constructor.name),n.has(e))return n.get(e);{let r=K_(e,t);return n.set(e,r),r}}let i=new Map,a={copy_:W_(e),originalObject:W_(e),proxyCount:Ere(),modified:!1,assigned_:{},parent:t,target:e};U_(`createChangeProxy called for target`,e,a.proxyCount);function o(e){e.modified||=!0,e.parent&&(U_(`propagating change to parent`),`updateMap`in e.parent?e.parent.updateMap(e.copy_):`updateSet`in e.parent?e.parent.updateSet(e.copy_):(e.parent.tracker.copy_[e.parent.prop]=e.copy_,e.parent.tracker.assigned_[e.parent.prop]=!0),o(e.parent.tracker))}function s(e){if(U_(`checkIfReverted called with assigned keys:`,Object.keys(e.assigned_)),Object.keys(e.assigned_).length===0&&Object.getOwnPropertySymbols(e.assigned_).length===0)return U_(`No assigned properties, returning true`),!0;for(let t in e.assigned_)if(e.assigned_[t]===!0){let n=e.copy_[t],r=e.originalObject[t];if(U_(`Checking property ${String(t)}, current:`,n,`original:`,r),!Vh(n,r))return U_(`Property ${String(t)} is different, returning false`),!1}else if(e.assigned_[t]===!1)return U_(`Property ${String(t)} was deleted, returning false`),!1;let t=Object.getOwnPropertySymbols(e.assigned_);for(let n of t)if(e.assigned_[n]===!0){let t=e.copy_[n],r=e.originalObject[n];if(!Vh(t,r))return U_(`Symbol property is different, returning false`),!1}else if(e.assigned_[n]===!1)return U_(`Symbol property was deleted, returning false`),!1;return U_(`All properties match original values, returning true`),!0}function c(e,t){U_(`checkParentStatus called for child prop:`,t);let n=s(e);U_(`Parent checkIfReverted returned:`,n),n&&(U_(`Parent is fully reverted, clearing tracking`),e.modified=!1,e.assigned_={},e.parent&&(U_(`Continuing up the parent chain`),c(e.parent.tracker,e.parent.prop)))}function l(e){if(U_(`createObjectProxy`,e),i.has(e))return U_(`proxyCache found match`),i.get(e);let n=new Proxy(e,{get(e,t){U_(`get`,e,t);let n=a.copy_[t]??a.originalObject[t],s=a.originalObject[t];if(U_(`value (at top of proxy get)`,n),Object.getOwnPropertyDescriptor(e,t)?.get)return n;if(typeof n==`function`){if(Array.isArray(e)){let e=t.toString();if(L_.has(e))return H_(n,a,o);let i=V_(e,n,a,r);if(i)return i;if(t===Symbol.iterator)return wre(a,r)}if(e instanceof Map||e instanceof Set){let i=t.toString();if(R_.has(i))return H_(n,a,o);let s=Tre(i,t,n,e,a,r,o);if(s)return s}return n.bind(e)}if(B_(n)){let{proxy:e}=r(s,{tracker:a,prop:String(t)});return i.set(n,e),e}return n},set(e,n,r){let i=a.copy_[n];if(U_(`set called for property ${String(n)}, current:`,i,`new:`,r),Vh(i,r))U_(`Value unchanged, not tracking`);else{let e=a.originalObject[n],i=Vh(r,e);if(U_(`value:`,r,`original:`,e,`isRevertToOriginal:`,i),i){U_(`Reverting property ${String(n)} to original value`),delete a.assigned_[n.toString()],U_(`Updating copy with original value for ${String(n)}`),a.copy_[n]=W_(e),U_(`Checking if all properties reverted`);let r=s(a);U_(`All reverted:`,r),r?(U_(`All properties reverted, clearing tracking`),a.modified=!1,a.assigned_={},t&&(U_(`Updating parent for property:`,t.prop),c(t.tracker,t.prop))):(U_(`Some properties still changed, keeping modified flag`),a.modified=!0)}else U_(`Setting new value for property ${String(n)}`),a.copy_[n]=r,a.assigned_[n.toString()]=!0,U_(`Marking object and ancestors as modified`,a),o(a)}return!0},defineProperty(e,t,n){let r=Reflect.defineProperty(e,t,n);return r&&`value`in n&&(a.copy_[t]=W_(n.value),a.assigned_[t.toString()]=!0,o(a)),r},getOwnPropertyDescriptor(e,t){return Reflect.getOwnPropertyDescriptor(e,t)},preventExtensions(e){return Reflect.preventExtensions(e)},isExtensible(e){return Reflect.isExtensible(e)},deleteProperty(e,t){U_(`deleteProperty`,e,t);let n=typeof t==`symbol`?t.toString():t;if(n in e){let r=n in a.originalObject,i=Reflect.deleteProperty(e,t);return i&&(r?(a.assigned_[n]=!1,o(a)):(delete a.assigned_[n],Object.keys(a.assigned_).length===0&&Object.getOwnPropertySymbols(a.assigned_).length===0?a.modified=!1:a.modified=!0)),i}return!0}});return i.set(e,n),n}return{proxy:l(a.copy_),getChanges:()=>{if(U_(`getChanges called, modified:`,a.modified),U_(a),!a.modified)return U_(`Object not modified, returning empty object`),{};if(typeof a.copy_!=`object`||Array.isArray(a.copy_)||Object.keys(a.assigned_).length===0)return a.copy_;let e={};for(let t in a.copy_)a.assigned_[t]===!0&&t in a.copy_&&(e[t]=a.copy_[t]);return U_(`Returning copy:`,e),e}}}function Dre(e){let t=e.map(e=>K_(e));return{proxies:t.map(e=>e.proxy),getChanges:()=>t.map(e=>e.getChanges())}}function Ore(e,t){let{proxy:n,getChanges:r}=K_(e);return t(n),r()}function kre(e,t){let{proxies:n,getChanges:r}=Dre(e);return t(n),r()}function Are(){let e,t,n=!0;return{promise:new Promise((r,i)=>{e=e=>{n=!1,r(e)},t=e=>{n=!1,i(e)}}),resolve:e,reject:t,isPending:()=>n}}function jre(e){return typeof e==`object`&&!!e&&typeof e.hasPendingGraphRun==`function`}var q_=new class{constructor(){this.contexts=new Map,this.clearListeners=new Set}getOrCreateContext(e){let t=this.contexts.get(e);return t||(t={queue:[],jobs:new Map,dependencies:new Map,completed:new Set},this.contexts.set(e,t)),t}schedule({contextId:e,jobId:t,dependencies:n,run:r}){if(e===void 0){r();return}let i=this.getOrCreateContext(e);if(i.jobs.has(t)||i.queue.push(t),i.jobs.set(t,r),n){let e=new Set(n);e.delete(t),i.dependencies.set(t,e)}else i.dependencies.has(t)||i.dependencies.set(t,new Set);i.completed.delete(t)}flush(e){let t=this.contexts.get(e);if(!t)return;let{queue:n,jobs:r,dependencies:i,completed:a}=t;for(;n.length>0;){let t=!1,o=n.length;for(let s=0;s<o;s++){let o=n.shift(),s=r.get(o);if(!s){i.delete(o),a.delete(o);continue}let c=i.get(o),l=!c;if(c){l=!0;for(let t of c){if(t===o)continue;let n=jre(t)&&t.hasPendingGraphRun(e);if(r.has(t)&&!a.has(t)||!r.has(t)&&n){l=!1;break}}}l?(r.delete(o),i.delete(o),s(),a.add(o),t=!0):n.push(o)}if(!t)throw Error(`Scheduler detected unresolved dependencies for context ${String(e)}.`)}this.contexts.delete(e)}flushAll(){for(let e of Array.from(this.contexts.keys()))this.flush(e)}clear(e){this.contexts.delete(e),this.clearListeners.forEach(t=>t(e))}onClear(e){return this.clearListeners.add(e),()=>this.clearListeners.delete(e)}hasPendingJobs(e){let t=this.contexts.get(e);return!!t&&t.jobs.size>0}clearJob(e,t){let n=this.contexts.get(e);n&&(n.jobs.delete(t),n.dependencies.delete(t),n.completed.delete(t),n.queue=n.queue.filter(e=>e!==t),n.jobs.size===0&&this.contexts.delete(e))}},J_=[],Y_=[],Mre=0;function Nre(e,t){switch(`${e.type}-${t.type}`){case`insert-update`:return{...e,type:`insert`,original:{},modified:t.modified,changes:{...e.changes,...t.changes},key:e.key,globalKey:e.globalKey,metadata:t.metadata??e.metadata,syncMetadata:{...e.syncMetadata,...t.syncMetadata},mutationId:t.mutationId,updatedAt:t.updatedAt};case`insert-delete`:return null;case`update-delete`:return t;case`update-update`:return{...t,original:e.original,changes:{...e.changes,...t.changes},metadata:t.metadata??e.metadata,syncMetadata:{...e.syncMetadata,...t.syncMetadata}};case`delete-delete`:case`insert-insert`:return t;default:{let n=`${e.type}-${t.type}`;throw Error(`Unhandled mutation combination: ${n}`)}}}function X_(e){let t=new Lre(e);return J_.push(t),t}function Z_(){if(Y_.length>0)return Y_.slice(-1)[0]}function Pre(e){q_.clear(e.id),Y_.push(e)}function Fre(e){try{q_.flush(e.id)}finally{Y_=Y_.filter(t=>t.id!==e.id)}}function Ire(e){let t=J_.findIndex(t=>t.id===e.id);t!==-1&&J_.splice(t,1)}var Lre=class{constructor(e){if(e.mutationFn===void 0)throw new dte;this.id=e.id??crypto.randomUUID(),this.mutationFn=e.mutationFn,this.state=`pending`,this.mutations=[],this.isPersisted=Are(),this.autoCommit=e.autoCommit??!0,this.createdAt=new Date,this.sequenceNumber=Mre++,this.metadata=e.metadata??{}}setState(e){this.state=e,(e===`completed`||e===`failed`)&&Ire(this)}mutate(e){if(this.state!==`pending`)throw new fte;Pre(this);try{e()}finally{Fre(this)}return this.autoCommit&&this.commit().catch(()=>{}),this}applyMutations(e){for(let t of e){let e=this.mutations.findIndex(e=>e.globalKey===t.globalKey);if(e>=0){let n=this.mutations[e],r=Nre(n,t);r===null?this.mutations.splice(e,1):this.mutations[e]=r}else this.mutations.push(t)}}rollback(e){let t=e?.isSecondaryRollback??!1;if(this.state===`completed`)throw new pte;if(this.setState(`failed`),!t){let e=new Set;this.mutations.forEach(t=>e.add(t.globalKey));for(let t of J_)t.state===`pending`&&t.mutations.some(t=>e.has(t.globalKey))&&t.rollback({isSecondaryRollback:!0})}return this.isPersisted.reject(this.error?.error),this.touchCollection(),this}touchCollection(){let e=new Set;for(let t of this.mutations)e.has(t.collection.id)||(t.collection._state.onTransactionStateChange(),t.collection._state.pendingSyncedTransactions.length>0&&t.collection._state.commitPendingTransactions(),e.add(t.collection.id))}async commit(){if(this.state!==`pending`)throw new mte;if(this.setState(`persisting`),this.mutations.length===0)return this.setState(`completed`),this.isPersisted.resolve(this),this;try{await this.mutationFn({transaction:this}),this.setState(`completed`),this.touchCollection(),this.isPersisted.resolve(this)}catch(e){let t=e instanceof Error?e:Error(String(e));throw this.error={message:t.message,error:t},this.rollback(),t}return this}compareCreatedAt(e){let t=this.createdAt.getTime()-e.createdAt.getTime();return t===0?this.sequenceNumber-e.sequenceNumber:t}},Rre=class{constructor(e,t){this.insert=(e,t)=>{this.lifecycle.validateCollectionUsable(`insert`);let n=this.state,r=Z_();if(!r&&!this.config.onInsert)throw new cte;let i=Array.isArray(e)?e:[e],a=[],o=new Set;if(i.forEach(e=>{let n=this.validateData(e,`insert`),r=this.config.getKey(n);if(this.state.has(r)||o.has(r))throw new ete(r);o.add(r);let i=this.generateGlobalKey(r,e),s={mutationId:crypto.randomUUID(),original:{},modified:n,changes:Object.fromEntries(Object.keys(e).map(e=>[e,n[e]])),globalKey:i,key:r,metadata:t?.metadata,syncMetadata:this.config.sync.getSyncMetadata?.()||{},optimistic:t?.optimistic??!0,type:`insert`,createdAt:new Date,updatedAt:new Date,collection:this.collection};a.push(s)}),r)return r.applyMutations(a),n.transactions.set(r.id,r),n.scheduleTransactionCleanup(r),n.recomputeOptimisticState(!0),r;{let e=X_({mutationFn:async e=>await this.config.onInsert({transaction:e.transaction,collection:this.collection})});return e.applyMutations(a),e.commit().catch(()=>void 0),n.transactions.set(e.id,e),n.scheduleTransactionCleanup(e),n.recomputeOptimisticState(!0),e}},this.delete=(e,t)=>{let n=this.state;this.lifecycle.validateCollectionUsable(`delete`);let r=Z_();if(!r&&!this.config.onDelete)throw new ute;if(Array.isArray(e)&&e.length===0)throw new ote;let i=Array.isArray(e)?e:[e],a=[];for(let e of i){if(!this.state.has(e))throw new ste(e);let r=this.generateGlobalKey(e,this.state.get(e)),i={mutationId:crypto.randomUUID(),original:this.state.get(e),modified:this.state.get(e),changes:this.state.get(e),globalKey:r,key:e,metadata:t?.metadata,syncMetadata:n.syncedMetadata.get(e)||{},optimistic:t?.optimistic??!0,type:`delete`,createdAt:new Date,updatedAt:new Date,collection:this.collection};a.push(i)}if(r)return r.applyMutations(a),n.transactions.set(r.id,r),n.scheduleTransactionCleanup(r),n.recomputeOptimisticState(!0),r;let o=X_({autoCommit:!0,mutationFn:async e=>this.config.onDelete({transaction:e.transaction,collection:this.collection})});return o.applyMutations(a),o.commit().catch(()=>void 0),n.transactions.set(o.id,o),n.scheduleTransactionCleanup(o),n.recomputeOptimisticState(!0),o},this.id=t,this.config=e}setDeps(e){this.lifecycle=e.lifecycle,this.state=e.state,this.collection=e.collection}ensureStandardSchema(e){if(e&&`~standard`in e)return e;throw new dh}validateData(e,t,n){if(!this.config.schema)return e;let r=this.ensureStandardSchema(this.config.schema);if(t===`update`&&n){let i=this.state.get(n);if(i&&e&&typeof e==`object`&&typeof i==`object`){let n=Object.assign({},i,e),a=r[`~standard`].validate(n);if(a instanceof Promise)throw new fh;if(`issues`in a&&a.issues)throw new sh(t,a.issues.map(e=>({message:e.message,path:e.path?.map(e=>String(e))})));let o=a.value,s=Object.keys(e);return Object.fromEntries(s.map(e=>[e,o[e]]))}}let i=r[`~standard`].validate(e);if(i instanceof Promise)throw new fh;if(`issues`in i&&i.issues)throw new sh(t,i.issues.map(e=>({message:e.message,path:e.path?.map(e=>String(e))})));return i.value}generateGlobalKey(e,t){if(typeof e!=`string`&&typeof e!=`number`)throw e===void 0?new Qee(t):new $ee(e,t);return`KEY::${this.id}/${e}`}update(e,t,n){if(e===void 0)throw new nte;let r=this.state;this.lifecycle.validateCollectionUsable(`update`);let i=Z_();if(!i&&!this.config.onUpdate)throw new lte;let a=Array.isArray(e),o=a?e:[e];if(a&&o.length===0)throw new rte;let s=typeof t==`function`?t:n,c=typeof t==`function`?{}:t,l=o.map(e=>{let t=this.state.get(e);if(!t)throw new ite(e);return t}),u;u=a?kre(l,s):[Ore(l[0],s)];let d=o.map((e,t)=>{let n=u[t];if(!n||Object.keys(n).length===0)return null;let i=l[t],a=this.validateData(n,`update`,e),o=Object.assign({},i,a),s=this.config.getKey(i),d=this.config.getKey(o);if(s!==d)throw new ate(s,d);let f=this.generateGlobalKey(d,o);return{mutationId:crypto.randomUUID(),original:i,modified:o,changes:Object.fromEntries(Object.keys(n).map(e=>[e,o[e]])),globalKey:f,key:e,metadata:c.metadata,syncMetadata:r.syncedMetadata.get(e)||{},optimistic:c.optimistic??!0,type:`update`,createdAt:new Date,updatedAt:new Date,collection:this.collection}}).filter(Boolean);if(d.length===0){let e=X_({mutationFn:async()=>{}});return e.commit().catch(()=>void 0),r.scheduleTransactionCleanup(e),e}if(i)return i.applyMutations(d),r.transactions.set(i.id,i),r.scheduleTransactionCleanup(i),r.recomputeOptimisticState(!0),i;let f=X_({mutationFn:async e=>this.config.onUpdate({transaction:e.transaction,collection:this.collection})});return f.applyMutations(d),f.commit().catch(()=>void 0),r.transactions.set(f.id,f),r.scheduleTransactionCleanup(f),r.recomputeOptimisticState(!0),f}},zre=class extends y_{constructor(){super()}setDeps(e){this.collection=e.collection}emit(e,t){this.emitInner(e,t)}emitStatusChange(e,t){this.emit(`status:change`,{type:`status:change`,collection:this.collection,previousStatus:t,status:e});let n=`status:${e}`;this.emit(n,{type:n,collection:this.collection,previousStatus:t,status:e})}emitSubscribersChange(e,t){this.emit(`subscribers:change`,{type:`subscribers:change`,collection:this.collection,previousSubscriberCount:t,subscriberCount:e})}cleanup(){this.clearListeners()}};function Q_(e){let t=new $_(e);return e.utils?t.utils=e.utils:t.utils={},t}var $_=class{constructor(e){if(this.utils={},this.insert=(e,t)=>this._mutations.insert(e,t),this.delete=(e,t)=>this._mutations.delete(e,t),!e)throw new lh;if(!e.sync)throw new uh;e.id?this.id=e.id:this.id=crypto.randomUUID(),this.config={...e,autoIndex:e.autoIndex??`eager`},this._changes=new S_,this._events=new zre,this._indexes=new F_,this._lifecycle=new D_(e,this.id),this._mutations=new Rre(e,this.id),this._state=new v_(e),this._sync=new k_(e,this.id),this.comparisonOpts=Bre(e),this._changes.setDeps({collection:this,lifecycle:this._lifecycle,sync:this._sync,events:this._events}),this._events.setDeps({collection:this}),this._indexes.setDeps({state:this._state,lifecycle:this._lifecycle}),this._lifecycle.setDeps({changes:this._changes,events:this._events,indexes:this._indexes,state:this._state,sync:this._sync}),this._mutations.setDeps({collection:this,lifecycle:this._lifecycle,state:this._state}),this._state.setDeps({collection:this,lifecycle:this._lifecycle,changes:this._changes,indexes:this._indexes,events:this._events}),this._sync.setDeps({collection:this,state:this._state,lifecycle:this._lifecycle,events:this._events}),e.startSync===!0&&this._sync.startSync()}get status(){return this._lifecycle.status}get subscriberCount(){return this._changes.activeSubscribersCount}onFirstReady(e){return this._lifecycle.onFirstReady(e)}isReady(){return this._lifecycle.status===`ready`}get isLoadingSubset(){return this._sync.isLoadingSubset}startSyncImmediate(){this._sync.startSync()}preload(){return this._sync.preload()}get(e){return this._state.get(e)}has(e){return this._state.has(e)}get size(){return this._state.size}*keys(){yield*this._state.keys()}*values(){yield*this._state.values()}*entries(){yield*this._state.entries()}*[Symbol.iterator](){yield*this._state[Symbol.iterator]()}forEach(e){return this._state.forEach(e)}map(e){return this._state.map(e)}getKeyFromItem(e){return this.config.getKey(e)}createIndex(e,t={}){return this._indexes.createIndex(e,t)}get indexes(){return this._indexes.indexes}validateData(e,t,n){return this._mutations.validateData(e,t,n)}get compareOptions(){return{...this.comparisonOpts}}update(e,t,n){return this._mutations.update(e,t,n)}get state(){let e=new Map;for(let[t,n]of this.entries())e.set(t,n);return e}stateWhenReady(){return this.size>0||this.isReady()?Promise.resolve(this.state):this.preload().then(()=>this.state)}get toArray(){return Array.from(this.values())}toArrayWhenReady(){return this.size>0||this.isReady()?Promise.resolve(this.toArray):this.preload().then(()=>this.toArray)}currentStateAsChanges(e={}){return f_(this,e)}subscribeChanges(e,t={}){return this._changes.subscribeChanges(e,t)}on(e,t){return this._events.on(e,t)}once(e,t){return this._events.once(e,t)}off(e,t){this._events.off(e,t)}waitFor(e,t){return this._events.waitFor(e,t)}async cleanup(){return this._lifecycle.cleanup(),Promise.resolve()}};function Bre(e){if(e.defaultStringCollation){let t=e.defaultStringCollation;return{stringSort:t.stringSort??`locale`,locale:t.stringSort===`locale`?t.locale:void 0,localeOptions:t.stringSort===`locale`?t.localeOptions:void 0}}else return{stringSort:`locale`}}var ev=class e{constructor(e={}){this.query={},this.query={...e}}_createRefForSource(t,n){let r;try{r=Object.keys(t)}catch{throw new Sh(n,t===null?`null`:`undefined`)}if(Array.isArray(t))throw new Sh(n,`array`);if(r.length!==1)throw r.length===0?new Sh(n,`empty object`):r.every(e=>!isNaN(Number(e)))?new Sh(n,`string`):new _te(n);let i=r[0],a=t[i],o;if(a instanceof $_)o=new qm(a,i);else if(a instanceof e){let e=a._getQuery();if(!e.from)throw new vte(n);o=new Jm(e,i)}else throw new yte(i);return[i,o]}from(t){let[,n]=this._createRefForSource(t,`from clause`);return new e({...this.query,from:n})}join(t,n,r=`left`){let[i,a]=this._createRefForSource(t,`join clause`),o=n(Hg([...this._getCurrentAliases(),i])),s,c;if(o.type===`func`&&o.name===`eq`&&o.args.length===2)s=o.args[0],c=o.args[1];else throw new bte;let l={from:a,type:r,left:s,right:c},u=this.query.join||[];return new e({...this.query,join:[...u,l]})}leftJoin(e,t){return this.join(e,t,`left`)}rightJoin(e,t){return this.join(e,t,`right`)}innerJoin(e,t){return this.join(e,t,`inner`)}fullJoin(e,t){return this.join(e,t,`full`)}where(t){let n=t(Hg(this._getCurrentAliases())),r=this.query.where||[];return new e({...this.query,where:[...r,n]})}having(t){let n=t(Hg(this._getCurrentAliases())),r=this.query.having||[];return new e({...this.query,having:[...r,n]})}select(t){let n=tv(t(Hg(this._getCurrentAliases())));return new e({...this.query,select:n,fnSelect:void 0})}orderBy(t,n=`asc`){let r=t(Hg(this._getCurrentAliases())),i=typeof n==`string`?{direction:n,nulls:`first`}:{direction:n.direction??`asc`,nulls:n.nulls??`first`,stringSort:n.stringSort,locale:n.stringSort===`locale`?n.locale:void 0,localeOptions:n.stringSort===`locale`?n.localeOptions:void 0},a=e=>({expression:Ug(e),compareOptions:i}),o=Array.isArray(r)?r.map(e=>a(e)):[a(r)],s=this.query.orderBy||[];return new e({...this.query,orderBy:[...s,...o]})}groupBy(t){let n=t(Hg(this._getCurrentAliases())),r=Array.isArray(n)?n.map(e=>Ug(e)):[Ug(n)],i=this.query.groupBy||[];return new e({...this.query,groupBy:[...i,...r]})}limit(t){return new e({...this.query,limit:t})}offset(t){return new e({...this.query,offset:t})}distinct(){return new e({...this.query,distinct:!0})}findOne(){return new e({...this.query,singleResult:!0})}_getCurrentAliases(){let e=[];if(this.query.from&&e.push(this.query.from.alias),this.query.join)for(let t of this.query.join)e.push(t.from.alias);return e}get fn(){let t=this;return{select(n){return new e({...t.query,select:void 0,fnSelect:n})},where(n){return new e({...t.query,fnWhere:[...t.query.fnWhere||[],n]})},having(n){return new e({...t.query,fnHaving:[...t.query.fnHaving||[],n]})}}}_getQuery(){if(!this.query.from)throw new xte;return this.query}};function Vre(e){return e===void 0?Ug(null):e instanceof Qm||e instanceof Zm||e instanceof Ym||e instanceof Xm?e:Ug(e)}function Hre(e){return typeof e==`object`&&!!e&&!$m(e)&&!e.__refProxy}function tv(e){if(!Hre(e))return Vre(e);let t={};for(let[n,r]of Object.entries(e)){if(typeof n==`string`&&n.startsWith(`__SPREAD_SENTINEL__`)){t[n]=r;continue}t[n]=tv(r)}return t}function Ure(e){return nv(e(new ev))}function nv(e){return e._getQuery()}function Wre(e){let t=Gre(e),n=e,r,i=0;for(;i<10&&!Vh(n,r);)r=n,n=rv(n),i++;return{optimizedQuery:iv(n),sourceWhereClauses:t}}function Gre(e){let t=new Map;if(!e.where||e.where.length===0)return t;let n=lv(ov(e.where).map(e=>cv(e)));for(let[r,i]of n.singleSource)Kre(e,r)&&t.set(r,i);return t}function Kre(e,t){if(e.from.alias===t)return e.from.type===`collectionRef`;if(e.join){for(let n of e.join)if(n.from.alias===t)return n.from.type===`collectionRef`}return!1}function rv(e){return qre({...e,from:e.from.type===`queryRef`?new Jm(rv(e.from.query),e.from.alias):e.from,join:e.join?.map(e=>({...e,from:e.from.type===`queryRef`?new Jm(rv(e.from.query),e.from.alias):e.from}))})}function qre(e){if(!e.where||e.where.length===0)return e;if(!e.join||e.join.length===0){if(e.where.length>1){let t=mv(ov(e.where));return{...e,where:[t]}}return e}let t=Yre(e,lv(ov(e.where.filter(e=>!nh(e))).map(e=>cv(e)))),n=e.where.filter(e=>nh(e));return n.length>0&&(t.where=[...t.where||[],...n]),t}function iv(e){return{...e,from:av(e.from),join:e.join?.map(e=>({...e,from:av(e.from)}))}}function av(e){if(e.type===`collectionRef`)return e;let t=iv(e.query);if(Jre(t)){let n=av(t.from);return n.type===`collectionRef`?new qm(n.collection,e.alias):new Jm(n.query,e.alias)}return new Jm(t,e.alias)}function Jre(e){return(!e.where||e.where.length===0)&&!e.select&&(!e.groupBy||e.groupBy.length===0)&&(!e.having||e.having.length===0)&&(!e.orderBy||e.orderBy.length===0)&&(!e.join||e.join.length===0)&&e.limit===void 0&&e.offset===void 0&&!e.fnSelect&&(!e.fnWhere||e.fnWhere.length===0)&&(!e.fnHaving||e.fnHaving.length===0)}function ov(e){let t=[];for(let n of e){let e=eh(n);t.push(...sv(e))}return t}function sv(e){if(e.type===`func`&&e.name===`and`){let t=[];for(let n of e.args)t.push(...sv(n));return t}else return[e]}function cv(e){let t=new Set,n=!1;function r(e){switch(e.type){case`ref`:if(e.path&&e.path.length>0){let r=e.path[0];r&&(t.add(r),e.path.length===1&&(n=!0))}break;case`func`:e.args&&e.args.forEach(r);break;case`val`:break;case`agg`:e.args&&e.args.forEach(r);break}}return r(e),{expression:e,touchedSources:t,hasNamespaceOnlyRef:n}}function lv(e){let t=new Map,n=[];for(let r of e)if(r.touchedSources.size===1&&!r.hasNamespaceOnlyRef){let e=Array.from(r.touchedSources)[0];t.has(e)||t.set(e,[]),t.get(e).push(r.expression)}else (r.touchedSources.size>1||r.hasNamespaceOnlyRef)&&n.push(r.expression);let r=new Map;for(let[e,n]of t)r.set(e,mv(n));return{singleSource:r,multiSource:n.length>0?mv(n):void 0}}function Yre(e,t){let n=new Set,r=dv(e.from,t.singleSource,n),i=e.join?e.join.map(e=>({...e,from:dv(e.from,t.singleSource,n)})):void 0,a=[];t.multiSource&&a.push(t.multiSource);let o=e.join&&e.join.some(e=>e.type===`left`||e.type===`right`||e.type===`full`);for(let[e,r]of t.singleSource)n.has(e)?o&&a.push(rh(r)):a.push(r);let s=a.length>1?[mv(a.flatMap(e=>sv(eh(e))))]:a;return{select:e.select,groupBy:e.groupBy?[...e.groupBy]:void 0,having:e.having?[...e.having]:void 0,orderBy:e.orderBy?[...e.orderBy]:void 0,limit:e.limit,offset:e.offset,distinct:e.distinct,fnSelect:e.fnSelect,fnWhere:e.fnWhere?[...e.fnWhere]:void 0,fnHaving:e.fnHaving?[...e.fnHaving]:void 0,from:r,join:i,where:s.length>0?s:[]}}function uv(e){return{from:e.from.type===`collectionRef`?new qm(e.from.collection,e.from.alias):new Jm(uv(e.from.query),e.from.alias),select:e.select,join:e.join?e.join.map(e=>({type:e.type,left:e.left,right:e.right,from:e.from.type===`collectionRef`?new qm(e.from.collection,e.from.alias):new Jm(uv(e.from.query),e.from.alias)})):void 0,where:e.where?[...e.where]:void 0,groupBy:e.groupBy?[...e.groupBy]:void 0,having:e.having?[...e.having]:void 0,orderBy:e.orderBy?[...e.orderBy]:void 0,limit:e.limit,offset:e.offset,fnSelect:e.fnSelect,fnWhere:e.fnWhere?[...e.fnWhere]:void 0,fnHaving:e.fnHaving?[...e.fnHaving]:void 0}}function dv(e,t,n){let r=t.get(e.alias);if(!r)return e.type===`collectionRef`?new qm(e.collection,e.alias):new Jm(uv(e.query),e.alias);if(e.type===`collectionRef`){let t={from:new qm(e.collection,e.alias),where:[r]};return n.add(e.alias),new Jm(t,e.alias)}if(!tie(e.query,r,e.alias)||rie(e.query,r,e.alias))return new Jm(uv(e.query),e.alias);let i=e.query.where||[],a={...uv(e.query),where:[...i,r]};return n.add(e.alias),new Jm(a,e.alias)}function Xre(e,t,n){return e.select?fv(e.select)||nie(e.select,t,n):!1}function Zre(e){return e.groupBy&&e.groupBy.length>0}function Qre(e){return e.having&&e.having.length>0}function $re(e){return e.orderBy&&e.orderBy.length>0&&(e.limit!==void 0||e.offset!==void 0)}function eie(e){return e.fnSelect||e.fnWhere&&e.fnWhere.length>0||e.fnHaving&&e.fnHaving.length>0}function tie(e,t,n){return!(Xre(e,t,n)||Zre(e)||Qre(e)||$re(e)||eie(e))}function fv(e){for(let t of Object.values(e))if(typeof t==`object`){let e=t;if(e.type===`agg`||!(`type`in e)&&fv(e))return!0}return!1}function pv(e){let t=[];if(typeof e!=`object`||!e)return t;switch(e.type){case`ref`:t.push(e);break;case`func`:case`agg`:for(let n of e.args??[])t.push(...pv(n));break}return t}function nie(e,t,n){let r=new Set;for(let[t,n]of Object.entries(e))t.startsWith(`__SPREAD_SENTINEL__`)||n instanceof Ym||r.add(t);let i=pv(t);for(let e of i){let t=e.path;if(!Array.isArray(t)||t.length<2)continue;let i=t[0],a=t[1];if(i===n&&r.has(a))return!0}return!1}function rie(e,t,n){let r=pv(t);if(r.every(e=>e.path[0]!==n))return!1;if(e.fnSelect)return!0;let i=e.select;if(!i)return!1;for(let t of r){let r=t.path;if(r.length<2||r[0]!==n)continue;let a=i[r[1]];if(!a)continue;if(!(a instanceof Ym)||a.path.length<2)return!0;let[o,s]=a.path;if(o!==n&&o!==e.from.alias||s!==r[1])return!0}return!1}function mv(e){if(e.length===0)throw new Hte;return e.length===1?e[0]:new Zm(`and`,e)}function iie(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_){let v=e;for(let e of t)v=aie(v,e,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_);return v}function aie(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_){let v=t.from.type===`collectionRef`,{alias:y,input:b,collectionId:x}=sie(t.from,a,c,l,u,d,f,p,o,s,h,g,_);n[y]=b,v&&(g[y]=x);let S=c[r],C=c[x];if(!S)throw new Th(r);if(!C)throw new Th(x);let{activeSource:w,lazySource:T}=lie(t.type,S,C),E=Object.keys(n),{mainExpr:D,joinedExpr:O}=oie(t.left,t.right,E,y),k=Lh(D),A=Lh(O),j=e.pipe(hg(([e,t])=>[k(t),[e,t]])),M=b.pipe(hg(([e,t])=>{let n={[y]:t};return[A(n),[e,n]]}));if(![`inner`,`left`,`right`,`full`].includes(t.type))throw new Ate(t.type);if(w){let e=w===`main`?t.from:m.from,n=e.type===`queryRef`&&(e.query.limit||e.query.offset),r=D.type===`func`||O.type===`func`;if(!n&&!r){let e=w===`main`?y:i;d.add(e);let t=w===`main`?j:M,n=ah(m,w===`main`?O:D,T),r=n.collection,a=n.path[0];a&&Xg(a,n.path,r);let o=t.pipe(Xne(t=>{let r=_[e]||e,i=l[r];if(!i)throw new Ute(r,e,T.id,Object.keys(l));if(i.hasLoadedInitialState())return;let a=t.getInner().map(([[e]])=>e),o=new Ym(n.path);i.requestSnapshot({where:Sre(o,a),optimizedOnly:!0})||i.requestSnapshot()}));w===`main`?j=o:M=o}}return j.pipe(rre(M,t.type),cie(t.type))}function oie(e,t,n,r){let i=n.filter(e=>e!==r),a=hv(e),o=hv(t);if(a&&i.includes(a)&&o===r)return{mainExpr:e,joinedExpr:t};if(a===r&&o&&i.includes(o))return{mainExpr:t,joinedExpr:e};throw!a||!o?new Mte:a===o?new jte(a):i.includes(a)?o===r?new Fte:new Pte(r):new Nte(a)}function hv(e){switch(e.type){case`ref`:return e.path[0]||null;case`func`:{let t=new Set;for(let n of e.args){let e=hv(n);e&&t.add(e)}return t.size===1?Array.from(t)[0]:null}default:return null}}function sie(e,t,n,r,i,a,o,s,c,l,u,d,f){switch(e.type){case`collectionRef`:{let n=t[e.alias];if(!n)throw new wh(e.alias,e.collection.id,Object.keys(t));return d[e.alias]=e.collection.id,{alias:e.alias,input:n,collectionId:e.collection.id}}case`queryRef`:{let p=u(l.get(e.query)||e.query,t,n,r,i,a,o,s,c,l);Object.assign(d,p.aliasToCollectionId),Object.assign(f,p.aliasRemapping);let m=Object.keys(p.aliasToCollectionId).find(e=>p.aliasToCollectionId[e]===p.collectionId);m&&m!==e.alias&&(f[e.alias]=m);let h=p.pipeline.pipe(hg(e=>{let[t,[n,r]]=e;return[t,n]}));return{alias:e.alias,input:h,collectionId:p.collectionId}}default:throw new Ite(e.type)}}function cie(e){return function(t){return t.pipe(Dg(t=>{let[n,[r,i]]=t,a=r?.[1],o=i?.[1];return e===`inner`?!!(a&&o):e===`left`?!!a:e===`right`?!!o:!0}),hg(e=>{let[t,[n,r]]=e,i=n?.[0],a=n?.[1],o=r?.[0],s=r?.[1],c={};return a&&Object.assign(c,a),s&&Object.assign(c,s),[`[${i},${o}]`,c]}))}}function lie(e,t,n){switch(e){case`left`:return{activeSource:`main`,lazySource:n};case`right`:return{activeSource:`joined`,lazySource:t};case`inner`:return t.size<n.size?{activeSource:`main`,lazySource:n}:{activeSource:`joined`,lazySource:t};default:return{activeSource:void 0,lazySource:void 0}}}function gv(e){return e instanceof Xm?e.value:e}function uie(e,t,n){let r=e.source(t);if(r&&typeof r==`object`){let t=n,i=e.targetPath;if(i.length===0)for(let[e,t]of Object.entries(r))n[e]=gv(t);else for(let e=0;e<i.length;e++){let n=i[e];if(e===i.length-1){let e=t[n]??={};if(typeof e==`object`)for(let[t,n]of Object.entries(r))e[t]=gv(n)}else{let e=t[n];(typeof e!=`object`||!e)&&(t[n]={}),t=t[n]}}}}function die(e,t,n){let r=e.alias.split(`.`);if(r.length===1)n[e.alias]=e.compiled(t);else{let i=n;for(let e=0;e<r.length-1;e++){let t=r[e],n=i[t];(typeof n!=`object`||!n)&&(i[t]={}),i=i[t]}i[r[r.length-1]]=gv(e.compiled(t))}}function fie([e,t],n){let r={};for(let e of n)e.kind===`merge`?uie(e,t,r):die(e,t,r);return[e,{...t,__select_results:r}]}function pie(e,t,n){let r=[];return _v([],t,r),e.pipe(hg(e=>fie(e,r)))}function mie(e){return e.type===`agg`}function hie(e){return e&&typeof e==`object`&&!$m(e)}function _v(e,t,n){for(let[r,i]of Object.entries(t)){if(r.startsWith(`__SPREAD_SENTINEL__`)){let t=r.slice(19),a=t.lastIndexOf(`__`),o=a>=0?t.slice(0,a):t,s=i&&typeof i==`object`&&`type`in i&&i.type===`ref`;if(o.includes(`.`)||s){let t=[...e],r=Lh(s?i:new Ym(o.split(`.`)));n.push({kind:`merge`,targetPath:t,source:r})}else{let t=o,r=[...e];n.push({kind:`merge`,targetPath:r,source:e=>e[t]})}continue}let t=i;if(hie(t)){_v([...e,r],t,n);continue}if(mie(t))n.push({kind:`field`,alias:[...e,r].join(`.`),compiled:()=>null});else{if(t===void 0||!$m(t)){n.push({kind:`field`,alias:[...e,r].join(`.`),compiled:()=>t});continue}if(t instanceof Xm){let i=t.value;n.push({kind:`field`,alias:[...e,r].join(`.`),compiled:()=>i})}else n.push({kind:`field`,alias:[...e,r].join(`.`),compiled:Lh(t)})}}}function vv(e,t,n,r,i,a,o,s,c=new WeakMap,l=new WeakMap){let u=c.get(e);if(u)return u;yv(e);let{optimizedQuery:d,sourceWhereClauses:f}=Wre(e);l.set(d,e),xv(d,e,l);let p={...t},m={},h={},g={},{alias:_,input:v,collectionId:y}=_ie(d.from,p,n,r,i,a,o,s,c,l,m,h);g[_]=v;let b=v.pipe(hg(([e,t])=>[e,{[_]:t}]));if(d.join&&d.join.length>0&&(b=iie(b,d.join,g,y,_,p,c,l,n,r,i,a,o,s,e,vv,m,h)),d.where&&d.where.length>0)for(let e of d.where){let t=Lh(eh(e));b=b.pipe(Dg(([e,n])=>Ih(t(n))))}if(d.fnWhere&&d.fnWhere.length>0)for(let e of d.fnWhere)b=b.pipe(Dg(([t,n])=>Ih(e(n))));if(d.distinct&&!d.fnSelect&&!d.select)throw new Ste;if(b=d.fnSelect?b.pipe(hg(([e,t])=>{let n=d.fnSelect(t);return[e,{...t,__select_results:n}]})):d.select?pie(b,d.select):b.pipe(hg(([e,t])=>{let n=!d.join&&!d.groupBy?t[_]:t;return[e,{...t,__select_results:n}]})),d.groupBy&&d.groupBy.length>0?b=a_(b,d.groupBy,d.having,d.select,d.fnHaving):d.select&&Object.values(d.select).some(e=>e.type===`agg`)&&(b=a_(b,[],d.having,d.select,d.fnHaving)),d.having&&(!d.groupBy||d.groupBy.length===0)&&!(d.select&&Object.values(d.select).some(e=>e.type===`agg`)))throw new Cte;if(d.fnHaving&&d.fnHaving.length>0&&(!d.groupBy||d.groupBy.length===0))for(let e of d.fnHaving)b=b.pipe(Dg(([t,n])=>e(n)));if(d.distinct&&(b=b.pipe(are(([e,t])=>t.__select_results))),d.orderBy&&d.orderBy.length>0){let t={collectionId:y,pipeline:u_(e,b,d.orderBy,d.select||{},n[y],o,s,d.limit,d.offset).pipe(hg(([e,[t,n]])=>{let r=t.__select_results;return[e,[bv(r),n]]})),sourceWhereClauses:f,aliasToCollectionId:m,aliasRemapping:h};return c.set(e,t),t}else if(d.limit!==void 0||d.offset!==void 0)throw new wte;let x={collectionId:y,pipeline:b.pipe(hg(([e,t])=>{let n=t.__select_results;return[e,[bv(n),void 0]]})),sourceWhereClauses:f,aliasToCollectionId:m,aliasRemapping:h};return c.set(e,x),x}function gie(e){let t=new Set;if(e.from.type===`collectionRef`&&t.add(e.from.alias),e.join)for(let n of e.join)n.from.type===`collectionRef`&&t.add(n.from.alias);return t}function yv(e,t=new Set){let n=gie(e);for(let e of n)if(t.has(e))throw new Tte(e,Array.from(t));let r=new Set([...t,...n]);if(e.from.type===`queryRef`&&yv(e.from.query,r),e.join)for(let t of e.join)t.from.type===`queryRef`&&yv(t.from.query,r)}function _ie(e,t,n,r,i,a,o,s,c,l,u,d){switch(e.type){case`collectionRef`:{let n=t[e.alias];if(!n)throw new wh(e.alias,e.collection.id,Object.keys(t));return u[e.alias]=e.collection.id,{alias:e.alias,input:n,collectionId:e.collection.id}}case`queryRef`:{let f=vv(l.get(e.query)||e.query,t,n,r,i,a,o,s,c,l);Object.assign(u,f.aliasToCollectionId),Object.assign(d,f.aliasRemapping);let p=Object.keys(f.aliasToCollectionId).find(e=>f.aliasToCollectionId[e]===f.collectionId);p&&p!==e.alias&&(d[e.alias]=p);let m=f.pipeline.pipe(hg(e=>{let[t,[n,r]]=e;return[t,bv(n)]}));return{alias:e.alias,input:m,collectionId:f.collectionId}}default:throw new Ete(e.type)}}function vie(e){return e instanceof Xm||e&&typeof e==`object`&&`type`in e&&e.type===`val`}function bv(e){return vie(e)?e.value:e}function xv(e,t,n){if(e.from.type===`queryRef`&&t.from.type===`queryRef`&&(n.set(e.from.query,t.from.query),xv(e.from.query,t.from.query,n)),e.join&&t.join)for(let r=0;r<e.join.length&&r<t.join.length;r++){let i=e.join[r],a=t.join[r];i.from.type===`queryRef`&&a.from.type===`queryRef`&&(n.set(i.from.query,a.from.query),xv(i.from.query,a.from.query,n))}}function Sv(e,t){let n=e.type;if(n===`val`)return new Xm(e.value);if(n===`ref`){let n=e.path;if(Array.isArray(n)){if(n[0]===t&&n.length>1)return new Ym(n.slice(1));if(n.length===1&&n[0]!==void 0)return new Ym([n[0]])}return new Ym(Array.isArray(n)?n:[String(n)])}else{let n=[];for(let r of e.args){let e=Sv(r,t);n.push(e)}return new Zm(e.name,n)}}function Cv(e,t){return e.map(e=>{let n=Sv(e.expression,t);return{...e,expression:n}})}var wv=Symbol.for(`@tanstack/db.collection-config-builder`),yie=class{constructor(e,t,n,r){this.alias=e,this.collectionId=t,this.collection=n,this.collectionConfigBuilder=r,this.biggest=void 0,this.subscriptionLoadingPromises=new Map}subscribe(){let e=this.getWhereClauseForAlias();if(e){let t=Sv(e,this.alias);return this.subscribeToChanges(t)}return this.subscribeToChanges()}subscribeToChanges(e){let t,n=this.getOrderByInfo();if(n)t=this.subscribeToOrderedChanges(e,n);else{let n=!this.collectionConfigBuilder.isLazyAlias(this.alias);t=this.subscribeToMatchingChanges(e,n)}let r=()=>{if(!this.subscriptionLoadingPromises.has(t)){let e,n=new Promise(t=>{e=t});this.subscriptionLoadingPromises.set(t,{resolve:e}),this.collectionConfigBuilder.liveQueryCollection._sync.trackLoadPromise(n)}};t.status===`loadingSubset`&&r();let i=t.on(`status:change`,e=>{if(e.status===`loadingSubset`)r();else{let e=this.subscriptionLoadingPromises.get(t);e&&(this.subscriptionLoadingPromises.delete(t),e.resolve())}});return this.collectionConfigBuilder.currentSyncState.unsubscribeCallbacks.add(()=>{let e=this.subscriptionLoadingPromises.get(t);e&&(this.subscriptionLoadingPromises.delete(t),e.resolve()),i(),t.unsubscribe()}),t}sendChangesToPipeline(e,t){let n=this.collectionConfigBuilder.currentSyncState.inputs[this.alias],r=bie(n,e,this.collection.config.getKey)>0?t:void 0;this.collectionConfigBuilder.scheduleGraphRun(r,{alias:this.alias})}subscribeToMatchingChanges(e,t=!1){return this.collection.subscribeChanges(e=>{this.sendChangesToPipeline(e)},{includeInitialState:t,whereExpression:e})}subscribeToOrderedChanges(e,t){let{orderBy:n,offset:r,limit:i,index:a}=t,o=this.collection.subscribeChanges(e=>{let t=xie(e);this.sendChangesToPipelineWithTracking(t,o)},{whereExpression:e}),s=this.collection.on(`truncate`,()=>{this.biggest=void 0});o.on(`unsubscribed`,()=>{s()});let c=Cv(n,this.alias);return a?(o.setOrderByIndex(a),o.requestLimitedSnapshot({limit:r+i,orderBy:c})):o.requestSnapshot({orderBy:c,limit:r+i}),o}loadMoreIfNeeded(e){let t=this.getOrderByInfo();if(!t)return!0;let{dataNeeded:n}=t;if(!n)return!0;let r=n();return r>0&&this.loadNextItems(r,e),!0}sendChangesToPipelineWithTracking(e,t){let n=this.getOrderByInfo();if(!n){this.sendChangesToPipeline(e);return}let r=this.trackSentValues(e,n.comparator),i=t;i[wv]??=this.loadMoreIfNeeded.bind(this,t),this.sendChangesToPipeline(r,i[wv])}loadNextItems(e,t){let n=this.getOrderByInfo();if(!n)return;let{orderBy:r,valueExtractorForRawRow:i,offset:a}=n,o=this.biggest,s=o?i(o):void 0,c=s===void 0?void 0:Array.isArray(s)?s:[s],l=Cv(r,this.alias);t.requestLimitedSnapshot({orderBy:l,limit:e,minValues:c,offset:a})}getWhereClauseForAlias(){let e=this.collectionConfigBuilder.sourceWhereClausesCache;if(e)return e.get(this.alias)}getOrderByInfo(){let e=this.collectionConfigBuilder.optimizableOrderByCollections[this.collectionId];if(e&&e.alias===this.alias)return e}*trackSentValues(e,t){for(let n of e)n.type!==`delete`&&(this.biggest?t(this.biggest,n.value)<0&&(this.biggest=n.value):this.biggest=n.value),yield n}};function bie(e,t,n){let r=[];for(let e of t){let t=n(e.value);e.type===`insert`?r.push([[t,e.value],1]):e.type===`update`?(r.push([[t,e.previousValue],-1]),r.push([[t,e.value],1])):r.push([[t,e.value],-1])}return r.length!==0&&e.sendData(new lg(r)),r.length}function*xie(e){for(let t of e)t.type===`update`?(yield{type:`delete`,key:t.key,value:t.previousValue},yield{type:`insert`,key:t.key,value:t.value}):yield t}var Tv=new WeakMap;function Sie(e){return e.utils?.[O_]?.getBuilder?.()}function Cie(e,t){Tv.set(e,t)}function wie(e){return Tv.get(e)}var Tie=0,Eie=class{constructor(e){this.config=e,this.compiledAliasToCollectionId={},this.resultKeys=new WeakMap,this.orderByIndices=new WeakMap,this.isGraphRunning=!1,this.runCount=0,this.isInErrorState=!1,this.aliasDependencies={},this.builderDependencies=new Set,this.pendingGraphRuns=new Map,this.subscriptions={},this.lazySourcesCallbacks={},this.lazySources=new Set,this.optimizableOrderByCollections={},this.id=e.id||`live-query-${++Tie}`,this.query=Die(e),this.collections=kie(this.query);let t=Aie(this.query);this.collectionByAlias={};for(let[e,n]of t.entries()){let t=this.collections[e];if(t)for(let e of n)this.collectionByAlias[e]=t}this.query.orderBy&&this.query.orderBy.length>0&&(this.compare=Oie(this.orderByIndices)),this.compareOptions=this.config.defaultStringCollation??Ev(this.query).compareOptions,this.compileBasePipeline()}hasJoins(e){return!!(e.join&&e.join.length>0||e.from.type===`queryRef`&&this.hasJoins(e.from.query))}getConfig(){return{id:this.id,getKey:this.config.getKey||(e=>this.resultKeys.get(e)),sync:this.getSyncConfig(),compare:this.compare,defaultStringCollation:this.compareOptions,gcTime:this.config.gcTime||5e3,schema:this.config.schema,onInsert:this.config.onInsert,onUpdate:this.config.onUpdate,onDelete:this.config.onDelete,startSync:this.config.startSync,singleResult:this.query.singleResult,utils:{getRunCount:this.getRunCount.bind(this),setWindow:this.setWindow.bind(this),getWindow:this.getWindow.bind(this),[O_]:{getBuilder:()=>this,hasCustomGetKey:!!this.config.getKey,hasJoins:this.hasJoins(this.query)}}}}setWindow(e){if(!this.windowFn)throw new Gte;return this.currentWindow=e,this.windowFn(e),this.maybeRunGraphFn?.(),this.liveQueryCollection?.isLoadingSubset?new Promise(e=>{let t=this.liveQueryCollection.on(`loadingSubset:change`,n=>{n.isLoadingSubset||(t(),e())})}):!0}getWindow(){if(!(!this.windowFn||!this.currentWindow))return{offset:this.currentWindow.offset??0,limit:this.currentWindow.limit??0}}getCollectionIdForAlias(e){let t=this.compiledAliasToCollectionId[e];if(t)return t;let n=this.collectionByAlias[e];if(n)return n.id;throw Error(`Unknown source alias "${e}"`)}isLazyAlias(e){return this.lazySources.has(e)}maybeRunGraph(e){if(!this.isGraphRunning){if(!this.currentSyncConfig||!this.currentSyncState)throw Error(`maybeRunGraph called without active sync session. This should not happen.`);this.isGraphRunning=!0;try{let{begin:t,commit:n}=this.currentSyncConfig,r=this.currentSyncState;if(this.isInErrorState)return;if(r.subscribedToAllCollections){for(;r.graph.pendingWork();)r.graph.run(),e?.();r.messagesCount===0&&(t(),n(),this.updateLiveQueryStatus(this.currentSyncConfig))}}finally{this.isGraphRunning=!1}}}scheduleGraphRun(e,t){let n=t?.contextId??Z_()?.id,r=t?.jobId??this,i=(()=>{if(t?.dependencies)return t.dependencies;let e=new Set(this.builderDependencies);if(t?.alias){let n=this.aliasDependencies[t.alias];if(n)for(let t of n)e.add(t)}return e.delete(this),Array.from(e)})();if(n)for(let e of i)typeof e.scheduleGraphRun==`function`&&e.scheduleGraphRun(void 0,{contextId:n});if(!this.currentSyncConfig||!this.currentSyncState)throw Error(`scheduleGraphRun called without active sync session. This should not happen.`);let a=n?this.pendingGraphRuns.get(n):void 0;a||(a={loadCallbacks:new Set},n&&this.pendingGraphRuns.set(n,a)),e&&a.loadCallbacks.add(e);let o=n?void 0:a;q_.schedule({contextId:n,jobId:r,dependencies:i,run:()=>this.executeGraphRun(n,o)})}clearPendingGraphRun(e){this.pendingGraphRuns.delete(e)}hasPendingGraphRun(e){return this.pendingGraphRuns.has(e)}executeGraphRun(e,t){let n=t??(e?this.pendingGraphRuns.get(e):void 0);e&&this.pendingGraphRuns.delete(e),!(!n||!this.currentSyncConfig||!this.currentSyncState)&&(this.incrementRunCount(),this.maybeRunGraph(()=>{let e=!0,t;if(n.loadCallbacks.forEach(n=>{try{e=n()&&e}catch(n){e=!1,t??=n}}),t)throw t;return e}))}getSyncConfig(){return{rowUpdateMode:`full`,sync:this.syncFn.bind(this)}}incrementRunCount(){this.runCount++}getRunCount(){return this.runCount}syncFn(e){this.liveQueryCollection=e.collection,this.currentSyncConfig=e;let t={messagesCount:0,subscribedToAllCollections:!1,unsubscribeCallbacks:new Set},n=this.extendPipelineWithChangeProcessing(e,t);this.currentSyncState=n,this.unsubscribeFromSchedulerClears=q_.onClear(e=>{this.clearPendingGraphRun(e)});let r=this.subscribeToAllCollections(e,n);return this.maybeRunGraphFn=()=>this.scheduleGraphRun(r),this.scheduleGraphRun(r),()=>{t.unsubscribeCallbacks.forEach(e=>e()),this.currentSyncConfig=void 0,this.currentSyncState=void 0,this.pendingGraphRuns.clear(),this.graphCache=void 0,this.inputsCache=void 0,this.pipelineCache=void 0,this.sourceWhereClausesCache=void 0,this.lazySources.clear(),this.optimizableOrderByCollections={},this.lazySourcesCallbacks={},Object.keys(this.subscriptions).forEach(e=>delete this.subscriptions[e]),this.compiledAliasToCollectionId={},this.unsubscribeFromSchedulerClears?.(),this.unsubscribeFromSchedulerClears=void 0}}compileBasePipeline(){this.graphCache=new zne,this.inputsCache=Object.fromEntries(Object.keys(this.collectionByAlias).map(e=>[e,this.graphCache.newInput()]));let e=vv(this.query,this.inputsCache,this.collections,this.subscriptions,this.lazySourcesCallbacks,this.lazySources,this.optimizableOrderByCollections,e=>{this.windowFn=e});this.pipelineCache=e.pipeline,this.sourceWhereClausesCache=e.sourceWhereClauses,this.compiledAliasToCollectionId=e.aliasToCollectionId;let t=Object.keys(this.compiledAliasToCollectionId).filter(e=>!Object.hasOwn(this.inputsCache,e));if(t.length>0)throw new Wte(t)}maybeCompileBasePipeline(){return(!this.graphCache||!this.inputsCache||!this.pipelineCache)&&this.compileBasePipeline(),{graph:this.graphCache,inputs:this.inputsCache,pipeline:this.pipelineCache}}extendPipelineWithChangeProcessing(e,t){let{begin:n,commit:r}=e,{graph:i,inputs:a,pipeline:o}=this.maybeCompileBasePipeline();return o.pipe($ne(i=>{let a=i.getInner();t.messagesCount+=a.length,n(),a.reduce(jie,new Map).forEach(this.applyChanges.bind(this,e)),r()})),i.finalize(),t.graph=i,t.inputs=a,t.pipeline=o,t}applyChanges(e,t,n){let{write:r,collection:i}=e,{deletes:a,inserts:o,value:s,orderByIndex:c}=t;if(this.resultKeys.set(s,n),c!==void 0&&this.orderByIndices.set(s,c),o&&a===0)r({value:s,type:`insert`});else if(o>a||o===a&&i.has(i.getKeyFromItem(s)))r({value:s,type:`update`});else if(a>0)r({value:s,type:`delete`});else throw Error(`Could not apply changes: ${JSON.stringify(t)}. This should never happen.`)}handleSourceStatusChange(e,t,n){let{status:r}=n;if(r===`error`){this.transitionToError(`Source collection '${t}' entered error state`);return}if(r===`cleaned-up`){this.transitionToError(`Source collection '${t}' was manually cleaned up while live query '${this.id}' depends on it. Live queries prevent automatic GC, so this was likely a manual cleanup() call.`);return}this.updateLiveQueryStatus(e)}updateLiveQueryStatus(e){let{markReady:t}=e;this.isInErrorState||this.allCollectionsReady()&&t()}transitionToError(e){this.isInErrorState=!0,console.error(`[Live Query Error] ${e}`),this.liveQueryCollection?._lifecycle.setStatus(`error`)}allCollectionsReady(){return Object.values(this.collections).every(e=>e.isReady())}subscribeToAllCollections(e,t){let n=Object.entries(this.compiledAliasToCollectionId);if(n.length===0)throw Error(`Compiler returned no alias metadata for query '${this.id}'. This should not happen; please report.`);let r=n.map(([n,r])=>{let i=this.collectionByAlias[n]??this.collections[r],a=wie(i);a&&a!==this?(this.aliasDependencies[n]=[a],this.builderDependencies.add(a)):this.aliasDependencies[n]=[];let o=new yie(n,r,i,this),s=i.on(`status:change`,t=>{this.handleSourceStatusChange(e,r,t)});t.unsubscribeCallbacks.add(s);let c=o.subscribe();return this.subscriptions[n]=c,o.loadMoreIfNeeded.bind(o,c)});return t.subscribedToAllCollections=!0,this.updateLiveQueryStatus(e),()=>(r.map(e=>e()),!0)}};function Die(e){return typeof e.query==`function`?Ure(e.query):nv(e.query)}function Oie(e){return(t,n)=>{let r=e.get(t),i=e.get(n);return r&&i?r<i?-1:r>i?1:0:0}}function kie(e){let t={};function n(e){e.type===`collectionRef`?t[e.collection.id]=e.collection:e.type===`queryRef`&&r(e.query)}function r(e){if(e.from&&n(e.from),e.join&&Array.isArray(e.join))for(let t of e.join)t.from&&n(t.from)}return r(e),t}function Ev(e){let t=e.from;if(t.type===`collectionRef`)return t.collection;if(t.type===`queryRef`)return Ev(t.query);throw Error(`Failed to extract collection. Invalid FROM clause: ${JSON.stringify(e)}`)}function Aie(e){let t=new Map;function n(e){if(e)if(e.type===`collectionRef`){let{id:n}=e.collection,r=t.get(n);r?r.add(e.alias):t.set(n,new Set([e.alias]))}else e.type===`queryRef`&&r(e.query)}function r(e){if(e&&(n(e.from),e.join))for(let t of e.join)n(t.from)}return r(e),t}function jie(e,[[t,n],r]){let[i,a]=n,o=e.get(t)||{deletes:0,inserts:0,value:i,orderByIndex:a};return r<0?o.deletes+=Math.abs(r):r>0&&(o.inserts+=r,o.value=i,o.orderByIndex=a),e.set(t,o),e}function Dv(e){return new Eie(e).getConfig()}function Ov(e){if(typeof e==`function`)return kv(Dv({query:e}));{let t=e,n=Dv(t);return t.utils&&(n.utils={...n.utils,...t.utils}),kv(n)}}function kv(e){let t=Q_(e),n=Sie(e);return n&&Cie(t,n),t}var Av=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mie={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},jv=new class{#e=Mie;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}};function Nie(e){setTimeout(e,0)}var Mv=typeof window>`u`||`Deno`in globalThis;function Nv(){}function Pie(e,t){return typeof e==`function`?e(t):e}function Pv(e){return typeof e==`number`&&e>=0&&e!==1/0}function Fv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Iv(e,t){return typeof e==`function`?e(t):e}function Lv(e,t){return typeof e==`function`?e(t):e}function Rv(e,t){let{type:n=`all`,exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(r){if(t.queryHash!==Bv(o,t.options))return!1}else if(!Hv(t.queryKey,o))return!1}if(n!==`all`){let e=t.isActive();if(n===`active`&&!e||n===`inactive`&&e)return!1}return!(typeof s==`boolean`&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function zv(e,t){let{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Vv(t.options.mutationKey)!==Vv(a))return!1}else if(!Hv(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Bv(e,t){return(t?.queryKeyHashFn||Vv)(e)}function Vv(e){return JSON.stringify(e,(e,t)=>Kv(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function Hv(e,t){return e===t?!0:typeof e==typeof t&&e&&t&&typeof e==`object`&&typeof t==`object`?Object.keys(t).every(n=>Hv(e[n],t[n])):!1}var Fie=Object.prototype.hasOwnProperty;function Uv(e,t){if(e===t)return e;let n=Gv(e)&&Gv(t);if(!n&&!(Kv(e)&&Kv(t)))return t;let r=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),a=i.length,o=n?Array(a):{},s=0;for(let c=0;c<a;c++){let a=n?c:i[c],l=e[a],u=t[a];if(l===u){o[a]=l,(n?c<r:Fie.call(e,a))&&s++;continue}if(l===null||u===null||typeof l!=`object`||typeof u!=`object`){o[a]=u;continue}let d=Uv(l,u);o[a]=d,d===l&&s++}return r===a&&s===r?e:o}function Wv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}function Gv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kv(e){if(!qv(e))return!1;let t=e.constructor;if(t===void 0)return!0;let n=t.prototype;return!(!qv(n)||!n.hasOwnProperty(`isPrototypeOf`)||Object.getPrototypeOf(e)!==Object.prototype)}function qv(e){return Object.prototype.toString.call(e)===`[object Object]`}function Iie(e){return new Promise(t=>{jv.setTimeout(t,e)})}function Jv(e,t,n){return typeof n.structuralSharing==`function`?n.structuralSharing(e,t):n.structuralSharing===!1?t:Uv(e,t)}function Lie(e,t,n=0){let r=[...e,t];return n&&r.length>n?r.slice(1):r}function Rie(e,t,n=0){let r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Yv=Symbol();function Xv(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Yv?()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Zv=new class extends Av{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Mv&&window.addEventListener){let t=()=>e();return window.addEventListener(`visibilitychange`,t,!1),()=>{window.removeEventListener(`visibilitychange`,t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(e=>{typeof e==`boolean`?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e==`boolean`?this.#e:globalThis.document?.visibilityState!==`hidden`}};function Qv(){let e,t,n=new Promise((n,r)=>{e=n,t=r});n.status=`pending`,n.catch(()=>{});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.resolve=t=>{r({status:`fulfilled`,value:t}),e(t)},n.reject=e=>{r({status:`rejected`,reason:e}),t(e)},n}var zie=Nie;function Bie(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=zie,a=r=>{t?e.push(r):i(()=>{n(r)})},o=()=>{let t=e;e=[],t.length&&i(()=>{r(()=>{t.forEach(e=>{n(e)})})})};return{batch:e=>{let n;t++;try{n=e()}finally{t--,t||o()}return n},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}var $v=Bie(),ey=new class extends Av{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Mv&&window.addEventListener){let t=()=>e(!0),n=()=>e(!1);return window.addEventListener(`online`,t,!1),window.addEventListener(`offline`,n,!1),()=>{window.removeEventListener(`online`,t),window.removeEventListener(`offline`,n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#e}};function Vie(e){return Math.min(1e3*2**e,3e4)}function ty(e){return(e??`online`)===`online`?ey.isOnline():!0}var ny=class extends Error{constructor(e){super(`CancelledError`),this.revert=e?.revert,this.silent=e?.silent}};function ry(e){let t=!1,n=0,r,i=Qv(),a=()=>i.status!==`pending`,o=t=>{if(!a()){let n=new ny(t);f(n),e.onCancel?.(n)}},s=()=>{t=!0},c=()=>{t=!1},l=()=>Zv.isFocused()&&(e.networkMode===`always`||ey.isOnline())&&e.canRun(),u=()=>ty(e.networkMode)&&e.canRun(),d=e=>{a()||(r?.(),i.resolve(e))},f=e=>{a()||(r?.(),i.reject(e))},p=()=>new Promise(t=>{r=e=>{(a()||l())&&t(e)},e.onPause?.()}).then(()=>{r=void 0,a()||e.onContinue?.()}),m=()=>{if(a())return;let r,i=n===0?e.initialPromise:void 0;try{r=i??e.fn()}catch(e){r=Promise.reject(e)}Promise.resolve(r).then(d).catch(r=>{if(a())return;let i=e.retry??(Mv?0:3),o=e.retryDelay??Vie,s=typeof o==`function`?o(n,r):o,c=i===!0||typeof i==`number`&&n<i||typeof i==`function`&&i(n,r);if(t||!c){f(r);return}n++,e.onFail?.(n,r),Iie(s).then(()=>l()?void 0:p()).then(()=>{t?f(r):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:s,continueRetry:c,canStart:u,start:()=>(u()?m():p().then(m),i)}}var iy=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pv(this.gcTime)&&(this.#e=jv.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Mv?1/0:300*1e3))}clearGcTimeout(){this.#e&&=(jv.clearTimeout(this.#e),void 0)}},Hie=class extends iy{#e;#t;#n;#r;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=sy(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){let e=sy(this.options);e.data!==void 0&&(this.setState(oy(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus===`idle`&&this.#n.remove(this)}setData(e,t){let n=Jv(this.state.data,e,this.options);return this.#s({data:n,type:`success`,dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:`setState`,state:e,setStateOptions:t})}cancel(e){let t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(Nv).catch(Nv):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Lv(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Iv(e.options.staleTime,this)===`static`):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e===`static`?!1:this.state.isInvalidated?!0:!Fv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:`observerAdded`,query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:`observerRemoved`,query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:`invalidate`})}async fetch(e,t){if(this.state.fetchStatus!==`idle`&&this.#i?.status()!==`rejected`){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let n=new AbortController,r=e=>{Object.defineProperty(e,`signal`,{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{let e=Xv(this.options,t),n=(()=>{let e={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(e),e})();return this.#o=!1,this.options.persister?this.options.persister(e,n,this):e(n)},a=(()=>{let e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(e),e})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus===`idle`||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:`fetch`,meta:a.fetchOptions?.meta}),this.#i=ry({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:e=>{e instanceof ny&&e.revert&&this.setState({...this.#t,fetchStatus:`idle`}),n.abort()},onFail:(e,t)=>{this.#s({type:`failed`,failureCount:e,error:t})},onPause:()=>{this.#s({type:`pause`})},onContinue:()=>{this.#s({type:`continue`})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{let e=await this.#i.start();if(e===void 0)throw Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#n.config.onSuccess?.(e,this),this.#n.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof ny){if(e.silent)return this.#i.promise;if(e.revert){if(this.state.data===void 0)throw e;return this.state.data}}throw this.#s({type:`error`,error:e}),this.#n.config.onError?.(e,this),this.#n.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#s(e){this.state=(t=>{switch(e.type){case`failed`:return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case`pause`:return{...t,fetchStatus:`paused`};case`continue`:return{...t,fetchStatus:`fetching`};case`fetch`:return{...t,...ay(t.data,this.options),fetchMeta:e.meta??null};case`success`:let n={...t,...oy(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:`idle`,fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case`error`:let r=e.error;return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:`idle`,status:`error`};case`invalidate`:return{...t,isInvalidated:!0};case`setState`:return{...t,...e.state}}})(this.state),$v.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#n.notify({query:this,type:`updated`,action:e})})}};function ay(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ty(t.networkMode)?`fetching`:`paused`,...e===void 0&&{error:null,status:`pending`}}}function oy(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:`success`}}function sy(e){let t=typeof e.initialData==`function`?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt==`function`?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?`success`:`pending`,fetchStatus:`idle`}}var Uie=class extends Av{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#o=Qv(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#c;#l;#u;#d;#f;#p;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),cy(this.#t,this.options)?this.#h():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ly(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ly(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(e){let t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!=`boolean`&&typeof this.options.enabled!=`function`&&typeof Lv(this.options.enabled,this.#t)!=`boolean`)throw Error(`Expected enabled to be a boolean or a callback that returns a boolean`);this.#S(),this.#t.setOptions(this.options),t._defaulted&&!Wv(this.options,t)&&this.#e.getQueryCache().notify({type:`observerOptionsUpdated`,query:this.#t,observer:this});let r=this.hasListeners();r&&uy(this.#t,n,this.options,t)&&this.#h(),this.updateResult(),r&&(this.#t!==n||Lv(this.options.enabled,this.#t)!==Lv(t.enabled,this.#t)||Iv(this.options.staleTime,this.#t)!==Iv(t.staleTime,this.#t))&&this.#g();let i=this.#_();r&&(this.#t!==n||Lv(this.options.enabled,this.#t)!==Lv(t.enabled,this.#t)||i!==this.#p)&&this.#v(i)}getOptimisticResult(e){let t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return Gie(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),t?.(n),n===`promise`&&(this.trackProp(`data`),!this.options.experimental_prefetchInRender&&this.#o.status===`pending`&&this.#o.reject(Error(`experimental_prefetchInRender feature flag is not enabled`))),Reflect.get(e,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#h({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Nv)),t}#g(){this.#b();let e=Iv(this.options.staleTime,this.#t);if(Mv||this.#r.isStale||!Pv(e))return;let t=Fv(this.#r.dataUpdatedAt,e)+1;this.#d=jv.setTimeout(()=>{this.#r.isStale||this.updateResult()},t)}#_(){return(typeof this.options.refetchInterval==`function`?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#x(),this.#p=e,!(Mv||Lv(this.options.enabled,this.#t)===!1||!Pv(this.#p)||this.#p===0)&&(this.#f=jv.setInterval(()=>{(this.options.refetchIntervalInBackground||Zv.isFocused())&&this.#h()},this.#p))}#y(){this.#g(),this.#v(this.#_())}#b(){this.#d&&=(jv.clearTimeout(this.#d),void 0)}#x(){this.#f&&=(jv.clearInterval(this.#f),void 0)}createResult(e,t){let n=this.#t,r=this.options,i=this.#r,a=this.#i,o=this.#a,s=e===n?this.#n:e.state,{state:c}=e,l={...c},u=!1,d;if(t._optimisticResults){let i=this.hasListeners(),a=!i&&cy(e,t),o=i&&uy(e,n,t,r);(a||o)&&(l={...l,...ay(c.data,e.options)}),t._optimisticResults===`isRestoring`&&(l.fetchStatus=`idle`)}let{error:f,errorUpdatedAt:p,status:m}=l;d=l.data;let h=!1;if(t.placeholderData!==void 0&&d===void 0&&m===`pending`){let e;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(e=i.data,h=!0):e=typeof t.placeholderData==`function`?t.placeholderData(this.#u?.state.data,this.#u):t.placeholderData,e!==void 0&&(m=`success`,d=Jv(i?.data,e,t),u=!0)}if(t.select&&d!==void 0&&!h)if(i&&d===a?.data&&t.select===this.#c)d=this.#l;else try{this.#c=t.select,d=t.select(d),d=Jv(i?.data,d,t),this.#l=d,this.#s=null}catch(e){this.#s=e}this.#s&&(f=this.#s,d=this.#l,p=Date.now(),m=`error`);let g=l.fetchStatus===`fetching`,_=m===`pending`,v=m===`error`,y=_&&g,b=d!==void 0,x={status:m,fetchStatus:l.fetchStatus,isPending:_,isSuccess:m===`success`,isError:v,isInitialLoading:y,isLoading:y,data:d,dataUpdatedAt:l.dataUpdatedAt,error:f,errorUpdatedAt:p,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>s.dataUpdateCount||l.errorUpdateCount>s.errorUpdateCount,isFetching:g,isRefetching:g&&!_,isLoadingError:v&&!b,isPaused:l.fetchStatus===`paused`,isPlaceholderData:u,isRefetchError:v&&b,isStale:dy(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Lv(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){let t=e=>{x.status===`error`?e.reject(x.error):x.data!==void 0&&e.resolve(x.data)},r=()=>{t(this.#o=x.promise=Qv())},i=this.#o;switch(i.status){case`pending`:e.queryHash===n.queryHash&&t(i);break;case`fulfilled`:(x.status===`error`||x.data!==i.value)&&r();break;case`rejected`:(x.status!==`error`||x.error!==i.reason)&&r();break}}return x}updateResult(){let e=this.#r,t=this.createResult(this.#t,this.options);this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#u=this.#t),!Wv(t,e)&&(this.#r=t,this.#C({listeners:(()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,n=typeof t==`function`?t():t;if(n===`all`||!n&&!this.#m.size)return!0;let r=new Set(n??this.#m);return this.options.throwOnError&&r.add(`error`),Object.keys(this.#r).some(t=>{let n=t;return this.#r[n]!==e[n]&&r.has(n)})})()}))}#S(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;let t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#C(e){$v.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:`observerResultsUpdated`})})}};function Wie(e,t){return Lv(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status===`error`&&t.retryOnMount===!1)}function cy(e,t){return Wie(e,t)||e.state.data!==void 0&&ly(e,t,t.refetchOnMount)}function ly(e,t,n){if(Lv(t.enabled,e)!==!1&&Iv(t.staleTime,e)!==`static`){let r=typeof n==`function`?n(e):n;return r===`always`||r!==!1&&dy(e,t)}return!1}function uy(e,t,n,r){return(e!==t||Lv(r.enabled,e)===!1)&&(!n.suspense||e.state.status!==`error`)&&dy(e,n)}function dy(e,t){return Lv(t.enabled,e)!==!1&&e.isStaleByTime(Iv(t.staleTime,e))}function Gie(e,t){return!Wv(e.getCurrentResult(),t)}function fy(e){return{onFetch:(t,n)=>{let r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[],s={pages:[],pageParams:[]},c=0,l=async()=>{let n=!1,l=e=>{Object.defineProperty(e,`signal`,{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener(`abort`,()=>{n=!0}),t.signal)})},u=Xv(t.options,t.fetchOptions),d=async(e,r,i)=>{if(n)return Promise.reject();if(r==null&&e.pages.length)return Promise.resolve(e);let a=await u((()=>{let e={client:t.client,queryKey:t.queryKey,pageParam:r,direction:i?`backward`:`forward`,meta:t.options.meta};return l(e),e})()),{maxPages:o}=t.options,s=i?Rie:Lie;return{pages:s(e.pages,a,o),pageParams:s(e.pageParams,r,o)}};if(i&&a.length){let e=i===`backward`,t=e?Kie:py,n={pages:a,pageParams:o};s=await d(n,t(r,n),e)}else{let t=e??a.length;do{let e=c===0?o[0]??r.initialPageParam:py(r,s);if(c>0&&e==null)break;s=await d(s,e),c++}while(c<t)}return s};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=l}}}function py(e,{pages:t,pageParams:n}){let r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Kie(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var qie=class extends iy{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Jie(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:`observerAdded`,mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:`observerRemoved`,mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status===`pending`?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#i({type:`continue`})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=ry({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(Error(`No mutationFn found`)),onFail:(e,t)=>{this.#i({type:`failed`,failureCount:e,error:t})},onPause:()=>{this.#i({type:`pause`})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});let r=this.state.status===`pending`,i=!this.#r.canStart();try{if(r)t();else{this.#i({type:`pending`,variables:e,isPaused:i}),await this.#n.config.onMutate?.(e,this,n);let t=await this.options.onMutate?.(e,n);t!==this.state.context&&this.#i({type:`pending`,context:t,variables:e,isPaused:i})}let a=await this.#r.start();return await this.#n.config.onSuccess?.(a,e,this.state.context,this,n),await this.options.onSuccess?.(a,e,this.state.context,n),await this.#n.config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,e,this.state.context,n),this.#i({type:`success`,data:a}),a}catch(t){try{throw await this.#n.config.onError?.(t,e,this.state.context,this,n),await this.options.onError?.(t,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,t,e,this.state.context,n),t}finally{this.#i({type:`error`,error:t})}}finally{this.#n.runNext(this)}}#i(e){this.state=(t=>{switch(e.type){case`failed`:return{...t,failureCount:e.failureCount,failureReason:e.error};case`pause`:return{...t,isPaused:!0};case`continue`:return{...t,isPaused:!1};case`pending`:return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:`pending`,variables:e.variables,submittedAt:Date.now()};case`success`:return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:`success`,isPaused:!1};case`error`:return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:`error`}}})(this.state),$v.batch(()=>{this.#t.forEach(t=>{t.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:`updated`,action:e})})}};function Jie(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:`idle`,variables:void 0,submittedAt:0}}var Yie=class extends Av{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){let r=new qie({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);let t=my(e);if(typeof t==`string`){let n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:`added`,mutation:e})}remove(e){if(this.#e.delete(e)){let t=my(e);if(typeof t==`string`){let n=this.#t.get(t);if(n)if(n.length>1){let t=n.indexOf(e);t!==-1&&n.splice(t,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:`removed`,mutation:e})}canRun(e){let t=my(e);if(typeof t==`string`){let n=this.#t.get(t)?.find(e=>e.state.status===`pending`);return!n||n===e}else return!0}runNext(e){let t=my(e);return typeof t==`string`?(this.#t.get(t)?.find(t=>t!==e&&t.state.isPaused))?.continue()??Promise.resolve():Promise.resolve()}clear(){$v.batch(()=>{this.#e.forEach(e=>{this.notify({type:`removed`,mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>zv(t,e))}findAll(e={}){return this.getAll().filter(t=>zv(e,t))}notify(e){$v.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return $v.batch(()=>Promise.all(e.map(e=>e.continue().catch(Nv))))}};function my(e){return e.options.scope?.id}var Xie=class extends Av{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){let r=t.queryKey,i=t.queryHash??Bv(r,t),a=this.get(i);return a||(a=new Hie({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:`added`,query:e}))}remove(e){let t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:`removed`,query:e}))}clear(){$v.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>Rv(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Rv(e,t)):t}notify(e){$v.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){$v.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$v.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},hy=class{#e;#t;#n;#r;#i;#a;#o;#s;constructor(e={}){this.#e=e.queryCache||new Xie,this.#t=e.mutationCache||new Yie,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Zv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=ey.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:`fetching`}).length}isMutating(e){return this.#t.findAll({...e,status:`pending`}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Iv(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){let r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,a=Pie(t,i);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return $v.batch(()=>this.#e.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){let t=this.#e;$v.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let n=this.#e;return $v.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:`active`,...e},t)))}cancelQueries(e,t={}){let n={revert:!0,...t},r=$v.batch(()=>this.#e.findAll(e).map(e=>e.cancel(n)));return Promise.all(r).then(Nv).catch(Nv)}invalidateQueries(e,t={}){return $v.batch(()=>(this.#e.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType===`none`?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??`active`},t)))}refetchQueries(e,t={}){let n={...t,cancelRefetch:t.cancelRefetch??!0},r=$v.batch(()=>this.#e.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(Nv)),e.state.fetchStatus===`paused`?Promise.resolve():t}));return Promise.all(r).then(Nv)}fetchQuery(e){let t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);let n=this.#e.build(this,t);return n.isStaleByTime(Iv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Nv).catch(Nv)}fetchInfiniteQuery(e){return e.behavior=fy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Nv).catch(Nv)}ensureInfiniteQueryData(e){return e.behavior=fy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ey.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Vv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#r.values()],n={};return t.forEach(t=>{Hv(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(Vv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#i.values()],n={};return t.forEach(t=>{Hv(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||=Bv(t.queryKey,t),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!==`always`),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode=`offlineFirst`),t.queryFn===Yv&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},gy=class extends oh{constructor(e){super(e),this.name=`QueryCollectionError`}},Zie=class extends gy{constructor(){super(`[QueryCollection] queryKey must be provided.`),this.name=`QueryKeyRequiredError`}},Qie=class extends gy{constructor(){super(`[QueryCollection] queryFn must be provided.`),this.name=`QueryFnRequiredError`}},$ie=class extends gy{constructor(){super(`[QueryCollection] queryClient must be provided.`),this.name=`QueryClientRequiredError`}},eae=class extends gy{constructor(){super(`[QueryCollection] getKey must be provided.`),this.name=`GetKeyRequiredError`}},tae=class extends gy{constructor(){super(`Collection must be in 'ready' state for manual sync operations. Sync not initialized yet.`),this.name=`SyncNotInitializedError`}},nae=class extends gy{constructor(e){super(`Duplicate key '${e}' found within batch operations`),this.name=`DuplicateKeyInBatchError`}},rae=class extends gy{constructor(e){super(`Update operation: Item with key '${e}' does not exist`),this.name=`UpdateOperationItemNotFoundError`}},iae=class extends gy{constructor(e){super(`Delete operation: Item with key '${e}' does not exist`),this.name=`DeleteOperationItemNotFoundError`}},_y=new WeakMap;function aae(e,t){let n=Array.isArray(e)?e:[e],r=[];for(let e of n)if(e.type===`delete`){let t=Array.isArray(e.key)?e.key:[e.key];for(let e of t)r.push({type:`delete`,key:e})}else{let n=Array.isArray(e.data)?e.data:[e.data];for(let i of n){let n;if(e.type===`update`)n=t.getKey(i);else{let r=t.collection.validateData(i,e.type===`upsert`?`insert`:e.type);n=t.getKey(r)}r.push({type:e.type,key:n,data:i})}}return r}function oae(e,t){let n=new Set;for(let r of e){if(n.has(r.key))throw new nae(r.key);if(n.add(r.key),r.type===`update`){if(!t.collection._state.syncedData.has(r.key))throw new rae(r.key)}else if(r.type===`delete`&&!t.collection._state.syncedData.has(r.key))throw new iae(r.key)}}function vy(e,t){let n=aae(e,t);oae(n,t),t.begin();for(let e of n)switch(e.type){case`insert`:{let n=t.collection.validateData(e.data,`insert`);t.write({type:`insert`,value:n});break}case`update`:{let n={...t.collection._state.syncedData.get(e.key),...e.data},r=t.collection.validateData(n,`update`,e.key);t.write({type:`update`,value:r});break}case`delete`:{let n=t.collection._state.syncedData.get(e.key);t.write({type:`delete`,value:n});break}case`upsert`:{let n=t.collection._state.syncedData.has(e.key),r=t.collection.validateData(e.data,n?`update`:`insert`,e.key);n?t.write({type:`update`,value:r}):t.write({type:`insert`,value:r});break}}t.commit();let r=Array.from(t.collection._state.syncedData.values());t.queryClient.setQueryData(t.queryKey,r)}function sae(e){function t(){let t=e();if(!t)throw new tae;return t}return{writeInsert(e){let n={type:`insert`,data:e},r=t(),i=_y.get(r);if(i?.isActive){i.operations.push(n);return}vy(n,r)},writeUpdate(e){let n={type:`update`,data:e},r=t(),i=_y.get(r);if(i?.isActive){i.operations.push(n);return}vy(n,r)},writeDelete(e){let n={type:`delete`,key:e},r=t(),i=_y.get(r);if(i?.isActive){i.operations.push(n);return}vy(n,r)},writeUpsert(e){let n={type:`upsert`,data:e},r=t(),i=_y.get(r);if(i?.isActive){i.operations.push(n);return}vy(n,r)},writeBatch(e){let n=t();if(_y.get(n)?.isActive)throw Error(`Cannot nest writeBatch calls. Complete the current batch before starting a new one.`);let r={operations:[],isActive:!0};_y.set(n,r);try{let t=e();if(t&&typeof t==`object`&&`then`in t&&typeof t.then==`function`)throw Error(`writeBatch does not support async callbacks. The callback must be synchronous.`);r.operations.length>0&&vy(r.operations,n)}finally{r.isActive=!1,_y.delete(n)}}}}function cae(e){if(!e)return;let t={};return e.where&&(t.where=yy(e.where)),e.orderBy?.length&&(t.orderBy=e.orderBy.map(e=>{let t={expression:yy(e.expression),direction:e.compareOptions.direction,nulls:e.compareOptions.nulls,stringSort:e.compareOptions.stringSort};return e.compareOptions.stringSort===`locale`?{...t,locale:e.compareOptions.locale,localeOptions:e.compareOptions.localeOptions}:t})),e.limit!==void 0&&(t.limit=e.limit),e.offset!==void 0&&(t.offset=e.offset),Object.keys(t).length===0?void 0:JSON.stringify(t)}function yy(e){if(!e)return null;switch(e.type){case`val`:return{type:`val`,value:by(e.value)};case`ref`:return{type:`ref`,path:[...e.path]};case`func`:return{type:`func`,name:e.name,args:e.args.map(e=>yy(e))};default:return null}}function by(e){if(e===void 0)return{__type:`undefined`};if(typeof e==`number`){if(Number.isNaN(e))return{__type:`nan`};if(e===1/0)return{__type:`infinity`,sign:1};if(e===-1/0)return{__type:`infinity`,sign:-1}}return e===null||typeof e==`string`||typeof e==`number`||typeof e==`boolean`?e:e instanceof Date?{__type:`date`,value:e.toJSON()}:Array.isArray(e)?e.map(e=>by(e)):typeof e==`object`?Object.fromEntries(Object.entries(e).map(([e,t])=>[e,by(t)])):e}var lae=class{constructor(e,t,n){this.state=e,this.refetchFn=t,this.refetch=t,this.writeInsert=n.writeInsert,this.writeUpdate=n.writeUpdate,this.writeDelete=n.writeDelete,this.writeUpsert=n.writeUpsert,this.writeBatch=n.writeBatch}async clearError(){this.state.lastError=void 0,this.state.errorCount=0,this.state.lastErrorUpdatedAt=0,await this.refetchFn({throwOnError:!0})}get lastError(){return this.state.lastError}get isError(){return!!this.state.lastError}get errorCount(){return this.state.errorCount}get isFetching(){return Array.from(this.state.observers.values()).some(e=>e.getCurrentResult().isFetching)}get isRefetching(){return Array.from(this.state.observers.values()).some(e=>e.getCurrentResult().isRefetching)}get isLoading(){return Array.from(this.state.observers.values()).some(e=>e.getCurrentResult().isLoading)}get dataUpdatedAt(){return Math.max(0,...Array.from(this.state.observers.values()).map(e=>e.getCurrentResult().dataUpdatedAt))}get fetchStatus(){return Array.from(this.state.observers.values()).map(e=>e.getCurrentResult().fetchStatus)}};function xy(e){let{queryKey:t,queryFn:n,select:r,queryClient:i,enabled:a,refetchInterval:o,retry:s,retryDelay:c,staleTime:l,getKey:u,onInsert:d,onUpdate:f,onDelete:p,meta:m,...h}=e,g=h.syncMode??`eager`;if(!t)throw new Zie;if(!n)throw new Qie;if(!i)throw new $ie;if(!u)throw new eae;let _={lastError:void 0,errorCount:0,lastErrorUpdatedAt:0,observers:new Map},v=new Map,y=new Map,b=new Map,x=new Map,S=new Map,C=(e,t)=>{let n=b.get(e)||new Set;n.add(t),b.set(e,n);let r=y.get(t)||new Set;r.add(e),y.set(t,r)},w=(e,t)=>{let n=b.get(e)||new Set;n.delete(t),b.set(e,n);let r=y.get(t)||new Set;return r.delete(e),y.set(t,r),n.size===0},T=e=>{let{begin:d,write:f,commit:p,markReady:h,collection:T}=e,E=!1,D=e=>{if(typeof t==`function`)return t(e);if(g===`on-demand`){let n=cae(e);return n===void 0?t:[...t,n]}else return t},O=(e={},t=n)=>{let r=D(e),u=Vv(r),d={...m,loadSubsetOptions:e};if(_.observers.has(u)){S.set(u,(S.get(u)||0)+1);let e=_.observers.get(u),t=e.getCurrentResult();return t.isSuccess?!0:t.isError?Promise.reject(t.error):new Promise((t,n)=>{let r=e.subscribe(e=>{e.isSuccess?(r(),t()):e.isError&&(r(),n(e.error))})})}let f=new Uie(i,{queryKey:r,queryFn:t,meta:d,structuralSharing:!0,notifyOnChangeProps:`all`,...a!==void 0&&{enabled:a},...o!==void 0&&{refetchInterval:o},...s!==void 0&&{retry:s},...c!==void 0&&{retryDelay:c},...l!==void 0&&{staleTime:l}});v.set(u,r),_.observers.set(u,f),S.set(u,(S.get(u)||0)+1);let p=new Promise((e,t)=>{let n=f.subscribe(r=>{r.isSuccess?(n(),e()):r.isError&&(n(),t(r.error))})});return(E||T.subscriberCount>0)&&j(f,u),p},k=e=>{let t=Vv(e);return n=>{if(n.isSuccess){_.lastError=void 0,_.errorCount=0;let i=n.data,a=r?r(i):i;if(!Array.isArray(a)||a.some(e=>typeof e!=`object`)){let t=r?`@tanstack/query-db-collection: select() must return an array of objects. Got: ${typeof a} for queryKey ${JSON.stringify(e)}`:`@tanstack/query-db-collection: queryFn must return an array of objects. Got: ${typeof a} for queryKey ${JSON.stringify(e)}`;console.error(t);return}let o=new Map(T._state.syncedData.entries()),s=new Map;a.forEach(e=>{let t=u(e);s.set(t,e)}),d(),o.forEach((e,n)=>{let r=s.get(n);r?Vh(e,r)||f({type:`update`,value:r}):w(n,t)&&f({type:`delete`,value:e})}),s.forEach((e,n)=>{C(n,t),o.has(n)||f({type:`insert`,value:e})}),p(),h()}else n.isError&&(n.errorUpdatedAt!==_.lastErrorUpdatedAt&&(_.lastError=n.error,_.errorCount++,_.lastErrorUpdatedAt=n.errorUpdatedAt),console.error(`[QueryCollection] Error observing query ${String(e)}:`,n.error),h())}},A=e=>x.has(e),j=(e,t)=>{if(!A(t)){let n=k(v.get(t)),r=e.subscribe(n);x.set(t,r);let i=e.getCurrentResult();(i.isSuccess||i.isError)&&n(i)}},M=()=>{_.observers.forEach(j)},N=()=>{x.forEach(e=>{e()}),x.clear()};E=!0;let P=T.on(`subscribers:change`,({subscriberCount:e})=>{e>0?M():e===0&&N()});if(g===`eager`){let e=O({});e instanceof Promise&&e.catch(()=>{})}else h();M(),_.observers.forEach((e,t)=>{k(v.get(t))(e.getCurrentResult())});let F=e=>{x.get(e)?.(),x.delete(e);let t=y.get(e)??new Set,n=[];t.forEach(t=>{let r=b.get(t);r&&(r.delete(e),r.size===0&&(b.delete(t),T.has(t)&&n.push(T.get(t))))}),n.length>0&&(d(),n.forEach(e=>{f({type:`delete`,value:e})}),p()),_.observers.delete(e),y.delete(e),v.delete(e),S.delete(e)},I=e=>{let t=S.get(e)||0,n=_.observers.get(e);if(t<=0&&(x.get(e)?.(),x.delete(e)),n?.hasListeners()??!1){S.set(e,0);return}t>0&&console.warn(`[cleanupQueryIfIdle] Invariant violation: refcount=${t} but no listeners. Cleaning up to prevent leak.`,{hashedQueryKey:e}),F(e)},L=e=>{F(e)},R=i.getQueryCache().subscribe(e=>{let t=e.query.queryHash;e.type===`removed`&&v.has(t)&&I(t)});return{loadSubset:g===`eager`?void 0:O,unloadSubset:g===`eager`?void 0:e=>{let t=Vv(D(e)),n=(S.get(t)||0)-1;n<=0?(S.set(t,0),I(t)):S.set(t,n)},cleanup:async()=>{P(),N();let e=[...v.values()],t=[..._.observers.keys()];for(let e of t)L(e);R(),await Promise.all(e.map(async e=>{await i.cancelQueries({queryKey:e,exact:!0}),i.removeQueries({queryKey:e,exact:!0})}))}}},E=async e=>{let t=[...v.values()].map(t=>_.observers.get(Vv(t)).refetch({throwOnError:e?.throwOnError}));await Promise.all(t)},D=null,O=e=>{let{begin:n,write:r,commit:a,collection:o}=e;return D={collection:o,queryClient:i,queryKey:t,getKey:u,begin:n,write:r,commit:a},T(e)},k=sae(()=>D),A=d?async e=>{let t=await d(e)??{};return t.refetch!==!1&&await E(),t}:void 0,j=f?async e=>{let t=await f(e)??{};return t.refetch!==!1&&await E(),t}:void 0,M=p?async e=>{let t=await p(e)??{};return t.refetch!==!1&&await E(),t}:void 0,N=new lae(_,E,k);return{...h,getKey:u,syncMode:g,sync:{sync:O},onInsert:A,onUpdate:j,onDelete:M,utils:N}}Object.freeze({status:`aborted`});function K(e,t,n){function r(n,r){if(n._zod||Object.defineProperty(n,`_zod`,{value:{def:r,constr:o,traits:new Set},enumerable:!1}),n._zod.traits.has(e))return;n._zod.traits.add(e),t(n,r);let i=o.prototype,a=Object.keys(i);for(let e=0;e<a.length;e++){let t=a[e];t in n||(n[t]=i[t].bind(n))}}let i=n?.Parent??Object;class a extends i{}Object.defineProperty(a,`name`,{value:e});function o(e){var t;let i=n?.Parent?new a:this;r(i,e),(t=i._zod).deferred??(t.deferred=[]);for(let e of i._zod.deferred)e();return i}return Object.defineProperty(o,`init`,{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:t=>n?.Parent&&t instanceof n.Parent?!0:t?._zod?.traits?.has(e)}),Object.defineProperty(o,`name`,{value:e}),o}var Sy=class extends Error{constructor(){super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`)}},Cy=class extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name=`ZodEncodeError`}};const wy={};function Ty(e){return e&&Object.assign(wy,e),wy}function Ey(e){let t=Object.values(e).filter(e=>typeof e==`number`);return Object.entries(e).filter(([e,n])=>t.indexOf(+e)===-1).map(([e,t])=>t)}function Dy(e,t){return typeof t==`bigint`?t.toString():t}function Oy(e){return{get value(){{let t=e();return Object.defineProperty(this,`value`,{value:t}),t}throw Error(`cached value already set`)}}}function ky(e){return e==null}function Ay(e){let t=e.startsWith(`^`)?1:0,n=e.endsWith(`$`)?e.length-1:e.length;return e.slice(t,n)}function jy(e,t){let n=(e.toString().split(`.`)[1]||``).length,r=t.toString(),i=(r.split(`.`)[1]||``).length;if(i===0&&/\d?e-\d?/.test(r)){let e=r.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}let a=n>i?n:i;return Number.parseInt(e.toFixed(a).replace(`.`,``))%Number.parseInt(t.toFixed(a).replace(`.`,``))/10**a}var My=Symbol(`evaluating`);function Ny(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==My)return r===void 0&&(r=My,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function Py(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Fy(...e){let t={};for(let n of e){let e=Object.getOwnPropertyDescriptors(n);Object.assign(t,e)}return Object.defineProperties({},t)}function Iy(e){return JSON.stringify(e)}function Ly(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,``).replace(/[\s_-]+/g,`-`).replace(/^-+|-+$/g,``)}const Ry=`captureStackTrace`in Error?Error.captureStackTrace:(...e)=>{};function zy(e){return typeof e==`object`&&!!e&&!Array.isArray(e)}const By=Oy(()=>{if(typeof navigator<`u`&&navigator?.userAgent?.includes(`Cloudflare`))return!1;try{return Function(``),!0}catch{return!1}});function Vy(e){if(zy(e)===!1)return!1;let t=e.constructor;if(t===void 0||typeof t!=`function`)return!0;let n=t.prototype;return!(zy(n)===!1||Object.prototype.hasOwnProperty.call(n,`isPrototypeOf`)===!1)}function Hy(e){return Vy(e)?{...e}:Array.isArray(e)?[...e]:e}const Uy=new Set([`string`,`number`,`symbol`]);function Wy(e){return e.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`)}function Gy(e,t,n){let r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function Ky(e){let t=e;if(!t)return{};if(typeof t==`string`)return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error==`string`?{...t,error:()=>t.error}:t}function qy(e){return Object.keys(e).filter(t=>e[t]._zod.optin===`optional`&&e[t]._zod.optout===`optional`)}const Jy={safeint:[-(2**53-1),2**53-1],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Yy(e,t){let n=e._zod.def;return Gy(e,Fy(e._zod.def,{get shape(){let e={};for(let r in t){if(!(r in n.shape))throw Error(`Unrecognized key: "${r}"`);t[r]&&(e[r]=n.shape[r])}return Py(this,`shape`,e),e},checks:[]}))}function Xy(e,t){let n=e._zod.def;return Gy(e,Fy(e._zod.def,{get shape(){let r={...e._zod.def.shape};for(let e in t){if(!(e in n.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return Py(this,`shape`,r),r},checks:[]}))}function Zy(e,t){if(!Vy(t))throw Error(`Invalid input to extend: expected a plain object`);let n=e._zod.def.checks;if(n&&n.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");return Gy(e,Fy(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t};return Py(this,`shape`,n),n},checks:[]}))}function Qy(e,t){if(!Vy(t))throw Error(`Invalid input to safeExtend: expected a plain object`);return Gy(e,{...e._zod.def,get shape(){let n={...e._zod.def.shape,...t};return Py(this,`shape`,n),n},checks:e._zod.def.checks})}function $y(e,t){return Gy(e,Fy(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t._zod.def.shape};return Py(this,`shape`,n),n},get catchall(){return t._zod.def.catchall},checks:[]}))}function eb(e,t,n){return Gy(t,Fy(t._zod.def,{get shape(){let r=t._zod.def.shape,i={...r};if(n)for(let t in n){if(!(t in r))throw Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=e?new e({type:`optional`,innerType:r[t]}):r[t])}else for(let t in r)i[t]=e?new e({type:`optional`,innerType:r[t]}):r[t];return Py(this,`shape`,i),i},checks:[]}))}function tb(e,t,n){return Gy(t,Fy(t._zod.def,{get shape(){let r=t._zod.def.shape,i={...r};if(n)for(let t in n){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=new e({type:`nonoptional`,innerType:r[t]}))}else for(let t in r)i[t]=new e({type:`nonoptional`,innerType:r[t]});return Py(this,`shape`,i),i},checks:[]}))}function nb(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function rb(e,t){return t.map(t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t})}function ib(e){return typeof e==`string`?e:e?.message}function ab(e,t,n){let r={...e,path:e.path??[]};return e.message||(r.message=ib(e.inst?._zod.def?.error?.(e))??ib(t?.error?.(e))??ib(n.customError?.(e))??ib(n.localeError?.(e))??`Invalid input`),delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function ob(e){return Array.isArray(e)?`array`:typeof e==`string`?`string`:`unknown`}function sb(...e){let[t,n,r]=e;return typeof t==`string`?{message:t,code:`custom`,input:n,inst:r}:{...t}}var cb=(e,t)=>{e.name=`$ZodError`,Object.defineProperty(e,`_zod`,{value:e._zod,enumerable:!1}),Object.defineProperty(e,`issues`,{value:t,enumerable:!1}),e.message=JSON.stringify(t,Dy,2),Object.defineProperty(e,`toString`,{value:()=>e.message,enumerable:!1})};const lb=K(`$ZodError`,cb),ub=K(`$ZodError`,cb,{Parent:Error});function db(e,t=e=>e.message){let n={},r=[];for(let i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function fb(e,t=e=>e.message){let n={_errors:[]},r=e=>{for(let i of e.issues)if(i.code===`invalid_union`&&i.errors.length)i.errors.map(e=>r({issues:e}));else if(i.code===`invalid_key`)r({issues:i.issues});else if(i.code===`invalid_element`)r({issues:i.issues});else if(i.path.length===0)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){let n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n}const pb=e=>(t,n,r,i)=>{let a=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Sy;if(o.issues.length){let t=new(i?.Err??e)(o.issues.map(e=>ab(e,a,Ty())));throw Ry(t,i?.callee),t}return o.value},mb=e=>async(t,n,r,i)=>{let a=r?Object.assign(r,{async:!0}):{async:!0},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){let t=new(i?.Err??e)(o.issues.map(e=>ab(e,a,Ty())));throw Ry(t,i?.callee),t}return o.value},hb=e=>(t,n,r)=>{let i=r?{...r,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new Sy;return a.issues.length?{success:!1,error:new(e??lb)(a.issues.map(e=>ab(e,i,Ty())))}:{success:!0,data:a.value}},gb=hb(ub),_b=e=>async(t,n,r)=>{let i=r?Object.assign(r,{async:!0}):{async:!0},a=t._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(e=>ab(e,i,Ty())))}:{success:!0,data:a.value}},vb=_b(ub),yb=e=>(t,n,r)=>{let i=r?Object.assign(r,{direction:`backward`}):{direction:`backward`};return pb(e)(t,n,i)},bb=e=>(t,n,r)=>pb(e)(t,n,r),uae=e=>async(t,n,r)=>{let i=r?Object.assign(r,{direction:`backward`}):{direction:`backward`};return mb(e)(t,n,i)},dae=e=>async(t,n,r)=>mb(e)(t,n,r),fae=e=>(t,n,r)=>{let i=r?Object.assign(r,{direction:`backward`}):{direction:`backward`};return hb(e)(t,n,i)},pae=e=>(t,n,r)=>hb(e)(t,n,r),mae=e=>async(t,n,r)=>{let i=r?Object.assign(r,{direction:`backward`}):{direction:`backward`};return _b(e)(t,n,i)},hae=e=>async(t,n,r)=>_b(e)(t,n,r),gae=/^[cC][^\s-]{8,}$/,_ae=/^[0-9a-z]+$/,vae=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,yae=/^[0-9a-vA-V]{20}$/,bae=/^[A-Za-z0-9]{27}$/,xae=/^[a-zA-Z0-9_-]{21}$/,Sae=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Cae=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,xb=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,wae=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;var Tae=`^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;function Eae(){return new RegExp(Tae,`u`)}const Dae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Oae=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,kae=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Aae=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jae=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Sb=/^[A-Za-z0-9_-]*$/,Mae=/^\+(?:[0-9]){6,14}[0-9]$/;var Cb=`(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))`;const Nae=RegExp(`^${Cb}$`);function wb(e){let t=`(?:[01]\\d|2[0-3]):[0-5]\\d`;return typeof e.precision==`number`?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Pae(e){return RegExp(`^${wb(e)}$`)}function Fae(e){let t=wb({precision:e.precision}),n=[`Z`];e.local&&n.push(``),e.offset&&n.push(`([+-](?:[01]\\d|2[0-3]):[0-5]\\d)`);let r=`${t}(?:${n.join(`|`)})`;return RegExp(`^${Cb}T(?:${r})$`)}const Iae=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??``}}`:`[\\s\\S]*`;return RegExp(`^${t}$`)},Lae=/^-?\d+$/,Rae=/^-?\d+(?:\.\d+)?/,zae=/^(?:true|false)$/i,Bae=/^[^A-Z]*$/,Vae=/^[^a-z]*$/,Tb=K(`$ZodCheck`,(e,t)=>{var n;e._zod??={},e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])});var Eb={number:`number`,bigint:`bigint`,object:`date`};const Db=K(`$ZodCheckLessThan`,(e,t)=>{Tb.init(e,t);let n=Eb[typeof t.value];e._zod.onattach.push(e=>{let n=e._zod.bag,r=(t.inclusive?n.maximum:n.exclusiveMaximum)??1/0;t.value<r&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:`too_big`,maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Ob=K(`$ZodCheckGreaterThan`,(e,t)=>{Tb.init(e,t);let n=Eb[typeof t.value];e._zod.onattach.push(e=>{let n=e._zod.bag,r=(t.inclusive?n.minimum:n.exclusiveMinimum)??-1/0;t.value>r&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:`too_small`,minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Hae=K(`$ZodCheckMultipleOf`,(e,t)=>{Tb.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw Error(`Cannot mix number and bigint in multiple_of check.`);(typeof n.value==`bigint`?n.value%t.value===BigInt(0):jy(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:`not_multiple_of`,divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Uae=K(`$ZodCheckNumberFormat`,(e,t)=>{Tb.init(e,t),t.format=t.format||`float64`;let n=t.format?.includes(`int`),r=n?`int`:`number`,[i,a]=Jy[t.format];e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,r.minimum=i,r.maximum=a,n&&(r.pattern=Lae)}),e._zod.check=o=>{let s=o.value;if(n){if(!Number.isInteger(s)){o.issues.push({expected:r,format:t.format,code:`invalid_type`,continue:!1,input:s,inst:e});return}if(!Number.isSafeInteger(s)){s>0?o.issues.push({input:s,code:`too_big`,maximum:2**53-1,note:`Integers must be within the safe integer range.`,inst:e,origin:r,continue:!t.abort}):o.issues.push({input:s,code:`too_small`,minimum:-(2**53-1),note:`Integers must be within the safe integer range.`,inst:e,origin:r,continue:!t.abort});return}}s<i&&o.issues.push({origin:`number`,input:s,code:`too_small`,minimum:i,inclusive:!0,inst:e,continue:!t.abort}),s>a&&o.issues.push({origin:`number`,input:s,code:`too_big`,maximum:a,inst:e})}}),Wae=K(`$ZodCheckMaxLength`,(e,t)=>{var n;Tb.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!ky(t)&&t.length!==void 0}),e._zod.onattach.push(e=>{let n=e._zod.bag.maximum??1/0;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let r=n.value;if(r.length<=t.maximum)return;let i=ob(r);n.issues.push({origin:i,code:`too_big`,maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Gae=K(`$ZodCheckMinLength`,(e,t)=>{var n;Tb.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!ky(t)&&t.length!==void 0}),e._zod.onattach.push(e=>{let n=e._zod.bag.minimum??-1/0;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let r=n.value;if(r.length>=t.minimum)return;let i=ob(r);n.issues.push({origin:i,code:`too_small`,minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Kae=K(`$ZodCheckLengthEquals`,(e,t)=>{var n;Tb.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!ky(t)&&t.length!==void 0}),e._zod.onattach.push(e=>{let n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{let r=n.value,i=r.length;if(i===t.length)return;let a=ob(r),o=i>t.length;n.issues.push({origin:a,...o?{code:`too_big`,maximum:t.length}:{code:`too_small`,minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),kb=K(`$ZodCheckStringFormat`,(e,t)=>{var n,r;Tb.init(e,t),e._zod.onattach.push(e=>{let n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??=new Set,n.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:`string`,code:`invalid_format`,format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),qae=K(`$ZodCheckRegex`,(e,t)=>{kb.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:`string`,code:`invalid_format`,format:`regex`,input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Jae=K(`$ZodCheckLowerCase`,(e,t)=>{t.pattern??=Bae,kb.init(e,t)}),Yae=K(`$ZodCheckUpperCase`,(e,t)=>{t.pattern??=Vae,kb.init(e,t)}),Xae=K(`$ZodCheckIncludes`,(e,t)=>{Tb.init(e,t);let n=Wy(t.includes),r=new RegExp(typeof t.position==`number`?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??=new Set,t.patterns.add(r)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:`string`,code:`invalid_format`,format:`includes`,includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),Zae=K(`$ZodCheckStartsWith`,(e,t)=>{Tb.init(e,t);let n=RegExp(`^${Wy(t.prefix)}.*`);t.pattern??=n,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??=new Set,t.patterns.add(n)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:`string`,code:`invalid_format`,format:`starts_with`,prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Qae=K(`$ZodCheckEndsWith`,(e,t)=>{Tb.init(e,t);let n=RegExp(`.*${Wy(t.suffix)}$`);t.pattern??=n,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??=new Set,t.patterns.add(n)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:`string`,code:`invalid_format`,format:`ends_with`,suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),$ae=K(`$ZodCheckOverwrite`,(e,t)=>{Tb.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});var eoe=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),--this.indent}write(e){if(typeof e==`function`){e(this,{execution:`sync`}),e(this,{execution:`async`});return}let t=e.split(`
`).filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>` `.repeat(this.indent*2)+e);for(let e of r)this.content.push(e)}compile(){let e=Function,t=this?.args,n=[...(this?.content??[``]).map(e=>`  ${e}`)];return new e(...t,n.join(`
`))}};const toe={major:4,minor:1,patch:13},Ab=K(`$ZodType`,(e,t)=>{var n;e??={},e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=toe;let r=[...e._zod.def.checks??[]];e._zod.traits.has(`$ZodCheck`)&&r.unshift(e);for(let t of r)for(let n of t._zod.onattach)n(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,n)=>{let r=nb(e),i;for(let a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(r)continue;let t=e.issues.length,o=a._zod.check(e);if(o instanceof Promise&&n?.async===!1)throw new Sy;if(i||o instanceof Promise)i=(i??Promise.resolve()).then(async()=>{await o,e.issues.length!==t&&(r||=nb(e,t))});else{if(e.issues.length===t)continue;r||=nb(e,t)}}return i?i.then(()=>e):e},n=(n,i,a)=>{if(nb(n))return n.aborted=!0,n;let o=t(i,r,a);if(o instanceof Promise){if(a.async===!1)throw new Sy;return o.then(t=>e._zod.parse(t,a))}return e._zod.parse(o,a)};e._zod.run=(i,a)=>{if(a.skipChecks)return e._zod.parse(i,a);if(a.direction===`backward`){let t=e._zod.parse({value:i.value,issues:[]},{...a,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,i,a)):n(t,i,a)}let o=e._zod.parse(i,a);if(o instanceof Promise){if(a.async===!1)throw new Sy;return o.then(e=>t(e,r,a))}return t(o,r,a)}}e[`~standard`]={validate:t=>{try{let n=gb(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch{return vb(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:`zod`,version:1}}),jb=K(`$ZodString`,(e,t)=>{Ab.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Iae(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value==`string`||n.issues.push({expected:`string`,code:`invalid_type`,input:n.value,inst:e}),n}}),Mb=K(`$ZodStringFormat`,(e,t)=>{kb.init(e,t),jb.init(e,t)}),noe=K(`$ZodGUID`,(e,t)=>{t.pattern??=Cae,Mb.init(e,t)}),roe=K(`$ZodUUID`,(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(e===void 0)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??=xb(e)}else t.pattern??=xb();Mb.init(e,t)}),ioe=K(`$ZodEmail`,(e,t)=>{t.pattern??=wae,Mb.init(e,t)}),aoe=K(`$ZodURL`,(e,t)=>{Mb.init(e,t),e._zod.check=n=>{try{let r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:`invalid_format`,format:`url`,note:`Invalid hostname`,pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(`:`)?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:`invalid_format`,format:`url`,note:`Invalid protocol`,pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:`invalid_format`,format:`url`,input:n.value,inst:e,continue:!t.abort})}}}),ooe=K(`$ZodEmoji`,(e,t)=>{t.pattern??=Eae(),Mb.init(e,t)}),soe=K(`$ZodNanoID`,(e,t)=>{t.pattern??=xae,Mb.init(e,t)}),coe=K(`$ZodCUID`,(e,t)=>{t.pattern??=gae,Mb.init(e,t)}),loe=K(`$ZodCUID2`,(e,t)=>{t.pattern??=_ae,Mb.init(e,t)}),uoe=K(`$ZodULID`,(e,t)=>{t.pattern??=vae,Mb.init(e,t)}),doe=K(`$ZodXID`,(e,t)=>{t.pattern??=yae,Mb.init(e,t)}),foe=K(`$ZodKSUID`,(e,t)=>{t.pattern??=bae,Mb.init(e,t)}),poe=K(`$ZodISODateTime`,(e,t)=>{t.pattern??=Fae(t),Mb.init(e,t)}),moe=K(`$ZodISODate`,(e,t)=>{t.pattern??=Nae,Mb.init(e,t)}),hoe=K(`$ZodISOTime`,(e,t)=>{t.pattern??=Pae(t),Mb.init(e,t)}),goe=K(`$ZodISODuration`,(e,t)=>{t.pattern??=Sae,Mb.init(e,t)}),_oe=K(`$ZodIPv4`,(e,t)=>{t.pattern??=Dae,Mb.init(e,t),e._zod.bag.format=`ipv4`}),voe=K(`$ZodIPv6`,(e,t)=>{t.pattern??=Oae,Mb.init(e,t),e._zod.bag.format=`ipv6`,e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:`invalid_format`,format:`ipv6`,input:n.value,inst:e,continue:!t.abort})}}}),yoe=K(`$ZodCIDRv4`,(e,t)=>{t.pattern??=kae,Mb.init(e,t)}),boe=K(`$ZodCIDRv6`,(e,t)=>{t.pattern??=Aae,Mb.init(e,t),e._zod.check=n=>{let r=n.value.split(`/`);try{if(r.length!==2)throw Error();let[e,t]=r;if(!t)throw Error();let n=Number(t);if(`${n}`!==t||n<0||n>128)throw Error();new URL(`http://[${e}]`)}catch{n.issues.push({code:`invalid_format`,format:`cidrv6`,input:n.value,inst:e,continue:!t.abort})}}});function Nb(e){if(e===``)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const xoe=K(`$ZodBase64`,(e,t)=>{t.pattern??=jae,Mb.init(e,t),e._zod.bag.contentEncoding=`base64`,e._zod.check=n=>{Nb(n.value)||n.issues.push({code:`invalid_format`,format:`base64`,input:n.value,inst:e,continue:!t.abort})}});function Soe(e){if(!Sb.test(e))return!1;let t=e.replace(/[-_]/g,e=>e===`-`?`+`:`/`);return Nb(t.padEnd(Math.ceil(t.length/4)*4,`=`))}const Coe=K(`$ZodBase64URL`,(e,t)=>{t.pattern??=Sb,Mb.init(e,t),e._zod.bag.contentEncoding=`base64url`,e._zod.check=n=>{Soe(n.value)||n.issues.push({code:`invalid_format`,format:`base64url`,input:n.value,inst:e,continue:!t.abort})}}),woe=K(`$ZodE164`,(e,t)=>{t.pattern??=Mae,Mb.init(e,t)});function Toe(e,t=null){try{let n=e.split(`.`);if(n.length!==3)return!1;let[r]=n;if(!r)return!1;let i=JSON.parse(atob(r));return!(`typ`in i&&i?.typ!==`JWT`||!i.alg||t&&(!(`alg`in i)||i.alg!==t))}catch{return!1}}const Eoe=K(`$ZodJWT`,(e,t)=>{Mb.init(e,t),e._zod.check=n=>{Toe(n.value,t.alg)||n.issues.push({code:`invalid_format`,format:`jwt`,input:n.value,inst:e,continue:!t.abort})}}),Pb=K(`$ZodNumber`,(e,t)=>{Ab.init(e,t),e._zod.pattern=e._zod.bag.pattern??Rae,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}let i=n.value;if(typeof i==`number`&&!Number.isNaN(i)&&Number.isFinite(i))return n;let a=typeof i==`number`?Number.isNaN(i)?`NaN`:Number.isFinite(i)?void 0:`Infinity`:void 0;return n.issues.push({expected:`number`,code:`invalid_type`,input:i,inst:e,...a?{received:a}:{}}),n}}),Doe=K(`$ZodNumberFormat`,(e,t)=>{Uae.init(e,t),Pb.init(e,t)}),Ooe=K(`$ZodBoolean`,(e,t)=>{Ab.init(e,t),e._zod.pattern=zae,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}let i=n.value;return typeof i==`boolean`||n.issues.push({expected:`boolean`,code:`invalid_type`,input:i,inst:e}),n}}),koe=K(`$ZodUnknown`,(e,t)=>{Ab.init(e,t),e._zod.parse=e=>e}),Aoe=K(`$ZodNever`,(e,t)=>{Ab.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:`never`,code:`invalid_type`,input:t.value,inst:e}),t)}),joe=K(`$ZodDate`,(e,t)=>{Ab.init(e,t),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=new Date(n.value)}catch{}let i=n.value,a=i instanceof Date;return a&&!Number.isNaN(i.getTime())||n.issues.push({expected:`date`,code:`invalid_type`,input:i,...a?{received:`Invalid Date`}:{},inst:e}),n}});function Fb(e,t,n){e.issues.length&&t.issues.push(...rb(n,e.issues)),t.value[n]=e.value}const Moe=K(`$ZodArray`,(e,t)=>{Ab.init(e,t),e._zod.parse=(n,r)=>{let i=n.value;if(!Array.isArray(i))return n.issues.push({expected:`array`,code:`invalid_type`,input:i,inst:e}),n;n.value=Array(i.length);let a=[];for(let e=0;e<i.length;e++){let o=i[e],s=t.element._zod.run({value:o,issues:[]},r);s instanceof Promise?a.push(s.then(t=>Fb(t,n,e))):Fb(s,n,e)}return a.length?Promise.all(a).then(()=>n):n}});function Ib(e,t,n,r){e.issues.length&&t.issues.push(...rb(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Lb(e){let t=Object.keys(e.shape);for(let n of t)if(!e.shape?.[n]?._zod?.traits?.has(`$ZodType`))throw Error(`Invalid element at key "${n}": expected a Zod schema`);let n=qy(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Rb(e,t,n,r,i,a){let o=[],s=i.keySet,c=i.catchall._zod,l=c.def.type;for(let i in t){if(s.has(i))continue;if(l===`never`){o.push(i);continue}let a=c.run({value:t[i],issues:[]},r);a instanceof Promise?e.push(a.then(e=>Ib(e,n,i,t))):Ib(a,n,i,t)}return o.length&&n.issues.push({code:`unrecognized_keys`,keys:o,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const Noe=K(`$ZodObject`,(e,t)=>{if(Ab.init(e,t),!Object.getOwnPropertyDescriptor(t,`shape`)?.get){let e=t.shape;Object.defineProperty(t,`shape`,{get:()=>{let n={...e};return Object.defineProperty(t,`shape`,{value:n}),n}})}let n=Oy(()=>Lb(t));Ny(e._zod,`propValues`,()=>{let e=t.shape,n={};for(let t in e){let r=e[t]._zod;if(r.values){n[t]??(n[t]=new Set);for(let e of r.values)n[t].add(e)}}return n});let r=zy,i=t.catchall,a;e._zod.parse=(t,o)=>{a??=n.value;let s=t.value;if(!r(s))return t.issues.push({expected:`object`,code:`invalid_type`,input:s,inst:e}),t;t.value={};let c=[],l=a.shape;for(let e of a.keys){let n=l[e]._zod.run({value:s[e],issues:[]},o);n instanceof Promise?c.push(n.then(n=>Ib(n,t,e,s))):Ib(n,t,e,s)}return i?Rb(c,s,t,o,n.value,e):c.length?Promise.all(c).then(()=>t):t}}),Poe=K(`$ZodObjectJIT`,(e,t)=>{Noe.init(e,t);let n=e._zod.parse,r=Oy(()=>Lb(t)),i=e=>{let t=new eoe([`shape`,`payload`,`ctx`]),n=r.value,i=e=>{let t=Iy(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write(`const input = payload.value;`);let a=Object.create(null),o=0;for(let e of n.keys)a[e]=`key_${o++}`;t.write(`const newResult = {};`);for(let e of n.keys){let n=a[e],r=Iy(e);t.write(`const ${n} = ${i(e)};`),t.write(`
        if (${n}.issues.length) {
          payload.issues = payload.issues.concat(${n}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${r}, ...iss.path] : [${r}]
          })));
        }
        
        
        if (${n}.value === undefined) {
          if (${r} in input) {
            newResult[${r}] = undefined;
          }
        } else {
          newResult[${r}] = ${n}.value;
        }
        
      `)}t.write(`payload.value = newResult;`),t.write(`return payload;`);let s=t.compile();return(t,n)=>s(e,t,n)},a,o=zy,s=!wy.jitless,c=s&&By.value,l=t.catchall,u;e._zod.parse=(d,f)=>{u??=r.value;let p=d.value;return o(p)?s&&c&&f?.async===!1&&f.jitless!==!0?(a||=i(t.shape),d=a(d,f),l?Rb([],p,d,f,u,e):d):n(d,f):(d.issues.push({expected:`object`,code:`invalid_type`,input:p,inst:e}),d)}});function zb(e,t,n,r){for(let n of e)if(n.issues.length===0)return t.value=n.value,t;let i=e.filter(e=>!nb(e));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:`invalid_union`,input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>ab(e,r,Ty())))}),t)}const Foe=K(`$ZodUnion`,(e,t)=>{Ab.init(e,t),Ny(e._zod,`optin`,()=>t.options.some(e=>e._zod.optin===`optional`)?`optional`:void 0),Ny(e._zod,`optout`,()=>t.options.some(e=>e._zod.optout===`optional`)?`optional`:void 0),Ny(e._zod,`values`,()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),Ny(e._zod,`pattern`,()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>Ay(e.source)).join(`|`)})$`)}});let n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,a)=>{if(n)return r(i,a);let o=!1,s=[];for(let e of t.options){let t=e._zod.run({value:i.value,issues:[]},a);if(t instanceof Promise)s.push(t),o=!0;else{if(t.issues.length===0)return t;s.push(t)}}return o?Promise.all(s).then(t=>zb(t,i,e,a)):zb(s,i,e,a)}}),Ioe=K(`$ZodIntersection`,(e,t)=>{Ab.init(e,t),e._zod.parse=(e,n)=>{let r=e.value,i=t.left._zod.run({value:r,issues:[]},n),a=t.right._zod.run({value:r,issues:[]},n);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([t,n])=>Vb(e,t,n)):Vb(e,i,a)}});function Bb(e,t){if(e===t||e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Vy(e)&&Vy(t)){let n=Object.keys(t),r=Object.keys(e).filter(e=>n.indexOf(e)!==-1),i={...e,...t};for(let n of r){let r=Bb(e[n],t[n]);if(!r.valid)return{valid:!1,mergeErrorPath:[n,...r.mergeErrorPath]};i[n]=r.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let r=0;r<e.length;r++){let i=e[r],a=t[r],o=Bb(i,a);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Vb(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),nb(e))return e;let r=Bb(t.value,n.value);if(!r.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Loe=K(`$ZodEnum`,(e,t)=>{Ab.init(e,t);let n=Ey(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=RegExp(`^(${n.filter(e=>Uy.has(typeof e)).map(e=>typeof e==`string`?Wy(e):e.toString()).join(`|`)})$`),e._zod.parse=(t,i)=>{let a=t.value;return r.has(a)||t.issues.push({code:`invalid_value`,values:n,input:a,inst:e}),t}}),Roe=K(`$ZodTransform`,(e,t)=>{Ab.init(e,t),e._zod.parse=(n,r)=>{if(r.direction===`backward`)throw new Cy(e.constructor.name);let i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(n.value=e,n));if(i instanceof Promise)throw new Sy;return n.value=i,n}});function Hb(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const zoe=K(`$ZodOptional`,(e,t)=>{Ab.init(e,t),e._zod.optin=`optional`,e._zod.optout=`optional`,Ny(e._zod,`values`,()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ny(e._zod,`pattern`,()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${Ay(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>{if(t.innerType._zod.optin===`optional`){let r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>Hb(t,e.value)):Hb(r,e.value)}return e.value===void 0?e:t.innerType._zod.run(e,n)}}),Boe=K(`$ZodNullable`,(e,t)=>{Ab.init(e,t),Ny(e._zod,`optin`,()=>t.innerType._zod.optin),Ny(e._zod,`optout`,()=>t.innerType._zod.optout),Ny(e._zod,`pattern`,()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${Ay(e.source)}|null)$`):void 0}),Ny(e._zod,`values`,()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>e.value===null?e:t.innerType._zod.run(e,n)}),Voe=K(`$ZodDefault`,(e,t)=>{Ab.init(e,t),e._zod.optin=`optional`,Ny(e._zod,`values`,()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if(n.direction===`backward`)return t.innerType._zod.run(e,n);if(e.value===void 0)return e.value=t.defaultValue,e;let r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>Ub(e,t)):Ub(r,t)}});function Ub(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Hoe=K(`$ZodPrefault`,(e,t)=>{Ab.init(e,t),e._zod.optin=`optional`,Ny(e._zod,`values`,()=>t.innerType._zod.values),e._zod.parse=(e,n)=>(n.direction===`backward`||e.value===void 0&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),Uoe=K(`$ZodNonOptional`,(e,t)=>{Ab.init(e,t),Ny(e._zod,`values`,()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>e!==void 0)):void 0}),e._zod.parse=(n,r)=>{let i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(t=>Wb(t,e)):Wb(i,e)}});function Wb(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:`invalid_type`,expected:`nonoptional`,input:e.value,inst:t}),e}const Woe=K(`$ZodCatch`,(e,t)=>{Ab.init(e,t),Ny(e._zod,`optin`,()=>t.innerType._zod.optin),Ny(e._zod,`optout`,()=>t.innerType._zod.optout),Ny(e._zod,`values`,()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if(n.direction===`backward`)return t.innerType._zod.run(e,n);let r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>ab(e,n,Ty()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>ab(e,n,Ty()))},input:e.value}),e.issues=[]),e)}}),Goe=K(`$ZodPipe`,(e,t)=>{Ab.init(e,t),Ny(e._zod,`values`,()=>t.in._zod.values),Ny(e._zod,`optin`,()=>t.in._zod.optin),Ny(e._zod,`optout`,()=>t.out._zod.optout),Ny(e._zod,`propValues`,()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if(n.direction===`backward`){let r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>Gb(e,t.in,n)):Gb(r,t.in,n)}let r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>Gb(e,t.out,n)):Gb(r,t.out,n)}});function Gb(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Koe=K(`$ZodReadonly`,(e,t)=>{Ab.init(e,t),Ny(e._zod,`propValues`,()=>t.innerType._zod.propValues),Ny(e._zod,`values`,()=>t.innerType._zod.values),Ny(e._zod,`optin`,()=>t.innerType?._zod?.optin),Ny(e._zod,`optout`,()=>t.innerType?._zod?.optout),e._zod.parse=(e,n)=>{if(n.direction===`backward`)return t.innerType._zod.run(e,n);let r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(Kb):Kb(r)}});function Kb(e){return e.value=Object.freeze(e.value),e}const qoe=K(`$ZodCustom`,(e,t)=>{Tb.init(e,t),Ab.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{let r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(t=>qb(t,n,r,e));qb(i,n,r,e)}});function qb(e,t,n,r){if(!e){let e={code:`custom`,input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(sb(e))}}var Jb,Joe=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let n=t[0];if(this._map.set(e,n),n&&typeof n==`object`&&`id`in n){if(this._idmap.has(n.id))throw Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&typeof t==`object`&&`id`in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let n={...this.get(t)??{}};delete n.id;let r={...n,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}};function Yoe(){return new Joe}(Jb=globalThis).__zod_globalRegistry??(Jb.__zod_globalRegistry=Yoe());const Yb=globalThis.__zod_globalRegistry;function Xoe(e,t){return new e({type:`string`,...Ky(t)})}function Xb(e,t){return new e({type:`string`,format:`email`,check:`string_format`,abort:!1,...Ky(t)})}function Zb(e,t){return new e({type:`string`,format:`guid`,check:`string_format`,abort:!1,...Ky(t)})}function Qb(e,t){return new e({type:`string`,format:`uuid`,check:`string_format`,abort:!1,...Ky(t)})}function Zoe(e,t){return new e({type:`string`,format:`uuid`,check:`string_format`,abort:!1,version:`v4`,...Ky(t)})}function Qoe(e,t){return new e({type:`string`,format:`uuid`,check:`string_format`,abort:!1,version:`v6`,...Ky(t)})}function $oe(e,t){return new e({type:`string`,format:`uuid`,check:`string_format`,abort:!1,version:`v7`,...Ky(t)})}function ese(e,t){return new e({type:`string`,format:`url`,check:`string_format`,abort:!1,...Ky(t)})}function tse(e,t){return new e({type:`string`,format:`emoji`,check:`string_format`,abort:!1,...Ky(t)})}function nse(e,t){return new e({type:`string`,format:`nanoid`,check:`string_format`,abort:!1,...Ky(t)})}function rse(e,t){return new e({type:`string`,format:`cuid`,check:`string_format`,abort:!1,...Ky(t)})}function ise(e,t){return new e({type:`string`,format:`cuid2`,check:`string_format`,abort:!1,...Ky(t)})}function ase(e,t){return new e({type:`string`,format:`ulid`,check:`string_format`,abort:!1,...Ky(t)})}function ose(e,t){return new e({type:`string`,format:`xid`,check:`string_format`,abort:!1,...Ky(t)})}function sse(e,t){return new e({type:`string`,format:`ksuid`,check:`string_format`,abort:!1,...Ky(t)})}function cse(e,t){return new e({type:`string`,format:`ipv4`,check:`string_format`,abort:!1,...Ky(t)})}function lse(e,t){return new e({type:`string`,format:`ipv6`,check:`string_format`,abort:!1,...Ky(t)})}function use(e,t){return new e({type:`string`,format:`cidrv4`,check:`string_format`,abort:!1,...Ky(t)})}function dse(e,t){return new e({type:`string`,format:`cidrv6`,check:`string_format`,abort:!1,...Ky(t)})}function fse(e,t){return new e({type:`string`,format:`base64`,check:`string_format`,abort:!1,...Ky(t)})}function pse(e,t){return new e({type:`string`,format:`base64url`,check:`string_format`,abort:!1,...Ky(t)})}function mse(e,t){return new e({type:`string`,format:`e164`,check:`string_format`,abort:!1,...Ky(t)})}function hse(e,t){return new e({type:`string`,format:`jwt`,check:`string_format`,abort:!1,...Ky(t)})}function gse(e,t){return new e({type:`string`,format:`datetime`,check:`string_format`,offset:!1,local:!1,precision:null,...Ky(t)})}function _se(e,t){return new e({type:`string`,format:`date`,check:`string_format`,...Ky(t)})}function vse(e,t){return new e({type:`string`,format:`time`,check:`string_format`,precision:null,...Ky(t)})}function yse(e,t){return new e({type:`string`,format:`duration`,check:`string_format`,...Ky(t)})}function bse(e,t){return new e({type:`number`,checks:[],...Ky(t)})}function xse(e,t){return new e({type:`number`,check:`number_format`,abort:!1,format:`safeint`,...Ky(t)})}function Sse(e,t){return new e({type:`boolean`,...Ky(t)})}function Cse(e){return new e({type:`unknown`})}function wse(e,t){return new e({type:`never`,...Ky(t)})}function Tse(e,t){return new e({type:`date`,...Ky(t)})}function $b(e,t){return new Db({check:`less_than`,...Ky(t),value:e,inclusive:!1})}function ex(e,t){return new Db({check:`less_than`,...Ky(t),value:e,inclusive:!0})}function tx(e,t){return new Ob({check:`greater_than`,...Ky(t),value:e,inclusive:!1})}function nx(e,t){return new Ob({check:`greater_than`,...Ky(t),value:e,inclusive:!0})}function rx(e,t){return new Hae({check:`multiple_of`,...Ky(t),value:e})}function ix(e,t){return new Wae({check:`max_length`,...Ky(t),maximum:e})}function ax(e,t){return new Gae({check:`min_length`,...Ky(t),minimum:e})}function ox(e,t){return new Kae({check:`length_equals`,...Ky(t),length:e})}function Ese(e,t){return new qae({check:`string_format`,format:`regex`,...Ky(t),pattern:e})}function Dse(e){return new Jae({check:`string_format`,format:`lowercase`,...Ky(e)})}function Ose(e){return new Yae({check:`string_format`,format:`uppercase`,...Ky(e)})}function kse(e,t){return new Xae({check:`string_format`,format:`includes`,...Ky(t),includes:e})}function Ase(e,t){return new Zae({check:`string_format`,format:`starts_with`,...Ky(t),prefix:e})}function jse(e,t){return new Qae({check:`string_format`,format:`ends_with`,...Ky(t),suffix:e})}function sx(e){return new $ae({check:`overwrite`,tx:e})}function Mse(e){return sx(t=>t.normalize(e))}function Nse(){return sx(e=>e.trim())}function Pse(){return sx(e=>e.toLowerCase())}function Fse(){return sx(e=>e.toUpperCase())}function Ise(){return sx(e=>Ly(e))}function Lse(e,t,n){return new e({type:`array`,element:t,...Ky(n)})}function Rse(e,t,n){return new e({type:`custom`,check:`custom`,fn:t,...Ky(n)})}function zse(e){let t=Bse(n=>(n.addIssue=e=>{if(typeof e==`string`)n.issues.push(sb(e,n.value,t._zod.def));else{let r=e;r.fatal&&(r.continue=!1),r.code??=`custom`,r.input??=n.value,r.inst??=t,r.continue??=!t._zod.def.abort,n.issues.push(sb(r))}},e(n.value,n)));return t}function Bse(e,t){let n=new Tb({check:`custom`,...Ky(t)});return n._zod.check=e,n}const Vse=K(`ZodISODateTime`,(e,t)=>{poe.init(e,t),px.init(e,t)});function Hse(e){return gse(Vse,e)}const Use=K(`ZodISODate`,(e,t)=>{moe.init(e,t),px.init(e,t)});function Wse(e){return _se(Use,e)}const Gse=K(`ZodISOTime`,(e,t)=>{hoe.init(e,t),px.init(e,t)});function Kse(e){return vse(Gse,e)}const qse=K(`ZodISODuration`,(e,t)=>{goe.init(e,t),px.init(e,t)});function Jse(e){return yse(qse,e)}var cx=(e,t)=>{lb.init(e,t),e.name=`ZodError`,Object.defineProperties(e,{format:{value:t=>fb(e,t)},flatten:{value:t=>db(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,Dy,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,Dy,2)}},isEmpty:{get(){return e.issues.length===0}}})};K(`ZodError`,cx);const lx=K(`ZodError`,cx,{Parent:Error}),Yse=pb(lx),Xse=mb(lx),Zse=hb(lx),Qse=_b(lx),$se=yb(lx),ece=bb(lx),tce=uae(lx),nce=dae(lx),rce=fae(lx),ice=pae(lx),ace=mae(lx),oce=hae(lx),ux=K(`ZodType`,(e,t)=>(Ab.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,`_def`,{value:t}),e.check=(...n)=>e.clone(Fy(t,{checks:[...t.checks??[],...n.map(e=>typeof e==`function`?{_zod:{check:e,def:{check:`custom`},onattach:[]}}:e)]})),e.clone=(t,n)=>Gy(e,t,n),e.brand=()=>e,e.register=((t,n)=>(t.add(e,n),e)),e.parse=(t,n)=>Yse(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>Zse(e,t,n),e.parseAsync=async(t,n)=>Xse(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>Qse(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>$se(e,t,n),e.decode=(t,n)=>ece(e,t,n),e.encodeAsync=async(t,n)=>tce(e,t,n),e.decodeAsync=async(t,n)=>nce(e,t,n),e.safeEncode=(t,n)=>rce(e,t,n),e.safeDecode=(t,n)=>ice(e,t,n),e.safeEncodeAsync=async(t,n)=>ace(e,t,n),e.safeDecodeAsync=async(t,n)=>oce(e,t,n),e.refine=(t,n)=>e.check($ce(t,n)),e.superRefine=t=>e.check(ele(t)),e.overwrite=t=>e.check(sx(t)),e.optional=()=>Dx(e),e.nullable=()=>Ox(e),e.nullish=()=>Dx(Ox(e)),e.nonoptional=t=>Kce(e,t),e.array=()=>Nce(e),e.or=t=>Ice([e,t]),e.and=t=>Rce(e,t),e.transform=t=>Ax(e,Bce(t)),e.default=t=>Uce(e,t),e.prefault=t=>Gce(e,t),e.catch=t=>Jce(e,t),e.pipe=t=>Ax(e,t),e.readonly=()=>Zce(e),e.describe=t=>{let n=e.clone();return Yb.add(n,{description:t}),n},Object.defineProperty(e,`description`,{get(){return Yb.get(e)?.description},configurable:!0}),e.meta=(...t)=>{if(t.length===0)return Yb.get(e);let n=e.clone();return Yb.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),dx=K(`_ZodString`,(e,t)=>{jb.init(e,t),ux.init(e,t);let n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(Ese(...t)),e.includes=(...t)=>e.check(kse(...t)),e.startsWith=(...t)=>e.check(Ase(...t)),e.endsWith=(...t)=>e.check(jse(...t)),e.min=(...t)=>e.check(ax(...t)),e.max=(...t)=>e.check(ix(...t)),e.length=(...t)=>e.check(ox(...t)),e.nonempty=(...t)=>e.check(ax(1,...t)),e.lowercase=t=>e.check(Dse(t)),e.uppercase=t=>e.check(Ose(t)),e.trim=()=>e.check(Nse()),e.normalize=(...t)=>e.check(Mse(...t)),e.toLowerCase=()=>e.check(Pse()),e.toUpperCase=()=>e.check(Fse()),e.slugify=()=>e.check(Ise())}),sce=K(`ZodString`,(e,t)=>{jb.init(e,t),dx.init(e,t),e.email=t=>e.check(Xb(mx,t)),e.url=t=>e.check(ese(lce,t)),e.jwt=t=>e.check(hse(wce,t)),e.emoji=t=>e.check(tse(uce,t)),e.guid=t=>e.check(Zb(hx,t)),e.uuid=t=>e.check(Qb(gx,t)),e.uuidv4=t=>e.check(Zoe(gx,t)),e.uuidv6=t=>e.check(Qoe(gx,t)),e.uuidv7=t=>e.check($oe(gx,t)),e.nanoid=t=>e.check(nse(dce,t)),e.guid=t=>e.check(Zb(hx,t)),e.cuid=t=>e.check(rse(fce,t)),e.cuid2=t=>e.check(ise(pce,t)),e.ulid=t=>e.check(ase(mce,t)),e.base64=t=>e.check(fse(xce,t)),e.base64url=t=>e.check(pse(Sce,t)),e.xid=t=>e.check(ose(hce,t)),e.ksuid=t=>e.check(sse(gce,t)),e.ipv4=t=>e.check(cse(_ce,t)),e.ipv6=t=>e.check(lse(vce,t)),e.cidrv4=t=>e.check(use(yce,t)),e.cidrv6=t=>e.check(dse(bce,t)),e.e164=t=>e.check(mse(Cce,t)),e.datetime=t=>e.check(Hse(t)),e.date=t=>e.check(Wse(t)),e.time=t=>e.check(Kse(t)),e.duration=t=>e.check(Jse(t))});function fx(e){return Xoe(sce,e)}const px=K(`ZodStringFormat`,(e,t)=>{Mb.init(e,t),dx.init(e,t)}),mx=K(`ZodEmail`,(e,t)=>{ioe.init(e,t),px.init(e,t)});function cce(e){return Xb(mx,e)}const hx=K(`ZodGUID`,(e,t)=>{noe.init(e,t),px.init(e,t)}),gx=K(`ZodUUID`,(e,t)=>{roe.init(e,t),px.init(e,t)});function _x(e){return Qb(gx,e)}const lce=K(`ZodURL`,(e,t)=>{aoe.init(e,t),px.init(e,t)}),uce=K(`ZodEmoji`,(e,t)=>{ooe.init(e,t),px.init(e,t)}),dce=K(`ZodNanoID`,(e,t)=>{soe.init(e,t),px.init(e,t)}),fce=K(`ZodCUID`,(e,t)=>{coe.init(e,t),px.init(e,t)}),pce=K(`ZodCUID2`,(e,t)=>{loe.init(e,t),px.init(e,t)}),mce=K(`ZodULID`,(e,t)=>{uoe.init(e,t),px.init(e,t)}),hce=K(`ZodXID`,(e,t)=>{doe.init(e,t),px.init(e,t)}),gce=K(`ZodKSUID`,(e,t)=>{foe.init(e,t),px.init(e,t)}),_ce=K(`ZodIPv4`,(e,t)=>{_oe.init(e,t),px.init(e,t)}),vce=K(`ZodIPv6`,(e,t)=>{voe.init(e,t),px.init(e,t)}),yce=K(`ZodCIDRv4`,(e,t)=>{yoe.init(e,t),px.init(e,t)}),bce=K(`ZodCIDRv6`,(e,t)=>{boe.init(e,t),px.init(e,t)}),xce=K(`ZodBase64`,(e,t)=>{xoe.init(e,t),px.init(e,t)}),Sce=K(`ZodBase64URL`,(e,t)=>{Coe.init(e,t),px.init(e,t)}),Cce=K(`ZodE164`,(e,t)=>{woe.init(e,t),px.init(e,t)}),wce=K(`ZodJWT`,(e,t)=>{Eoe.init(e,t),px.init(e,t)}),vx=K(`ZodNumber`,(e,t)=>{Pb.init(e,t),ux.init(e,t),e.gt=(t,n)=>e.check(tx(t,n)),e.gte=(t,n)=>e.check(nx(t,n)),e.min=(t,n)=>e.check(nx(t,n)),e.lt=(t,n)=>e.check($b(t,n)),e.lte=(t,n)=>e.check(ex(t,n)),e.max=(t,n)=>e.check(ex(t,n)),e.int=t=>e.check(bx(t)),e.safe=t=>e.check(bx(t)),e.positive=t=>e.check(tx(0,t)),e.nonnegative=t=>e.check(nx(0,t)),e.negative=t=>e.check($b(0,t)),e.nonpositive=t=>e.check(ex(0,t)),e.multipleOf=(t,n)=>e.check(rx(t,n)),e.step=(t,n)=>e.check(rx(t,n)),e.finite=()=>e;let n=e._zod.bag;e.minValue=Math.max(n.minimum??-1/0,n.exclusiveMinimum??-1/0)??null,e.maxValue=Math.min(n.maximum??1/0,n.exclusiveMaximum??1/0)??null,e.isInt=(n.format??``).includes(`int`)||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function yx(e){return bse(vx,e)}const Tce=K(`ZodNumberFormat`,(e,t)=>{Doe.init(e,t),vx.init(e,t)});function bx(e){return xse(Tce,e)}const Ece=K(`ZodBoolean`,(e,t)=>{Ooe.init(e,t),ux.init(e,t)});function Dce(e){return Sse(Ece,e)}const Oce=K(`ZodUnknown`,(e,t)=>{koe.init(e,t),ux.init(e,t)});function xx(){return Cse(Oce)}const kce=K(`ZodNever`,(e,t)=>{Aoe.init(e,t),ux.init(e,t)});function Ace(e){return wse(kce,e)}const jce=K(`ZodDate`,(e,t)=>{joe.init(e,t),ux.init(e,t),e.min=(t,n)=>e.check(nx(t,n)),e.max=(t,n)=>e.check(ex(t,n));let n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function Sx(e){return Tse(jce,e)}const Mce=K(`ZodArray`,(e,t)=>{Moe.init(e,t),ux.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(ax(t,n)),e.nonempty=t=>e.check(ax(1,t)),e.max=(t,n)=>e.check(ix(t,n)),e.length=(t,n)=>e.check(ox(t,n)),e.unwrap=()=>e.element});function Nce(e,t){return Lse(Mce,e,t)}const Pce=K(`ZodObject`,(e,t)=>{Poe.init(e,t),ux.init(e,t),Ny(e,`shape`,()=>t.shape),e.keyof=()=>Tx(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:xx()}),e.loose=()=>e.clone({...e._zod.def,catchall:xx()}),e.strict=()=>e.clone({...e._zod.def,catchall:Ace()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>Zy(e,t),e.safeExtend=t=>Qy(e,t),e.merge=t=>$y(e,t),e.pick=t=>Yy(e,t),e.omit=t=>Xy(e,t),e.partial=(...t)=>eb(Ex,e,t[0]),e.required=(...t)=>tb(kx,e,t[0])});function Cx(e,t){return new Pce({type:`object`,shape:e??{},...Ky(t)})}const Fce=K(`ZodUnion`,(e,t)=>{Foe.init(e,t),ux.init(e,t),e.options=t.options});function Ice(e,t){return new Fce({type:`union`,options:e,...Ky(t)})}const Lce=K(`ZodIntersection`,(e,t)=>{Ioe.init(e,t),ux.init(e,t)});function Rce(e,t){return new Lce({type:`intersection`,left:e,right:t})}const wx=K(`ZodEnum`,(e,t)=>{Loe.init(e,t),ux.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{let i={};for(let r of e)if(n.has(r))i[r]=t.entries[r];else throw Error(`Key ${r} not found in enum`);return new wx({...t,checks:[],...Ky(r),entries:i})},e.exclude=(e,r)=>{let i={...t.entries};for(let t of e)if(n.has(t))delete i[t];else throw Error(`Key ${t} not found in enum`);return new wx({...t,checks:[],...Ky(r),entries:i})}});function Tx(e,t){return new wx({type:`enum`,entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...Ky(t)})}const zce=K(`ZodTransform`,(e,t)=>{Roe.init(e,t),ux.init(e,t),e._zod.parse=(n,r)=>{if(r.direction===`backward`)throw new Cy(e.constructor.name);n.addIssue=r=>{if(typeof r==`string`)n.issues.push(sb(r,n.value,t));else{let t=r;t.fatal&&(t.continue=!1),t.code??=`custom`,t.input??=n.value,t.inst??=e,n.issues.push(sb(t))}};let i=t.transform(n.value,n);return i instanceof Promise?i.then(e=>(n.value=e,n)):(n.value=i,n)}});function Bce(e){return new zce({type:`transform`,transform:e})}const Ex=K(`ZodOptional`,(e,t)=>{zoe.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Dx(e){return new Ex({type:`optional`,innerType:e})}const Vce=K(`ZodNullable`,(e,t)=>{Boe.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ox(e){return new Vce({type:`nullable`,innerType:e})}const Hce=K(`ZodDefault`,(e,t)=>{Voe.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Uce(e,t){return new Hce({type:`default`,innerType:e,get defaultValue(){return typeof t==`function`?t():Hy(t)}})}const Wce=K(`ZodPrefault`,(e,t)=>{Hoe.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Gce(e,t){return new Wce({type:`prefault`,innerType:e,get defaultValue(){return typeof t==`function`?t():Hy(t)}})}const kx=K(`ZodNonOptional`,(e,t)=>{Uoe.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Kce(e,t){return new kx({type:`nonoptional`,innerType:e,...Ky(t)})}const qce=K(`ZodCatch`,(e,t)=>{Woe.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Jce(e,t){return new qce({type:`catch`,innerType:e,catchValue:typeof t==`function`?t:()=>t})}const Yce=K(`ZodPipe`,(e,t)=>{Goe.init(e,t),ux.init(e,t),e.in=t.in,e.out=t.out});function Ax(e,t){return new Yce({type:`pipe`,in:e,out:t})}const Xce=K(`ZodReadonly`,(e,t)=>{Koe.init(e,t),ux.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Zce(e){return new Xce({type:`readonly`,innerType:e})}const Qce=K(`ZodCustom`,(e,t)=>{qoe.init(e,t),ux.init(e,t)});function $ce(e,t={}){return Rse(Qce,e,t)}function ele(e){return zse(e)}const tle=Tx([`draft`,`scheduled`,`ongoing`,`completed`,`cancelled`]),jx=Tx([`bronze`,`silver`,`gold`,`platinum`]);Tx([`attendance_update`,`event_status_change`,`announcement`,`milestone`,`reward_earned`]);const nle=Cx({id:_x(),email:cce(),firstName:fx().min(1,`Firstname should be more than a character`),lastName:fx().min(1),phone:fx().optional(),createdAt:yx().optional(),updatedAt:yx().optional()}),Mx=Cx({id:_x(),name:fx().min(1),description:fx().optional(),status:tle,startTime:Sx(),endTime:Sx(),location:fx().min(1),capacity:yx().int().positive().optional(),hostId:_x(),createdAt:Sx(),updatedAt:Sx()}).refine(e=>e.endTime>e.startTime,{message:`End time must be after start time`,path:[`endTime`]});Mx.omit({id:!0,createdAt:!0,updatedAt:!0}),Cx({id:_x(),eventId:_x(),patronId:_x(),attended:Dce(),checkInTime:Sx().nullable(),checkOutTime:Sx().nullable()}).refine(e=>e.checkOutTime&&e.checkInTime?e.checkOutTime>=e.checkInTime:!0,{message:`Check out time must be after or equal to check in time`,path:[`checkOutTime`]}),Cx({eventId:_x(),patronId:_x()}),Cx({id:_x(),patronId:_x(),description:fx(),tier:jx.optional(),points:yx().int().nonnegative().optional(),reward:fx().optional(),issuedAt:Sx(),expiresAt:Sx().optional()});var rle=new hy,Nx=`/api`;const Px=Q_(xy({queryKey:[`events`],queryFn:async()=>{let e=await fetch(`${Nx}/events`);if(!e.ok)throw Error(`Failed to fetch events`);return(await e.json()).map(e=>({...e,startTime:new Date(e.startTime),endTime:new Date(e.endTime),createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}))},getKey:e=>e.id,queryClient:rle,onInsert:async({transaction:e})=>{let{modified:t}=e.mutations[0];if(!(await fetch(`${Nx}/events`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify(t)})).ok)throw Error(`Failed to create event`)},onUpdate:async({transaction:e})=>{let{original:t,modified:n}=e.mutations[0];if(!(await fetch(`${Nx}/events/${t.id}`,{method:`PUT`,headers:{"Content-Type":`application/json`},body:JSON.stringify(n)})).ok)throw Error(`Failed to update event`)},onDelete:async({transaction:e})=>{let{original:t}=e.mutations[0];if(!(await fetch(`${Nx}/events/${t.id}`,{method:`DELETE`})).ok)throw Error(`Failed to delete event`)},schema:Mx}));var ile={name:``,description:``,status:`scheduled`,startTime:``,endTime:``,location:``,capacity:``,hostId:``},ale=[{value:`draft`,label:`Draft`},{value:`scheduled`,label:`Scheduled`},{value:`ongoing`,label:`Ongoing`},{value:`completed`,label:`Completed`},{value:`cancelled`,label:`Cancelled`}];const Fx=(e={},t)=>{t({content:(0,V.jsx)(ole,{...e})})};var ole=({initialData:e={},isEditing:t=!1,onClose:n})=>{let[r,i]=(0,H.useState)({...ile,...e}),[a,o]=(0,H.useState)(!1),s=e=>{let{name:t,value:n}=e.target;i(e=>({...e,[t]:n}))};return(0,V.jsxs)(`div`,{className:`event-modal`,children:[(0,V.jsxs)(`div`,{className:`modal-header`,children:[(0,V.jsx)(`h2`,{children:t?`Edit Event`:`New Event`}),(0,V.jsx)(`p`,{children:t?`Update event details`:`Create a new calendar event`})]}),(0,V.jsx)(`div`,{className:`modal-body`,children:(0,V.jsxs)(`form`,{className:`event-form`,onSubmit:async e=>{e.preventDefault(),o(!0);let i=new Date,a={name:r.name,description:r.description||void 0,status:r.status,startTime:new Date(r.startTime),endTime:new Date(r.endTime),location:r.location,capacity:r.capacity?parseInt(r.capacity,10):void 0,hostId:r.hostId};try{t&&r.id?Px?.update(r.id,e=>{e.name=a.name,e.description=a.description,e.status=a.status,e.startTime=a.startTime,e.endTime=a.endTime,e.location=a.location,e.capacity=a.capacity,e.hostId=a.hostId,e.updatedAt=i}):Px?.insert({...a,id:crypto.randomUUID(),createdAt:i,updatedAt:i}),n?.()}catch(e){console.error(`Failed to save event:`,e)}finally{o(!1)}},children:[(0,V.jsxs)(`div`,{className:`form-group full-width`,children:[(0,V.jsxs)(`label`,{className:`form-label`,children:[(0,V.jsx)(jr,{size:14}),`Event Name`]}),(0,V.jsx)(`input`,{type:`text`,name:`name`,className:`form-input`,placeholder:`Enter event name`,value:r.name,onChange:s,required:!0})]}),(0,V.jsxs)(`div`,{className:`form-row`,children:[(0,V.jsxs)(`div`,{className:`form-group`,children:[(0,V.jsxs)(`label`,{className:`form-label`,children:[(0,V.jsx)(Rr,{size:14}),`Start Time`]}),(0,V.jsx)(`input`,{type:`datetime-local`,name:`startTime`,className:`form-input`,value:r.startTime,onChange:s,required:!0})]}),(0,V.jsxs)(`div`,{className:`form-group`,children:[(0,V.jsxs)(`label`,{className:`form-label`,children:[(0,V.jsx)(Rr,{size:14}),`End Time`]}),(0,V.jsx)(`input`,{type:`datetime-local`,name:`endTime`,className:`form-input`,value:r.endTime,onChange:s,required:!0})]})]}),(0,V.jsx)(Xp,{label:`Location`,type:`text`,name:`location`,placeholder:`Enter location`,value:r.location,onChange:s,required:!0,leftIcon:(0,V.jsx)(Yr,{size:14}),className:`full-width`}),(0,V.jsxs)(`div`,{className:`form-row`,children:[(0,V.jsx)(bee,{label:`Status`,value:r.status,onValueChange:e=>{e&&i(t=>({...t,status:e}))},options:ale,name:`status`}),(0,V.jsx)(Xp,{label:`Capacity`,type:`number`,name:`capacity`,placeholder:`Max attendees`,value:r.capacity,onChange:s,leftIcon:(0,V.jsx)(si,{size:14})})]}),(0,V.jsxs)(`div`,{className:`form-group full-width`,children:[(0,V.jsxs)(`label`,{className:`form-label`,children:[(0,V.jsx)(si,{size:14}),`Host ID`]}),(0,V.jsx)(`input`,{type:`text`,name:`hostId`,className:`form-input`,placeholder:`Host ID (Current User)`,value:r.hostId,onChange:s,required:!0})]}),(0,V.jsxs)(`div`,{className:`form-group full-width`,children:[(0,V.jsxs)(`label`,{className:`form-label`,children:[(0,V.jsx)(Ur,{size:14}),`Description`]}),(0,V.jsx)(`textarea`,{name:`description`,className:`form-textarea`,placeholder:`Enter event description (optional)`,value:r.description,onChange:s,rows:3})]}),(0,V.jsxs)(`div`,{className:`form-actions`,children:[t&&(0,V.jsx)(Dp,{type:`button`,variant:`danger`,onClick:async()=>{if(r.id&&confirm(`Are you sure you want to delete this event?`)){o(!0);try{Px?.delete(r.id),n?.()}catch(e){console.error(`Failed to delete event:`,e)}finally{o(!1)}}},disabled:a,children:(0,V.jsx)(ri,{size:14})}),(0,V.jsx)(Dp,{type:`button`,variant:`secondary`,onClick:n,disabled:a,children:`Cancel`}),(0,V.jsx)(Dp,{type:`submit`,variant:`primary`,disabled:a,isLoading:a,children:t?`Update Event`:`Create Event`})]})]})}),a&&(0,V.jsx)(`div`,{className:`loading-overlay`,children:(0,V.jsx)(`div`,{className:`loading-spinner`})})]})},sle=br();const cle=(e={},t)=>{t({content:(0,V.jsx)(lle,{...e})})};var lle=e=>{let t=(0,sle.c)(51),{onClose:n}=e,[r,i]=(0,H.useState)(!1),[a,o]=(0,H.useState)(!1),s;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(s={name:``,email:``,password:``},t[0]=s):s=t[0];let[c,l]=(0,H.useState)(s),u;t[1]!==c||t[2]!==n?(u=e=>{e.preventDefault(),console.log(`Form submitted:`,c),n?.()},t[1]=c,t[2]=n,t[3]=u):u=t[3];let d=u,f;t[4]===c?f=t[5]:(f=e=>{l({...c,[e.target.name]:e.target.value})},t[4]=c,t[5]=f);let p=f,m;t[6]===a?m=t[7]:(m=(0,V.jsx)(`button`,{type:`button`,className:`password-toggle`,onClick:()=>o(!a),children:a?(0,V.jsx)(Vr,{size:14}):(0,V.jsx)(Hr,{size:14})}),t[6]=a,t[7]=m);let h=m,g=r?`Create Account`:`Welcome Back`,_;t[8]===g?_=t[9]:(_=(0,V.jsx)(`h2`,{children:g}),t[8]=g,t[9]=_);let v=r?`Sign up to get started`:`Sign in to your account`,y;t[10]===v?y=t[11]:(y=(0,V.jsx)(`p`,{children:v}),t[10]=v,t[11]=y);let b;t[12]!==_||t[13]!==y?(b=(0,V.jsxs)(`div`,{className:`modal-header`,children:[_,y]}),t[12]=_,t[13]=y,t[14]=b):b=t[14];let x;t[15]!==c.name||t[16]!==p||t[17]!==r?(x=r&&(0,V.jsx)(Xp,{label:`Full Name`,type:`text`,id:`name`,name:`name`,placeholder:`Enter your name`,value:c.name,onChange:p,required:r,leftIcon:(0,V.jsx)(oi,{size:14})}),t[15]=c.name,t[16]=p,t[17]=r,t[18]=x):x=t[18];let S;t[19]===Symbol.for(`react.memo_cache_sentinel`)?(S=(0,V.jsx)(Jr,{size:14}),t[19]=S):S=t[19];let C;t[20]!==c.email||t[21]!==p?(C=(0,V.jsx)(Xp,{label:`Email Address`,type:`email`,id:`email`,name:`email`,placeholder:`Enter your email`,value:c.email,onChange:p,required:!0,leftIcon:S}),t[20]=c.email,t[21]=p,t[22]=C):C=t[22];let w=a?`text`:`password`,T;t[23]===Symbol.for(`react.memo_cache_sentinel`)?(T=(0,V.jsx)(Kr,{size:14}),t[23]=T):T=t[23];let E;t[24]!==h||t[25]!==c.password||t[26]!==p||t[27]!==w?(E=(0,V.jsx)(Xp,{label:`Password`,type:w,id:`password`,name:`password`,placeholder:`Enter your password`,value:c.password,onChange:p,required:!0,leftIcon:T,rightElement:h}),t[24]=h,t[25]=c.password,t[26]=p,t[27]=w,t[28]=E):E=t[28];let D=r?`Create Account`:`Sign In`,O;t[29]===D?O=t[30]:(O=(0,V.jsx)(Dp,{type:`submit`,variant:`primary`,className:`signin-button`,children:D}),t[29]=D,t[30]=O);let k;t[31]!==d||t[32]!==x||t[33]!==C||t[34]!==E||t[35]!==O?(k=(0,V.jsxs)(`form`,{className:`signin-form`,onSubmit:d,children:[x,C,E,O]}),t[31]=d,t[32]=x,t[33]=C,t[34]=E,t[35]=O,t[36]=k):k=t[36];let A=r?`Already have an account?`:`Don't have an account?`,j;t[37]===r?j=t[38]:(j=()=>i(!r),t[37]=r,t[38]=j);let M=r?`Sign In`:`Sign Up`,N;t[39]!==j||t[40]!==M?(N=(0,V.jsx)(`button`,{type:`button`,className:`toggle-mode`,onClick:j,children:M}),t[39]=j,t[40]=M,t[41]=N):N=t[41];let P;t[42]!==A||t[43]!==N?(P=(0,V.jsx)(`div`,{className:`signin-footer`,children:(0,V.jsxs)(`p`,{children:[A,N]})}),t[42]=A,t[43]=N,t[44]=P):P=t[44];let F;t[45]!==k||t[46]!==P?(F=(0,V.jsxs)(`div`,{className:`modal-body`,children:[k,P]}),t[45]=k,t[46]=P,t[47]=F):F=t[47];let I;return t[48]!==F||t[49]!==b?(I=(0,V.jsxs)(`div`,{className:`signin-modal-content`,children:[b,F]}),t[48]=F,t[49]=b,t[50]=I):I=t[50],I},ule=br();const dle=()=>{let e=(0,ule.c)(23),{openLauncher:t}=Gm(),n;e[0]===t?n=e[1]:(n=()=>Fx({isEditing:!1},t),e[0]=t,e[1]=n);let r=n,i;e[2]===t?i=e[3]:(i=()=>cle({},t),e[2]=t,e[3]=i);let a=i,o;e[4]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,V.jsx)(`div`,{className:`navbar-left`,children:(0,V.jsxs)(`div`,{className:`logo`,children:[(0,V.jsx)(`div`,{className:`logo-icon`,children:`DP`}),(0,V.jsx)(`span`,{className:`logo-text`,children:`DwellPass`})]})}),e[4]=o):o=e[4];let s;e[5]===Symbol.for(`react.memo_cache_sentinel`)?(s=(0,V.jsx)(`div`,{className:`navbar-center`,children:(0,V.jsxs)(`div`,{className:`search-container`,children:[(0,V.jsx)($r,{className:`search-icon`,size:14}),(0,V.jsx)(`input`,{type:`text`,placeholder:`Search members, events...`,className:`search-input`})]})}),e[5]=s):s=e[5];let c;e[6]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,V.jsx)(jr,{size:14}),e[6]=c):c=e[6];let l;e[7]===r?l=e[8]:(l=(0,V.jsx)(Dp,{variant:`primary`,onClick:r,leftIcon:c,children:`New Event`}),e[7]=r,e[8]=l);let u;e[9]===Symbol.for(`react.memo_cache_sentinel`)?(u=(0,V.jsxs)(Dp,{variant:`icon`,className:`notification-btn`,children:[(0,V.jsx)(Ar,{size:15}),(0,V.jsx)(`span`,{className:`notification-badge`,children:`3`})]}),e[9]=u):u=e[9];let d;e[10]===Symbol.for(`react.memo_cache_sentinel`)?(d=(0,V.jsxs)(Sp,{className:`avatar-btn`,children:[(0,V.jsx)(`div`,{className:`avatar`,children:(0,V.jsx)(oi,{size:15})}),(0,V.jsx)(Pr,{size:12})]}),e[10]=d):d=e[10];let f,p;e[11]===Symbol.for(`react.memo_cache_sentinel`)?(f=(0,V.jsx)(oi,{size:14}),p=(0,V.jsx)(`span`,{children:`Profile`}),e[11]=f,e[12]=p):(f=e[11],p=e[12]);let m;e[13]===a?m=e[14]:(m=(0,V.jsxs)(Io,{className:`dropdown-item`,onClick:a,children:[f,p]}),e[13]=a,e[14]=m);let h,g;e[15]===Symbol.for(`react.memo_cache_sentinel`)?(h=(0,V.jsxs)(Io,{className:`dropdown-item`,children:[(0,V.jsx)(ei,{size:14}),(0,V.jsx)(`span`,{children:`Settings`})]}),g=(0,V.jsx)(Tp,{className:`dropdown-divider`}),e[15]=h,e[16]=g):(h=e[15],g=e[16]);let _;e[17]===Symbol.for(`react.memo_cache_sentinel`)?(_=(0,V.jsxs)(Io,{className:`dropdown-item`,children:[(0,V.jsx)(qr,{size:14}),(0,V.jsx)(`span`,{children:`Logout`})]}),e[17]=_):_=e[17];let v;e[18]===m?v=e[19]:(v=(0,V.jsxs)(mp,{children:[d,(0,V.jsx)(jf,{children:(0,V.jsx)(Yf,{side:`bottom`,align:`end`,sideOffset:6,children:(0,V.jsxs)(Of,{className:`dropdown-menu`,children:[m,h,g,_]})})})]}),e[18]=m,e[19]=v);let y;return e[20]!==v||e[21]!==l?(y=(0,V.jsxs)(`nav`,{className:`top-navbar`,children:[o,s,(0,V.jsxs)(`div`,{className:`navbar-right`,children:[l,u,v]})]}),e[20]=v,e[21]=l,e[22]=y):y=e[22],y};var fle=br();const ple=e=>{let t=(0,fle.c)(26),{menuConfig:n}=e,{pathname:r}=_r(),i=Wm(mle),a=Wm(hle),o;t[0]===a?o=t[1]:(o=()=>a(`left`),t[0]=a,t[1]=o);let s=o;console.log(`LeftSidebar rendered with isCollapsed:`,i);let c=`left-sidebar ${i?`collapsed`:``}`,l;t[2]===i?l=t[3]:(l=i?(0,V.jsx)(Ir,{size:15}):(0,V.jsx)(Fr,{size:15}),t[2]=i,t[3]=l);let u;t[4]!==s||t[5]!==l?(u=(0,V.jsx)(`button`,{className:`collapse-toggle`,onClick:s,children:l}),t[4]=s,t[5]=l,t[6]=u):u=t[6];let d;if(t[7]!==i||t[8]!==n||t[9]!==r){let e;t[11]!==i||t[12]!==r?(e=e=>{let t=e.icon,n=e.path===r;return(0,V.jsx)(Uee,{content:e.label,delay:i?0:1500,position:`left`,children:(0,V.jsxs)(Wn,{to:e.path,className:`sidebar-item ${n?`active`:``}`,children:[(0,V.jsx)(t,{size:16}),!i&&(0,V.jsx)(`span`,{className:`sidebar-label`,children:e.label})]},e.path)},e.path)},t[11]=i,t[12]=r,t[13]=e):e=t[13],d=n.map(e),t[7]=i,t[8]=n,t[9]=r,t[10]=d}else d=t[10];let f;t[14]===d?f=t[15]:(f=(0,V.jsx)(`div`,{className:`sidebar-menu`,children:d}),t[14]=d,t[15]=f);let p;t[16]===Symbol.for(`react.memo_cache_sentinel`)?(p=(0,V.jsx)(qr,{size:16}),t[16]=p):p=t[16];let m;t[17]===i?m=t[18]:(m=!i&&(0,V.jsx)(`span`,{className:`sidebar-label`,children:`Logout`}),t[17]=i,t[18]=m);let h;t[19]===m?h=t[20]:(h=(0,V.jsx)(`div`,{className:`sidebar-footer`,children:(0,V.jsxs)(`button`,{className:`sidebar-item`,children:[p,m]})}),t[19]=m,t[20]=h);let g;return t[21]!==c||t[22]!==u||t[23]!==f||t[24]!==h?(g=(0,V.jsxs)(`aside`,{className:c,children:[u,f,h]}),t[21]=c,t[22]=u,t[23]=f,t[24]=h,t[25]=g):g=t[25],g};function mle(e){let{sidebarOpen:t}=e;return t.left}function hle(e){let{toggleSidebar:t}=e;return t}var gle=br();const _le=()=>{let e=(0,gle.c)(18),t;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=new Date,e[0]=t):t=e[0];let[n,r]=(0,H.useState)(t),i=Wm(vle),a=Wm(yle),o;e[1]===a?o=e[2]:(o=()=>a(`right`),e[1]=a,e[2]=o);let s=o,c=ble,l;if(e[3]!==n||e[4]!==i||e[5]!==s){let{daysInMonth:t,startingDayOfWeek:a}=c(n),o;e[7]===n?o=e[8]:(o=n.toLocaleString(`default`,{month:`long`,year:`numeric`}),e[7]=n,e[8]=o);let u=o,d;e[9]===n?d=e[10]:(d=()=>{r(new Date(n.getFullYear(),n.getMonth()-1))},e[9]=n,e[10]=d);let f=d,p;e[11]===n?p=e[12]:(p=()=>{r(new Date(n.getFullYear(),n.getMonth()+1))},e[11]=n,e[12]=p);let m=p,h=new Date().getDate(),g=n.getMonth()===new Date().getMonth()&&n.getFullYear()===new Date().getFullYear(),_;e[13]===i?_=e[14]:(_=i?(0,V.jsx)(Fr,{size:15}):(0,V.jsx)(Ir,{size:15}),e[13]=i,e[14]=_);let v;e[15]!==s||e[16]!==_?(v=(0,V.jsx)(`button`,{className:`collapse-toggle-right`,onClick:s,children:_}),e[15]=s,e[16]=_,e[17]=v):v=e[17],l=(0,V.jsxs)(`aside`,{className:`right-sidebar ${i?`collapsed`:``} scrollable`,children:[v,!i&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(`div`,{className:`loyalty-card`,children:[(0,V.jsxs)(`div`,{className:`card-header`,children:[(0,V.jsx)(ni,{className:`star-icon`,size:18,fill:`var(--primary-yellow)`}),(0,V.jsx)(`h3`,{children:`Loyalty Status`})]}),(0,V.jsxs)(`div`,{className:`card-content`,children:[(0,V.jsxs)(`div`,{className:`loyalty-level`,children:[(0,V.jsx)(`div`,{className:`level-badge`,children:`GOLD`}),(0,V.jsx)(`p`,{className:`level-text`,children:`Member Level`})]}),(0,V.jsxs)(`div`,{className:`loyalty-stats`,children:[(0,V.jsxs)(`div`,{className:`stat-item`,children:[(0,V.jsx)(`span`,{className:`stat-value`,children:`2,450`}),(0,V.jsx)(`span`,{className:`stat-label`,children:`Points`})]}),(0,V.jsx)(`div`,{className:`stat-divider`}),(0,V.jsxs)(`div`,{className:`stat-item`,children:[(0,V.jsx)(`span`,{className:`stat-value`,children:`89%`}),(0,V.jsx)(`span`,{className:`stat-label`,children:`Attendance`})]})]}),(0,V.jsx)(`div`,{className:`progress-bar`,children:(0,V.jsx)(`div`,{className:`progress-fill`,style:{width:`75%`}})}),(0,V.jsx)(`p`,{className:`progress-text`,children:`750 points to Platinum`})]})]}),(0,V.jsxs)(`div`,{className:`calendar-widget`,children:[(0,V.jsxs)(`div`,{className:`calendar-header`,children:[(0,V.jsx)(`h3`,{children:`Calendar`}),(0,V.jsxs)(`div`,{className:`calendar-controls`,children:[(0,V.jsx)(`button`,{onClick:f,className:`calendar-nav-btn`,children:(0,V.jsx)(Fr,{size:14})}),(0,V.jsx)(`span`,{className:`calendar-month`,children:u}),(0,V.jsx)(`button`,{onClick:m,className:`calendar-nav-btn`,children:(0,V.jsx)(Ir,{size:14})})]})]}),(0,V.jsxs)(`div`,{className:`calendar-grid`,children:[(0,V.jsx)(`div`,{className:`calendar-weekdays`,children:[`S`,`M`,`T`,`W`,`T`,`F`,`S`].map(xle)}),(0,V.jsxs)(`div`,{className:`calendar-days`,children:[Array.from({length:a}).map(Sle),Array.from({length:t}).map((e,t)=>{let n=t+1,r=[5,12,18,25].includes(n);return(0,V.jsxs)(`div`,{className:`calendar-day ${g&&n===h?`today`:``} ${r?`has-event`:``}`,children:[n,r&&(0,V.jsx)(`div`,{className:`event-dot`})]},n)})]})]})]}),(0,V.jsxs)(`div`,{className:`upcoming-events`,children:[(0,V.jsx)(`h4`,{children:`Upcoming Events`}),(0,V.jsxs)(`div`,{className:`event-list`,children:[(0,V.jsxs)(`div`,{className:`event-item`,children:[(0,V.jsxs)(`div`,{className:`event-date`,children:[(0,V.jsx)(jr,{size:12}),(0,V.jsx)(`span`,{children:`Dec 12`})]}),(0,V.jsxs)(`div`,{className:`event-info`,children:[(0,V.jsx)(`p`,{className:`event-title`,children:`Monthly Meetup`}),(0,V.jsx)(`p`,{className:`event-time`,children:`2:00 PM`})]})]}),(0,V.jsxs)(`div`,{className:`event-item`,children:[(0,V.jsxs)(`div`,{className:`event-date`,children:[(0,V.jsx)(jr,{size:12}),(0,V.jsx)(`span`,{children:`Dec 18`})]}),(0,V.jsxs)(`div`,{className:`event-info`,children:[(0,V.jsx)(`p`,{className:`event-title`,children:`Loyalty Awards`}),(0,V.jsx)(`p`,{className:`event-time`,children:`6:00 PM`})]})]}),(0,V.jsxs)(`div`,{className:`event-item`,children:[(0,V.jsxs)(`div`,{className:`event-date`,children:[(0,V.jsx)(jr,{size:12}),(0,V.jsx)(`span`,{children:`Dec 25`})]}),(0,V.jsxs)(`div`,{className:`event-info`,children:[(0,V.jsx)(`p`,{className:`event-title`,children:`Holiday Special`}),(0,V.jsx)(`p`,{className:`event-time`,children:`12:00 PM`})]})]})]})]})]})]}),e[3]=n,e[4]=i,e[5]=s,e[6]=l}else l=e[6];return l};function vle(e){let{sidebarOpen:t}=e;return t.right}function yle(e){let{toggleSidebar:t}=e;return t}function ble(e){let t=e.getFullYear(),n=e.getMonth(),r=new Date(t,n,1);return{daysInMonth:new Date(t,n+1,0).getDate(),startingDayOfWeek:r.getDay()}}function xle(e,t){return(0,V.jsx)(`div`,{className:`calendar-weekday`,children:e},t)}function Sle(e,t){return(0,V.jsx)(`div`,{className:`calendar-day empty`},`empty-${t}`)}const Ix=H.createContext(void 0);function Lx(e){let t=H.useContext(Ix);if(e===!1&&t===void 0)throw Error(li(27));return t}var Cle={...da,...ta};const wle=H.forwardRef(function(e,t){let{render:n,className:r,forceRender:i=!1,...a}=e,{store:o}=Lx(),s=o.useState(`open`),c=o.useState(`nested`),l=o.useState(`mounted`),u=o.useState(`transitionStatus`);return Ji(`div`,e,{state:H.useMemo(()=>({open:s,transitionStatus:u}),[s,u]),ref:[o.context.backdropRef,t],stateAttributesMapping:Cle,props:[{role:`presentation`,hidden:!l,style:{userSelect:`none`,WebkitUserSelect:`none`}},a],enabled:i||!c})}),Tle=H.forwardRef(function(e,t){let{render:n,className:r,disabled:i=!1,nativeButton:a=!0,...o}=e,{store:s}=Lx(),c=s.useState(`open`);function l(e){c&&s.setOpen(!1,So(`close-press`,e.nativeEvent))}let{getButtonProps:u,buttonRef:d}=so({disabled:i,native:a});return Ji(`button`,e,{state:H.useMemo(()=>({disabled:i}),[i]),ref:[t,d],props:[{onClick:l},o,u]})});let Ele=function(e){return e.nestedDialogs=`--nested-dialogs`,e}({}),Dle=function(e){return e[e.open=na.open]=`open`,e[e.closed=na.closed]=`closed`,e[e.startingStyle=na.startingStyle]=`startingStyle`,e[e.endingStyle=na.endingStyle]=`endingStyle`,e.nested=`data-nested`,e.nestedDialogOpen=`data-nested-dialog-open`,e}({});const Rx=H.createContext(void 0);function Ole(){let e=H.useContext(Rx);if(e===void 0)throw Error(li(26));return e}var kle={...da,...ta,nestedDialogOpen(e){return e?{[Dle.nestedDialogOpen]:``}:null}};const Ale=H.forwardRef(function(e,t){let{className:n,finalFocus:r,initialFocus:i,render:a,...o}=e,{store:s}=Lx(),c=s.useState(`descriptionElementId`),l=s.useState(`disablePointerDismissal`),u=s.useState(`floatingRootContext`),d=s.useState(`popupProps`),f=s.useState(`modal`),p=s.useState(`mounted`),m=s.useState(`nested`),h=s.useState(`nestedOpenDialogCount`),g=s.useState(`open`),_=s.useState(`openMethod`),v=s.useState(`titleElementId`),y=s.useState(`transitionStatus`),b=s.useState(`role`);Ole(),Fo({open:g,ref:s.context.popupRef,onComplete(){g&&s.context.onOpenChangeComplete?.(!0)}});function x(e){return e===`touch`?s.context.popupRef.current:!0}let S=i===void 0?x:i,C=h>0,w=Ji(`div`,e,{state:H.useMemo(()=>({open:g,nested:m,transitionStatus:y,nestedDialogOpen:C}),[g,m,y,C]),props:[d,{"aria-labelledby":v??void 0,"aria-describedby":c??void 0,role:b,tabIndex:-1,hidden:!p,onKeyDown(e){Tf.has(e.key)&&e.stopPropagation()},style:{[Ele.nestedDialogs]:h}},o],ref:[t,s.context.popupRef,s.useStateSetter(`popupElement`)],stateAttributesMapping:kle});return(0,V.jsx)(Fl,{context:u,openInteractionType:_,disabled:!p,closeOnFocusOut:!l,initialFocus:S,returnFocus:r,modal:f!==!1,restoreFocus:`popup`,children:w})}),jle=H.forwardRef(function(e,t){let{keepMounted:n=!1,...r}=e,{store:i}=Lx(),a=i.useState(`mounted`),o=i.useState(`modal`);return a||n?(0,V.jsx)(Rx.Provider,{value:n,children:(0,V.jsxs)(Tl,{ref:t,...r,children:[a&&o===!0&&(0,V.jsx)(Jf,{ref:i.context.internalBackdropRef,inert:Mf(!open)}),e.children]})}):null});function Mle(e){let{store:t,parentContext:n,actionsRef:r}=e,i=t.useState(`open`),a=t.useState(`disablePointerDismissal`),o=t.useState(`modal`),s=t.useState(`popupElement`),{openMethod:c,triggerProps:l,reset:u}=sp(i);jd(t);let{forceUnmount:d}=Md(i,t,()=>{u()}),f=U(e=>{let n=So(e);return n.preventUnmountOnClose=()=>{t.set(`preventUnmountingOnClose`,!0)},n}),p=H.useCallback(()=>{t.setOpen(!1,f(Ca))},[t,f]);H.useImperativeHandle(r,()=>({unmount:d,close:p}),[d,p]);let m=zd({popupStore:t,onOpenChange:t.setOpen,treatPopupAsFloatingElement:!0,noEmit:!0}),[h,g]=H.useState(0),_=h===0,v=uf(m),y=Qu(m,{outsidePressEvent(){return t.context.internalBackdropRef.current||t.context.backdropRef.current?`intentional`:{mouse:o===`trap-focus`?`sloppy`:`intentional`,touch:`sloppy`}},outsidePress(e){if(`button`in e&&e.button!==0||`touches`in e&&e.touches.length!==1)return!1;let n=is(e);if(_&&!a){let e=n;return o&&(t.context.internalBackdropRef.current||t.context.backdropRef.current)?t.context.internalBackdropRef.current===e||t.context.backdropRef.current===e||rs(e,s)&&!e?.hasAttribute(`data-base-ui-portal`):!0}return!1},escapeKey:_});rp(i&&o===!0,s);let{getReferenceProps:b,getFloatingProps:x,getTriggerProps:S}=$d([v,y]);t.useContextCallback(`onNestedDialogOpen`,e=>{g(e+1)}),t.useContextCallback(`onNestedDialogClose`,()=>{g(0)}),H.useEffect(()=>(n?.onNestedDialogOpen&&i&&n.onNestedDialogOpen(h),n?.onNestedDialogClose&&!i&&n.onNestedDialogClose(),()=>{n?.onNestedDialogClose&&i&&n.onNestedDialogClose()}),[i,n,h]);let C=H.useMemo(()=>b(l),[b,l]),w=H.useMemo(()=>S(l),[S,l]),T=H.useMemo(()=>x(),[x]);t.useSyncedValues({openMethod:c,activeTriggerProps:C,inactiveTriggerProps:w,popupProps:T,floatingRootContext:m,nestedOpenDialogCount:h})}var Nle={...Id,modal:G(e=>e.modal),nested:G(e=>e.nested),nestedOpenDialogCount:G(e=>e.nestedOpenDialogCount),disablePointerDismissal:G(e=>e.disablePointerDismissal),openMethod:G(e=>e.openMethod),descriptionElementId:G(e=>e.descriptionElementId),titleElementId:G(e=>e.titleElementId),viewportElement:G(e=>e.viewportElement),role:G(e=>e.role)},Ple=class extends Ed{constructor(e){super(Fle(e),{popupRef:H.createRef(),backdropRef:H.createRef(),internalBackdropRef:H.createRef(),triggerElements:new Nd,onOpenChange:void 0,onOpenChangeComplete:void 0},Nle)}setOpen=(e,t)=>{if(t.preventUnmountOnClose=()=>{this.set(`preventUnmountingOnClose`,!0)},!e&&t.trigger==null&&this.state.activeTriggerId!=null&&(t.trigger=this.state.activeTriggerElement??void 0),this.context.onOpenChange?.(e,t),t.isCanceled)return;let n={open:e,nativeEvent:t.event,reason:t.reason,nested:this.state.nested};this.state.floatingRootContext.context.events?.emit(`openchange`,n);let r={open:e},i=t.trigger?.id??null;(i||e)&&(r.activeTriggerId=i,r.activeTriggerElement=t.trigger??null),this.update(r)}};function Fle(e={}){return{...Fd(),modal:!0,disablePointerDismissal:!1,popupElement:null,viewportElement:null,descriptionElementId:void 0,titleElementId:void 0,openMethod:null,nested:!1,nestedOpenDialogCount:0,role:`dialog`,...e}}function Ile(e){let{children:t,open:n,defaultOpen:r=!1,onOpenChange:i,onOpenChangeComplete:a,disablePointerDismissal:o=!1,modal:s=!0,actionsRef:c,handle:l,triggerId:u,defaultTriggerId:d=null}=e,f=Lx(!0),p=!!f,m=hi(()=>l?.store??new Ple({open:n??r,activeTriggerId:u===void 0?d:u,modal:s,disablePointerDismissal:o,nested:p})).current;m.useControlledProp(`open`,n,r),m.useControlledProp(`activeTriggerId`,u,d),m.useSyncedValues({disablePointerDismissal:o,nested:p,modal:s}),m.useContextCallback(`onOpenChange`,i),m.useContextCallback(`onOpenChangeComplete`,a);let h=m.useState(`payload`);Mle({store:m,actionsRef:c,parentContext:f?.store.context,onOpenChange:i,triggerIdProp:u});let g=H.useMemo(()=>({store:m}),[m]);return(0,V.jsx)(Ix.Provider,{value:g,children:typeof t==`function`?t({payload:h}):t})}var zx=br(),Lle=()=>{let e=(0,zx.c)(1),t;return e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,V.jsx)(V.Fragment,{}),e[0]=t):t=e[0],t};function Rle(){let e=(0,zx.c)(16),{launcher:t,closeLauncher:n}=Gm(),r;e[0]!==n||e[1]!==t?(r=()=>{t?.onClose?.(),n()},e[0]=n,e[1]=t,e[2]=r):r=e[2];let i=r,a;e[3]!==i||e[4]!==t?(a=e=>{console.log(`Launcher open change:`,e),e?t?.onOpen?.():i()},e[3]=i,e[4]=t,e[5]=a):a=e[5];let o=a,s;e[6]===Symbol.for(`react.memo_cache_sentinel`)?(s=(0,V.jsx)(wle,{className:`modal-overlay`}),e[6]=s):s=e[6];let c;e[7]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,V.jsx)(Tle,{className:`modal-close`,"aria-label":`Close modal`,children:(0,V.jsx)(ci,{size:18})}),e[7]=c):c=e[7];let l;e[8]===t.content?l=e[9]:(l=t?.content||(0,V.jsx)(Lle,{}),e[8]=t.content,e[9]=l);let u;e[10]===l?u=e[11]:(u=(0,V.jsxs)(jle,{children:[s,(0,V.jsxs)(Ale,{className:`modal-container`,children:[c,l]})]}),e[10]=l,e[11]=u);let d;return e[12]!==o||e[13]!==t.isOpen||e[14]!==u?(d=(0,V.jsx)(Ile,{open:t.isOpen,onOpenChange:o,children:u}),e[12]=o,e[13]=t.isOpen,e[14]=u,e[15]=d):d=e[15],d}var zle=br();function Ble(){let e=(0,zle.c)(3),t;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,V.jsx)(dle,{}),e[0]=t):t=e[0];let n;e[1]===Symbol.for(`react.memo_cache_sentinel`)?(n=(0,V.jsx)(ple,{menuConfig:[{path:`/`,icon:Gr,label:`Home`},{path:`/members`,icon:si,label:`Members`},{path:`/analytics`,icon:Mr,label:`Analytics`},{path:`/events`,icon:jr,label:`Events`},{path:`/database`,icon:zr,label:`Tables`}]}),e[1]=n):n=e[1];let r;return e[2]===Symbol.for(`react.memo_cache_sentinel`)?(r=(0,V.jsxs)(`div`,{className:`app-container`,children:[t,(0,V.jsxs)(`div`,{className:`app-layout`,children:[n,(0,V.jsx)(`main`,{className:`main-content`,children:(0,V.jsx)(ur,{})}),(0,V.jsx)(_le,{})]}),(0,V.jsx)(Rle,{})]}),e[2]=r):r=e[2],r}function Bx(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Bx(e[t]))&&(r&&(r+=` `),r+=n)}else for(n in e)e[n]&&(r&&(r+=` `),r+=n);return r}function Vx(){for(var e,t,n=0,r=``,i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Bx(e))&&(r&&(r+=` `),r+=t);return r}var Hx=Vx,Vle=`dangerouslySetInnerHTML.onCopy.onCopyCapture.onCut.onCutCapture.onPaste.onPasteCapture.onCompositionEnd.onCompositionEndCapture.onCompositionStart.onCompositionStartCapture.onCompositionUpdate.onCompositionUpdateCapture.onFocus.onFocusCapture.onBlur.onBlurCapture.onChange.onChangeCapture.onBeforeInput.onBeforeInputCapture.onInput.onInputCapture.onReset.onResetCapture.onSubmit.onSubmitCapture.onInvalid.onInvalidCapture.onLoad.onLoadCapture.onError.onErrorCapture.onKeyDown.onKeyDownCapture.onKeyPress.onKeyPressCapture.onKeyUp.onKeyUpCapture.onAbort.onAbortCapture.onCanPlay.onCanPlayCapture.onCanPlayThrough.onCanPlayThroughCapture.onDurationChange.onDurationChangeCapture.onEmptied.onEmptiedCapture.onEncrypted.onEncryptedCapture.onEnded.onEndedCapture.onLoadedData.onLoadedDataCapture.onLoadedMetadata.onLoadedMetadataCapture.onLoadStart.onLoadStartCapture.onPause.onPauseCapture.onPlay.onPlayCapture.onPlaying.onPlayingCapture.onProgress.onProgressCapture.onRateChange.onRateChangeCapture.onSeeked.onSeekedCapture.onSeeking.onSeekingCapture.onStalled.onStalledCapture.onSuspend.onSuspendCapture.onTimeUpdate.onTimeUpdateCapture.onVolumeChange.onVolumeChangeCapture.onWaiting.onWaitingCapture.onAuxClick.onAuxClickCapture.onClick.onClickCapture.onContextMenu.onContextMenuCapture.onDoubleClick.onDoubleClickCapture.onDrag.onDragCapture.onDragEnd.onDragEndCapture.onDragEnter.onDragEnterCapture.onDragExit.onDragExitCapture.onDragLeave.onDragLeaveCapture.onDragOver.onDragOverCapture.onDragStart.onDragStartCapture.onDrop.onDropCapture.onMouseDown.onMouseDownCapture.onMouseEnter.onMouseLeave.onMouseMove.onMouseMoveCapture.onMouseOut.onMouseOutCapture.onMouseOver.onMouseOverCapture.onMouseUp.onMouseUpCapture.onSelect.onSelectCapture.onTouchCancel.onTouchCancelCapture.onTouchEnd.onTouchEndCapture.onTouchMove.onTouchMoveCapture.onTouchStart.onTouchStartCapture.onPointerDown.onPointerDownCapture.onPointerMove.onPointerMoveCapture.onPointerUp.onPointerUpCapture.onPointerCancel.onPointerCancelCapture.onPointerEnter.onPointerEnterCapture.onPointerLeave.onPointerLeaveCapture.onPointerOver.onPointerOverCapture.onPointerOut.onPointerOutCapture.onGotPointerCapture.onGotPointerCaptureCapture.onLostPointerCapture.onLostPointerCaptureCapture.onScroll.onScrollCapture.onWheel.onWheelCapture.onAnimationStart.onAnimationStartCapture.onAnimationEnd.onAnimationEndCapture.onAnimationIteration.onAnimationIterationCapture.onTransitionEnd.onTransitionEndCapture`.split(`.`);function Ux(e){return typeof e==`string`?Vle.includes(e):!1}var Hle=new Set(`aria-activedescendant.aria-atomic.aria-autocomplete.aria-busy.aria-checked.aria-colcount.aria-colindex.aria-colspan.aria-controls.aria-current.aria-describedby.aria-details.aria-disabled.aria-errormessage.aria-expanded.aria-flowto.aria-haspopup.aria-hidden.aria-invalid.aria-keyshortcuts.aria-label.aria-labelledby.aria-level.aria-live.aria-modal.aria-multiline.aria-multiselectable.aria-orientation.aria-owns.aria-placeholder.aria-posinset.aria-pressed.aria-readonly.aria-relevant.aria-required.aria-roledescription.aria-rowcount.aria-rowindex.aria-rowspan.aria-selected.aria-setsize.aria-sort.aria-valuemax.aria-valuemin.aria-valuenow.aria-valuetext.className.color.height.id.lang.max.media.method.min.name.style.target.width.role.tabIndex.accentHeight.accumulate.additive.alignmentBaseline.allowReorder.alphabetic.amplitude.arabicForm.ascent.attributeName.attributeType.autoReverse.azimuth.baseFrequency.baselineShift.baseProfile.bbox.begin.bias.by.calcMode.capHeight.clip.clipPath.clipPathUnits.clipRule.colorInterpolation.colorInterpolationFilters.colorProfile.colorRendering.contentScriptType.contentStyleType.cursor.cx.cy.d.decelerate.descent.diffuseConstant.direction.display.divisor.dominantBaseline.dur.dx.dy.edgeMode.elevation.enableBackground.end.exponent.externalResourcesRequired.fill.fillOpacity.fillRule.filter.filterRes.filterUnits.floodColor.floodOpacity.focusable.fontFamily.fontSize.fontSizeAdjust.fontStretch.fontStyle.fontVariant.fontWeight.format.from.fx.fy.g1.g2.glyphName.glyphOrientationHorizontal.glyphOrientationVertical.glyphRef.gradientTransform.gradientUnits.hanging.horizAdvX.horizOriginX.href.ideographic.imageRendering.in2.in.intercept.k1.k2.k3.k4.k.kernelMatrix.kernelUnitLength.kerning.keyPoints.keySplines.keyTimes.lengthAdjust.letterSpacing.lightingColor.limitingConeAngle.local.markerEnd.markerHeight.markerMid.markerStart.markerUnits.markerWidth.mask.maskContentUnits.maskUnits.mathematical.mode.numOctaves.offset.opacity.operator.order.orient.orientation.origin.overflow.overlinePosition.overlineThickness.paintOrder.panose1.pathLength.patternContentUnits.patternTransform.patternUnits.pointerEvents.pointsAtX.pointsAtY.pointsAtZ.preserveAlpha.preserveAspectRatio.primitiveUnits.r.radius.refX.refY.renderingIntent.repeatCount.repeatDur.requiredExtensions.requiredFeatures.restart.result.rotate.rx.ry.seed.shapeRendering.slope.spacing.specularConstant.specularExponent.speed.spreadMethod.startOffset.stdDeviation.stemh.stemv.stitchTiles.stopColor.stopOpacity.strikethroughPosition.strikethroughThickness.string.stroke.strokeDasharray.strokeDashoffset.strokeLinecap.strokeLinejoin.strokeMiterlimit.strokeOpacity.strokeWidth.surfaceScale.systemLanguage.tableValues.targetX.targetY.textAnchor.textDecoration.textLength.textRendering.to.transform.u1.u2.underlinePosition.underlineThickness.unicode.unicodeBidi.unicodeRange.unitsPerEm.vAlphabetic.values.vectorEffect.version.vertAdvY.vertOriginX.vertOriginY.vHanging.vIdeographic.viewTarget.visibility.vMathematical.widths.wordSpacing.writingMode.x1.x2.x.xChannelSelector.xHeight.xlinkActuate.xlinkArcrole.xlinkHref.xlinkRole.xlinkShow.xlinkTitle.xlinkType.xmlBase.xmlLang.xmlns.xmlnsXlink.xmlSpace.y1.y2.y.yChannelSelector.z.zoomAndPan.ref.key.angle`.split(`.`));function Wx(e){return typeof e==`string`?Hle.has(e):!1}function Gx(e){return typeof e==`string`&&e.startsWith(`data-`)}function Kx(e){if(typeof e!=`object`||!e)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Wx(n)||Gx(n))&&(t[n]=e[n]);return t}function qx(e){if(e==null)return null;if((0,H.isValidElement)(e)&&typeof e.props==`object`&&e.props!==null){var t=e.props;return Kx(t)}return typeof e==`object`&&!Array.isArray(e)?Kx(e):null}function Jx(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Wx(n)||Gx(n)||Ux(n))&&(t[n]=e[n]);return t}var Ule=[`children`,`width`,`height`,`viewBox`,`className`,`style`,`title`,`desc`];function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yx.apply(null,arguments)}function Wle(e,t){if(e==null)return{};var n,r,i=Gle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xx=(0,H.forwardRef)((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:s,title:c,desc:l}=e,u=Wle(e,Ule),d=a||{width:r,height:i,x:0,y:0},f=Vx(`recharts-surface`,o);return H.createElement(`svg`,Yx({},Jx(u),{className:f,width:r,height:i,style:s,viewBox:`${d.x} ${d.y} ${d.width} ${d.height}`,ref:t}),H.createElement(`title`,null,c),H.createElement(`desc`,null,l),n)}),Kle=[`children`,`className`];function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zx.apply(null,arguments)}function qle(e,t){if(e==null)return{};var n,r,i=Jle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Qx=H.forwardRef((e,t)=>{var{children:n,className:r}=e,i=qle(e,Kle),a=Vx(`recharts-layer`,r);return H.createElement(`g`,Zx({className:a},Jx(i),{ref:t}),n)}),Yle=(0,H.createContext)(null);function $x(e){return function(){return e}}const eS=Math.cos,tS=Math.sin,nS=Math.sqrt,rS=Math.PI;rS/2;const iS=2*rS;var aS=Math.PI,oS=2*aS,sS=1e-6,Xle=oS-sS;function cS(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Zle(e){let t=Math.floor(e);if(!(t>=0))throw Error(`invalid digits: ${e}`);if(t>15)return cS;let n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}var lS=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._=``,this._append=e==null?cS:Zle(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,i=+i,i<0)throw Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,s=n-e,c=r-t,l=a-e,u=o-t,d=l*l+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(d>sS)if(!(Math.abs(u*s-c*l)>sS)||!i)this._append`L${this._x1=e},${this._y1=t}`;else{let f=n-a,p=r-o,m=s*s+c*c,h=f*f+p*p,g=Math.sqrt(m),_=Math.sqrt(d),v=i*Math.tan((aS-Math.acos((m+d-h)/(2*g*_)))/2),y=v/_,b=v/g;Math.abs(y-1)>sS&&this._append`L${e+y*l},${t+y*u}`,this._append`A${i},${i},0,0,${+(u*f>l*p)},${this._x1=e+b*s},${this._y1=t+b*c}`}}arc(e,t,n,r,i,a){if(e=+e,t=+t,n=+n,a=!!a,n<0)throw Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),c=e+o,l=t+s,u=1^a,d=a?r-i:i-r;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>sS||Math.abs(this._y1-l)>sS)&&this._append`L${c},${l}`,n&&(d<0&&(d=d%oS+oS),d>Xle?this._append`A${n},${n},0,1,${u},${e-o},${t-s}A${n},${n},0,1,${u},${this._x1=c},${this._y1=l}`:d>sS&&this._append`A${n},${n},0,${+(d>=aS)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}};function Qle(){return new lS}Qle.prototype=lS.prototype;function uS(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let e=Math.floor(n);if(!(e>=0))throw RangeError(`invalid digits: ${n}`);t=e}return e},()=>new lS(t)}Array.prototype.slice;function dS(e){return typeof e==`object`&&`length`in e?e:Array.from(e)}function fS(e){this._context=e}fS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function pS(e){return new fS(e)}function mS(e){return e[0]}function hS(e){return e[1]}function gS(e,t){var n=$x(!0),r=null,i=pS,a=null,o=uS(s);e=typeof e==`function`?e:e===void 0?mS:$x(e),t=typeof t==`function`?t:t===void 0?hS:$x(t);function s(s){var c,l=(s=dS(s)).length,u,d=!1,f;for(r??(a=i(f=o())),c=0;c<=l;++c)!(c<l&&n(u=s[c],c,s))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(u,c,s),+t(u,c,s));if(f)return a=null,f+``||null}return s.x=function(t){return arguments.length?(e=typeof t==`function`?t:$x(+t),s):e},s.y=function(e){return arguments.length?(t=typeof e==`function`?e:$x(+e),s):t},s.defined=function(e){return arguments.length?(n=typeof e==`function`?e:$x(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,r!=null&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(e==null?r=a=null:a=i(r=e),s):r},s}function _S(e,t,n){var r=null,i=$x(!0),a=null,o=pS,s=null,c=uS(l);e=typeof e==`function`?e:e===void 0?mS:$x(+e),t=typeof t==`function`?t:$x(t===void 0?0:+t),n=typeof n==`function`?n:n===void 0?hS:$x(+n);function l(l){var u,d,f,p=(l=dS(l)).length,m,h=!1,g,_=Array(p),v=Array(p);for(a??(s=o(g=c())),u=0;u<=p;++u){if(!(u<p&&i(m=l[u],u,l))===h)if(h=!h)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=d;--f)s.point(_[f],v[f]);s.lineEnd(),s.areaEnd()}h&&(_[u]=+e(m,u,l),v[u]=+t(m,u,l),s.point(r?+r(m,u,l):_[u],n?+n(m,u,l):v[u]))}if(g)return s=null,g+``||null}function u(){return gS().defined(i).curve(o).context(a)}return l.x=function(t){return arguments.length?(e=typeof t==`function`?t:$x(+t),r=null,l):e},l.x0=function(t){return arguments.length?(e=typeof t==`function`?t:$x(+t),l):e},l.x1=function(e){return arguments.length?(r=e==null?null:typeof e==`function`?e:$x(+e),l):r},l.y=function(e){return arguments.length?(t=typeof e==`function`?e:$x(+e),n=null,l):t},l.y0=function(e){return arguments.length?(t=typeof e==`function`?e:$x(+e),l):t},l.y1=function(e){return arguments.length?(n=e==null?null:typeof e==`function`?e:$x(+e),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(r).y(t)},l.defined=function(e){return arguments.length?(i=typeof e==`function`?e:$x(!!e),l):i},l.curve=function(e){return arguments.length?(o=e,a!=null&&(s=o(a)),l):o},l.context=function(e){return arguments.length?(e==null?a=s=null:s=o(a=e),l):a},l}var vS=class{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}this._x0=e,this._y0=t}};function $le(e){return new vS(e,!0)}function eue(e){return new vS(e,!1)}var yS={draw(e,t){let n=nS(t/rS);e.moveTo(n,0),e.arc(0,0,n,0,iS)}},tue={draw(e,t){let n=nS(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},bS=nS(1/3),nue=bS*2,rue={draw(e,t){let n=nS(t/nue),r=n*bS;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},iue={draw(e,t){let n=nS(t),r=-n/2;e.rect(r,r,n,n)}},aue=.8908130915292852,xS=tS(rS/10)/tS(7*rS/10),oue=tS(iS/10)*xS,sue=-eS(iS/10)*xS,cue={draw(e,t){let n=nS(t*aue),r=oue*n,i=sue*n;e.moveTo(0,-n),e.lineTo(r,i);for(let t=1;t<5;++t){let a=iS*t/5,o=eS(a),s=tS(a);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*i,s*r+o*i)}e.closePath()}},SS=nS(3),lue={draw(e,t){let n=-nS(t/(SS*3));e.moveTo(0,n*2),e.lineTo(-SS*n,-n),e.lineTo(SS*n,-n),e.closePath()}},CS=-.5,wS=nS(3)/2,TS=1/nS(12),uue=(TS/2+1)*3,due={draw(e,t){let n=nS(t/uue),r=n/2,i=n*TS,a=r,o=n*TS+n,s=-a,c=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,c),e.lineTo(CS*r-wS*i,wS*r+CS*i),e.lineTo(CS*a-wS*o,wS*a+CS*o),e.lineTo(CS*s-wS*c,wS*s+CS*c),e.lineTo(CS*r+wS*i,CS*i-wS*r),e.lineTo(CS*a+wS*o,CS*o-wS*a),e.lineTo(CS*s+wS*c,CS*c-wS*s),e.closePath()}};function fue(e,t){let n=null,r=uS(i);e=typeof e==`function`?e:$x(e||yS),t=typeof t==`function`?t:$x(t===void 0?64:+t);function i(){let i;if(n||=i=r(),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+``||null}return i.type=function(t){return arguments.length?(e=typeof t==`function`?t:$x(t),i):e},i.size=function(e){return arguments.length?(t=typeof e==`function`?e:$x(+e),i):t},i.context=function(e){return arguments.length?(n=e??null,i):n},i}function ES(){}function DS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function OS(e){this._context=e}OS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:DS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:DS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pue(e){return new OS(e)}function kS(e){this._context=e}kS.prototype={areaStart:ES,areaEnd:ES,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:DS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mue(e){return new kS(e)}function AS(e){this._context=e}AS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:DS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hue(e){return new AS(e)}function jS(e){this._context=e}jS.prototype={areaStart:ES,areaEnd:ES,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function gue(e){return new jS(e)}function MS(e){return e<0?-1:1}function NS(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(MS(a)+MS(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function PS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function FS(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function IS(e){this._context=e}IS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:FS(this,this._t0,PS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,FS(this,PS(this,n=NS(this,e,t)),n);break;default:FS(this,this._t0,n=NS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function LS(e){this._context=new RS(e)}(LS.prototype=Object.create(IS.prototype)).point=function(e,t){IS.prototype.point.call(this,t,e)};function RS(e){this._context=e}RS.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function _ue(e){return new IS(e)}function vue(e){return new LS(e)}function zS(e){this._context=e}zS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=BS(e),i=BS(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function BS(e){var t,n=e.length-1,r,i=Array(n),a=Array(n),o=Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function yue(e){return new zS(e)}function VS(e,t){this._context=e,this._t=t}VS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}this._x=e,this._y=t}};function bue(e){return new VS(e,.5)}function xue(e){return new VS(e,0)}function Sue(e){return new VS(e,1)}function HS(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function US(e){for(var t=e.length,n=Array(t);--t>=0;)n[t]=t;return n}function Cue(e,t){return e[t]}function wue(e){let t=[];return t.key=e,t}function Tue(){var e=$x([]),t=US,n=HS,r=Cue;function i(i){var a=Array.from(e.apply(this,arguments),wue),o,s=a.length,c=-1,l;for(let e of i)for(o=0,++c;o<s;++o)(a[o][c]=[0,+r(e,a[o].key,c,i)]).data=e;for(o=0,l=dS(t(a));o<s;++o)a[l[o]].index=o;return n(a,l),a}return i.keys=function(t){return arguments.length?(e=typeof t==`function`?t:$x(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r=typeof e==`function`?e:$x(+e),i):r},i.order=function(e){return arguments.length?(t=e==null?US:typeof e==`function`?e:$x(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=e??HS,i):n},i}function Eue(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}HS(e,t)}}function Due(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}HS(e,t)}}function Oue(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,c=0,l=0;s<o;++s){for(var u=e[t[s]],d=u[r][1]||0,f=(d-(u[r-1][1]||0))/2,p=0;p<s;++p){var m=e[t[p]],h=m[r][1]||0,g=m[r-1][1]||0;f+=h-g}c+=d,l+=f*d}i[r-1][1]+=i[r-1][0]=n,c&&(n-=l/c)}i[r-1][1]+=i[r-1][0]=n,HS(e,t)}}var kue=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return e===`__proto__`}e.isUnsafeProperty=t})),WS=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){switch(typeof e){case`number`:case`symbol`:return!1;case`string`:return e.includes(`.`)||e.includes(`[`)||e.includes(`]`)}}e.isDeepKey=t})),GS=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return typeof e==`string`||typeof e==`symbol`?e:Object.is(e?.valueOf?.(),-0)?`-0`:String(e)}e.toKey=t})),Aue=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){if(e==null)return``;if(typeof e==`string`)return e;if(Array.isArray(e))return e.map(t).join(`,`);let n=String(e);return n===`0`&&Object.is(Number(e),-0)?`-0`:n}e.toString=t})),KS=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=Aue(),n=GS();function r(e){if(Array.isArray(e))return e.map(n.toKey);if(typeof e==`symbol`)return[e];e=t.toString(e);let r=[],i=e.length;if(i===0)return r;let a=0,o=``,s=``,c=!1;for(e.charCodeAt(0)===46&&(r.push(``),a++);a<i;){let t=e[a];s?t===`\\`&&a+1<i?(a++,o+=e[a]):t===s?s=``:o+=t:c?t===`"`||t===`'`?s=t:t===`]`?(c=!1,r.push(o),o=``):o+=t:t===`[`?(c=!0,o&&=(r.push(o),``)):t===`.`?o&&=(r.push(o),``):o+=t,a++}return o&&r.push(o),r}e.toPath=r})),qS=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=kue(),n=WS(),r=GS(),i=KS();function a(e,s,c){if(e==null)return c;switch(typeof s){case`string`:{if(t.isUnsafeProperty(s))return c;let r=e[s];return r===void 0?n.isDeepKey(s)?a(e,i.toPath(s),c):c:r}case`number`:case`symbol`:{typeof s==`number`&&(s=r.toKey(s));let t=e[s];return t===void 0?c:t}default:{if(Array.isArray(s))return o(e,s,c);if(s=Object.is(s?.valueOf(),-0)?`-0`:String(s),t.isUnsafeProperty(s))return c;let n=e[s];return n===void 0?c:n}}}function o(e,n,r){if(n.length===0)return r;let i=e;for(let e=0;e<n.length;e++){if(i==null||t.isUnsafeProperty(n[e]))return r;i=i[n[e]]}return i===void 0?r:i}e.get=a})),JS=o(((e,t)=>{t.exports=qS().get})),jue=l(JS()),YS=e=>e===0?0:e>0?1:-1,XS=e=>typeof e==`number`&&e!=+e,ZS=e=>typeof e==`string`&&e.indexOf(`%`)===e.length-1,QS=e=>(typeof e==`number`||e instanceof Number)&&!XS(e),$S=e=>QS(e)||typeof e==`string`,Mue=0,eC=e=>{var t=++Mue;return`${e||``}${t}`},tC=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!QS(e)&&typeof e!=`string`)return n;var i;if(ZS(e)){if(t==null)return n;var a=e.indexOf(`%`);i=t*parseFloat(e.slice(0,a))/100}else i=+e;return XS(i)&&(i=n),r&&t!=null&&i>t&&(i=t),i},nC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function rC(e,t,n){return QS(e)&&QS(t)?e+n*(t-e):t}function Nue(e,t,n){if(!(!e||!e.length))return e.find(e=>e&&(typeof t==`function`?t(e):(0,jue.default)(e,t))===n)}var iC=e=>e==null,aC=e=>iC(e)?e:`${e.charAt(0).toUpperCase()}${e.slice(1)}`;function Pue(e){return e!=null}function oC(){}var Fue=[`type`,`size`,`sizeType`];function sC(){return sC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sC.apply(null,arguments)}function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?cC(Object(n),!0).forEach(function(t){Iue(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Iue(e,t,n){return(t=Lue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lue(e){var t=Rue(e,`string`);return typeof t==`symbol`?t:t+``}function Rue(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function zue(e,t){if(e==null)return{};var n,r,i=Bue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uC={symbolCircle:yS,symbolCross:tue,symbolDiamond:rue,symbolSquare:iue,symbolStar:cue,symbolTriangle:lue,symbolWye:due},Vue=Math.PI/180,Hue=e=>uC[`symbol${aC(e)}`]||yS,Uue=(e,t,n)=>{if(t===`area`)return e;switch(n){case`cross`:return 5*e*e/9;case`diamond`:return .5*e*e/Math.sqrt(3);case`square`:return e*e;case`star`:var r=18*Vue;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2);case`triangle`:return Math.sqrt(3)*e*e/4;case`wye`:return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Wue=(e,t)=>{uC[`symbol${aC(e)}`]=t},dC=e=>{var{type:t=`circle`,size:n=64,sizeType:r=`area`}=e,i=lC(lC({},zue(e,Fue)),{},{type:t,size:n,sizeType:r}),a=`circle`;typeof t==`string`&&(a=t);var o=()=>{var e=Hue(a),t=fue().type(e).size(Uue(n,r,a))();if(t!==null)return t},{className:s,cx:c,cy:l}=i,u=Jx(i);return QS(c)&&QS(l)&&QS(n)?H.createElement(`path`,sC({},u,{className:Vx(`recharts-symbols`,s),transform:`translate(${c}, ${l})`,d:o()})):null};dC.registerSymbol=Wue;var fC=e=>`radius`in e&&`startAngle`in e&&`endAngle`in e,Gue=(e,t)=>{if(!e||typeof e==`function`||typeof e==`boolean`)return null;var n=e;if((0,H.isValidElement)(e)&&(n=e.props),typeof n!=`object`&&typeof n!=`function`)return null;var r={};return Object.keys(n).forEach(e=>{Ux(e)&&(r[e]=t||(t=>n[e](n,t)))}),r},Kue=(e,t,n)=>r=>(e(t,n,r),null),pC=(e,t,n)=>{if(e===null||typeof e!=`object`&&typeof e!=`function`)return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Ux(i)&&typeof a==`function`&&(r||={},r[i]=Kue(a,t,n))}),r};function mC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function que(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?mC(Object(n),!0).forEach(function(t){Jue(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jue(e,t,n){return(t=Yue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yue(e){var t=Xue(e,`string`);return typeof t==`symbol`?t:t+``}function Xue(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function hC(e,t){var n=que({},e),r=t;return Object.keys(t).reduce((e,t)=>(e[t]===void 0&&r[t]!==void 0&&(e[t]=r[t]),e),n)}var Zue=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e,t){let n=new Map;for(let r=0;r<e.length;r++){let i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}e.uniqBy=t})),gC=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return e}e.identity=t})),Que=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return Number.isSafeInteger(e)&&e>=0}e.isLength=t})),_C=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=Que();function n(e){return e!=null&&typeof e!=`function`&&t.isLength(e.length)}e.isArrayLike=n})),$ue=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return typeof e==`object`&&!!e}e.isObjectLike=t})),ede=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=_C(),n=$ue();function r(e){return n.isObjectLike(e)&&t.isArrayLike(e)}e.isArrayLikeObject=r})),tde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=qS();function n(e){return function(n){return t.get(n,e)}}e.property=n})),vC=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return e!==null&&(typeof e==`object`||typeof e==`function`)}e.isObject=t})),yC=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return e==null||typeof e!=`object`&&typeof e!=`function`}e.isPrimitive=t})),bC=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}e.eq=t})),nde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=vC(),n=yC(),r=bC();function i(e,t,n){return typeof n==`function`?a(e,t,function e(t,r,i,o,s,c){let l=n(t,r,i,o,s,c);return l===void 0?a(t,r,e,c):!!l},new Map):i(e,t,()=>void 0)}function a(e,n,i,s){if(n===e)return!0;switch(typeof n){case`object`:return o(e,n,i,s);case`function`:return Object.keys(n).length>0?a(e,{...n},i,s):r.eq(e,n);default:return t.isObject(e)?typeof n==`string`?n===``:!0:r.eq(e,n)}}function o(e,t,r,i){if(t==null)return!0;if(Array.isArray(t))return c(e,t,r,i);if(t instanceof Map)return s(e,t,r,i);if(t instanceof Set)return l(e,t,r,i);let a=Object.keys(t);if(e==null||n.isPrimitive(e))return a.length===0;if(a.length===0)return!0;if(i?.has(t))return i.get(t)===e;i?.set(t,e);try{for(let o=0;o<a.length;o++){let s=a[o];if(!n.isPrimitive(e)&&!(s in e)||t[s]===void 0&&e[s]!==void 0||t[s]===null&&e[s]!==null||!r(e[s],t[s],s,e,t,i))return!1}return!0}finally{i?.delete(t)}}function s(e,t,n,r){if(t.size===0)return!0;if(!(e instanceof Map))return!1;for(let[i,a]of t.entries())if(n(e.get(i),a,i,e,t,r)===!1)return!1;return!0}function c(e,t,n,r){if(t.length===0)return!0;if(!Array.isArray(e))return!1;let i=new Set;for(let a=0;a<t.length;a++){let o=t[a],s=!1;for(let c=0;c<e.length;c++){if(i.has(c))continue;let l=e[c],u=!1;if(n(l,o,a,e,t,r)&&(u=!0),u){i.add(c),s=!0;break}}if(!s)return!1}return!0}function l(e,t,n,r){return t.size===0?!0:e instanceof Set?c([...e],[...t],n,r):!1}e.isMatchWith=i,e.isSetMatch=l})),xC=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=nde();function n(e,n){return t.isMatchWith(e,n,()=>void 0)}e.isMatch=n})),rde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}e.getSymbols=t})),SC=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return e==null?e===void 0?`[object Undefined]`:`[object Null]`:Object.prototype.toString.call(e)}e.getTag=t})),CC=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`}),e.argumentsTag=`[object Arguments]`,e.arrayBufferTag=`[object ArrayBuffer]`,e.arrayTag=`[object Array]`,e.bigInt64ArrayTag=`[object BigInt64Array]`,e.bigUint64ArrayTag=`[object BigUint64Array]`,e.booleanTag=`[object Boolean]`,e.dataViewTag=`[object DataView]`,e.dateTag=`[object Date]`,e.errorTag=`[object Error]`,e.float32ArrayTag=`[object Float32Array]`,e.float64ArrayTag=`[object Float64Array]`,e.functionTag=`[object Function]`,e.int16ArrayTag=`[object Int16Array]`,e.int32ArrayTag=`[object Int32Array]`,e.int8ArrayTag=`[object Int8Array]`,e.mapTag=`[object Map]`,e.numberTag=`[object Number]`,e.objectTag=`[object Object]`,e.regexpTag=`[object RegExp]`,e.setTag=`[object Set]`,e.stringTag=`[object String]`,e.symbolTag=`[object Symbol]`,e.uint16ArrayTag=`[object Uint16Array]`,e.uint32ArrayTag=`[object Uint32Array]`,e.uint8ArrayTag=`[object Uint8Array]`,e.uint8ClampedArrayTag=`[object Uint8ClampedArray]`})),ide=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}e.isTypedArray=t})),wC=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=rde(),n=SC(),r=CC(),i=yC(),a=ide();function o(e,t){return s(e,void 0,e,new Map,t)}function s(e,t,n,r=new Map,o=void 0){let u=o?.(e,t,n,r);if(u!==void 0)return u;if(i.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){let t=Array(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=s(e[i],i,n,r,o);return Object.hasOwn(e,`index`)&&(t.index=e.index),Object.hasOwn(e,`input`)&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;r.set(e,t);for(let[i,a]of e)t.set(i,s(a,i,n,r,o));return t}if(e instanceof Set){let t=new Set;r.set(e,t);for(let i of e)t.add(s(i,void 0,n,r,o));return t}if(typeof Buffer<`u`&&Buffer.isBuffer(e))return e.subarray();if(a.isTypedArray(e)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=s(e[i],i,n,r,o);return t}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<`u`&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,o),t}if(typeof File<`u`&&e instanceof File){let t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,o),t}if(typeof Blob<`u`&&e instanceof Blob){let t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,o),t}if(e instanceof Error){let t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,o),t}if(e instanceof Boolean){let t=new Boolean(e.valueOf());return r.set(e,t),c(t,e,n,r,o),t}if(e instanceof Number){let t=new Number(e.valueOf());return r.set(e,t),c(t,e,n,r,o),t}if(e instanceof String){let t=new String(e.valueOf());return r.set(e,t),c(t,e,n,r,o),t}if(typeof e==`object`&&l(e)){let t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,o),t}return e}function c(e,n,r=e,i,a){let o=[...Object.keys(n),...t.getSymbols(n)];for(let t=0;t<o.length;t++){let c=o[t],l=Object.getOwnPropertyDescriptor(e,c);(l==null||l.writable)&&(e[c]=s(n[c],c,r,i,a))}}function l(e){switch(n.getTag(e)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=c})),ade=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=wC();function n(e){return t.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}e.cloneDeep=n})),ode=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=xC(),n=ade();function r(e){return e=n.cloneDeep(e),n=>t.isMatch(n,e)}e.matches=r})),sde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=wC(),n=CC();function r(e,r){return t.cloneDeepWith(e,(i,a,o,s)=>{let c=r?.(i,a,o,s);if(c!==void 0)return c;if(typeof e==`object`)switch(Object.prototype.toString.call(e)){case n.numberTag:case n.stringTag:case n.booleanTag:{let n=new e.constructor(e?.valueOf());return t.copyProperties(n,e),n}case n.argumentsTag:{let n={};return t.copyProperties(n,e),n.length=e.length,n[Symbol.iterator]=e[Symbol.iterator],n}default:return}})}e.cloneDeepWith=r})),cde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=sde();function n(e){return t.cloneDeepWith(e)}e.cloneDeep=n})),TC=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=/^(?:0|[1-9]\d*)$/;function n(e,n=2**53-1){switch(typeof e){case`number`:return Number.isInteger(e)&&e>=0&&e<n;case`symbol`:return!1;case`string`:return t.test(e)}}e.isIndex=n})),lde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=SC();function n(e){return typeof e==`object`&&!!e&&t.getTag(e)===`[object Arguments]`}e.isArguments=n})),ude=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=WS(),n=TC(),r=lde(),i=KS();function a(e,a){let o;if(o=Array.isArray(a)?a:typeof a==`string`&&t.isDeepKey(a)&&e?.[a]==null?i.toPath(a):[a],o.length===0)return!1;let s=e;for(let e=0;e<o.length;e++){let t=o[e];if((s==null||!Object.hasOwn(s,t))&&!((Array.isArray(s)||r.isArguments(s))&&n.isIndex(t)&&t<s.length))return!1;s=s[t]}return!0}e.has=a})),dde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=xC(),n=GS(),r=cde(),i=qS(),a=ude();function o(e,o){switch(typeof e){case`object`:Object.is(e?.valueOf(),-0)&&(e=`-0`);break;case`number`:e=n.toKey(e);break}return o=r.cloneDeep(o),function(n){let r=i.get(n,e);return r===void 0?a.has(n,e):o===void 0?r===void 0:t.isMatch(r,o)}}e.matchesProperty=o})),fde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=gC(),n=tde(),r=ode(),i=dde();function a(e){if(e==null)return t.identity;switch(typeof e){case`function`:return e;case`object`:return Array.isArray(e)&&e.length===2?i.matchesProperty(e[0],e[1]):r.matches(e);case`string`:case`symbol`:case`number`:return n.property(e)}}e.iteratee=a})),pde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=Zue(),n=gC(),r=ede(),i=fde();function a(e,a=n.identity){return r.isArrayLikeObject(e)?t.uniqBy(Array.from(e),i.iteratee(a)):[]}e.uniqBy=a})),EC=l(o(((e,t)=>{t.exports=pde().uniqBy}))());function mde(e,t,n){return t===!0?(0,EC.default)(e,n):typeof t==`function`?(0,EC.default)(e,t):e}var DC=(0,H.createContext)(null),hde=pn(),gde=e=>e,OC=()=>{var e=(0,H.useContext)(DC);return e?e.store.dispatch:gde},kC=()=>{},_de=()=>kC,vde=(e,t)=>e===t;function AC(e){var t=(0,H.useContext)(DC);return(0,hde.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:_de,t?t.store.getState:kC,t?t.store.getState:kC,t?e:kC,vde)}var yde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return typeof e==`symbol`?1:e===null?2:e===void 0?3:e===e?0:4}e.compareValues=(e,n,r)=>{if(e!==n){let i=t(e),a=t(n);if(i===a&&i===0){if(e<n)return r===`desc`?1:-1;if(e>n)return r===`desc`?-1:1}return r===`desc`?a-i:i-a}return 0}})),jC=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return typeof e==`symbol`||e instanceof Symbol}e.isSymbol=t})),bde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=jC(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(e,i){return Array.isArray(e)?!1:typeof e==`number`||typeof e==`boolean`||e==null||t.isSymbol(e)?!0:typeof e==`string`&&(r.test(e)||!n.test(e))||i!=null&&Object.hasOwn(i,e)}e.isKey=i})),xde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=yde(),n=bde(),r=KS();function i(e,i,a,o){if(e==null)return[];a=o?void 0:a,Array.isArray(e)||(e=Object.values(e)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(e=>String(e));let s=(e,t)=>{let n=e;for(let e=0;e<t.length&&n!=null;++e)n=n[t[e]];return n},c=(e,t)=>t==null||e==null?t:typeof e==`object`&&`key`in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):typeof e==`function`?e(t):Array.isArray(e)?s(t,e):typeof t==`object`?t[e]:t,l=i.map(e=>(Array.isArray(e)&&e.length===1&&(e=e[0]),e==null||typeof e==`function`||Array.isArray(e)||n.isKey(e)?e:{key:e,path:r.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>c(t,e))})).slice().sort((e,n)=>{for(let r=0;r<l.length;r++){let i=t.compareValues(e.criteria[r],n.criteria[r],a[r]);if(i!==0)return i}return 0}).map(e=>e.original)}e.orderBy=i})),Sde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e,t=1){let n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){let o=e[a];Array.isArray(o)&&t<r?i(o,t+1):n.push(o)}};return i(e,0),n}e.flatten=t})),MC=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=TC(),n=_C(),r=vC(),i=bC();function a(e,a,o){return r.isObject(o)&&(typeof a==`number`&&n.isArrayLike(o)&&t.isIndex(a)&&a<o.length||typeof a==`string`&&a in o)?i.eq(o[a],e):!1}e.isIterateeCall=a})),Cde=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=xde(),n=Sde(),r=MC();function i(e,...i){let a=i.length;return a>1&&r.isIterateeCall(e,i[0],i[1])?i=[]:a>2&&r.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(e,n.flatten(i),[`asc`])}e.sortBy=i})),NC=o(((e,t)=>{t.exports=Cde().sortBy})),wde=l(NC()),PC=e=>e.legend.settings,Tde=e=>e.legend.size;W([e=>e.legend.payload,PC],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?(0,wde.default)(r,n):r});var FC=1;function Ede(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=(0,H.useState)({height:0,left:0,top:0,width:0});return[t,(0,H.useCallback)(e=>{if(e!=null){var r=e.getBoundingClientRect(),i={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(i.height-t.height)>FC||Math.abs(i.left-t.left)>FC||Math.abs(i.top-t.top)>FC||Math.abs(i.width-t.width)>FC)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e])]}function IC(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var LC=(()=>typeof Symbol==`function`&&Symbol.observable||`@@observable`)(),RC=()=>Math.random().toString(36).substring(7).split(``).join(`.`),zC={INIT:`@@redux/INIT${RC()}`,REPLACE:`@@redux/REPLACE${RC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${RC()}`};function BC(e){if(typeof e!=`object`||!e)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function VC(e,t,n){if(typeof e!=`function`)throw Error(IC(2));if(typeof t==`function`&&typeof n==`function`||typeof n==`function`&&typeof arguments[3]==`function`)throw Error(IC(0));if(typeof t==`function`&&n===void 0&&(n=t,t=void 0),n!==void 0){if(typeof n!=`function`)throw Error(IC(1));return n(VC)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,c=!1;function l(){o===a&&(o=new Map,a.forEach((e,t)=>{o.set(t,e)}))}function u(){if(c)throw Error(IC(3));return i}function d(e){if(typeof e!=`function`)throw Error(IC(4));if(c)throw Error(IC(5));let t=!0;l();let n=s++;return o.set(n,e),function(){if(t){if(c)throw Error(IC(6));t=!1,l(),o.delete(n),a=null}}}function f(e){if(!BC(e))throw Error(IC(7));if(e.type===void 0)throw Error(IC(8));if(typeof e.type!=`string`)throw Error(IC(17));if(c)throw Error(IC(9));try{c=!0,i=r(i,e)}finally{c=!1}return(a=o).forEach(e=>{e()}),e}function p(e){if(typeof e!=`function`)throw Error(IC(10));r=e,f({type:zC.REPLACE})}function m(){let e=d;return{subscribe(t){if(typeof t!=`object`||!t)throw Error(IC(11));function n(){let e=t;e.next&&e.next(u())}return n(),{unsubscribe:e(n)}},[LC](){return this}}}return f({type:zC.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:p,[LC]:m}}function Dde(e){Object.keys(e).forEach(t=>{let n=e[t];if(n(void 0,{type:zC.INIT})===void 0)throw Error(IC(12));if(n(void 0,{type:zC.PROBE_UNKNOWN_ACTION()})===void 0)throw Error(IC(13))})}function HC(e){let t=Object.keys(e),n={};for(let r=0;r<t.length;r++){let i=t[r];typeof e[i]==`function`&&(n[i]=e[i])}let r=Object.keys(n),i;try{Dde(n)}catch(e){i=e}return function(e={},t){if(i)throw i;let a=!1,o={};for(let i=0;i<r.length;i++){let s=r[i],c=n[s],l=e[s],u=c(l,t);if(u===void 0)throw t&&t.type,Error(IC(14));o[s]=u,a||=u!==l}return a||=r.length!==Object.keys(e).length,a?o:e}}function UC(...e){return e.length===0?e=>e:e.length===1?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function Ode(...e){return t=>(n,r)=>{let i=t(n,r),a=()=>{throw Error(IC(15))},o={getState:i.getState,dispatch:(e,...t)=>a(e,...t)};return a=UC(...e.map(e=>e(o)))(i.dispatch),{...i,dispatch:a}}}function WC(e){return BC(e)&&`type`in e&&typeof e.type==`string`}var GC=Symbol.for(`immer-nothing`),KC=Symbol.for(`immer-draftable`),qC=Symbol.for(`immer-state`);function JC(e,...t){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var YC=Object,XC=YC.getPrototypeOf,ZC=`constructor`,QC=`prototype`,$C=`configurable`,ew=`enumerable`,tw=`writable`,nw=`value`,rw=e=>!!e&&!!e[qC];function iw(e){return e?ow(e)||fw(e)||!!e[KC]||!!e[ZC]?.[KC]||pw(e)||mw(e):!1}var kde=YC[QC][ZC].toString(),aw=new WeakMap;function ow(e){if(!e||!hw(e))return!1;let t=XC(e);if(t===null||t===YC[QC])return!0;let n=YC.hasOwnProperty.call(t,ZC)&&t[ZC];if(n===Object)return!0;if(!gw(n))return!1;let r=aw.get(n);return r===void 0&&(r=Function.toString.call(n),aw.set(n,r)),r===kde}function sw(e,t,n=!0){cw(e)===0?(n?Reflect.ownKeys(e):YC.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function cw(e){let t=e[qC];return t?t.type_:fw(e)?1:pw(e)?2:mw(e)?3:0}var lw=(e,t,n=cw(e))=>n===2?e.has(t):YC[QC].hasOwnProperty.call(e,t),uw=(e,t,n=cw(e))=>n===2?e.get(t):e[t],dw=(e,t,n,r=cw(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Ade(e,t){return e===t?e!==0||1/e==1/t:e!==e&&t!==t}var fw=Array.isArray,pw=e=>e instanceof Map,mw=e=>e instanceof Set,hw=e=>typeof e==`object`,gw=e=>typeof e==`function`,_w=e=>typeof e==`boolean`,vw=e=>e.copy_||e.base_,yw=e=>e.modified_?e.copy_:e.base_;function bw(e,t){if(pw(e))return new Map(e);if(mw(e))return new Set(e);if(fw(e))return Array[QC].slice.call(e);let n=ow(e);if(t===!0||t===`class_only`&&!n){let t=YC.getOwnPropertyDescriptors(e);delete t[qC];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){let i=n[r],a=t[i];a[tw]===!1&&(a[tw]=!0,a[$C]=!0),(a.get||a.set)&&(t[i]={[$C]:!0,[tw]:!0,[ew]:a[ew],[nw]:e[i]})}return YC.create(XC(e),t)}else{let t=XC(e);if(t!==null&&n)return{...e};let r=YC.create(t);return YC.assign(r,e)}}function xw(e,t=!1){return Cw(e)||rw(e)||!iw(e)?e:(cw(e)>1&&YC.defineProperties(e,{set:Sw,add:Sw,clear:Sw,delete:Sw}),YC.freeze(e),t&&sw(e,(e,t)=>{xw(t,!0)},!1),e)}function jde(){JC(2)}var Sw={[nw]:jde};function Cw(e){return e===null||!hw(e)?!0:YC.isFrozen(e)}var ww=`MapSet`,Tw=`Patches`,Ew={};function Dw(e){let t=Ew[e];return t||JC(0,e),t}var Mde=e=>!!Ew[e],Ow,kw=()=>Ow,Nde=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Mde(ww)?Dw(ww):void 0});function Aw(e,t){t&&(e.patchPlugin_=Dw(Tw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jw(e){Mw(e),e.drafts_.forEach(Pde),e.drafts_=null}function Mw(e){e===Ow&&(Ow=e.parent_)}var Nw=e=>Ow=Nde(Ow,e);function Pde(e){let t=e[qC];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Pw(e,t){t.unfinalizedDrafts_=t.drafts_.length;let n=t.drafts_[0];if(e!==void 0&&e!==n){n[qC].modified_&&(jw(t),JC(4)),iw(e)&&(e=Fw(t,e));let{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[qC].base_,e,t)}else e=Fw(t,n);return Fde(t,e,!0),jw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e===GC?void 0:e}function Fw(e,t){if(Cw(t))return t;let n=t[qC];if(!n)return Bw(t,e.handledSet_,e);if(!Lw(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){let{callbacks_:t}=n;if(t)for(;t.length>0;)t.pop()(e);zw(n,e)}return n.copy_}function Fde(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xw(t,n)}function Iw(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Lw=(e,t)=>e.scope_===t,Ide=[];function Rw(e,t,n,r){let i=vw(e),a=e.type_;if(r!==void 0&&uw(i,r,a)===t){dw(i,r,n,a);return}if(!e.draftLocations_){let t=e.draftLocations_=new Map;sw(i,(e,n)=>{if(rw(n)){let r=t.get(n)||[];r.push(e),t.set(n,r)}})}let o=e.draftLocations_.get(t)??Ide;for(let e of o)dw(i,e,n,a)}function Lde(e,t,n){e.callbacks_.push(function(r){let i=t;if(!i||!Lw(i,r))return;r.mapSetPlugin_?.fixSetContents(i);let a=yw(i);Rw(e,i.draft_??i,a,n),zw(i,r)})}function zw(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){let{patchPlugin_:n}=t;if(n){let r=n.getPath(e);r&&n.generatePatches_(e,r,t)}Iw(e)}}function Rde(e,t,n){let{scope_:r}=e;if(rw(n)){let i=n[qC];Lw(i,r)&&i.callbacks_.push(function(){Kw(e),Rw(e,n,yw(i),t)})}else iw(n)&&e.callbacks_.push(function(){uw(vw(e),t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Bw(uw(e.copy_,t,e.type_),r.handledSet_,r)})}function Bw(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||rw(e)||t.has(e)||!iw(e)||Cw(e)?e:(t.add(e),sw(e,(r,i)=>{if(rw(i)){let t=i[qC];Lw(t,n)&&(dw(e,r,yw(t),e.type_),Iw(t))}else iw(i)&&Bw(i,t,n)}),e)}function zde(e,t){let n=fw(e),r={type_:n?1:0,scope_:t?t.scope_:kw(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0},i=r,a=Vw;n&&(i=[r],a=Hw);let{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,[s,r]}var Vw={get(e,t){if(t===qC)return e;let n=vw(e);if(!lw(n,t,e.type_))return Bde(e,n,t);let r=n[t];if(e.finalized_||!iw(r))return r;if(r===Uw(e.base_,t)){Kw(e);let n=e.type_===1?+t:t,i=qw(e.scope_,r,e,n);return e.copy_[n]=i}return r},has(e,t){return t in vw(e)},ownKeys(e){return Reflect.ownKeys(vw(e))},set(e,t,n){let r=Ww(vw(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){let r=Uw(vw(e),t),i=r?.[qC];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Ade(n,r)&&(n!==void 0||lw(e.base_,t,e.type_)))return!0;Kw(e),Gw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])?!0:(e.copy_[t]=n,e.assigned_.set(t,!0),Rde(e,t,n),!0)},deleteProperty(e,t){return Kw(e),Uw(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Gw(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){let n=vw(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[tw]:!0,[$C]:e.type_!==1||t!==`length`,[ew]:r[ew],[nw]:n[t]}},defineProperty(){JC(11)},getPrototypeOf(e){return XC(e.base_)},setPrototypeOf(){JC(12)}},Hw={};sw(Vw,(e,t)=>{Hw[e]=function(){let e=arguments;return e[0]=e[0][0],t.apply(this,e)}}),Hw.deleteProperty=function(e,t){return Hw.set.call(this,e,t,void 0)},Hw.set=function(e,t,n){return Vw.set.call(this,e[0],t,n,e[0])};function Uw(e,t){let n=e[qC];return(n?vw(n):e)[t]}function Bde(e,t,n){let r=Ww(t,n);return r?nw in r?r[nw]:r.get?.call(e.draft_):void 0}function Ww(e,t){if(!(t in e))return;let n=XC(e);for(;n;){let e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=XC(n)}}function Gw(e){e.modified_||(e.modified_=!0,e.parent_&&Gw(e.parent_))}function Kw(e){e.copy_||=(e.assigned_=new Map,bw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Vde=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(gw(e)&&!gw(t)){let n=t;t=e;let r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}gw(t)||JC(6),n!==void 0&&!gw(n)&&JC(7);let r;if(iw(e)){let i=Nw(this),a=qw(i,e,void 0),o=!0;try{r=t(a),o=!1}finally{o?jw(i):Mw(i)}return Aw(i,n),Pw(r,i)}else if(!e||!hw(e)){if(r=t(e),r===void 0&&(r=e),r===GC&&(r=void 0),this.autoFreeze_&&xw(r,!0),n){let t=[],i=[];Dw(Tw).generateReplacementPatches_(e,r,{patches_:t,inversePatches_:i}),n(t,i)}return r}else JC(1,e)},this.produceWithPatches=(e,t)=>{if(gw(e))return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},_w(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),_w(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),_w(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){iw(e)||JC(8),rw(e)&&(e=Jw(e));let t=Nw(this),n=qw(t,e,void 0);return n[qC].isManual_=!0,Mw(t),n}finishDraft(e,t){let n=e&&e[qC];(!n||!n.isManual_)&&JC(9);let{scope_:r}=n;return Aw(r,t),Pw(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){let r=t[n];if(r.path.length===0&&r.op===`replace`){e=r.value;break}}n>-1&&(t=t.slice(n+1));let r=Dw(Tw).applyPatches_;return rw(e)?r(e,t):this.produce(e,e=>r(e,t))}};function qw(e,t,n,r){let[i,a]=pw(t)?Dw(ww).proxyMap_(t,n):mw(t)?Dw(ww).proxySet_(t,n):zde(t,n);return(n?.scope_??kw()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Lde(n,a,r):a.callbacks_.push(function(e){e.mapSetPlugin_?.fixSetContents(a);let{patchPlugin_:t}=e;a.modified_&&t&&t.generatePatches_(a,[],e)}),i}function Jw(e){return rw(e)||JC(10,e),Yw(e)}function Yw(e){if(!iw(e)||Cw(e))return e;let t=e[qC],n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=bw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=bw(e,!0);return sw(n,(e,t)=>{dw(n,e,Yw(t))},r),t&&(t.finalized_=!1),n}var Xw=new Vde().produce;function Zw(e){return({dispatch:t,getState:n})=>r=>i=>typeof i==`function`?i(t,n,e):r(i)}var Hde=Zw(),Ude=Zw,Wde=typeof window<`u`&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]==`object`?UC:UC.apply(null,arguments)};typeof window<`u`&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Qw(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw Error(HT(0));return{type:e,payload:r.payload,...`meta`in r&&{meta:r.meta},...`error`in r&&{error:r.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>WC(t)&&t.type===e,n}var $w=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function eT(e){return iw(e)?Xw(e,()=>{}):e}function tT(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Gde(e){return typeof e==`boolean`}var Kde=()=>function(e){let{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{},a=new $w;return t&&(Gde(t)?a.push(Hde):a.push(Ude(t.extraArgument))),a},nT=`RTK_autoBatch`,rT=()=>e=>({payload:e,meta:{[nT]:!0}}),iT=e=>t=>{setTimeout(t,e)},aT=(e={type:`raf`})=>t=>(...n)=>{let r=t(...n),i=!0,a=!1,o=!1,s=new Set,c=e.type===`tick`?queueMicrotask:e.type===`raf`?typeof window<`u`&&window.requestAnimationFrame?window.requestAnimationFrame:iT(10):e.type===`callback`?e.queueNotification:iT(e.timeout),l=()=>{o=!1,a&&(a=!1,s.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){let t=r.subscribe(()=>i&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return i=!e?.meta?.[nT],a=!i,a&&(o||(o=!0,c(l))),r.dispatch(e)}finally{i=!0}}})},qde=e=>function(t){let{autoBatch:n=!0}=t??{},r=new $w(e);return n&&r.push(aT(typeof n==`object`?n:void 0)),r};function oT(e){let t=Kde(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{},c;if(typeof n==`function`)c=n;else if(BC(n))c=HC(n);else throw Error(HT(1));let l;l=typeof r==`function`?r(t):t();let u=UC;i&&(u=Wde({trace:!1,...typeof i==`object`&&i}));let d=qde(Ode(...l)),f=typeof s==`function`?s(d):d(),p=u(...f);return VC(c,o,p)}function sT(e){let t={},n=[],r,i={addCase(e,n){let r=typeof e==`string`?e:e.type;if(!r)throw Error(HT(28));if(r in t)throw Error(HT(29));return t[r]=n,i},addAsyncThunk(e,r){return r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),i},addMatcher(e,t){return n.push({matcher:e,reducer:t}),i},addDefaultCase(e){return r=e,i}};return e(i),[t,n,r]}function cT(e){return typeof e==`function`}function lT(e,t){let[n,r,i]=sT(t),a;if(cT(e))a=()=>eT(e());else{let t=eT(e);a=()=>t}function o(e=a(),t){let o=[n[t.type],...r.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return o.filter(e=>!!e).length===0&&(o=[i]),o.reduce((e,n)=>{if(n)if(rw(e)){let r=n(e,t);return r===void 0?e:r}else if(iw(e))return Xw(e,e=>n(e,t));else{let r=n(e,t);if(r===void 0){if(e===null)return e;throw Error(`A case reducer on a non-draftable value must not return undefined`)}return r}return e},e)}return o.getInitialState=a,o}var uT=`ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW`,dT=(e=21)=>{let t=``,n=e;for(;n--;)t+=uT[Math.random()*64|0];return t},fT=Symbol.for(`rtk-slice-createasyncthunk`);function pT(e,t){return`${e}/${t}`}function mT({creators:e}={}){let t=e?.asyncThunk?.[fT];return function(e){let{name:n,reducerPath:r=n}=e;if(!n)throw Error(HT(11));let i=(typeof e.reducers==`function`?e.reducers(Jde()):e.reducers)||{},a=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){let n=typeof e==`string`?e:e.type;if(!n)throw Error(HT(12));if(n in o.sliceCaseReducersByType)throw Error(HT(13));return o.sliceCaseReducersByType[n]=t,s},addMatcher(e,t){return o.sliceMatchers.push({matcher:e,reducer:t}),s},exposeAction(e,t){return o.actionCreators[e]=t,s},exposeCaseReducer(e,t){return o.sliceCaseReducersByName[e]=t,s}};a.forEach(r=>{let a=i[r],o={reducerName:r,type:pT(n,r),createNotation:typeof e.reducers==`function`};Xde(a)?Qde(o,a,s,t):Yde(o,a,s)});function c(){let[t={},n=[],r=void 0]=typeof e.extraReducers==`function`?sT(e.extraReducers):[e.extraReducers],i={...t,...o.sliceCaseReducersByType};return lT(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}let l=e=>e,u=new Map,d=new WeakMap,f;function p(e,t){return f||=c(),f(e,t)}function m(){return f||=c(),f.getInitialState()}function h(t,n=!1){function r(e){let i=e[t];return i===void 0&&n&&(i=tT(d,r,m)),i}function i(t=l){return tT(tT(u,n,()=>new WeakMap),t,()=>{let r={};for(let[i,a]of Object.entries(e.selectors??{}))r[i]=hT(a,t,()=>tT(d,t,m),n);return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}let g={name:n,reducer:p,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:m,...h(r),injectInto(e,{reducerPath:t,...n}={}){let i=t??r;return e.inject({reducerPath:i,reducer:p},n),{...g,...h(i,!0)}}};return g}}function hT(e,t,n,r){function i(i,...a){let o=t(i);return o===void 0&&r&&(o=n()),e(o,...a)}return i.unwrapped=e,i}var gT=mT();function Jde(){function e(e,t){return{_reducerDefinitionType:`asyncThunk`,payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:`reducer`})},preparedReducer(e,t){return{_reducerDefinitionType:`reducerWithPrepare`,prepare:e,reducer:t}},asyncThunk:e}}function Yde({type:e,reducerName:t,createNotation:n},r,i){let a,o;if(`reducer`in r){if(n&&!Zde(r))throw Error(HT(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Qw(e,o):Qw(e))}function Xde(e){return e._reducerDefinitionType===`asyncThunk`}function Zde(e){return e._reducerDefinitionType===`reducerWithPrepare`}function Qde({type:e,reducerName:t},n,r,i){if(!i)throw Error(HT(18));let{payloadCreator:a,fulfilled:o,pending:s,rejected:c,settled:l,options:u}=n,d=i(e,a,u);r.exposeAction(t,d),o&&r.addCase(d.fulfilled,o),s&&r.addCase(d.pending,s),c&&r.addCase(d.rejected,c),l&&r.addMatcher(d.settled,l),r.exposeCaseReducer(t,{fulfilled:o||_T,pending:s||_T,rejected:c||_T,settled:l||_T})}function _T(){}var $de=`task`,vT=`listener`,yT=`completed`,bT=`cancelled`,efe=`task-${bT}`,tfe=`task-${yT}`,xT=`${vT}-${bT}`,nfe=`${vT}-${yT}`,ST=class{constructor(e){this.code=e,this.message=`${$de} ${bT} (reason: ${e})`}name=`TaskAbortError`;message},CT=(e,t)=>{if(typeof e!=`function`)throw TypeError(HT(32))},wT=()=>{},TT=(e,t=wT)=>(e.catch(t),e),ET=(e,t)=>(e.addEventListener(`abort`,t,{once:!0}),()=>e.removeEventListener(`abort`,t)),DT=e=>{if(e.aborted)throw new ST(e.reason)};function OT(e,t){let n=wT;return new Promise((r,i)=>{let a=()=>i(new ST(e.reason));if(e.aborted){a();return}n=ET(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=wT})}var rfe=async(e,t)=>{try{return await Promise.resolve(),{status:`ok`,value:await e()}}catch(e){return{status:e instanceof ST?`cancelled`:`rejected`,error:e}}finally{t?.()}},kT=e=>t=>TT(OT(e,t).then(t=>(DT(e),t))),AT=e=>{let t=kT(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:jT}=Object,MT={},NT=`listenerMiddleware`,ife=(e,t)=>{let n=t=>ET(e,()=>t.abort(e.reason));return(r,i)=>{CT(r,`taskExecutor`);let a=new AbortController;n(a);let o=rfe(async()=>{DT(e),DT(a.signal);let t=await r({pause:kT(a.signal),delay:AT(a.signal),signal:a.signal});return DT(a.signal),t},()=>a.abort(tfe));return i?.autoJoin&&t.push(o.catch(wT)),{result:kT(e)(o),cancel(){a.abort(efe)}}}},afe=(e,t)=>{let n=async(n,r)=>{DT(t);let i=()=>{},a=[new Promise((t,r)=>{let a=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{a(),r()}})];r!=null&&a.push(new Promise(e=>setTimeout(e,r,null)));try{let e=await OT(t,Promise.race(a));return DT(t),e}finally{i()}};return(e,t)=>TT(n(e,t))},PT=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Qw(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw Error(HT(21));return CT(a,`options.listener`),{predicate:i,type:t,effect:a}},FT=jT(e=>{let{type:t,predicate:n,effect:r}=PT(e);return{id:dT(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw Error(HT(22))}}},{withTypes:()=>FT}),IT=(e,t)=>{let{type:n,effect:r,predicate:i}=PT(t);return Array.from(e.values()).find(e=>(typeof n==`string`?e.type===n:e.predicate===i)&&e.effect===r)},LT=e=>{e.pending.forEach(e=>{e.abort(xT)})},ofe=(e,t)=>()=>{for(let e of t.keys())LT(e);e.clear()},RT=(e,t,n)=>{try{e(t,n)}catch(e){setTimeout(()=>{throw e},0)}},zT=jT(Qw(`${NT}/add`),{withTypes:()=>zT}),sfe=Qw(`${NT}/removeAll`),BT=jT(Qw(`${NT}/remove`),{withTypes:()=>BT}),cfe=(...e)=>{console.error(`${NT}/error`,...e)},VT=(e={})=>{let t=new Map,n=new Map,r=e=>{let t=n.get(e)??0;n.set(e,t+1)},i=e=>{let t=n.get(e)??1;t===1?n.delete(e):n.set(e,t-1)},{extra:a,onError:o=cfe}=e;CT(o,`onError`);let s=e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&LT(e)}),c=e=>s(IT(t,e)??FT(e));jT(c,{withTypes:()=>c});let l=e=>{let n=IT(t,e);return n&&(n.unsubscribe(),e.cancelActive&&LT(n)),!!n};jT(l,{withTypes:()=>l});let u=async(e,n,s,l)=>{let u=new AbortController,d=afe(c,u.signal),f=[];try{e.pending.add(u),r(e),await Promise.resolve(e.effect(n,jT({},s,{getOriginalState:l,condition:(e,t)=>d(e,t).then(Boolean),take:d,delay:AT(u.signal),pause:kT(u.signal),extra:a,signal:u.signal,fork:ife(u.signal,f),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==u&&(e.abort(xT),n.delete(e))})},cancel:()=>{u.abort(xT),e.pending.delete(u)},throwIfCancelled:()=>{DT(u.signal)}})))}catch(e){e instanceof ST||RT(o,e,{raisedBy:`effect`})}finally{await Promise.all(f),u.abort(nfe),i(e),e.pending.delete(u)}},d=ofe(t,n);return{middleware:e=>n=>r=>{if(!WC(r))return n(r);if(zT.match(r))return c(r.payload);if(sfe.match(r)){d();return}if(BT.match(r))return l(r.payload);let i=e.getState(),a=()=>{if(i===MT)throw Error(HT(23));return i},s;try{if(s=n(r),t.size>0){let n=e.getState(),s=Array.from(t.values());for(let t of s){let s=!1;try{s=t.predicate(r,n,i)}catch(e){s=!1,RT(o,e,{raisedBy:`predicate`})}s&&u(t,r,e,a)}}}finally{i=MT}return s},startListening:c,stopListening:l,clearListeners:d}};function HT(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var UT=gT({name:`chartLayout`,initialState:{layoutType:`horizontal`,width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top??0,e.margin.right=t.payload.right??0,e.margin.bottom=t.payload.bottom??0,e.margin.left=t.payload.left??0},setScale(e,t){e.scale=t.payload}}}),{setMargin:lfe,setLayout:ufe,setChartSize:dfe,setScale:ffe}=UT.actions,pfe=UT.reducer;function WT(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}var mfe=l(NC()),hfe=l(JS());function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?GT(Object(n),!0).forEach(function(t){gfe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gfe(e,t,n){return(t=_fe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _fe(e){var t=vfe(e,`string`);return typeof t==`symbol`?t:t+``}function vfe(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function qT(e,t,n){return iC(e)||iC(t)?n:$S(t)?(0,hfe.default)(e,t,n):typeof t==`function`?t(e):n}var yfe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if((s===`vertical`||s===`horizontal`&&o===`middle`)&&a!==`center`&&QS(e[a]))return KT(KT({},e),{},{[a]:e[a]+(r||0)});if((s===`horizontal`||s===`vertical`&&a===`center`)&&o!==`middle`&&QS(e[o]))return KT(KT({},e),{},{[o]:e[o]+(i||0)})}return e},JT=(e,t)=>e===`horizontal`&&t===`xAxis`||e===`vertical`&&t===`yAxis`||e===`centric`&&t===`angleAxis`||e===`radial`&&t===`radiusAxis`,YT=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,a,o=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate));return i||o.push(t),a||o.push(n),o},XT=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:l,tickCount:u,ticks:d,niceTicks:f,axisType:p}=e;if(!o)return null;var m=s===`scaleBand`&&o.bandwidth?o.bandwidth()/2:2,h=(t||n)&&i===`category`&&o.bandwidth?o.bandwidth()/m:0;return h=p===`angleAxis`&&a&&a.length>=2?YS(a[0]-a[1])*2*h:h,t&&(d||f)?(d||f||[]).map((e,t)=>({coordinate:o(r?r.indexOf(e):e)+h,value:e,offset:h,index:t})).filter(e=>!XS(e.coordinate)):c&&l?l.map((e,t)=>({coordinate:o(e)+h,value:e,index:t,offset:h})):o.ticks&&!n&&u!=null?o.ticks(u).map((e,t)=>({coordinate:o(e)+h,value:e,offset:h,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+h,value:r?r[e]:e,index:t,offset:h}))},ZT=1e-4,bfe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-ZT,a=Math.max(r[0],r[1])+ZT,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}},xfe=(e,t)=>{if(!t||t.length!==2||!QS(t[0])||!QS(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!QS(e[0])||e[0]<n)&&(i[0]=n),(!QS(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Sfe={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=XS(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},expand:Eue,none:HS,silhouette:Due,wiggle:Oue,positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=XS(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},Cfe=(e,t,n)=>{var r=Sfe[n];return Tue().keys(t).value((e,t)=>Number(qT(e,t,0))).order(US).offset(r)(e)};function wfe(e){return e==null?void 0:String(e)}var QT=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:o}=e;if(t.type===`category`)return n[o]?n[o].coordinate+r:null;var s=qT(a,t.dataKey,t.scale.domain()[o]);return iC(s)?null:t.scale(s)-i/2+r},Tfe=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type===`number`){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Efe=e=>{var t=e.flat(2).filter(QS);return[Math.min(...t),Math.max(...t)]},Dfe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Ofe=(e,t,n)=>{if(e!=null)return Dfe(Object.keys(e).reduce((r,i)=>{var{stackedData:a}=e[i],o=a.reduce((e,r)=>{var i=Efe(WT(r,t,n));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},$T=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tE=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=(0,mfe.default)(t,e=>e.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var c=i[o],l=i[o-1];a=Math.min((c.coordinate||0)-(l.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function nE(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return KT(KT({},t),{},{dataKey:n,payload:r,value:i,name:a})}function rE(e,t){if(e)return String(e);if(typeof t==`string`)return t}var iE=(e,t)=>{if(t===`horizontal`)return e.chartX;if(t===`vertical`)return e.chartY},aE=(e,t)=>t===`centric`?e.angle:e.radius,oE=e=>e.layout.width,sE=e=>e.layout.height,cE=e=>e.layout.scale,lE=e=>e.layout.margin,uE=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),dE=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),fE=`data-recharts-item-index`,pE=`data-recharts-item-data-key`;function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?mE(Object(n),!0).forEach(function(t){gE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gE(e,t,n){return(t=_E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _E(e){var t=vE(e,`string`);return typeof t==`symbol`?t:t+``}function vE(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var yE=e=>e.brush.height;function bE(e){return dE(e).reduce((e,t)=>t.orientation===`left`&&!t.mirror&&!t.hide?e+(typeof t.width==`number`?t.width:60):e,0)}function xE(e){return dE(e).reduce((e,t)=>t.orientation===`right`&&!t.mirror&&!t.hide?e+(typeof t.width==`number`?t.width:60):e,0)}function SE(e){return uE(e).reduce((e,t)=>t.orientation===`top`&&!t.mirror&&!t.hide?e+t.height:e,0)}function CE(e){return uE(e).reduce((e,t)=>t.orientation===`bottom`&&!t.mirror&&!t.hide?e+t.height:e,0)}var wE=W([oE,sE,lE,yE,bE,xE,SE,CE,PC,Tde],(e,t,n,r,i,a,o,s,c,l)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},d=hE(hE({},{top:(n.top||0)+o,bottom:(n.bottom||0)+s}),u),f=d.bottom;d.bottom+=r,d=yfe(d,c,l);var p=e-d.left-d.right,m=t-d.top-d.bottom;return hE(hE({brushBottom:f},d),{},{width:Math.max(p,0),height:Math.max(m,0)})}),TE=W(wE,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),EE=W(oE,sE,(e,t)=>({x:0,y:0,width:e,height:t})),DE=(0,H.createContext)(null),OE=()=>(0,H.useContext)(DE)!=null,kE=e=>e.brush,AE=W([kE,wE,lE],(e,t,n)=>({height:e.height,x:QS(e.x)?e.x:t.left,y:QS(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:QS(e.width)?e.width:t.width})),jE=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e,t,{signal:n,edges:r}={}){let i,a=null,o=r!=null&&r.includes(`leading`),s=r==null||r.includes(`trailing`),c=()=>{a!==null&&(e.apply(i,a),i=void 0,a=null)},l=()=>{s&&c(),p()},u=null,d=()=>{u!=null&&clearTimeout(u),u=setTimeout(()=>{u=null,l()},t)},f=()=>{u!==null&&(clearTimeout(u),u=null)},p=()=>{f(),i=void 0,a=null},m=()=>{c()},h=function(...e){if(n?.aborted)return;i=this,a=e;let t=u==null;d(),o&&t&&c()};return h.schedule=d,h.cancel=p,h.flush=m,n?.addEventListener(`abort`,p,{once:!0}),h}e.debounce=t})),ME=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=jE();function n(e,n=0,r={}){typeof r!=`object`&&(r={});let{leading:i=!1,trailing:a=!0,maxWait:o}=r,s=[,,];i&&(s[0]=`leading`),a&&(s[1]=`trailing`);let c,l=null,u=t.debounce(function(...t){c=e.apply(this,t),l=null},n,{edges:s}),d=function(...t){return o!=null&&(l===null&&(l=Date.now()),Date.now()-l>=o)?(c=e.apply(this,t),l=Date.now(),u.cancel(),u.schedule(),c):(u.apply(this,t),c)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),c),d}e.debounce=n})),kfe=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=ME();function n(e,n=0,r={}){let{leading:i=!0,trailing:a=!0}=r;return t.debounce(e,n,{leading:i,maxWait:n,trailing:a})}e.throttle=n})),Afe=o(((e,t)=>{t.exports=kfe().throttle})),jfe=!0,NE=function(e,t){var n=[...arguments].slice(2);if(jfe&&typeof console<`u`&&console.warn&&(t===void 0&&console.warn(`LogUtils requires an error message argument`),!e))if(t===void 0)console.warn(`Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.`);else{var r=0;console.warn(t.replace(/%s/g,()=>n[r++]))}},PE=(e,t,n)=>{var{width:r=`100%`,height:i=`100%`,aspect:a,maxHeight:o}=n,s=ZS(r)?e:Number(r),c=ZS(i)?t:Number(i);return a&&a>0&&(s?c=s/a:c&&(s=c*a),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:s,calculatedHeight:c}},Mfe={width:0,height:0,overflow:`visible`},Nfe={width:0,overflowX:`visible`},Pfe={height:0,overflowY:`visible`},Ffe={},Ife=e=>{var{width:t,height:n}=e,r=ZS(t),i=ZS(n);return r&&i?Mfe:r?Nfe:i?Pfe:Ffe};function Lfe(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i=`100%`,a=`100%`):i===void 0?i=r&&r>0?void 0:`100%`:a===void 0&&(a=r&&r>0?void 0:`100%`),{width:i,height:a}}function FE(e){return Number.isFinite(e)}function IE(e){return typeof e==`number`&&e>0&&Number.isFinite(e)}var Rfe=l(Afe());function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LE.apply(null,arguments)}function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?RE(Object(n),!0).forEach(function(t){zfe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zfe(e,t,n){return(t=Bfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bfe(e){var t=Vfe(e,`string`);return typeof t==`symbol`?t:t+``}function Vfe(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var BE=(0,H.createContext)({width:-1,height:-1});function Hfe(e){return IE(e.width)&&IE(e.height)}function VE(e){var{children:t,width:n,height:r}=e,i=(0,H.useMemo)(()=>({width:n,height:r}),[n,r]);return Hfe(i)?H.createElement(BE.Provider,{value:i},t):null}var HE=()=>(0,H.useContext)(BE),Ufe=(0,H.forwardRef)((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:c,children:l,debounce:u=0,id:d,className:f,onResize:p,style:m={}}=e,h=(0,H.useRef)(null),g=(0,H.useRef)();g.current=p,(0,H.useImperativeHandle)(t,()=>h.current);var[_,v]=(0,H.useState)({containerWidth:r.width,containerHeight:r.height}),y=(0,H.useCallback)((e,t)=>{v(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,H.useEffect)(()=>{if(h.current==null||typeof ResizeObserver>`u`)return oC;var e=e=>{var t,{width:n,height:r}=e[0].contentRect;y(n,r),(t=g.current)==null||t.call(g,n,r)};u>0&&(e=(0,Rfe.default)(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=h.current.getBoundingClientRect();return y(n,r),t.observe(h.current),()=>{t.disconnect()}},[y,u]);var{containerWidth:b,containerHeight:x}=_;NE(!n||n>0,`The aspect(%s) must be greater than zero.`,n);var{calculatedWidth:S,calculatedHeight:C}=PE(b,x,{width:i,height:a,aspect:n,maxHeight:c});return NE(S!=null&&S>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,C,i,a,o,s,n),H.createElement(`div`,{id:d?`${d}`:void 0,className:Vx(`recharts-responsive-container`,f),style:zE(zE({},m),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:c}),ref:h},H.createElement(`div`,{style:Ife({width:i,height:a})},H.createElement(VE,{width:S,height:C},l)))}),UE=(0,H.forwardRef)((e,t)=>{var n=HE();if(IE(n.width)&&IE(n.height))return e.children;var{width:r,height:i}=Lfe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=PE(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return QS(a)&&QS(o)?H.createElement(VE,{width:a,height:o},e.children):H.createElement(Ufe,LE({},e,{width:r,height:i,ref:t}))});function WE(e){if(e)return{x:e.x,y:e.y,upperWidth:`upperWidth`in e?e.upperWidth:e.width,lowerWidth:`lowerWidth`in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var GE=()=>{var e=OE(),t=AC(TE),n=AC(AE),r=AC(kE)?.padding;return!e||!n||!r?t:{width:n.width-r.left-r.right,height:n.height-r.top-r.bottom,x:r.left,y:r.top}},Wfe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},KE=()=>AC(wE)??Wfe,qE=()=>AC(oE),JE=()=>AC(sE),YE=e=>e.layout.layoutType,XE=()=>AC(YE),Gfe=()=>XE()!==void 0,ZE=e=>{var t=OC(),n=OE(),{width:r,height:i}=e,a=HE(),o=r,s=i;return a&&(o=a.width>0?a.width:r,s=a.height>0?a.height:i),(0,H.useEffect)(()=>{!n&&IE(o)&&IE(s)&&t(dfe({width:o,height:s}))},[t,n,o,s]),null},QE=Symbol.for(`immer-nothing`),$E=Symbol.for(`immer-draftable`),eD=Symbol.for(`immer-state`);function tD(e,...t){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var nD=Object.getPrototypeOf;function rD(e){return!!e&&!!e[eD]}function iD(e){return e?oD(e)||Array.isArray(e)||!!e[$E]||!!e.constructor?.[$E]||dD(e)||fD(e):!1}var Kfe=Object.prototype.constructor.toString(),aD=new WeakMap;function oD(e){if(!e||typeof e!=`object`)return!1;let t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;let n=Object.hasOwnProperty.call(t,`constructor`)&&t.constructor;if(n===Object)return!0;if(typeof n!=`function`)return!1;let r=aD.get(n);return r===void 0&&(r=Function.toString.call(n),aD.set(n,r)),r===Kfe}function sD(e,t,n=!0){cD(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function cD(e){let t=e[eD];return t?t.type_:Array.isArray(e)?1:dD(e)?2:fD(e)?3:0}function lD(e,t){return cD(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uD(e,t,n){let r=cD(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function qfe(e,t){return e===t?e!==0||1/e==1/t:e!==e&&t!==t}function dD(e){return e instanceof Map}function fD(e){return e instanceof Set}function pD(e){return e.copy_||e.base_}function mD(e,t){if(dD(e))return new Map(e);if(fD(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let n=oD(e);if(t===!0||t===`class_only`&&!n){let t=Object.getOwnPropertyDescriptors(e);delete t[eD];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){let i=n[r],a=t[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(nD(e),t)}else{let t=nD(e);if(t!==null&&n)return{...e};let r=Object.create(t);return Object.assign(r,e)}}function hD(e,t=!1){return _D(e)||rD(e)||!iD(e)?e:(cD(e)>1&&Object.defineProperties(e,{set:gD,add:gD,clear:gD,delete:gD}),Object.freeze(e),t&&Object.values(e).forEach(e=>hD(e,!0)),e)}function Jfe(){tD(2)}var gD={value:Jfe};function _D(e){return typeof e!=`object`||!e?!0:Object.isFrozen(e)}var Yfe={};function vD(e){let t=Yfe[e];return t||tD(0,e),t}var yD;function bD(){return yD}function Xfe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xD(e,t){t&&(vD(`Patches`),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function SD(e){CD(e),e.drafts_.forEach(Zfe),e.drafts_=null}function CD(e){e===yD&&(yD=e.parent_)}function wD(e){return yD=Xfe(yD,e)}function Zfe(e){let t=e[eD];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function TD(e,t){t.unfinalizedDrafts_=t.drafts_.length;let n=t.drafts_[0];return e!==void 0&&e!==n?(n[eD].modified_&&(SD(t),tD(4)),iD(e)&&(e=ED(t,e),t.parent_||OD(t,e)),t.patches_&&vD(`Patches`).generateReplacementPatches_(n[eD].base_,e,t.patches_,t.inversePatches_)):e=ED(t,n,[]),SD(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e===QE?void 0:e}function ED(e,t,n){if(_D(t))return t;let r=e.immer_.shouldUseStrictIteration(),i=t[eD];if(!i)return sD(t,(r,a)=>DD(e,i,t,r,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return OD(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;let t=i.copy_,a=t,o=!1;i.type_===3&&(a=new Set(t),t.clear(),o=!0),sD(a,(r,a)=>DD(e,i,t,r,a,n,o),r),OD(e,t,!1),n&&e.patches_&&vD(`Patches`).generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function DD(e,t,n,r,i,a,o){if(i==null||typeof i!=`object`&&!o)return;let s=_D(i);if(!(s&&!o)){if(rD(i)){let o=ED(e,i,a&&t&&t.type_!==3&&!lD(t.assigned_,r)?a.concat(r):void 0);if(uD(n,r,o),rD(o))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(iD(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&s)return;ED(e,i),(!t||!t.scope_.parent_)&&typeof r!=`symbol`&&(dD(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&OD(e,i)}}}function OD(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&hD(t,n)}function Qfe(e,t){let n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:bD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=r,a=kD;n&&(i=[r],a=AD);let{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var kD={get(e,t){if(t===eD)return e;let n=pD(e);if(!lD(n,t))return $fe(e,n,t);let r=n[t];return e.finalized_||!iD(r)?r:r===jD(e.base_,t)?(PD(e),e.copy_[t]=FD(r,e)):r},has(e,t){return t in pD(e)},ownKeys(e){return Reflect.ownKeys(pD(e))},set(e,t,n){let r=MD(pD(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){let r=jD(pD(e),t),i=r?.[eD];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(qfe(n,r)&&(n!==void 0||lD(e.base_,t)))return!0;PD(e),ND(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])?!0:(e.copy_[t]=n,e.assigned_[t]=!0,!0)},deleteProperty(e,t){return jD(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,PD(e),ND(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){let n=pD(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!==`length`,enumerable:r.enumerable,value:n[t]}},defineProperty(){tD(11)},getPrototypeOf(e){return nD(e.base_)},setPrototypeOf(){tD(12)}},AD={};sD(kD,(e,t)=>{AD[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),AD.deleteProperty=function(e,t){return AD.set.call(this,e,t,void 0)},AD.set=function(e,t,n){return kD.set.call(this,e[0],t,n,e[0])};function jD(e,t){let n=e[eD];return(n?pD(n):e)[t]}function $fe(e,t,n){let r=MD(t,n);return r?`value`in r?r.value:r.get?.call(e.draft_):void 0}function MD(e,t){if(!(t in e))return;let n=nD(e);for(;n;){let e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=nD(n)}}function ND(e){e.modified_||(e.modified_=!0,e.parent_&&ND(e.parent_))}function PD(e){e.copy_||=mD(e.base_,e.scope_.immer_.useStrictShallowCopy_)}var epe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if(typeof e==`function`&&typeof t!=`function`){let n=t;t=e;let r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}typeof t!=`function`&&tD(6),n!==void 0&&typeof n!=`function`&&tD(7);let r;if(iD(e)){let i=wD(this),a=FD(e,void 0),o=!0;try{r=t(a),o=!1}finally{o?SD(i):CD(i)}return xD(i,n),TD(r,i)}else if(!e||typeof e!=`object`){if(r=t(e),r===void 0&&(r=e),r===QE&&(r=void 0),this.autoFreeze_&&hD(r,!0),n){let t=[],i=[];vD(`Patches`).generateReplacementPatches_(e,r,t,i),n(t,i)}return r}else tD(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e==`function`)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},typeof e?.autoFreeze==`boolean`&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy==`boolean`&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration==`boolean`&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){iD(e)||tD(8),rD(e)&&(e=tpe(e));let t=wD(this),n=FD(e,void 0);return n[eD].isManual_=!0,CD(t),n}finishDraft(e,t){let n=e&&e[eD];(!n||!n.isManual_)&&tD(9);let{scope_:r}=n;return xD(r,t),TD(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){let r=t[n];if(r.path.length===0&&r.op===`replace`){e=r.value;break}}n>-1&&(t=t.slice(n+1));let r=vD(`Patches`).applyPatches_;return rD(e)?r(e,t):this.produce(e,e=>r(e,t))}};function FD(e,t){let n=dD(e)?vD(`MapSet`).proxyMap_(e,t):fD(e)?vD(`MapSet`).proxySet_(e,t):Qfe(e,t);return(t?t.scope_:bD()).drafts_.push(n),n}function tpe(e){return rD(e)||tD(10,e),ID(e)}function ID(e){if(!iD(e)||_D(e))return e;let t=e[eD],n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=mD(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=mD(e,!0);return sD(n,(e,t)=>{uD(n,e,ID(t))},r),t&&(t.finalized_=!1),n}new epe().produce;function LD(e){return e}var RD=gT({name:`legend`,initialState:{settings:{layout:`horizontal`,align:`center`,verticalAlign:`middle`,itemSorter:`value`},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(LD(t.payload))},prepare:rT()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Jw(e).payload.indexOf(LD(n));i>-1&&(e.payload[i]=LD(r))},prepare:rT()},removeLegendPayload:{reducer(e,t){var n=Jw(e).payload.indexOf(LD(t.payload));n>-1&&e.payload.splice(n,1)},prepare:rT()}}}),{setLegendSize:npe,setLegendSettings:rpe,addLegendPayload:zD,replaceLegendPayload:BD,removeLegendPayload:VD}=RD.actions,ipe=RD.reducer,ape=l(NC());function HD(){return HD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HD.apply(null,arguments)}function UD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?UD(Object(n),!0).forEach(function(t){ope(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ope(e,t,n){return(t=spe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function spe(e){var t=cpe(e,`string`);return typeof t==`symbol`?t:t+``}function cpe(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function lpe(e){return Array.isArray(e)&&$S(e[0])&&$S(e[1])?e.join(` ~ `):e}var upe=e=>{var{separator:t=` : `,contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:l,label:u,labelFormatter:d,accessibilityLayer:f=!1}=e,p=()=>{if(a&&a.length){var e={padding:0,margin:0},n=(s?(0,ape.default)(a,s):a).map((e,n)=>{if(e.type===`none`)return null;var i=e.formatter||o||lpe,{value:s,name:c}=e,l=s,u=c;if(i){var d=i(s,c,e,n,a);if(Array.isArray(d))[l,u]=d;else if(d!=null)l=d;else return null}var f=WD({display:`block`,paddingTop:4,paddingBottom:4,color:e.color||`#000`},r);return H.createElement(`li`,{className:`recharts-tooltip-item`,key:`tooltip-item-${n}`,style:f},$S(u)?H.createElement(`span`,{className:`recharts-tooltip-item-name`},u):null,$S(u)?H.createElement(`span`,{className:`recharts-tooltip-item-separator`},t):null,H.createElement(`span`,{className:`recharts-tooltip-item-value`},l),H.createElement(`span`,{className:`recharts-tooltip-item-unit`},e.unit||``))});return H.createElement(`ul`,{className:`recharts-tooltip-item-list`,style:e},n)}return null},m=WD({margin:0,padding:10,backgroundColor:`#fff`,border:`1px solid #ccc`,whiteSpace:`nowrap`},n),h=WD({margin:0},i),g=!iC(u),_=g?u:``,v=Vx(`recharts-default-tooltip`,c),y=Vx(`recharts-tooltip-label`,l);g&&d&&a!=null&&(_=d(u,a));var b=f?{role:`status`,"aria-live":`assertive`}:{};return H.createElement(`div`,HD({className:v,style:m},b),H.createElement(`p`,{className:y,style:h},H.isValidElement(_)?_:`${_}`),p())},GD=`recharts-tooltip-wrapper`,dpe={visibility:`hidden`};function fpe(e){var{coordinate:t,translateX:n,translateY:r}=e;return Vx(GD,{[`${GD}-right`]:QS(n)&&t&&QS(t.x)&&n>=t.x,[`${GD}-left`]:QS(n)&&t&&QS(t.x)&&n<t.x,[`${GD}-bottom`]:QS(r)&&t&&QS(t.y)&&r>=t.y,[`${GD}-top`]:QS(r)&&t&&QS(t.y)&&r<t.y})}function KD(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:l}=e;if(a&&QS(a[r]))return a[r];var u=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return o[r]?u:d;var f=c[r];return f==null?0:o[r]?u<f?Math.max(d,f):Math.max(u,f):l==null?0:d+s>f+l?Math.max(u,f):Math.max(d,f)}function ppe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?`translate3d(${t}px, ${n}px, 0)`:`translate(${t}px, ${n}px)`}}function mpe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:c}=e,l,u,d;return o.height>0&&o.width>0&&n?(u=KD({allowEscapeViewBox:t,coordinate:n,key:`x`,offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=KD({allowEscapeViewBox:t,coordinate:n,key:`y`,offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),l=ppe({translateX:u,translateY:d,useTranslate3d:s})):l=dpe,{cssProperties:l,cssClasses:fpe({translateX:u,translateY:d,coordinate:n})}}function qD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?qD(Object(n),!0).forEach(function(t){YD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YD(e,t,n){return(t=hpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hpe(e){var t=gpe(e,`string`);return typeof t==`symbol`?t:t+``}function gpe(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var _pe=class extends H.PureComponent{constructor(){super(...arguments),YD(this,`state`,{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),YD(this,`handleKeyDown`,e=>{e.key===`Escape`&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:this.props.coordinate?.x??0,y:this.props.coordinate?.y??0}})})}componentDidMount(){document.addEventListener(`keydown`,this.handleKeyDown)}componentWillUnmount(){document.removeEventListener(`keydown`,this.handleKeyDown)}componentDidUpdate(){this.state.dismissed&&(this.props.coordinate?.x!==this.state.dismissedAtCoordinate.x||this.props.coordinate?.y!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:r,children:i,coordinate:a,hasPayload:o,isAnimationActive:s,offset:c,position:l,reverseDirection:u,useTranslate3d:d,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:h,hasPortalFromProps:g}=this.props,{cssClasses:_,cssProperties:v}=mpe({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:c,position:l,reverseDirection:u,tooltipBox:{height:m.height,width:m.width},useTranslate3d:d,viewBox:f}),y=JD(JD({},g?{}:JD(JD({transition:s&&e?`transform ${n}ms ${r}`:void 0},v),{},{pointerEvents:`none`,visibility:!this.state.dismissed&&e&&o?`visible`:`hidden`,position:`absolute`,top:0,left:0})),{},{visibility:!this.state.dismissed&&e&&o?`visible`:`hidden`},p);return H.createElement(`div`,{xmlns:`http://www.w3.org/1999/xhtml`,tabIndex:-1,className:_,style:y,ref:h},i)}},XD=()=>AC(e=>e.rootProps.accessibilityLayer)??!0;function ZD(){return ZD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZD.apply(null,arguments)}function QD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $D(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?QD(Object(n),!0).forEach(function(t){vpe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vpe(e,t,n){return(t=ype(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ype(e){var t=bpe(e,`string`);return typeof t==`symbol`?t:t+``}function bpe(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var eO={curveBasisClosed:mue,curveBasisOpen:hue,curveBasis:pue,curveBumpX:$le,curveBumpY:eue,curveLinearClosed:gue,curveLinear:pS,curveMonotoneX:_ue,curveMonotoneY:vue,curveNatural:yue,curveStep:bue,curveStepAfter:Sue,curveStepBefore:xue},tO=e=>FE(e.x)&&FE(e.y),nO=e=>e.base!=null&&tO(e.base)&&tO(e),rO=e=>e.x,iO=e=>e.y,xpe=(e,t)=>{if(typeof e==`function`)return e;var n=`curve${aC(e)}`;return(n===`curveMonotone`||n===`curveBump`)&&t?eO[`${n}${t===`vertical`?`Y`:`X`}`]:eO[n]||pS},Spe=e=>{var{type:t=`linear`,points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=xpe(t,i),s=a?n.filter(tO):n,c;if(Array.isArray(r)){var l=n.map((e,t)=>$D($D({},e),{},{base:r[t]}));return c=i===`vertical`?_S().y(iO).x1(rO).x0(e=>e.base.x):_S().x(rO).y1(iO).y0(e=>e.base.y),c.defined(nO).curve(o)(a?l.filter(nO):l)}return c=i===`vertical`&&QS(r)?_S().y(iO).x1(rO).x0(r):QS(r)?_S().x(rO).y1(iO).y0(r):gS().x(rO).y(iO),c.defined(tO).curve(o)(s)},aO=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Spe(e):r;return H.createElement(`path`,ZD({},Kx(e),Gue(e),{className:Vx(`recharts-curve`,t),d:a===null?void 0:a,ref:i}))},Cpe=[`x`,`y`,`top`,`left`,`width`,`height`,`className`];function oO(){return oO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oO.apply(null,arguments)}function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wpe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?sO(Object(n),!0).forEach(function(t){Tpe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Tpe(e,t,n){return(t=Epe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Epe(e){var t=Dpe(e,`string`);return typeof t==`symbol`?t:t+``}function Dpe(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function Ope(e,t){if(e==null)return{};var n,r,i=kpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ape=(e,t,n,r,i,a)=>`M${e},${i}v${r}M${a},${t}h${n}`,jpe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:s}=e,c=Ope(e,Cpe),l=wpe({x:t,y:n,top:r,left:i,width:a,height:o},c);return!QS(t)||!QS(n)||!QS(a)||!QS(o)||!QS(r)||!QS(i)?null:H.createElement(`path`,oO({},Jx(l),{className:Vx(`recharts-cross`,s),d:Ape(t,n,a,o,r,i)}))};function Mpe(e,t,n,r){var i=r/2;return{stroke:`none`,fill:`#ccc`,x:e===`horizontal`?t.x-i:n.left+.5,y:e===`horizontal`?n.top+.5:t.y-i,width:e===`horizontal`?r:n.width-1,height:e===`horizontal`?n.height-1:r}}function cO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?cO(Object(n),!0).forEach(function(t){Npe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Npe(e,t,n){return(t=Ppe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ppe(e){var t=Fpe(e,`string`);return typeof t==`symbol`?t:t+``}function Fpe(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var Ipe=e=>e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`),uO=(e,t,n)=>e.map(e=>`${Ipe(e)} ${t}ms ${n}`).join(`,`),Lpe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((e,t)=>e.filter(e=>t.includes(e))),dO=(e,t)=>Object.keys(t).reduce((n,r)=>lO(lO({},n),{},{[r]:e(r,t[r])}),{});function fO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?fO(Object(n),!0).forEach(function(t){Rpe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rpe(e,t,n){return(t=zpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zpe(e){var t=Bpe(e,`string`);return typeof t==`symbol`?t:t+``}function Bpe(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var mO=(e,t,n)=>e+(t-e)*n,hO=e=>{var{from:t,to:n}=e;return t!==n},gO=(e,t,n)=>{var r=dO((t,n)=>{if(hO(n)){var[r,i]=e(n.from,n.to,n.velocity);return pO(pO({},n),{},{from:r,velocity:i})}return n},t);return n<1?dO((e,t)=>hO(t)?pO(pO({},t),{},{velocity:mO(t.velocity,r[e].velocity,n),from:mO(t.from,r[e].from,n)}):t,t):gO(e,r,n-1)};function Vpe(e,t,n,r,i,a){var o,s=r.reduce((n,r)=>pO(pO({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),c=()=>dO((e,t)=>t.from,s),l=()=>!Object.values(s).filter(hO).length,u=null,d=r=>{o||=r;var f=(r-o)/n.dt;s=gO(n,s,f),i(pO(pO(pO({},e),t),c())),o=r,l()||(u=a.setTimeout(d))};return()=>(u=a.setTimeout(d),()=>{var e;(e=u)==null||e()})}function Hpe(e,t,n,r,i,a,o){var s=null,c=i.reduce((n,r)=>pO(pO({},n),{},{[r]:[e[r],t[r]]}),{}),l,u=i=>{l||=i;var d=(i-l)/r,f=dO((e,t)=>mO(...t,n(d)),c);if(a(pO(pO(pO({},e),t),f)),d<1)s=o.setTimeout(u);else{var p=dO((e,t)=>mO(...t,n(1)),c);a(pO(pO(pO({},e),t),p))}};return()=>(s=o.setTimeout(u),()=>{var e;(e=s)==null||e()})}var Upe=(e,t,n,r,i,a)=>{var o=Lpe(e,t);return n==null?()=>(i(pO(pO({},e),t)),()=>{}):n.isStepper===!0?Vpe(e,t,n,o,i,a):Hpe(e,t,n,r,o,i,a)},_O=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],vO=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),yO=(e,t)=>n=>vO(_O(e,t),n),Wpe=(e,t)=>n=>vO([..._O(e,t).map((e,t)=>e*t).slice(1),0],n),Gpe=function(){var e=[...arguments];if(e.length===1)switch(e[0]){case`linear`:return[0,0,1,1];case`ease`:return[.25,.1,.25,1];case`ease-in`:return[.42,0,1,1];case`ease-out`:return[.42,0,.58,1];case`ease-in-out`:return[0,0,.58,1];default:var t=e[0].split(`(`);if(t[0]===`cubic-bezier`&&t[1]?.split(`)`)[0].split(`,`).length===4){var n=t[1].split(`)`)[0].split(`,`).map(e=>parseFloat(e));return[n[0],n[1],n[2],n[3]]}}return e.length===4?e:[0,0,1,1]},Kpe=(e,t,n,r)=>{var i=yO(e,n),a=yO(t,r),o=Wpe(e,n),s=e=>e>1?1:e<0?0:e,c=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var c=i(n)-t,l=o(n);if(Math.abs(c-t)<1e-4||l<1e-4)return a(n);n=s(n-c/l)}return a(n)};return c.isStepper=!1,c},bO=function(){return Kpe(...Gpe(...arguments))},qpe=function(){var{stiff:e=100,damping:t=8,dt:n=17}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=(r,i,a)=>{var o=a+(-(r-i)*e-a*t)*n/1e3,s=a*n/1e3+r;return Math.abs(s-i)<1e-4&&Math.abs(o)<1e-4?[i,0]:[s,o]};return r.isStepper=!0,r.dt=n,r},Jpe=e=>{if(typeof e==`string`)switch(e){case`ease`:case`ease-in-out`:case`ease-out`:case`ease-in`:case`linear`:return bO(e);case`spring`:return qpe();default:if(e.split(`(`)[0]===`cubic-bezier`)return bO(e)}return typeof e==`function`?e:null};function Ype(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var[s,...c]=o;if(typeof s==`number`){i=e.setTimeout(a.bind(null,c),s);return}a(s),i=e.setTimeout(a.bind(null,c));return}typeof o==`string`&&(t=o,n(t)),typeof o==`object`&&(t=o,n(t)),typeof o==`function`&&o()}};return{stop:()=>{r=!0},start:e=>{r=!1,i&&=(i(),null),a(e)},subscribe:e=>(n=e,()=>{n=()=>null}),getTimeoutController:()=>e}}var Xpe=class{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):typeof requestAnimationFrame==`function`&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{r!=null&&cancelAnimationFrame(r)}}};function Zpe(){return Ype(new Xpe)}var Qpe=(0,H.createContext)(Zpe);function $pe(e,t){var n=(0,H.useContext)(Qpe);return(0,H.useMemo)(()=>t??n(e),[e,t,n])}var xO={devToolsEnabled:!1,isSsr:(()=>!(typeof window<`u`&&window.document&&window.document.createElement&&window.setTimeout))()},eme={begin:0,duration:1e3,easing:`ease`,isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SO={t:0},CO={t:1};function wO(e){var t=hC(e,eme),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:c,children:l}=t,u=n===`auto`?!xO.isSsr:n,d=$pe(t.animationId,t.animationManager),[f,p]=(0,H.useState)(u?SO:CO),m=(0,H.useRef)(null);return(0,H.useEffect)(()=>{u||p(CO)},[u]),(0,H.useEffect)(()=>{if(!u||!r)return oC;var e=Upe(SO,CO,Jpe(a),i,p,d.getTimeoutController());return d.start([c,o,()=>{m.current=e()},i,s]),()=>{d.stop(),m.current&&m.current(),s()}},[u,r,i,a,o,c,s,d]),l(f.t)}function TO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:`animation-`,n=(0,H.useRef)(eC(t)),r=(0,H.useRef)(e);return r.current!==e&&(n.current=eC(t),r.current=e),n.current}var tme=[`radius`],nme=[`radius`];function EO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?EO(Object(n),!0).forEach(function(t){rme(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rme(e,t,n){return(t=ime(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ime(e){var t=ame(e,`string`);return typeof t==`symbol`?t:t+``}function ame(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function OO(){return OO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OO.apply(null,arguments)}function kO(e,t){if(e==null)return{};var n,r,i=ome(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ome(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AO=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,s=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,l;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,f=4;d<f;d++)u[d]=i[d]>a?a:i[d];l=`M${e},${t+o*u[0]}`,u[0]>0&&(l+=`A ${u[0]},${u[0]},0,0,${c},${e+s*u[0]},${t}`),l+=`L ${e+n-s*u[1]},${t}`,u[1]>0&&(l+=`A ${u[1]},${u[1]},0,0,${c},
        ${e+n},${t+o*u[1]}`),l+=`L ${e+n},${t+r-o*u[2]}`,u[2]>0&&(l+=`A ${u[2]},${u[2]},0,0,${c},
        ${e+n-s*u[2]},${t+r}`),l+=`L ${e+s*u[3]},${t+r}`,u[3]>0&&(l+=`A ${u[3]},${u[3]},0,0,${c},
        ${e},${t+r-o*u[3]}`),l+=`Z`}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);l=`M ${e},${t+o*p}
            A ${p},${p},0,0,${c},${e+s*p},${t}
            L ${e+n-s*p},${t}
            A ${p},${p},0,0,${c},${e+n},${t+o*p}
            L ${e+n},${t+r-o*p}
            A ${p},${p},0,0,${c},${e+n-s*p},${t+r}
            L ${e+s*p},${t+r}
            A ${p},${p},0,0,${c},${e},${t+r-o*p} Z`}else l=`M ${e},${t} h ${n} v ${r} h ${-n} Z`;return l},jO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:`ease`},MO=e=>{var t=hC(e,jO),n=(0,H.useRef)(null),[r,i]=(0,H.useState)(-1);(0,H.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch{}},[]);var{x:a,y:o,width:s,height:c,radius:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:h}=t,g=(0,H.useRef)(s),_=(0,H.useRef)(c),v=(0,H.useRef)(a),y=(0,H.useRef)(o),b=TO((0,H.useMemo)(()=>({x:a,y:o,width:s,height:c,radius:l}),[a,o,s,c,l]),`rectangle-`);if(a!==+a||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var x=Vx(`recharts-rectangle`,u);if(!h){var S=Jx(t),{radius:C}=S,w=kO(S,tme);return H.createElement(`path`,OO({},w,{radius:typeof l==`number`?l:void 0,className:x,d:AO(a,o,s,c,l)}))}var T=g.current,E=_.current,D=v.current,O=y.current,k=`0px ${r===-1?1:r}px`,A=`${r}px 0px`,j=uO([`strokeDasharray`],f,typeof d==`string`?d:jO.animationEasing);return H.createElement(wO,{animationId:b,key:b,canBegin:r>0,duration:f,easing:d,isActive:h,begin:p},e=>{var r=rC(T,s,e),i=rC(E,c,e),u=rC(D,a,e),d=rC(O,o,e);n.current&&(g.current=r,_.current=i,v.current=u,y.current=d);var f=m?e>0?{transition:j,strokeDasharray:A}:{strokeDasharray:k}:{strokeDasharray:A},p=Jx(t),{radius:h}=p,b=kO(p,nme);return H.createElement(`path`,OO({},b,{radius:typeof l==`number`?l:void 0,className:x,d:AO(u,d,r,i,l),ref:n,style:DO(DO({},f),t.style)}))})};function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?NO(Object(n),!0).forEach(function(t){sme(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sme(e,t,n){return(t=cme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cme(e){var t=lme(e,`string`);return typeof t==`symbol`?t:t+``}function lme(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var FO=Math.PI/180,ume=e=>e*180/Math.PI,IO=(e,t,n,r)=>({x:e+Math.cos(-FO*r)*n,y:t+Math.sin(-FO*r)*n}),LO=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},dme=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},fme=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=dme({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,c=Math.acos(s);return r>a&&(c=2*Math.PI-c),{radius:o,angle:ume(c),angleInRadian:c}},pme=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},mme=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+Math.min(i,a)*360},hme=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=fme({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:c,endAngle:l}=pme(t),u=a,d;if(c<=l){for(;u>l;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=l}else{for(;u>c;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=c}return d?PO(PO({},t),{},{radius:i,angle:mme(u,t)}):null};function RO(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[IO(t,n,r,i),IO(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function zO(){return zO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zO.apply(null,arguments)}var BO=(e,t)=>YS(t-e)*Math.min(Math.abs(t-e),359.999),VO=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:c}=e,l=s*(o?1:-1)+r,u=Math.asin(s/l)/FO,d=c?i:i+a*u,f=IO(t,n,l,d),p=IO(t,n,r,d),m=c?i-a*u:i;return{center:f,circleTangency:p,lineTangency:IO(t,n,l*Math.cos(u*FO),m),theta:u}},HO=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=BO(a,o),c=a+s,l=IO(t,n,i,a),u=IO(t,n,i,c),d=`M ${l.x},${l.y}
    A ${i},${i},0,
    ${+(Math.abs(s)>180)},${+(a>c)},
    ${u.x},${u.y}
  `;if(r>0){var f=IO(t,n,r,a),p=IO(t,n,r,c);d+=`L ${p.x},${p.y}
            A ${r},${r},0,
            ${+(Math.abs(s)>180)},${+(a<=c)},
            ${f.x},${f.y} Z`}else d+=`L ${t},${n} Z`;return d},UO=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:l}=e,u=YS(l-c),{circleTangency:d,lineTangency:f,theta:p}=VO({cx:t,cy:n,radius:i,angle:c,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:m,lineTangency:h,theta:g}=VO({cx:t,cy:n,radius:i,angle:l,sign:-u,cornerRadius:a,cornerIsExternal:s}),_=s?Math.abs(c-l):Math.abs(c-l)-p-g;if(_<0)return o?`M ${f.x},${f.y}
        a${a},${a},0,0,1,${a*2},0
        a${a},${a},0,0,1,${-a*2},0
      `:HO({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:l});var v=`M ${f.x},${f.y}
    A${a},${a},0,0,${+(u<0)},${d.x},${d.y}
    A${i},${i},0,${+(_>180)},${+(u<0)},${m.x},${m.y}
    A${a},${a},0,0,${+(u<0)},${h.x},${h.y}
  `;if(r>0){var{circleTangency:y,lineTangency:b,theta:x}=VO({cx:t,cy:n,radius:r,angle:c,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:S,lineTangency:C,theta:w}=VO({cx:t,cy:n,radius:r,angle:l,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),T=s?Math.abs(c-l):Math.abs(c-l)-x-w;if(T<0&&a===0)return`${v}L${t},${n}Z`;v+=`L${C.x},${C.y}
      A${a},${a},0,0,${+(u<0)},${S.x},${S.y}
      A${r},${r},0,${+(T>180)},${+(u>0)},${y.x},${y.y}
      A${a},${a},0,0,${+(u<0)},${b.x},${b.y}Z`}else v+=`L${t},${n}Z`;return v},WO={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GO=e=>{var t=hC(e,WO),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:u,className:d}=t;if(a<i||l===u)return null;var f=Vx(`recharts-sector`,d),p=a-i,m=tC(o,p,0,!0),h=m>0&&Math.abs(l-u)<360?UO({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:u}):HO({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:l,endAngle:u});return H.createElement(`path`,zO({},Jx(t),{className:f,d:h}))};function KO(e,t,n){if(e===`horizontal`)return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e===`vertical`)return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(fC(t)){if(e===`centric`){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,c=IO(r,i,a,s),l=IO(r,i,o,s);return[{x:c.x,y:c.y},{x:l.x,y:l.y}]}return RO(t)}}var qO=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=jC();function n(e){return t.isSymbol(e)?NaN:Number(e)}e.toNumber=n})),JO=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=qO();function n(e){return e?(e=t.toNumber(e),e===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e===e?e:0):e===0?e:0}e.toFinite=n})),YO=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=MC(),n=JO();function r(e,r,i){i&&typeof i!=`number`&&t.isIterateeCall(e,r,i)&&(r=i=void 0),e=n.toFinite(e),r===void 0?(r=e,e=0):r=n.toFinite(r),i=i===void 0?e<r?1:-1:n.toFinite(i);let a=Math.max(Math.ceil((r-e)/(i||1)),0),o=Array(a);for(let t=0;t<a;t++)o[t]=e,e+=i;return o}e.range=r})),XO=o(((e,t)=>{t.exports=YO().range}));function ZO(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QO(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $O(e){let t,n,r;e.length===2?(t=e===ZO||e===QO?e:ek,n=e,r=e):(t=ZO,n=(t,n)=>ZO(e(t),n),r=(t,n)=>e(t)-n);function i(e,r,i=0,a=e.length){if(i<a){if(t(r,r)!==0)return a;do{let t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}function a(e,r,i=0,a=e.length){if(i<a){if(t(r,r)!==0)return a;do{let t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}function o(e,t,n=0,a=e.length){let o=i(e,t,n,a-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o}return{left:i,center:o,right:a}}function ek(){return 0}function tk(e){return e===null?NaN:+e}function*nk(e,t){if(t===void 0)for(let t of e)t!=null&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}var rk=$O(ZO);const ik=rk.right;rk.left,$O(tk).center;var ak=ik,ok=class extends Map{constructor(e,t=uk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(let[t,n]of e)this.set(t,n)}get(e){return super.get(sk(this,e))}has(e){return super.has(sk(this,e))}set(e,t){return super.set(ck(this,e),t)}delete(e){return super.delete(lk(this,e))}};function sk({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):n}function ck({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function lk({_intern:e,_key:t},n){let r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function uk(e){return typeof e==`object`&&e?e.valueOf():e}function dk(e=ZO){if(e===ZO)return fk;if(typeof e!=`function`)throw TypeError(`compare is not a function`);return(t,n)=>{let r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function fk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var pk=Math.sqrt(50),mk=Math.sqrt(10),hk=Math.sqrt(2);function gk(e,t,n){let r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/10**i,o=a>=pk?10:a>=mk?5:a>=hk?2:1,s,c,l;return i<0?(l=10**-i/o,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=10**i*o,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?gk(e,t,n*2):[s,c,l]}function _k(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let r=t<e,[i,a,o]=r?gk(t,e,n):gk(e,t,n);if(!(a>=i))return[];let s=a-i+1,c=Array(s);if(r)if(o<0)for(let e=0;e<s;++e)c[e]=(a-e)/-o;else for(let e=0;e<s;++e)c[e]=(a-e)*o;else if(o<0)for(let e=0;e<s;++e)c[e]=(i+e)/-o;else for(let e=0;e<s;++e)c[e]=(i+e)*o;return c}function vk(e,t,n){return t=+t,e=+e,n=+n,gk(e,t,n)[2]}function yk(e,t,n){t=+t,e=+e,n=+n;let r=t<e,i=r?vk(t,e,n):vk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function bk(e,t){let n;if(t===void 0)for(let t of e)t!=null&&(n<t||n===void 0&&t>=t)&&(n=t);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function xk(e,t){let n;if(t===void 0)for(let t of e)t!=null&&(n>t||n===void 0&&t>=t)&&(n=t);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Sk(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?fk:dk(i);r>n;){if(r-n>600){let a=r-n+1,o=t-n+1,s=Math.log(a),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(a-c)/a)*(o-a/2<0?-1:1),u=Math.max(n,Math.floor(t-o*c/a+l)),d=Math.min(r,Math.floor(t+(a-o)*c/a+l));Sk(e,t,u,d,i)}let a=e[t],o=n,s=r;for(Ck(e,n,t),i(e[r],a)>0&&Ck(e,n,r);o<s;){for(Ck(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?Ck(e,n,s):(++s,Ck(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Ck(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function wk(e,t,n){if(e=Float64Array.from(nk(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return xk(e);if(t>=1)return bk(e);var r,i=(r-1)*t,a=Math.floor(i),o=bk(Sk(e,a).subarray(0,a+1));return o+(xk(e.subarray(a+1))-o)*(i-a)}}function Tk(e,t,n=tk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function Ek(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=Array(i);++r<i;)a[r]=e+r*n;return a}function Dk(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ok(e,t){switch(arguments.length){case 0:break;case 1:typeof e==`function`?this.interpolator(e):this.range(e);break;default:this.domain(e),typeof t==`function`?this.interpolator(t):this.range(t);break}return this}const kk=Symbol(`implicit`);function Ak(){var e=new ok,t=[],n=[],r=kk;function i(i){let a=e.get(i);if(a===void 0){if(r!==kk)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new ok;for(let r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Ak(t,n).unknown(r)},Dk.apply(i,arguments),i}function jk(){var e=Ak().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,c=0,l=0,u=.5;delete e.unknown;function d(){var e=t().length,d=i<r,f=d?i:r,p=d?r:i;a=(p-f)/Math.max(1,e-c+l*2),s&&(a=Math.floor(a)),f+=(p-f-a*(e-c))*u,o=a*(1-c),s&&(f=Math.round(f),o=Math.round(o));var m=Ek(e).map(function(e){return f+a*e});return n(d?m.reverse():m)}return e.domain=function(e){return arguments.length?(t(e),d()):t()},e.range=function(e){return arguments.length?([r,i]=e,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(e){return[r,i]=e,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(e){return arguments.length?(s=!!e,d()):s},e.padding=function(e){return arguments.length?(c=Math.min(1,l=+e),d()):c},e.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),d()):c},e.paddingOuter=function(e){return arguments.length?(l=+e,d()):l},e.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},e.copy=function(){return jk(t(),[r,i]).round(s).paddingInner(c).paddingOuter(l).align(u)},Dk.apply(d(),arguments)}function Mk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Mk(t())},e}function Nk(){return Mk(jk.apply(null,arguments).paddingInner(1))}function Pk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Fk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ik(){}var Lk=.7,Rk=1/Lk,zk=`\\s*([+-]?\\d+)\\s*`,Bk=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*`,Vk=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*`,Hk=/^#([0-9a-f]{3,8})$/,Uk=RegExp(`^rgb\\(${zk},${zk},${zk}\\)$`),Wk=RegExp(`^rgb\\(${Vk},${Vk},${Vk}\\)$`),Gk=RegExp(`^rgba\\(${zk},${zk},${zk},${Bk}\\)$`),Kk=RegExp(`^rgba\\(${Vk},${Vk},${Vk},${Bk}\\)$`),qk=RegExp(`^hsl\\(${Bk},${Vk},${Vk}\\)$`),Jk=RegExp(`^hsla\\(${Bk},${Vk},${Vk},${Bk}\\)$`),Yk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pk(Ik,eA,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xk,formatHex:Xk,formatHex8:Zk,formatHsl:Qk,formatRgb:$k,toString:$k});function Xk(){return this.rgb().formatHex()}function Zk(){return this.rgb().formatHex8()}function Qk(){return pA(this).formatHsl()}function $k(){return this.rgb().formatRgb()}function eA(e){var t,n;return e=(e+``).trim().toLowerCase(),(t=Hk.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?tA(t):n===3?new aA(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?nA(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?nA(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Uk.exec(e))?new aA(t[1],t[2],t[3],1):(t=Wk.exec(e))?new aA(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Gk.exec(e))?nA(t[1],t[2],t[3],t[4]):(t=Kk.exec(e))?nA(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qk.exec(e))?fA(t[1],t[2]/100,t[3]/100,1):(t=Jk.exec(e))?fA(t[1],t[2]/100,t[3]/100,t[4]):Yk.hasOwnProperty(e)?tA(Yk[e]):e===`transparent`?new aA(NaN,NaN,NaN,0):null}function tA(e){return new aA(e>>16&255,e>>8&255,e&255,1)}function nA(e,t,n,r){return r<=0&&(e=t=n=NaN),new aA(e,t,n,r)}function rA(e){return e instanceof Ik||(e=eA(e)),e?(e=e.rgb(),new aA(e.r,e.g,e.b,e.opacity)):new aA}function iA(e,t,n,r){return arguments.length===1?rA(e):new aA(e,t,n,r??1)}function aA(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Pk(aA,iA,Fk(Ik,{brighter(e){return e=e==null?Rk:Rk**+e,new aA(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lk:Lk**+e,new aA(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new aA(uA(this.r),uA(this.g),uA(this.b),lA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oA,formatHex:oA,formatHex8:sA,formatRgb:cA,toString:cA}));function oA(){return`#${dA(this.r)}${dA(this.g)}${dA(this.b)}`}function sA(){return`#${dA(this.r)}${dA(this.g)}${dA(this.b)}${dA((isNaN(this.opacity)?1:this.opacity)*255)}`}function cA(){let e=lA(this.opacity);return`${e===1?`rgb(`:`rgba(`}${uA(this.r)}, ${uA(this.g)}, ${uA(this.b)}${e===1?`)`:`, ${e})`}`}function lA(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uA(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dA(e){return e=uA(e),(e<16?`0`:``)+e.toString(16)}function fA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hA(e,t,n,r)}function pA(e){if(e instanceof hA)return new hA(e.h,e.s,e.l,e.opacity);if(e instanceof Ik||(e=eA(e)),!e)return new hA;if(e instanceof hA)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(o=t===a?(n-r)/s+(n<r)*6:n===a?(r-t)/s+2:(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new hA(o,s,c,e.opacity)}function mA(e,t,n,r){return arguments.length===1?pA(e):new hA(e,t,n,r??1)}function hA(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Pk(hA,mA,Fk(Ik,{brighter(e){return e=e==null?Rk:Rk**+e,new hA(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lk:Lk**+e,new hA(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new aA(vA(e>=240?e-240:e+120,i,r),vA(e,i,r),vA(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new hA(gA(this.h),_A(this.s),_A(this.l),lA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=lA(this.opacity);return`${e===1?`hsl(`:`hsla(`}${gA(this.h)}, ${_A(this.s)*100}%, ${_A(this.l)*100}%${e===1?`)`:`, ${e})`}`}}));function gA(e){return e=(e||0)%360,e<0?e+360:e}function _A(e){return Math.max(0,Math.min(1,e||0))}function vA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var yA=e=>()=>e;function bA(e,t){return function(n){return e+n*t}}function xA(e,t,n){return e**=+n,t=t**+n-e,n=1/n,function(r){return(e+r*t)**+n}}function SA(e){return(e=+e)==1?CA:function(t,n){return n-t?xA(t,n,e):yA(isNaN(t)?n:t)}}function CA(e,t){var n=t-e;return n?bA(e,n):yA(isNaN(e)?t:e)}var wA=(function e(t){var n=SA(t);function r(e,t){var r=n((e=iA(e)).r,(t=iA(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=CA(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+``}}return r.gamma=e,r})(1);function TA(e,t){t||=[];var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function EA(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function DA(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=Array(r),a=Array(n),o;for(o=0;o<r;++o)i[o]=IA(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(e){for(o=0;o<r;++o)a[o]=i[o](e);return a}}function OA(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function kA(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function AA(e,t){var n={},r={},i;for(i in(typeof e!=`object`||!e)&&(e={}),(typeof t!=`object`||!t)&&(t={}),t)i in e?n[i]=IA(e[i],t[i]):r[i]=t[i];return function(e){for(i in n)r[i]=n[i](e);return r}}var jA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,MA=new RegExp(jA.source,`g`);function NA(e){return function(){return e}}function PA(e){return function(t){return e(t)+``}}function FA(e,t){var n=jA.lastIndex=MA.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e+=``,t+=``;(r=jA.exec(e))&&(i=MA.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:kA(r,i)})),n=MA.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?PA(c[0].x):NA(t):(t=c.length,function(e){for(var n=0,r;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join(``)})}function IA(e,t){var n=typeof t,r;return t==null||n===`boolean`?yA(t):(n===`number`?kA:n===`string`?(r=eA(t))?(t=r,wA):FA:t instanceof eA?wA:t instanceof Date?OA:EA(t)?TA:Array.isArray(t)?DA:typeof t.valueOf!=`function`&&typeof t.toString!=`function`||isNaN(t)?AA:kA)(e,t)}function LA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function RA(e,t){t===void 0&&(t=e,e=IA);for(var n=0,r=t.length-1,i=t[0],a=Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}function zA(e){return function(){return e}}function BA(e){return+e}var VA=[0,1];function HA(e){return e}function UA(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:zA(isNaN(t)?NaN:.5)}function WA(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}function GA(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=UA(i,r),a=n(o,a)):(r=UA(r,i),a=n(a,o)),function(e){return a(r(e))}}function KA(e,t,n){var r=Math.min(e.length,t.length)-1,i=Array(r),a=Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=UA(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=ak(e,t,1,r)-1;return a[n](i[n](t))}}function qA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function JA(){var e=VA,t=VA,n=IA,r,i,a,o=HA,s,c,l;function u(){var n=Math.min(e.length,t.length);return o!==HA&&(o=WA(e[0],e[n-1])),s=n>2?KA:GA,c=l=null,d}function d(i){return i==null||isNaN(i=+i)?a:(c||=s(e.map(r),t,n))(r(o(i)))}return d.invert=function(n){return o(i((l||=s(t,e.map(r),kA))(n)))},d.domain=function(t){return arguments.length?(e=Array.from(t,BA),u()):e.slice()},d.range=function(e){return arguments.length?(t=Array.from(e),u()):t.slice()},d.rangeRound=function(e){return t=Array.from(e),n=LA,u()},d.clamp=function(e){return arguments.length?(o=e?!0:HA,u()):o!==HA},d.interpolate=function(e){return arguments.length?(n=e,u()):n},d.unknown=function(e){return arguments.length?(a=e,d):a},function(e,t){return r=e,i=t,u()}}function YA(){return JA()(HA,HA)}function XA(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString(`en`).replace(/,/g,``):e.toString(10)}function ZA(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf(`e`))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function QA(e){return e=ZA(Math.abs(e)),e?e[1]:NaN}function gme(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function _me(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}var vme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $A(e){if(!(t=vme.exec(e)))throw Error(`invalid format: `+e);var t;return new ej({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$A.prototype=ej.prototype;function ej(e){this.fill=e.fill===void 0?` `:e.fill+``,this.align=e.align===void 0?`>`:e.align+``,this.sign=e.sign===void 0?`-`:e.sign+``,this.symbol=e.symbol===void 0?``:e.symbol+``,this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?``:e.type+``}ej.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?`0`:``)+(this.width===void 0?``:Math.max(1,this.width|0))+(this.comma?`,`:``)+(this.precision===void 0?``:`.`+Math.max(0,this.precision|0))+(this.trim?`~`:``)+this.type};function yme(e){out:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case`.`:r=i=n;break;case`0`:r===0&&(r=n),i=n;break;default:if(!+e[n])break out;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var tj;function bme(e,t){var n=ZA(e,t);if(!n)return e+``;var r=n[0],i=n[1],a=i-(tj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+Array(a-o+1).join(`0`):a>0?r.slice(0,a)+`.`+r.slice(a):`0.`+Array(1-a).join(`0`)+ZA(e,Math.max(0,t+a-1))[0]}function nj(e,t){var n=ZA(e,t);if(!n)return e+``;var r=n[0],i=n[1];return i<0?`0.`+Array(-i).join(`0`)+r:r.length>i+1?r.slice(0,i+1)+`.`+r.slice(i+1):r+Array(i-r.length+2).join(`0`)}var rj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+``,d:XA,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nj(e*100,t),r:nj,s:bme,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ij(e){return e}var aj=Array.prototype.map,oj=[`y`,`z`,`a`,`f`,`p`,`n`,``,`m`,``,`k`,`M`,`G`,`T`,`P`,`E`,`Z`,`Y`];function xme(e){var t=e.grouping===void 0||e.thousands===void 0?ij:gme(aj.call(e.grouping,Number),e.thousands+``),n=e.currency===void 0?``:e.currency[0]+``,r=e.currency===void 0?``:e.currency[1]+``,i=e.decimal===void 0?`.`:e.decimal+``,a=e.numerals===void 0?ij:_me(aj.call(e.numerals,String)),o=e.percent===void 0?`%`:e.percent+``,s=e.minus===void 0?``:e.minus+``,c=e.nan===void 0?`NaN`:e.nan+``;function l(e){e=$A(e);var l=e.fill,u=e.align,d=e.sign,f=e.symbol,p=e.zero,m=e.width,h=e.comma,g=e.precision,_=e.trim,v=e.type;v===`n`?(h=!0,v=`g`):rj[v]||(g===void 0&&(g=12),_=!0,v=`g`),(p||l===`0`&&u===`=`)&&(p=!0,l=`0`,u=`=`);var y=f===`$`?n:f===`#`&&/[boxX]/.test(v)?`0`+v.toLowerCase():``,b=f===`$`?r:/[%p]/.test(v)?o:``,x=rj[v],S=/[defgprs%]/.test(v);g=g===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function C(e){var n=y,r=b,o,f,C;if(v===`c`)r=x(e)+r,e=``;else{e=+e;var w=e<0||1/e<0;if(e=isNaN(e)?c:x(Math.abs(e),g),_&&(e=yme(e)),w&&+e==0&&d!==`+`&&(w=!1),n=(w?d===`(`?d:s:d===`-`||d===`(`?``:d)+n,r=(v===`s`?oj[8+tj/3]:``)+r+(w&&d===`(`?`)`:``),S){for(o=-1,f=e.length;++o<f;)if(C=e.charCodeAt(o),48>C||C>57){r=(C===46?i+e.slice(o+1):e.slice(o))+r,e=e.slice(0,o);break}}}h&&!p&&(e=t(e,1/0));var T=n.length+e.length+r.length,E=T<m?Array(m-T+1).join(l):``;switch(h&&p&&(e=t(E+e,E.length?m-r.length:1/0),E=``),u){case`<`:e=n+e+r+E;break;case`=`:e=n+E+e+r;break;case`^`:e=E.slice(0,T=E.length>>1)+n+e+r+E.slice(T);break;default:e=E+n+e+r;break}return a(e)}return C.toString=function(){return e+``},C}function u(e,t){var n=l((e=$A(e),e.type=`f`,e)),r=Math.max(-8,Math.min(8,Math.floor(QA(t)/3)))*3,i=10**-r,a=oj[8+r/3];return function(e){return n(i*e)+a}}return{format:l,formatPrefix:u}}var sj,cj,lj;Sme({thousands:`,`,grouping:[3],currency:[`$`,``]});function Sme(e){return sj=xme(e),cj=sj.format,lj=sj.formatPrefix,sj}function Cme(e){return Math.max(0,-QA(Math.abs(e)))}function wme(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(QA(t)/3)))*3-QA(Math.abs(e)))}function Tme(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,QA(t)-QA(e))+1}function uj(e,t,n,r){var i=yk(e,t,n),a;switch(r=$A(r??`,f`),r.type){case`s`:var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=wme(i,o))&&(r.precision=a),lj(r,o);case``:case`e`:case`g`:case`p`:case`r`:r.precision==null&&!isNaN(a=Tme(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type===`e`));break;case`f`:case`%`:r.precision==null&&!isNaN(a=Cme(i))&&(r.precision=a-(r.type===`%`)*2);break}return cj(r)}function dj(e){var t=e.domain;return e.ticks=function(e){var n=t();return _k(n[0],n[n.length-1],e??10)},e.tickFormat=function(e,n){var r=t();return uj(r[0],r[r.length-1],e??10,n)},e.nice=function(n){n??=10;var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],c,l,u=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);u-- >0;){if(l=vk(o,s,n),l===c)return r[i]=o,r[a]=s,t(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function fj(){var e=YA();return e.copy=function(){return qA(e,fj())},Dk.apply(e,arguments),dj(e)}function pj(e){var t;function n(e){return e==null||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,BA),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return pj(e).unknown(t)},e=arguments.length?Array.from(e,BA):[0,1],dj(n)}function mj(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function hj(e){return Math.log(e)}function gj(e){return Math.exp(e)}function Eme(e){return-Math.log(-e)}function Dme(e){return-Math.exp(-e)}function Ome(e){return isFinite(e)?+(`1e`+e):e<0?0:e}function kme(e){return e===10?Ome:e===Math.E?Math.exp:t=>e**+t}function Ame(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _j(e){return(t,n)=>-e(-t,n)}function vj(e){let t=e(hj,gj),n=t.domain,r=10,i,a;function o(){return i=Ame(r),a=kme(r),n()[0]<0?(i=_j(i),a=_j(a),e(Eme,Dme)):e(hj,gj),t}return t.base=function(e){return arguments.length?(r=+e,o()):r},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{let t=n(),o=t[0],s=t[t.length-1],c=s<o;c&&([o,s]=[s,o]);let l=i(o),u=i(s),d,f,p=e==null?10:+e,m=[];if(!(r%1)&&u-l<p){if(l=Math.floor(l),u=Math.ceil(u),o>0){for(;l<=u;++l)for(d=1;d<r;++d)if(f=l<0?d/a(-l):d*a(l),!(f<o)){if(f>s)break;m.push(f)}}else for(;l<=u;++l)for(d=r-1;d>=1;--d)if(f=l>0?d/a(-l):d*a(l),!(f<o)){if(f>s)break;m.push(f)}m.length*2<p&&(m=_k(o,s,p))}else m=_k(l,u,Math.min(u-l,p)).map(a);return c?m.reverse():m},t.tickFormat=(e,n)=>{if(e??=10,n??=r===10?`s`:`,`,typeof n!=`function`&&(!(r%1)&&(n=$A(n)).precision==null&&(n.trim=!0),n=cj(n)),e===1/0)return n;let o=Math.max(1,r*e/t.ticks().length);return e=>{let t=e/a(Math.round(i(e)));return t*r<r-.5&&(t*=r),t<=o?n(e):``}},t.nice=()=>n(mj(n(),{floor:e=>a(Math.floor(i(e))),ceil:e=>a(Math.ceil(i(e)))})),t}function yj(){let e=vj(JA()).domain([1,10]);return e.copy=()=>qA(e,yj()).base(e.base()),Dk.apply(e,arguments),e}function bj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Sj(e){var t=1,n=e(bj(t),xj(t));return n.constant=function(n){return arguments.length?e(bj(t=+n),xj(t)):t},dj(n)}function Cj(){var e=Sj(JA());return e.copy=function(){return qA(e,Cj()).constant(e.constant())},Dk.apply(e,arguments)}function wj(e){return function(t){return t<0?-((-t)**+e):t**+e}}function jme(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Mme(e){return e<0?-e*e:e*e}function Tj(e){var t=e(HA,HA),n=1;function r(){return n===1?e(HA,HA):n===.5?e(jme,Mme):e(wj(n),wj(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},dj(t)}function Ej(){var e=Tj(JA());return e.copy=function(){return qA(e,Ej()).exponent(e.exponent())},Dk.apply(e,arguments),e}function Nme(){return Ej.apply(null,arguments).exponent(.5)}function Dj(e){return Math.sign(e)*e*e}function Pme(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Oj(){var e=YA(),t=[0,1],n=!1,r;function i(t){var i=Pme(e(t));return isNaN(i)?r:n?Math.round(i):i}return i.invert=function(t){return e.invert(Dj(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain()},i.range=function(n){return arguments.length?(e.range((t=Array.from(n,BA)).map(Dj)),i):t.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(n=!!e,i):n},i.clamp=function(t){return arguments.length?(e.clamp(t),i):e.clamp()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Oj(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Dk.apply(i,arguments),dj(i)}function kj(){var e=[],t=[],n=[],r;function i(){var r=0,i=Math.max(1,t.length);for(n=Array(i-1);++r<i;)n[r-1]=Tk(e,r/i);return a}function a(e){return e==null||isNaN(e=+e)?r:t[ak(n,e)]}return a.invertExtent=function(r){var i=t.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(ZO),i()},a.range=function(e){return arguments.length?(t=Array.from(e),i()):t.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return kj().domain(e).range(t).unknown(r)},Dk.apply(a,arguments)}function Aj(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(e){return e!=null&&e<=e?i[ak(r,e,0,n)]:a}function s(){var i=-1;for(r=Array(n);++i<n;)r[i]=((i+1)*t-(i-n)*e)/(n+1);return o}return o.domain=function(n){return arguments.length?([e,t]=n,e=+e,t=+t,s()):[e,t]},o.range=function(e){return arguments.length?(n=(i=Array.from(e)).length-1,s()):i.slice()},o.invertExtent=function(a){var o=i.indexOf(a);return o<0?[NaN,NaN]:o<1?[e,r[0]]:o>=n?[r[n-1],t]:[r[o-1],r[o]]},o.unknown=function(e){return arguments.length&&(a=e),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Aj().domain([e,t]).range(i).unknown(a)},Dk.apply(dj(o),arguments)}function jj(){var e=[.5],t=[0,1],n,r=1;function i(i){return i!=null&&i<=i?t[ak(e,i,0,r)]:n}return i.domain=function(n){return arguments.length?(e=Array.from(n),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(n){return arguments.length?(t=Array.from(n),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(n){var r=t.indexOf(n);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return jj().domain(e).range(t).unknown(n)},Dk.apply(i,arguments)}var Mj=new Date,Nj=new Date;function Pj(e,t,n,r){function i(t){return e(t=arguments.length===0?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{let t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),n==null?1:Math.floor(n)),e),i.range=(n,r,a)=>{let o=[];if(n=i.ceil(n),a=a==null?1:Math.floor(a),!(n<r)||!(a>0))return o;let s;do o.push(s=new Date(+n)),t(n,a),e(n);while(s<n&&n<r);return o},i.filter=n=>Pj(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(Mj.setTime(+t),Nj.setTime(+r),e(Mj),e(Nj),Math.floor(n(Mj,Nj))),i.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i)),i}const Fj=Pj(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pj(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Fj),Fj.range;const Ij=1e3,Lj=Ij*60,Rj=Lj*60,zj=Rj*24,Bj=zj*7,Vj=zj*30,Hj=zj*365,Uj=Pj(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ij)},(e,t)=>(t-e)/Ij,e=>e.getUTCSeconds());Uj.range;const Wj=Pj(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ij)},(e,t)=>{e.setTime(+e+t*Lj)},(e,t)=>(t-e)/Lj,e=>e.getMinutes());Wj.range;const Gj=Pj(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Lj)},(e,t)=>(t-e)/Lj,e=>e.getUTCMinutes());Gj.range;const Kj=Pj(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ij-e.getMinutes()*Lj)},(e,t)=>{e.setTime(+e+t*Rj)},(e,t)=>(t-e)/Rj,e=>e.getHours());Kj.range;const qj=Pj(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Rj)},(e,t)=>(t-e)/Rj,e=>e.getUTCHours());qj.range;const Jj=Pj(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lj)/zj,e=>e.getDate()-1);Jj.range;const Yj=Pj(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zj,e=>e.getUTCDate()-1);Yj.range;const Xj=Pj(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zj,e=>Math.floor(e/zj));Xj.range;function Zj(e){return Pj(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lj)/Bj)}const Qj=Zj(0),$j=Zj(1),Fme=Zj(2),Ime=Zj(3),eM=Zj(4),Lme=Zj(5),Rme=Zj(6);Qj.range,$j.range,Fme.range,Ime.range,eM.range,Lme.range,Rme.range;function tM(e){return Pj(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/Bj)}const nM=tM(0),rM=tM(1),zme=tM(2),Bme=tM(3),iM=tM(4),Vme=tM(5),Hme=tM(6);nM.range,rM.range,zme.range,Bme.range,iM.range,Vme.range,Hme.range;const aM=Pj(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());aM.range;const oM=Pj(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());oM.range;const sM=Pj(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());sM.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pj(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}),sM.range;const cM=Pj(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());cM.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pj(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}),cM.range;function lM(e,t,n,r,i,a){let o=[[Uj,1,Ij],[Uj,5,5*Ij],[Uj,15,15*Ij],[Uj,30,30*Ij],[a,1,Lj],[a,5,5*Lj],[a,15,15*Lj],[a,30,30*Lj],[i,1,Rj],[i,3,3*Rj],[i,6,6*Rj],[i,12,12*Rj],[r,1,zj],[r,2,2*zj],[n,1,Bj],[t,1,Vj],[t,3,3*Vj],[e,1,Hj]];function s(e,t,n){let r=t<e;r&&([e,t]=[t,e]);let i=n&&typeof n.range==`function`?n:c(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a}function c(t,n,r){let i=Math.abs(n-t)/r,a=$O(([,,e])=>e).right(o,i);if(a===o.length)return e.every(yk(t/Hj,n/Hj,r));if(a===0)return Fj.every(Math.max(yk(t,n,r),1));let[s,c]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(c)}return[s,c]}var[Ume,Wme]=lM(cM,oM,nM,Xj,qj,Gj),[Gme,Kme]=lM(sM,aM,Qj,Jj,Kj,Wj);function uM(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dM(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fM(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function qme(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,l=gM(i),u=_M(i),d=gM(a),f=_M(a),p=gM(o),m=_M(o),h=gM(s),g=_M(s),_=gM(c),v=_M(c),y={a:N,A:P,b:F,B:I,c:null,d:SM,e:SM,f:ghe,g:Ehe,G:Ohe,H:phe,I:mhe,j:hhe,L:CM,m:_he,M:vhe,p:L,q:R,Q:kM,s:AM,S:yhe,u:bhe,U:xhe,V:She,w:Che,W:whe,x:null,X:null,y:The,Y:Dhe,Z:khe,"%":OM},b={a:ee,A:te,b:z,B:ne,c:null,d:TM,e:TM,f:Nhe,g:Uhe,G:Ghe,H:Ahe,I:jhe,j:Mhe,L:EM,m:Phe,M:Fhe,p:re,q:B,Q:kM,s:AM,S:Ihe,u:Lhe,U:Rhe,V:zhe,w:Bhe,W:Vhe,x:null,X:null,y:Hhe,Y:Whe,Z:Khe,"%":OM},x={a:E,A:D,b:O,B:k,c:A,d:bM,e:bM,f:lhe,g:yM,G:vM,H:xM,I:xM,j:ahe,L:che,m:ihe,M:ohe,p:T,q:rhe,Q:dhe,s:fhe,S:she,u:Qme,U:$me,V:ehe,w:Zme,W:the,x:j,X:M,y:yM,Y:vM,Z:nhe,"%":uhe};y.x=S(n,y),y.X=S(r,y),y.c=S(t,y),b.x=S(n,b),b.X=S(r,b),b.c=S(t,b);function S(e,t){return function(n){var r=[],i=-1,a=0,o=e.length,s,c,l;for(n instanceof Date||(n=new Date(+n));++i<o;)e.charCodeAt(i)===37&&(r.push(e.slice(a,i)),(c=pM[s=e.charAt(++i)])==null?c=s===`e`?` `:`0`:s=e.charAt(++i),(l=t[s])&&(s=l(n,c)),r.push(s),a=i+1);return r.push(e.slice(a,i)),r.join(``)}}function C(e,t){return function(n){var r=fM(1900,void 0,1),i=w(r,e,n+=``,0),a,o;if(i!=n.length)return null;if(`Q`in r)return new Date(r.Q);if(`s`in r)return new Date(r.s*1e3+(`L`in r?r.L:0));if(t&&!(`Z`in r)&&(r.Z=0),`p`in r&&(r.H=r.H%12+r.p*12),r.m===void 0&&(r.m=`q`in r?r.q:0),`V`in r){if(r.V<1||r.V>53)return null;`w`in r||(r.w=1),`Z`in r?(a=dM(fM(r.y,0,1)),o=a.getUTCDay(),a=o>4||o===0?rM.ceil(a):rM(a),a=Yj.offset(a,(r.V-1)*7),r.y=a.getUTCFullYear(),r.m=a.getUTCMonth(),r.d=a.getUTCDate()+(r.w+6)%7):(a=uM(fM(r.y,0,1)),o=a.getDay(),a=o>4||o===0?$j.ceil(a):$j(a),a=Jj.offset(a,(r.V-1)*7),r.y=a.getFullYear(),r.m=a.getMonth(),r.d=a.getDate()+(r.w+6)%7)}else (`W`in r||`U`in r)&&(`w`in r||(r.w=`u`in r?r.u%7:`W`in r?1:0),o=`Z`in r?dM(fM(r.y,0,1)).getUTCDay():uM(fM(r.y,0,1)).getDay(),r.m=0,r.d=`W`in r?(r.w+6)%7+r.W*7-(o+5)%7:r.w+r.U*7-(o+6)%7);return`Z`in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,dM(r)):uM(r)}}function w(e,t,n,r){for(var i=0,a=t.length,o=n.length,s,c;i<a;){if(r>=o)return-1;if(s=t.charCodeAt(i++),s===37){if(s=t.charAt(i++),c=x[s in pM?t.charAt(i++):s],!c||(r=c(e,n,r))<0)return-1}else if(s!=n.charCodeAt(r++))return-1}return r}function T(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1}function E(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1}function D(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1}function O(e,t,n){var r=_.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1}function k(e,t,n){var r=h.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1}function A(e,n,r){return w(e,t,n,r)}function j(e,t,r){return w(e,n,t,r)}function M(e,t,n){return w(e,r,t,n)}function N(e){return o[e.getDay()]}function P(e){return a[e.getDay()]}function F(e){return c[e.getMonth()]}function I(e){return s[e.getMonth()]}function L(e){return i[+(e.getHours()>=12)]}function R(e){return 1+~~(e.getMonth()/3)}function ee(e){return o[e.getUTCDay()]}function te(e){return a[e.getUTCDay()]}function z(e){return c[e.getUTCMonth()]}function ne(e){return s[e.getUTCMonth()]}function re(e){return i[+(e.getUTCHours()>=12)]}function B(e){return 1+~~(e.getUTCMonth()/3)}return{format:function(e){var t=S(e+=``,y);return t.toString=function(){return e},t},parse:function(e){var t=C(e+=``,!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+=``,b);return t.toString=function(){return e},t},utcParse:function(e){var t=C(e+=``,!0);return t.toString=function(){return e},t}}}var pM={"-":``,_:` `,0:`0`},mM=/^\s*\d+/,Jme=/^%/,Yme=/[\\^$*+?|[\]().{}]/g;function hM(e,t,n){var r=e<0?`-`:``,i=(r?-e:e)+``,a=i.length;return r+(a<n?Array(n-a+1).join(t)+i:i)}function Xme(e){return e.replace(Yme,`\\$&`)}function gM(e){return RegExp(`^(?:`+e.map(Xme).join(`|`)+`)`,`i`)}function _M(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Zme(e,t,n){var r=mM.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Qme(e,t,n){var r=mM.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function $me(e,t,n){var r=mM.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ehe(e,t,n){var r=mM.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function the(e,t,n){var r=mM.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function vM(e,t,n){var r=mM.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function yM(e,t,n){var r=mM.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nhe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||`00`)),n+r[0].length):-1}function rhe(e,t,n){var r=mM.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ihe(e,t,n){var r=mM.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function bM(e,t,n){var r=mM.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ahe(e,t,n){var r=mM.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function xM(e,t,n){var r=mM.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ohe(e,t,n){var r=mM.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function she(e,t,n){var r=mM.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function che(e,t,n){var r=mM.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function lhe(e,t,n){var r=mM.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uhe(e,t,n){var r=Jme.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dhe(e,t,n){var r=mM.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function fhe(e,t,n){var r=mM.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function SM(e,t){return hM(e.getDate(),t,2)}function phe(e,t){return hM(e.getHours(),t,2)}function mhe(e,t){return hM(e.getHours()%12||12,t,2)}function hhe(e,t){return hM(1+Jj.count(sM(e),e),t,3)}function CM(e,t){return hM(e.getMilliseconds(),t,3)}function ghe(e,t){return CM(e,t)+`000`}function _he(e,t){return hM(e.getMonth()+1,t,2)}function vhe(e,t){return hM(e.getMinutes(),t,2)}function yhe(e,t){return hM(e.getSeconds(),t,2)}function bhe(e){var t=e.getDay();return t===0?7:t}function xhe(e,t){return hM(Qj.count(sM(e)-1,e),t,2)}function wM(e){var t=e.getDay();return t>=4||t===0?eM(e):eM.ceil(e)}function She(e,t){return e=wM(e),hM(eM.count(sM(e),e)+(sM(e).getDay()===4),t,2)}function Che(e){return e.getDay()}function whe(e,t){return hM($j.count(sM(e)-1,e),t,2)}function The(e,t){return hM(e.getFullYear()%100,t,2)}function Ehe(e,t){return e=wM(e),hM(e.getFullYear()%100,t,2)}function Dhe(e,t){return hM(e.getFullYear()%1e4,t,4)}function Ohe(e,t){var n=e.getDay();return e=n>=4||n===0?eM(e):eM.ceil(e),hM(e.getFullYear()%1e4,t,4)}function khe(e){var t=e.getTimezoneOffset();return(t>0?`-`:(t*=-1,`+`))+hM(t/60|0,`0`,2)+hM(t%60,`0`,2)}function TM(e,t){return hM(e.getUTCDate(),t,2)}function Ahe(e,t){return hM(e.getUTCHours(),t,2)}function jhe(e,t){return hM(e.getUTCHours()%12||12,t,2)}function Mhe(e,t){return hM(1+Yj.count(cM(e),e),t,3)}function EM(e,t){return hM(e.getUTCMilliseconds(),t,3)}function Nhe(e,t){return EM(e,t)+`000`}function Phe(e,t){return hM(e.getUTCMonth()+1,t,2)}function Fhe(e,t){return hM(e.getUTCMinutes(),t,2)}function Ihe(e,t){return hM(e.getUTCSeconds(),t,2)}function Lhe(e){var t=e.getUTCDay();return t===0?7:t}function Rhe(e,t){return hM(nM.count(cM(e)-1,e),t,2)}function DM(e){var t=e.getUTCDay();return t>=4||t===0?iM(e):iM.ceil(e)}function zhe(e,t){return e=DM(e),hM(iM.count(cM(e),e)+(cM(e).getUTCDay()===4),t,2)}function Bhe(e){return e.getUTCDay()}function Vhe(e,t){return hM(rM.count(cM(e)-1,e),t,2)}function Hhe(e,t){return hM(e.getUTCFullYear()%100,t,2)}function Uhe(e,t){return e=DM(e),hM(e.getUTCFullYear()%100,t,2)}function Whe(e,t){return hM(e.getUTCFullYear()%1e4,t,4)}function Ghe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?iM(e):iM.ceil(e),hM(e.getUTCFullYear()%1e4,t,4)}function Khe(){return`+0000`}function OM(){return`%`}function kM(e){return+e}function AM(e){return Math.floor(e/1e3)}var jM,MM,NM;qhe({dateTime:`%x, %X`,date:`%-m/%-d/%Y`,time:`%-I:%M:%S %p`,periods:[`AM`,`PM`],days:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],shortDays:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],months:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],shortMonths:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`]});function qhe(e){return jM=qme(e),MM=jM.format,jM.parse,NM=jM.utcFormat,jM.utcParse,jM}function Jhe(e){return new Date(e)}function Yhe(e){return e instanceof Date?+e:+new Date(+e)}function PM(e,t,n,r,i,a,o,s,c,l){var u=YA(),d=u.invert,f=u.domain,p=l(`.%L`),m=l(`:%S`),h=l(`%I:%M`),g=l(`%I %p`),_=l(`%a %d`),v=l(`%b %d`),y=l(`%B`),b=l(`%Y`);function x(e){return(c(e)<e?p:s(e)<e?m:o(e)<e?h:a(e)<e?g:r(e)<e?i(e)<e?_:v:n(e)<e?y:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,Yhe)):f().map(Jhe)},u.ticks=function(t){var n=f();return e(n[0],n[n.length-1],t??10)},u.tickFormat=function(e,t){return t==null?x:l(t)},u.nice=function(e){var n=f();return(!e||typeof e.range!=`function`)&&(e=t(n[0],n[n.length-1],e??10)),e?f(mj(n,e)):u},u.copy=function(){return qA(u,PM(e,t,n,r,i,a,o,s,c,l))},u}function Xhe(){return Dk.apply(PM(Gme,Kme,sM,aM,Qj,Jj,Kj,Wj,Uj,MM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zhe(){return Dk.apply(PM(Ume,Wme,cM,oM,nM,Yj,qj,Gj,Uj,NM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function FM(){var e=0,t=1,n,r,i,a,o=HA,s=!1,c;function l(e){return e==null||isNaN(e=+e)?c:o(i===0?.5:(e=(a(e)-n)*i,s?Math.max(0,Math.min(1,e)):e))}l.domain=function(o){return arguments.length?([e,t]=o,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(e){return arguments.length?(s=!!e,l):s},l.interpolator=function(e){return arguments.length?(o=e,l):o};function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),l):[o(0),o(1)]}}return l.range=u(IA),l.rangeRound=u(LA),l.unknown=function(e){return arguments.length?(c=e,l):c},function(o){return a=o,n=o(e),r=o(t),i=n===r?0:1/(r-n),l}}function IM(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function LM(){var e=dj(FM()(HA));return e.copy=function(){return IM(e,LM())},Ok.apply(e,arguments)}function RM(){var e=vj(FM()).domain([1,10]);return e.copy=function(){return IM(e,RM()).base(e.base())},Ok.apply(e,arguments)}function zM(){var e=Sj(FM());return e.copy=function(){return IM(e,zM()).constant(e.constant())},Ok.apply(e,arguments)}function BM(){var e=Tj(FM());return e.copy=function(){return IM(e,BM()).exponent(e.exponent())},Ok.apply(e,arguments)}function Qhe(){return BM.apply(null,arguments).exponent(.5)}function VM(){var e=[],t=HA;function n(n){if(n!=null&&!isNaN(n=+n))return t((ak(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(ZO),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>wk(e,r/t))},n.copy=function(){return VM(t).domain(e)},Ok.apply(n,arguments)}function HM(){var e=0,t=.5,n=1,r=1,i,a,o,s,c,l=HA,u,d=!1,f;function p(e){return isNaN(e=+e)?f:(e=.5+((e=+u(e))-a)*(r*e<r*a?s:c),l(d?Math.max(0,Math.min(1,e)):e))}p.domain=function(l){return arguments.length?([e,t,n]=l,i=u(e=+e),a=u(t=+t),o=u(n=+n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(e){return arguments.length?(d=!!e,p):d},p.interpolator=function(e){return arguments.length?(l=e,p):l};function m(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,l=RA(e,[n,r,i]),p):[l(0),l(.5),l(1)]}}return p.range=m(IA),p.rangeRound=m(LA),p.unknown=function(e){return arguments.length?(f=e,p):f},function(l){return u=l,i=l(e),a=l(t),o=l(n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function UM(){var e=dj(HM()(HA));return e.copy=function(){return IM(e,UM())},Ok.apply(e,arguments)}function WM(){var e=vj(HM()).domain([.1,1,10]);return e.copy=function(){return IM(e,WM()).base(e.base())},Ok.apply(e,arguments)}function GM(){var e=Sj(HM());return e.copy=function(){return IM(e,GM()).constant(e.constant())},Ok.apply(e,arguments)}function KM(){var e=Tj(HM());return e.copy=function(){return IM(e,KM()).exponent(e.exponent())},Ok.apply(e,arguments)}function $he(){return KM.apply(null,arguments).exponent(.5)}var qM=s({scaleBand:()=>jk,scaleDiverging:()=>UM,scaleDivergingLog:()=>WM,scaleDivergingPow:()=>KM,scaleDivergingSqrt:()=>$he,scaleDivergingSymlog:()=>GM,scaleIdentity:()=>pj,scaleImplicit:()=>kk,scaleLinear:()=>fj,scaleLog:()=>yj,scaleOrdinal:()=>Ak,scalePoint:()=>Nk,scalePow:()=>Ej,scaleQuantile:()=>kj,scaleQuantize:()=>Aj,scaleRadial:()=>Oj,scaleSequential:()=>LM,scaleSequentialLog:()=>RM,scaleSequentialPow:()=>BM,scaleSequentialQuantile:()=>VM,scaleSequentialSqrt:()=>Qhe,scaleSequentialSymlog:()=>zM,scaleSqrt:()=>Nme,scaleSymlog:()=>Cj,scaleThreshold:()=>jj,scaleTime:()=>Xhe,scaleUtc:()=>Zhe,tickFormat:()=>uj}),JM=e=>e.chartData,YM=W([JM],e=>{var t=e.chartData==null?0:e.chartData.length-1;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),XM=(e,t,n,r)=>r?YM(e):JM(e);function ZM(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(FE(t)&&FE(n))return!0}return!1}function QM(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $M(e,t){if(t&&typeof e!=`function`&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(FE(n))i=n;else if(typeof n==`function`)return;if(FE(r))a=r;else if(typeof r==`function`)return;var o=[i,a];if(ZM(o))return o}}function ege(e,t,n){if(!(!n&&t==null)){if(typeof e==`function`&&t!=null)try{var r=e(t,n);if(ZM(r))return QM(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i===`auto`)t!=null&&(o=Math.min(...t));else if(QS(i))o=i;else if(typeof i==`function`)try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i==`string`&&$T.test(i)){var c=$T.exec(i);if(c==null||t==null)o=void 0;else{var l=+c[1];o=t[0]-l}}else o=t?.[0];if(a===`auto`)t!=null&&(s=Math.max(...t));else if(QS(a))s=a;else if(typeof a==`function`)try{t!=null&&(s=a(t?.[1]))}catch{}else if(typeof a==`string`&&eE.test(a)){var u=eE.exec(a);if(u==null||t==null)s=void 0;else{var d=+u[1];s=t[1]+d}}else s=t?.[1];var f=[o,s];if(ZM(f))return t==null?f:QM(f,t,n)}}}var eN=1e9,tge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:`2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286`},tN,nN=!0,rN=`[DecimalError] `,iN=rN+`Invalid argument: `,aN=rN+`Exponent out of range: `,oN=Math.floor,sN=Math.pow,nge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cN,lN=1e7,uN=7,dN=9007199254740991,fN=oN(dN/uN),pN={};pN.absoluteValue=pN.abs=function(){var e=new this.constructor(this);return e.s&&=1,e},pN.comparedTo=pN.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},pN.decimalPlaces=pN.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*uN;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n},pN.dividedBy=pN.div=function(e){return _N(this,new this.constructor(e))},pN.dividedToIntegerBy=pN.idiv=function(e){var t=this,n=t.constructor;return wN(_N(t,new n(e),0,1),n.precision)},pN.equals=pN.eq=function(e){return!this.cmp(e)},pN.exponent=function(){return yN(this)},pN.greaterThan=pN.gt=function(e){return this.cmp(e)>0},pN.greaterThanOrEqualTo=pN.gte=function(e){return this.cmp(e)>=0},pN.isInteger=pN.isint=function(){return this.e>this.d.length-2},pN.isNegative=pN.isneg=function(){return this.s<0},pN.isPositive=pN.ispos=function(){return this.s>0},pN.isZero=function(){return this.s===0},pN.lessThan=pN.lt=function(e){return this.cmp(e)<0},pN.lessThanOrEqualTo=pN.lte=function(e){return this.cmp(e)<1},pN.logarithm=pN.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(cN))throw Error(rN+`NaN`);if(n.s<1)throw Error(rN+(n.s?`NaN`:`-Infinity`));return n.eq(cN)?new r(0):(nN=!1,t=_N(SN(n,a),SN(e,a),a),nN=!0,wN(t,i))},pN.minus=pN.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TN(t,e):mN(t,(e.s=-e.s,e))},pN.modulo=pN.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(rN+`NaN`);return n.s?(nN=!1,t=_N(n,e,0,1).times(e),nN=!0,n.minus(t)):wN(new r(n),i)},pN.naturalExponential=pN.exp=function(){return vN(this)},pN.naturalLogarithm=pN.ln=function(){return SN(this)},pN.negated=pN.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},pN.plus=pN.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mN(t,e):TN(t,(e.s=-e.s,e))},pN.precision=pN.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(iN+e);if(t=yN(i)+1,r=i.d.length-1,n=r*uN+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},pN.squareRoot=pN.sqrt=function(){var e,t,n,r,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(rN+`NaN`)}for(e=yN(s),nN=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=gN(s.d),(t.length+e)%2==0&&(t+=`0`),i=Math.sqrt(t),e=oN((e+1)/2)-(e<0||e%2),i==1/0?t=`5e`+e:(t=i.toExponential(),t=t.slice(0,t.indexOf(`e`)+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(_N(s,a,o+2)).times(.5),gN(a.d).slice(0,o)===(t=gN(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t==`4999`){if(wN(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!=`9999`)break;o+=4}return nN=!0,wN(r,n)},pN.times=pN.mul=function(e){var t,n,r,i,a,o,s,c,l,u=this,d=u.constructor,f=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,c=f.length,l=p.length,c<l&&(a=f,f=p,p=a,o=c,c=l,l=o),a=[],o=c+l,r=o;r--;)a.push(0);for(r=l;--r>=0;){for(t=0,i=c+r;i>r;)s=a[i]+p[r]*f[i-r-1]+t,a[i--]=s%lN|0,t=s/lN|0;a[i]=(a[i]+t)%lN|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,nN?wN(e,d.precision):e},pN.toDecimalPlaces=pN.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(hN(e,0,eN),t===void 0?t=r.rounding:hN(t,0,8),wN(n,e+yN(n)+1,t))},pN.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=EN(r,!0):(hN(e,0,eN),t===void 0?t=i.rounding:hN(t,0,8),r=wN(new i(r),e+1,t),n=EN(r,!0,e+1)),n},pN.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?EN(i):(hN(e,0,eN),t===void 0?t=a.rounding:hN(t,0,8),r=wN(new a(i),e+yN(i)+1,t),n=EN(r.abs(),!1,e+yN(r)+1),i.isneg()&&!i.isZero()?`-`+n:n)},pN.toInteger=pN.toint=function(){var e=this,t=e.constructor;return wN(new t(e),yN(e)+1,t.rounding)},pN.toNumber=function(){return+this},pN.toPower=pN.pow=function(e){var t,n,r,i,a,o,s=this,c=s.constructor,l=12,u=+(e=new c(e));if(!e.s)return new c(cN);if(s=new c(s),!s.s){if(e.s<1)throw Error(rN+`Infinity`);return s}if(s.eq(cN))return s;if(r=c.precision,e.eq(cN))return wN(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=u<0?-u:u)<=dN){for(i=new c(cN),t=Math.ceil(r/uN+4),nN=!1;n%2&&(i=i.times(s),DN(i.d,t)),n=oN(n/2),n!==0;)s=s.times(s),DN(s.d,t);return nN=!0,e.s<0?new c(cN).div(i):wN(i,r)}}else if(a<0)throw Error(rN+`NaN`);return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,nN=!1,i=e.times(SN(s,r+l)),nN=!0,i=vN(i),i.s=a,i},pN.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=yN(i),r=EN(i,n<=a.toExpNeg||n>=a.toExpPos)):(hN(e,1,eN),t===void 0?t=a.rounding:hN(t,0,8),i=wN(new a(i),e,t),n=yN(i),r=EN(i,e<=n||n<=a.toExpNeg,e)),r},pN.toSignificantDigits=pN.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(hN(e,1,eN),t===void 0?t=r.rounding:hN(t,0,8)),wN(new r(n),e,t)},pN.toString=pN.valueOf=pN.val=pN.toJSON=pN[Symbol.for(`nodejs.util.inspect.custom`)]=function(){var e=this,t=yN(e),n=e.constructor;return EN(e,t<=n.toExpNeg||t>=n.toExpPos)};function mN(e,t){var n,r,i,a,o,s,c,l,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),nN?wN(t,d):t;if(c=e.d,l=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,s=l.length):(r=l,i=o,s=c.length),o=Math.ceil(d/uN),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=c.length,a=l.length,s-a<0&&(a=s,r=l,l=c,c=r),n=0;a;)n=(c[--a]=c[a]+l[a]+n)/lN|0,c[a]%=lN;for(n&&(c.unshift(n),++i),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=i,nN?wN(t,d):t}function hN(e,t,n){if(e!==~~e||e<t||e>n)throw Error(iN+e)}function gN(e){var t,n,r,i=e.length-1,a=``,o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+``,n=uN-r.length,n&&(a+=xN(n)),a+=r;o=e[t],r=o+``,n=uN-r.length,n&&(a+=xN(n))}else if(o===0)return`0`;for(;o%10==0;)o/=10;return a+o}var _N=(function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%lN|0,r=n/lN|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*lN+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T=r.constructor,E=r.s==i.s?1:-1,D=r.d,O=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(rN+`Division by zero`);for(c=r.e-i.e,C=O.length,x=D.length,p=new T(E),m=p.d=[],l=0;O[l]==(D[l]||0);)++l;if(O[l]>(D[l]||0)&&--c,v=a==null?a=T.precision:o?a+(yN(r)-yN(i))+1:a,v<0)return new T(0);if(v=v/uN+2|0,l=0,C==1)for(u=0,O=O[0],v++;(l<x||u)&&v--;l++)y=u*lN+(D[l]||0),m[l]=y/O|0,u=y%O|0;else{for(u=lN/(O[0]+1)|0,u>1&&(O=e(O,u),D=e(D,u),C=O.length,x=D.length),b=C,h=D.slice(0,C),g=h.length;g<C;)h[g++]=0;w=O.slice(),w.unshift(0),S=O[0],O[1]>=lN/2&&++S;do u=0,s=t(O,h,C,g),s<0?(_=h[0],C!=g&&(_=_*lN+(h[1]||0)),u=_/S|0,u>1?(u>=lN&&(u=lN-1),d=e(O,u),f=d.length,g=h.length,s=t(d,h,f,g),s==1&&(u--,n(d,C<f?w:O,f))):(u==0&&(s=u=1),d=O.slice()),f=d.length,f<g&&d.unshift(0),n(h,d,g),s==-1&&(g=h.length,s=t(O,h,C,g),s<1&&(u++,n(h,C<g?w:O,g))),g=h.length):s===0&&(u++,h=[0]),m[l++]=u,s&&h[0]?h[g++]=D[b]||0:(h=[D[b]],g=1);while((b++<x||h[0]!==void 0)&&v--)}return m[0]||m.shift(),p.e=c,wN(p,o?a+yN(p)+1:a)}})();function vN(e,t){var n,r,i,a,o,s,c=0,l=0,u=e.constructor,d=u.precision;if(yN(e)>16)throw Error(aN+yN(e));if(!e.s)return new u(cN);for(t==null?(nN=!1,s=d):s=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(r=Math.log(sN(2,l))/Math.LN10*2+5|0,s+=r,n=i=a=new u(cN),u.precision=s;;){if(i=wN(i.times(e),s),n=n.times(++c),o=a.plus(_N(i,n,s)),gN(o.d).slice(0,s)===gN(a.d).slice(0,s)){for(;l--;)a=wN(a.times(a),s);return u.precision=d,t==null?(nN=!0,wN(a,d)):a}a=o}}function yN(e){for(var t=e.e*uN,n=e.d[0];n>=10;n/=10)t++;return t}function bN(e,t,n){if(t>e.LN10.sd())throw nN=!0,n&&(e.precision=n),Error(rN+`LN10 precision limit exceeded`);return wN(new e(e.LN10),t)}function xN(e){for(var t=``;e--;)t+=`0`;return t}function SN(e,t){var n,r,i,a,o,s,c,l,u,d=1,f=10,p=e,m=p.d,h=p.constructor,g=h.precision;if(p.s<1)throw Error(rN+(p.s?`NaN`:`-Infinity`));if(p.eq(cN))return new h(0);if(t==null?(nN=!1,l=g):l=t,p.eq(10))return t??(nN=!0),bN(h,l);if(l+=f,h.precision=l,n=gN(m),r=n.charAt(0),a=yN(p),Math.abs(a)<0x5543df729c000){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=gN(p.d),r=n.charAt(0),d++;a=yN(p),r>1?(p=new h(`0.`+n),a++):p=new h(r+`.`+n.slice(1))}else return c=bN(h,l+2,g).times(a+``),p=SN(new h(r+`.`+n.slice(1)),l-f).plus(c),h.precision=g,t==null?(nN=!0,wN(p,g)):p;for(s=o=p=_N(p.minus(cN),p.plus(cN),l),u=wN(p.times(p),l),i=3;;){if(o=wN(o.times(u),l),c=s.plus(_N(o,new h(i),l)),gN(c.d).slice(0,l)===gN(s.d).slice(0,l))return s=s.times(2),a!==0&&(s=s.plus(bN(h,l+2,g).times(a+``))),s=_N(s,new h(d),l),h.precision=g,t==null?(nN=!0,wN(s,g)):s;s=c,i+=2}}function CN(e,t){var n,r,i;for((n=t.indexOf(`.`))>-1&&(t=t.replace(`.`,``)),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=oN(n/uN),e.d=[],r=(n+1)%uN,n<0&&(r+=uN),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=uN;r<i;)e.d.push(+t.slice(r,r+=uN));t=t.slice(r),r=uN-t.length}else r-=i;for(;r--;)t+=`0`;if(e.d.push(+t),nN&&(e.e>fN||e.e<-fN))throw Error(aN+n)}else e.s=0,e.e=0,e.d=[0];return e}function wN(e,t,n){var r,i,a,o,s,c,l,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=uN,i=t,l=d[u=0];else{if(u=Math.ceil((r+1)/uN),a=d.length,u>=a)return e;for(l=a=d[u],o=1;a>=10;a/=10)o++;r%=uN,i=r-uN+o}if(n!==void 0&&(a=sN(10,o-i-1),s=l/a%10|0,c=t<0||d[u+1]!==void 0||l%a,c=n<4?(s||c)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||c||n==6&&(r>0?i>0?l/sN(10,o-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return c?(a=yN(e),d.length=1,t=t-a-1,d[0]=sN(10,(uN-t%uN)%uN),e.e=oN(-t/uN)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=sN(10,uN-r),d[u]=i>0?(l/sN(10,o-i)%sN(10,i)|0)*a:0),c)for(;;)if(u==0){(d[0]+=a)==lN&&(d[0]=1,++e.e);break}else{if(d[u]+=a,d[u]!=lN)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(nN&&(e.e>fN||e.e<-fN))throw Error(aN+yN(e));return e}function TN(e,t){var n,r,i,a,o,s,c,l,u,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),nN?wN(t,p):t;if(c=e.d,d=t.d,r=t.e,l=e.e,c=c.slice(),o=l-r,o){for(u=o<0,u?(n=c,o=-o,s=d.length):(n=d,r=l,s=c.length),i=Math.max(Math.ceil(p/uN),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(c[i]!=d[i]){u=c[i]<d[i];break}o=0}for(u&&(n=c,c=d,d=n,t.s=-t.s),s=c.length,i=d.length-s;i>0;--i)c[s++]=0;for(i=d.length;i>o;){if(c[--i]<d[i]){for(a=i;a&&c[--a]===0;)c[a]=lN-1;--c[a],c[i]+=lN}c[i]-=d[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,nN?wN(t,p):t):new f(0)}function EN(e,t,n){var r,i=yN(e),a=gN(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+`.`+a.slice(1)+xN(r):o>1&&(a=a.charAt(0)+`.`+a.slice(1)),a=a+(i<0?`e`:`e+`)+i):i<0?(a=`0.`+xN(-i-1)+a,n&&(r=n-o)>0&&(a+=xN(r))):i>=o?(a+=xN(i+1-o),n&&(r=n-i-1)>0&&(a=a+`.`+xN(r))):((r=i+1)<o&&(a=a.slice(0,r)+`.`+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+=`.`),a+=xN(r))),e.s<0?`-`+a:a}function DN(e,t){if(e.length>t)return e.length=t,!0}function ON(e){var t,n,r;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i){t.s=e.s,t.e=e.e,t.d=(e=e.d)?e.slice():e;return}if(typeof e==`number`){if(e*0!=0)throw Error(iN+e);if(e>0)t.s=1;else if(e<0)e=-e,t.s=-1;else{t.s=0,t.e=0,t.d=[0];return}if(e===~~e&&e<1e7){t.e=0,t.d=[e];return}return CN(t,e.toString())}else if(typeof e!=`string`)throw Error(iN+e);if(e.charCodeAt(0)===45?(e=e.slice(1),t.s=-1):t.s=1,nge.test(e))CN(t,e);else throw Error(iN+e)}if(i.prototype=pN,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ON,i.config=i.set=rge,e===void 0&&(e={}),e)for(r=[`precision`,`rounding`,`toExpNeg`,`toExpPos`,`LN10`],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function rge(e){if(!e||typeof e!=`object`)throw Error(rN+`Object expected`);var t,n,r,i=[`precision`,1,eN,`rounding`,0,8,`toExpNeg`,-1/0,0,`toExpPos`,0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(oN(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(iN+n+`: `+r);if((r=e[n=`LN10`])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(iN+n+`: `+r);return this}var tN=ON(tge);cN=new tN(1);var kN=tN,ige=e=>e,AN={"@@functional/placeholder":!0},jN=e=>e===AN,MN=e=>function t(){return arguments.length===0||arguments.length===1&&jN(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},NN=(e,t)=>e===1?t:MN(function(){var n=[...arguments],r=n.filter(e=>e!==AN).length;return r>=e?t(...n):NN(e-r,MN(function(){var e=[...arguments];return t(...n.map(t=>jN(t)?e.shift():t),...e)}))}),age=e=>NN(e.length,e),PN=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},oge=age((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),sge=function(){var e=[...arguments];if(!e.length)return ige;var t=e.reverse(),n=t[0],r=t.slice(1);return function(){return r.reduce((e,t)=>t(e),n(...arguments))}},FN=e=>Array.isArray(e)?e.reverse():e.split(``).reverse().join(``);function IN(e){return e===0?1:Math.floor(new kN(e).abs().log(10).toNumber())+1}function LN(e,t,n){for(var r=new kN(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var RN=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},zN=(e,t,n)=>{if(e.lte(0))return new kN(0);var r=IN(e.toNumber()),i=new kN(10).pow(r),a=e.div(i),o=r===1?.1:.05,s=new kN(Math.ceil(a.div(o).toNumber())).add(n).mul(o).mul(i);return t?new kN(s.toNumber()):new kN(Math.ceil(s.toNumber()))},cge=(e,t,n)=>{var r=new kN(1),i=new kN(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new kN(10).pow(IN(e)-1),i=new kN(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new kN(Math.floor(e)))}else e===0?i=new kN(Math.floor((t-1)/2)):n||(i=new kN(Math.floor(e)));var o=Math.floor((t-1)/2);return sge(oge(e=>i.add(new kN(e-o).mul(r)).toNumber()),PN)(0,t)},BN=function(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new kN(0),tickMin:new kN(0),tickMax:new kN(0)};var a=zN(new kN(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new kN(0):(o=new kN(e).add(t).div(2),o=o.sub(new kN(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new kN(t).sub(o).div(a).toNumber()),l=s+c+1;return l>n?BN(e,t,n,r,i+1):(l<n&&(c=t>0?c+(n-l):c,s=t>0?s:s+(n-l)),{step:a,tickMin:o.sub(new kN(s).mul(a)),tickMax:o.add(new kN(c).mul(a))})},lge=function(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,s]=RN([t,n]);if(o===-1/0||s===1/0){var c=s===1/0?[o,...PN(0,r-1).map(()=>1/0)]:[...PN(0,r-1).map(()=>-1/0),s];return t>n?FN(c):c}if(o===s)return cge(o,r,i);var{step:l,tickMin:u,tickMax:d}=BN(o,s,a,i,0),f=LN(u,d.add(new kN(.1).mul(l)),l);return t>n?FN(f):f},uge=function(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=RN([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var s=Math.max(t,2),c=zN(new kN(o).sub(a).div(s-1),i,0),l=[...LN(new kN(a),new kN(o),c),o];return i===!1&&(l=l.map(e=>Math.round(e))),n>r?FN(l):l},VN=e=>e.rootProps.maxBarSize,dge=e=>e.rootProps.barGap,HN=e=>e.rootProps.barCategoryGap,fge=e=>e.rootProps.barSize,UN=e=>e.rootProps.stackOffset,WN=e=>e.rootProps.reverseStackOrder,GN=e=>e.options.chartName,KN=e=>e.rootProps.syncId,qN=e=>e.rootProps.syncMethod,JN=e=>e.options.eventEmitter,YN={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},XN={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:`polygon`,cx:0,cy:0,orientation:`outer`,reversed:!1,scale:`auto`,tick:!0,tickLine:!0,tickSize:8,type:`category`,zIndex:YN.axis},ZN={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,label:!1,orientation:`right`,radiusAxisId:0,reversed:!1,scale:`auto`,stroke:`#ccc`,tick:!0,tickCount:5,type:`number`,zIndex:YN.axis},QN=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},pge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:XN.angleAxisId,includeHidden:!1,name:void 0,reversed:XN.reversed,scale:XN.scale,tick:XN.tick,tickCount:void 0,ticks:void 0,type:XN.type,unit:void 0},mge={allowDataOverflow:ZN.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ZN.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ZN.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ZN.scale,tick:ZN.tick,tickCount:ZN.tickCount,ticks:void 0,type:ZN.type,unit:void 0},hge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:XN.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:XN.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:XN.scale,tick:XN.tick,tickCount:void 0,ticks:void 0,type:`number`,unit:void 0},gge={allowDataOverflow:ZN.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ZN.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ZN.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ZN.scale,tick:ZN.tick,tickCount:ZN.tickCount,ticks:void 0,type:`category`,unit:void 0},$N=(e,t)=>e.polarAxis.angleAxis[t]==null?e.layout.layoutType===`radial`?hge:pge:e.polarAxis.angleAxis[t],eP=(e,t)=>e.polarAxis.radiusAxis[t]==null?e.layout.layoutType===`radial`?gge:mge:e.polarAxis.radiusAxis[t],tP=e=>e.polarOptions,nP=W([oE,sE,wE],LO),rP=W([tP,nP],(e,t)=>{if(e!=null)return tC(e.innerRadius,t,0)}),iP=W([tP,nP],(e,t)=>{if(e!=null)return tC(e.outerRadius,t,t*.8)}),aP=W([tP],e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]});W([$N,aP],QN);var oP=W([nP,rP,iP],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});W([eP,oP],QN);var sP=W([YE,tP,rP,iP,oE,sE],(e,t,n,r,i,a)=>{if(!(e!==`centric`&&e!==`radial`||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:c,endAngle:l}=t;return{cx:tC(o,i,i/2),cy:tC(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:l,clockWise:!1}}}),cP=(e,t)=>t,lP=(e,t,n)=>n;function uP(e){return e?.id}function dP(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(e=>{var t=e.data??r;if(!(t==null||t.length===0)){var n=uP(e);t.forEach((t,r)=>{var s=a==null||i?r:String(qT(t,a,null)),c=qT(t,e.dataKey,0),l=o.has(s)?o.get(s):{};Object.assign(l,{[n]:c}),o.set(s,l)})}}),Array.from(o.values())}function fP(e){return e.stackId!=null&&e.dataKey!=null}var pP=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function mP(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function _ge(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var hP=e=>{var t=YE(e);return t===`horizontal`?`xAxis`:t===`vertical`?`yAxis`:t===`centric`?`angleAxis`:`radiusAxis`},gP=e=>e.tooltip.settings.axisId,_P=l(XO());function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?vP(Object(n),!0).forEach(function(t){vge(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vge(e,t,n){return(t=yge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yge(e){var t=bge(e,`string`);return typeof t==`symbol`?t:t+``}function bge(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var bP=[0,`auto`],xP={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:`preserveEnd`,minTickGap:5,mirror:!1,name:void 0,orientation:`bottom`,padding:{left:0,right:0},reversed:!1,scale:`auto`,tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:`category`,unit:void 0},SP=(e,t)=>e.cartesianAxis.xAxis[t],CP=(e,t)=>SP(e,t)??xP,wP={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:bP,hide:!0,id:0,includeHidden:!1,interval:`preserveEnd`,minTickGap:5,mirror:!1,name:void 0,orientation:`left`,padding:{top:0,bottom:0},reversed:!1,scale:`auto`,tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:`number`,unit:void 0,width:60},TP=(e,t)=>e.cartesianAxis.yAxis[t],EP=(e,t)=>TP(e,t)??wP,xge={domain:[0,`auto`],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:``,range:[64,64],scale:`auto`,type:`number`,unit:``},DP=(e,t)=>e.cartesianAxis.zAxis[t]??xge,OP=(e,t,n)=>{switch(t){case`xAxis`:return CP(e,n);case`yAxis`:return EP(e,n);case`zAxis`:return DP(e,n);case`angleAxis`:return $N(e,n);case`radiusAxis`:return eP(e,n);default:throw Error(`Unexpected axis type: ${t}`)}},Sge=(e,t,n)=>{switch(t){case`xAxis`:return CP(e,n);case`yAxis`:return EP(e,n);default:throw Error(`Unexpected axis type: ${t}`)}},kP=(e,t,n)=>{switch(t){case`xAxis`:return CP(e,n);case`yAxis`:return EP(e,n);case`angleAxis`:return $N(e,n);case`radiusAxis`:return eP(e,n);default:throw Error(`Unexpected axis type: ${t}`)}},AP=e=>e.graphicalItems.cartesianItems.some(e=>e.type===`bar`)||e.graphicalItems.polarItems.some(e=>e.type===`radialBar`);function jP(e,t){return n=>{switch(e){case`xAxis`:return`xAxisId`in n&&n.xAxisId===t;case`yAxis`:return`yAxisId`in n&&n.yAxisId===t;case`zAxis`:return`zAxisId`in n&&n.zAxisId===t;case`angleAxis`:return`angleAxisId`in n&&n.angleAxisId===t;case`radiusAxis`:return`radiusAxisId`in n&&n.radiusAxisId===t;default:return!1}}}var MP=e=>e.graphicalItems.cartesianItems,Cge=W([cP,lP],jP),NP=(e,t,n)=>e.filter(n).filter(e=>t?.includeHidden===!0?!0:!e.hide),PP=W([MP,OP,Cge],NP,{memoizeOptions:{resultEqualityCheck:mP}}),FP=W([PP],e=>e.filter(e=>e.type===`area`||e.type===`bar`).filter(fP)),IP=e=>e.filter(e=>!(`stackId`in e)||e.stackId===void 0),wge=W([PP],IP),LP=e=>e.map(e=>e.data).filter(Boolean).flat(1),Tge=W([PP],LP,{memoizeOptions:{resultEqualityCheck:mP}}),RP=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},zP=W([Tge,XM],RP),BP=(e,t,n)=>t?.dataKey==null?n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:qT(e,t)}))):e.map(e=>({value:e})):e.map(e=>({value:qT(e,t.dataKey)})),VP=W([zP,OP,PP],BP);function HP(e,t){switch(e){case`xAxis`:return t.direction===`x`;case`yAxis`:return t.direction===`y`;default:return!1}}function UP(e){if($S(e)||e instanceof Date){var t=Number(e);if(FE(t))return t}}function WP(e){if(Array.isArray(e)){var t=[UP(e[0]),UP(e[1])];return ZM(t)?t:void 0}var n=UP(e);if(n!=null)return[n,n]}function GP(e){return e.map(UP).filter(Pue)}function Ege(e,t,n){return!n||typeof t!=`number`||XS(t)||!n.length?[]:GP(n.flatMap(n=>{var r=qT(e,n.dataKey),i,a;if(Array.isArray(r)?[i,a]=r:i=a=r,!(!FE(i)||!FE(a)))return[t-i,t+a]}))}var KP=e=>kP(e,hP(e),gP(e)),qP=W([KP],e=>e?.dataKey),Dge=W([FP,XM,KP],dP),JP=(e,t,n,r)=>{var i=t.reduce((e,t)=>t.stackId==null?e:(e[t.stackId]??(e[t.stackId]=[]),e[t.stackId].push(t),e),{});return Object.fromEntries(Object.entries(i).map(t=>{var[i,a]=t,o=r?[...a].reverse():a;return[i,{stackedData:Cfe(e,o.map(uP),n),graphicalItems:o}]}))},YP=W([Dge,FP,UN,WN],JP),XP=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!==`zAxis`){var o=Ofe(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Oge=W([OP],e=>e.allowDataOverflow),ZP=e=>{if(e==null||!(`domain`in e))return bP;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type===`number`){var t=GP(e.ticks);return[Math.min(...t),Math.max(...t)]}if(e.type===`category`)return e.ticks.map(String)}return e?.domain??bP},QP=W([OP],ZP),$P=W([QP,Oge],$M),kge=W([YP,JM,cP,$P],XP,{memoizeOptions:{resultEqualityCheck:pP}}),eF=e=>e.errorBars,Age=(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>HP(n,e)),tF=function(){var e=[...arguments].filter(Boolean);if(e.length!==0){var t=e.flat();return[Math.min(...t),Math.max(...t)]}},nF=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(e=>{n.forEach(n=>{var s=r[n.id]?.filter(e=>HP(i,e)),c=qT(e,t.dataKey??n.dataKey),l=Ege(e,c,s);if(l.length>=2){var u=Math.min(...l),d=Math.max(...l);(a==null||u<a)&&(a=u),(o==null||d>o)&&(o=d)}var f=WP(c);f!=null&&(a=a==null?f[0]:Math.min(a,f[0]),o=o==null?f[1]:Math.max(o,f[1]))})}),t?.dataKey!=null&&e.forEach(e=>{var n=WP(qT(e,t.dataKey));n!=null&&(a=a==null?n[0]:Math.min(a,n[0]),o=o==null?n[1]:Math.max(o,n[1]))}),FE(a)&&FE(o))return[a,o]},jge=W([zP,OP,wge,eF,cP],nF,{memoizeOptions:{resultEqualityCheck:pP}});function Mge(e){var{value:t}=e;if($S(t)||t instanceof Date)return t}var Nge=(e,t,n)=>{var r=e.map(Mge).filter(e=>e!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&nC(r))?(0,_P.default)(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},rF=e=>e.referenceElements.dots,iF=(e,t,n)=>e.filter(e=>e.ifOverflow===`extendDomain`).filter(e=>t===`xAxis`?e.xAxisId===n:e.yAxisId===n),Pge=W([rF,cP,lP],iF),aF=e=>e.referenceElements.areas,Fge=W([aF,cP,lP],iF),oF=e=>e.referenceElements.lines,Ige=W([oF,cP,lP],iF),sF=(e,t)=>{var n=GP(e.map(e=>t===`xAxis`?e.x:e.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Lge=W(Pge,cP,sF),cF=(e,t)=>{var n=GP(e.flatMap(e=>[t===`xAxis`?e.x1:e.y1,t===`xAxis`?e.x2:e.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Rge=W([Fge,cP],cF);function zge(e){if(e.x!=null)return GP([e.x]);var t=e.segment?.map(e=>e.x);return t==null||t.length===0?[]:GP(t)}function Bge(e){if(e.y!=null)return GP([e.y]);var t=e.segment?.map(e=>e.y);return t==null||t.length===0?[]:GP(t)}var lF=(e,t)=>{var n=e.flatMap(e=>t===`xAxis`?zge(e):Bge(e));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Vge=W(Lge,W([Ige,cP],lF),Rge,(e,t,n)=>tF(e,n,t)),uF=(e,t,n,r,i,a,o,s)=>n??ege(t,o===`vertical`&&s===`xAxis`||o===`horizontal`&&s===`yAxis`?tF(r,a,i):tF(a,i),e.allowDataOverflow),Hge=W([OP,QP,$P,kge,jge,Vge,YE,cP],uF,{memoizeOptions:{resultEqualityCheck:pP}}),Uge=[0,1],dF=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:c}=e,l=JT(t,a);return l&&s==null?(0,_P.default)(0,n?.length??0):c===`category`?Nge(r,e,l):i===`expand`?Uge:o}},fF=W([OP,YE,zP,VP,UN,cP,Hge],dF),pF=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a===`auto`)return t===`radial`&&i===`radiusAxis`?`band`:t===`radial`&&i===`angleAxis`?`linear`:o===`category`&&r&&(r.indexOf(`LineChart`)>=0||r.indexOf(`AreaChart`)>=0||r.indexOf(`ComposedChart`)>=0&&!n)?`point`:o===`category`?`band`:`linear`;if(typeof a==`string`){var s=`scale${aC(a)}`;return s in qM?s:`point`}}},mF=W([OP,YE,AP,GN,cP],pF);function Wge(e){if(e!=null){if(e in qM)return qM[e]();var t=`scale${aC(e)}`;if(t in qM)return qM[t]()}}function hF(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale==`function`)return e.scale.copy().domain(n).range(r);var i=Wge(t);if(i!=null){var a=i.domain(n).range(r);return bfe(a),a}}}var gF=(e,t,n)=>{var r=ZP(t);if(!(n!==`auto`&&n!==`linear`)){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]===`auto`||r[1]===`auto`)&&ZM(e))return lge(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type===`number`&&ZM(e))return uge(e,t.tickCount,t.allowDecimals)}},_F=W([fF,kP,mF],gF),vF=(e,t,n,r)=>{if(r!==`angleAxis`&&e?.type===`number`&&ZM(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},Gge=W([OP,fF,_F,cP],vF),yF=W(W(VP,OP,(e,t)=>{if(!(!t||t.type!==`number`)){var n=1/0,r=Array.from(GP(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),YE,HN,wE,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!FE(e))return 0;var a=t===`vertical`?r.height:r.width;if(i===`gap`)return e*a/2;if(i===`no-gap`){var o=tC(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),Kge=(e,t)=>{var n=CP(e,t);return n==null||typeof n.padding!=`string`?0:yF(e,`xAxis`,t,n.padding)},qge=(e,t)=>{var n=EP(e,t);return n==null||typeof n.padding!=`string`?0:yF(e,`yAxis`,t,n.padding)},Jge=W(CP,Kge,(e,t)=>{if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n==`string`?{left:t,right:t}:{left:(n.left??0)+t,right:(n.right??0)+t}}),Yge=W(EP,qge,(e,t)=>{if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n==`string`?{top:t,bottom:t}:{top:(n.top??0)+t,bottom:(n.bottom??0)+t}}),Xge=W([wE,Jge,AE,kE,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Zge=W([wE,YE,Yge,AE,kE,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t===`horizontal`?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),bF=(e,t,n,r)=>{switch(t){case`xAxis`:return Xge(e,n,r);case`yAxis`:return Zge(e,n,r);case`zAxis`:return DP(e,n)?.range;case`angleAxis`:return aP(e);case`radiusAxis`:return oP(e,n);default:return}},xF=W([OP,bF],QN),SF=W([OP,mF,Gge,xF],hF);W([PP,eF,cP],Age);function CF(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var wF=(e,t)=>t,TF=(e,t,n)=>n,Qge=W(uE,wF,TF,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(CF)),$ge=W(dE,wF,TF,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(CF)),EF=(e,t)=>({width:e.width,height:t.height}),e_e=(e,t)=>({width:typeof t.width==`number`?t.width:60,height:e.height}),DF=W(wE,CP,EF),t_e=(e,t,n)=>{switch(t){case`top`:return e.top;case`bottom`:return n-e.bottom;default:return 0}},n_e=(e,t,n)=>{switch(t){case`left`:return e.left;case`right`:return n-e.right;default:return 0}},r_e=W(sE,wE,Qge,wF,TF,(e,t,n,r,i)=>{var a={},o;return n.forEach(n=>{var s=EF(t,n);o??=t_e(t,r,e);var c=r===`top`&&!i||r===`bottom`&&i;a[n.id]=o-Number(c)*s.height,o+=(c?-1:1)*s.height}),a}),i_e=W(oE,wE,$ge,wF,TF,(e,t,n,r,i)=>{var a={},o;return n.forEach(n=>{var s=e_e(t,n);o??=n_e(t,r,e);var c=r===`left`&&!i||r===`right`&&i;a[n.id]=o-Number(c)*s.width,o+=(c?-1:1)*s.width}),a}),a_e=W([wE,CP,(e,t)=>{var n=CP(e,t);if(n!=null)return r_e(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),o_e=W([wE,EP,(e,t)=>{var n=EP(e,t);if(n!=null)return i_e(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),OF=W(wE,EP,(e,t)=>({width:typeof t.width==`number`?t.width:60,height:e.height})),kF=(e,t,n)=>{switch(t){case`xAxis`:return DF(e,n).width;case`yAxis`:return OF(e,n).height;default:return}},AF=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=JT(e,r),c=t.map(e=>e.value);if(o&&s&&a===`category`&&i&&nC(c))return c}},jF=W([YE,VP,OP,cP],AF),MF=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n;if(JT(e,r)&&(i===`number`||a!==`auto`))return t.map(e=>e.value)}},NF=W([YE,VP,kP,cP],MF),PF=W([YE,Sge,mF,SF,jF,NF,bF,_F,cP],(e,t,n,r,i,a,o,s,c)=>{if(t!=null){var l=JT(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:l,niceTicks:s,range:o,realScaleType:n,scale:r}}}),FF=W([YE,kP,mF,SF,_F,bF,jF,NF,cP],(e,t,n,r,i,a,o,s,c)=>{if(!(t==null||r==null)){var l=JT(e,c),{type:u,ticks:d,tickCount:f}=t,p=n===`scaleBand`&&typeof r.bandwidth==`function`?r.bandwidth()/2:2,m=u===`category`&&r.bandwidth?r.bandwidth()/p:0;m=c===`angleAxis`&&a!=null&&a.length>=2?YS(a[0]-a[1])*2*m:m;var h=d||i;return h?h.map((e,t)=>({index:t,coordinate:r(o?o.indexOf(e):e)+m,value:e,offset:m})).filter(e=>FE(e.coordinate)):l&&s?s.map((e,t)=>({coordinate:r(e)+m,value:e,index:t,offset:m})).filter(e=>FE(e.coordinate)):r.ticks?r.ticks(f).map(e=>({coordinate:r(e)+m,value:e,offset:m})):r.domain().map((e,t)=>({coordinate:r(e)+m,value:o?o[e]:e,index:t,offset:m}))}}),IF=W([YE,kP,SF,bF,jF,NF,cP],(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=JT(e,o),{tickCount:c}=t,l=0;return l=o===`angleAxis`&&r?.length>=2?YS(r[0]-r[1])*2*l:l,s&&a?a.map((e,t)=>({coordinate:n(e)+l,value:e,index:t,offset:l})):n.ticks?n.ticks(c).map(e=>({coordinate:n(e)+l,value:e,offset:l})):n.domain().map((e,t)=>({coordinate:n(e)+l,value:i?i[e]:e,index:t,offset:l}))}}),LF=W(OP,SF,(e,t)=>{if(!(e==null||t==null))return yP(yP({},e),{},{scale:t})});W((e,t,n)=>DP(e,n),W([OP,mF,fF,xF],hF),(e,t)=>{if(!(e==null||t==null))return yP(yP({},e),{},{scale:t})});var s_e=W([YE,uE,dE],(e,t,n)=>{switch(e){case`horizontal`:return t.some(e=>e.reversed)?`right-to-left`:`left-to-right`;case`vertical`:return n.some(e=>e.reversed)?`bottom-to-top`:`top-to-bottom`;case`centric`:case`radial`:return`left-to-right`;default:return}}),RF=e=>e.options.defaultTooltipEventType,zF=e=>e.options.validateTooltipEventTypes;function BF(e,t,n){if(e==null)return t;var r=e?`axis`:`item`;return n==null?t:n.includes(r)?r:t}function VF(e,t){return BF(t,RF(e),zF(e))}function c_e(e){return AC(t=>VF(t,e))}var HF=(e,t)=>{var n,r=Number(t);if(!(XS(r)||t==null))return r>=0?e==null||(n=e[r])==null?void 0:n.value:void 0},l_e=e=>e.tooltip.settings,UF={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},WF=gT({name:`tooltip`,initialState:{itemInteraction:{click:UF,hover:UF},axisInteraction:{click:UF,hover:UF},keyboardInteraction:UF,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:`hover`,axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(LD(t.payload))},prepare:rT()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Jw(e).tooltipItemPayloads.indexOf(LD(n));i>-1&&(e.tooltipItemPayloads[i]=LD(r))},prepare:rT()},removeTooltipEntrySettings:{reducer(e,t){var n=Jw(e).tooltipItemPayloads.indexOf(LD(t.payload));n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:rT()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:u_e,replaceTooltipEntrySettings:d_e,removeTooltipEntrySettings:f_e,setTooltipSettingsState:p_e,setActiveMouseOverItemIndex:GF,mouseLeaveItem:m_e,mouseLeaveChart:KF,setActiveClickItemIndex:h_e,setMouseOverAxisIndex:qF,setMouseClickAxisIndex:g_e,setSyncInteraction:JF,setKeyboardInteraction:YF}=WF.actions,__e=WF.reducer;function XF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ZF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?XF(Object(n),!0).forEach(function(t){v_e(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v_e(e,t,n){return(t=y_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y_e(e){var t=b_e(e,`string`);return typeof t==`symbol`?t:t+``}function b_e(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function x_e(e,t,n){return t===`axis`?n===`click`?e.axisInteraction.click:e.axisInteraction.hover:n===`click`?e.itemInteraction.click:e.itemInteraction.hover}function S_e(e){return e.index!=null}var QF=(e,t,n,r)=>{if(t==null)return UF;var i=x_e(e,t,n);if(i==null)return UF;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(S_e(i)){if(a)return ZF(ZF({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return ZF(ZF({},UF),{},{coordinate:i.coordinate})};function C_e(e){if(typeof e==`number`)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function w_e(e,t){var n=C_e(e),r=t[0],i=t[1];return n===void 0?!1:n>=Math.min(r,i)&&n<=Math.max(r,i)}function T_e(e,t,n){if(n==null||t==null)return!0;var r=qT(e,t);return r==null||!ZM(n)?!0:w_e(r,n)}var $F=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!FE(a))return i;var o=0,s=1/0;t.length>0&&(s=t.length-1);var c=Math.max(o,Math.min(a,s)),l=t[c];return l==null||T_e(l,n,r)?String(c):null},eI=(e,t,n,r,i,a,o,s)=>{if(!(a==null||s==null)){var c=o[0],l=c==null?void 0:s(c.positions,a);if(l!=null)return l;var u=i?.[Number(a)];if(u)switch(n){case`horizontal`:return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},tI=(e,t,n,r)=>{if(t===`axis`)return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i=n===`hover`?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey;return i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>e.settings?.dataKey===i)},nI=e=>e.options.tooltipPayloadSearcher,rI=e=>e.tooltip;function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?iI(Object(n),!0).forEach(function(t){E_e(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E_e(e,t,n){return(t=D_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D_e(e){var t=O_e(e,`string`);return typeof t==`symbol`?t:t+``}function O_e(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function k_e(e,t){return e??t}var oI=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:c,dataStartIndex:l,dataEndIndex:u}=n;return e.reduce((e,n)=>{var{dataDefinedOnItem:d,settings:f}=n,p=k_e(d,s),m=Array.isArray(p)?WT(p,l,u):p,h=f?.dataKey??r,g=f?.nameKey,_=r&&Array.isArray(m)&&!Array.isArray(m[0])&&o===`axis`?Nue(m,r,i):a(m,t,c,g);return Array.isArray(_)?_.forEach(t=>{var n=aI(aI({},f),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(nE({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:qT(t.payload,t.dataKey),name:t.name}))}):e.push(nE({tooltipEntrySettings:f,dataKey:h,payload:_,value:qT(_,h),name:qT(_,g)??f?.name})),e},[])}},sI=W([KP,YE,AP,GN,hP],pF),cI=W([W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),KP,W([hP,gP],jP)],NP,{memoizeOptions:{resultEqualityCheck:mP}}),A_e=W([cI],e=>e.filter(fP)),lI=W([W([cI],LP,{memoizeOptions:{resultEqualityCheck:mP}}),JM],RP),j_e=W([A_e,JM,KP],dP),uI=W([lI,KP,cI],BP),dI=W([KP],ZP),fI=W([dI,W([KP],e=>e.allowDataOverflow)],$M),M_e=W([W([j_e,W([cI],e=>e.filter(fP)),UN,WN],JP),JM,hP,fI],XP),N_e=W([lI,KP,W([cI],IP),eF,hP],nF,{memoizeOptions:{resultEqualityCheck:pP}}),P_e=W([W([rF,hP,gP],iF),hP],sF),F_e=W([W([aF,hP,gP],iF),hP],cF),pI=W([KP,YE,lI,uI,UN,hP,W([KP,dI,fI,M_e,N_e,W([P_e,W([W([oF,hP,gP],iF),hP],lF),F_e],tF),YE,hP],uF)],dF),I_e=W([KP,pI,W([pI,KP,sI],gF),hP],vF),mI=e=>bF(e,hP(e),gP(e),!1),hI=W([KP,mI],QN),gI=W([KP,sI,I_e,hI],hF),_I=W([YE,KP,sI,gI,mI,W([YE,uI,KP,hP],AF),W([YE,uI,KP,hP],MF),hP],(e,t,n,r,i,a,o,s)=>{if(t){var{type:c}=t,l=JT(e,s);if(r){var u=n===`scaleBand`&&r.bandwidth?r.bandwidth()/2:2,d=c===`category`&&r.bandwidth?r.bandwidth()/u:0;return d=s===`angleAxis`&&i!=null&&i?.length>=2?YS(i[0]-i[1])*2*d:d,l&&o?o.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),vI=W([RF,zF,l_e],(e,t,n)=>BF(n.shared,e,t)),yI=e=>e.tooltip.settings.trigger,bI=e=>e.tooltip.settings.defaultIndex,xI=W([rI,vI,yI,bI],QF),SI=W([xI,lI,qP,pI],$F),CI=W([_I,SI],HF),wI=W([xI],e=>{if(e)return e.dataKey}),L_e=W([xI],e=>{if(e)return e.graphicalItemId}),TI=W([rI,vI,yI,bI],tI),R_e=W([xI,W([oE,sE,YE,wE,_I,bI,TI,nI],eI)],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),z_e=W([xI],e=>e.active);W([W([TI,SI,JM,qP,CI,nI,vI],oI)],e=>{if(e!=null){var t=e.map(e=>e.payload).filter(e=>e!=null);return Array.from(new Set(t))}});function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?EI(Object(n),!0).forEach(function(t){B_e(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B_e(e,t,n){return(t=V_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V_e(e){var t=H_e(e,`string`);return typeof t==`symbol`?t:t+``}function H_e(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var U_e=()=>AC(KP),W_e=()=>{var e=U_e(),t=AC(_I),n=AC(gI);return tE(!e||!n?void 0:DI(DI({},e),{},{scale:n}),t)};function OI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?OI(Object(n),!0).forEach(function(t){G_e(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function G_e(e,t,n){return(t=K_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K_e(e){var t=q_e(e,`string`);return typeof t==`symbol`?t:t+``}function q_e(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var J_e=(e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if(e===`horizontal`)return{x:i.coordinate,y:r.chartY};if(e===`vertical`)return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Y_e=(e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if(e===`centric`){var a=i.coordinate,{radius:o}=r;return kI(kI(kI({},r),IO(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:c}=r;return kI(kI(kI({},r),IO(r.cx,r.cy,s,c)),{},{angle:c,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function X_e(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var AI=(e,t,n,r,i)=>{var a=-1,o=t?.length??0;if(o<=1||e==null)return 0;if(r===`angleAxis`&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<o;s++){var c=s>0?n[s-1].coordinate:n[o-1].coordinate,l=n[s].coordinate,u=s>=o-1?n[0].coordinate:n[s+1].coordinate,d=void 0;if(YS(l-c)!==YS(u-l)){var f=[];if(YS(u-l)===YS(i[1]-i[0])){d=u;var p=l+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{d=c;var m=u+i[1]-i[0];f[0]=Math.min(l,(m+l)/2),f[1]=Math.max(l,(m+l)/2)}var h=[Math.min(l,(d+l)/2),Math.max(l,(d+l)/2)];if(e>h[0]&&e<=h[1]||e>=f[0]&&e<=f[1]){({index:a}=n[s]);break}}else{var g=Math.min(c,u),_=Math.max(c,u);if(e>(g+l)/2&&e<=(_+l)/2){({index:a}=n[s]);break}}}else if(t){for(var v=0;v<o;v++)if(v===0&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v>0&&v<o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v===o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2){({index:a}=t[v]);break}}return a},Z_e=l(NC()),Q_e=()=>AC(GN),jI=(e,t)=>t,MI=(e,t,n)=>n,NI=(e,t,n,r)=>r,$_e=W(_I,e=>(0,Z_e.default)(e,e=>e.coordinate)),PI=W([rI,jI,MI,NI],QF),FI=W([PI,lI,qP,pI],$F),eve=(e,t,n)=>{if(t!=null){var r=rI(e);return t===`axis`?n===`hover`?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n===`hover`?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},II=W([rI,jI,MI,NI],tI),LI=W([oE,sE,YE,wE,_I,NI,II,nI],eI),tve=W([PI,LI],(e,t)=>e.coordinate??t),RI=W([_I,FI],HF),nve=W([II,FI,JM,qP,RI,nI,jI],oI),rve=W([PI,FI],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),ive=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&X_e(e,o)){var s=AI(iE(e,t),a,i,n,r),c=J_e(t,i,s,e);return{activeIndex:String(s),activeCoordinate:c}}},ave=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var s=hme(e,n);if(s){var c=AI(aE(s,t),o,a,r,i),l=Y_e(t,a,c,s);return{activeIndex:String(c),activeCoordinate:l}}}},ove=(e,t,n,r,i,a,o,s)=>{if(!(!e||!t||!r||!i||!a))return t===`horizontal`||t===`vertical`?ive(e,t,r,i,a,o,s):ave(e,t,n,r,i,a,o)},sve=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),cve=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(YN));return Array.from(new Set(t)).sort((e,t)=>e-t)},{memoizeOptions:{resultEqualityCheck:_ge}});function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?zI(Object(n),!0).forEach(function(t){lve(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lve(e,t,n){return(t=uve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uve(e){var t=dve(e,`string`);return typeof t==`symbol`?t:t+``}function dve(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var fve={zIndexMap:Object.values(YN).reduce((e,t)=>BI(BI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),{})},pve=new Set(Object.values(YN));function mve(e){return pve.has(e)}var VI=gT({name:`zIndex`,initialState:fve,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:rT()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(--e.zIndexMap[n].consumers,e.zIndexMap[n].consumers<=0&&!mve(n)&&delete e.zIndexMap[n])},prepare:rT()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:rT()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:rT()}}}),{registerZIndexPortal:hve,unregisterZIndexPortal:gve,registerZIndexPortalId:_ve,unregisterZIndexPortalId:vve}=VI.actions,yve=VI.reducer,bve=h();function HI(e){var{zIndex:t,children:n}=e,r=Gfe()&&t!==void 0&&t!==0,i=OE(),a=OC();(0,H.useLayoutEffect)(()=>r?(a(hve({zIndex:t})),()=>{a(gve({zIndex:t}))}):oC,[a,t,r]);var o=AC(e=>sve(e,t,i));if(!r)return n;if(!o)return null;var s=document.getElementById(o);return s?(0,bve.createPortal)(n,s):null}function UI(){return UI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UI.apply(null,arguments)}function WI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?WI(Object(n),!0).forEach(function(t){xve(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xve(e,t,n){return(t=Sve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sve(e){var t=Cve(e,`string`);return typeof t==`symbol`?t:t+``}function Cve(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function wve(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return(0,H.isValidElement)(t)?(0,H.cloneElement)(t,r):(0,H.createElement)(n,r)}function Tve(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:c,chartName:l}=e,u=t,d=n,f=r;if(!s||!u||l!==`ScatterChart`&&c!==`axis`)return null;var p,m,h;if(l===`ScatterChart`)p=u,m=jpe,h=YN.cursorLine;else if(l===`BarChart`)p=Mpe(o,u,i,a),m=MO,h=YN.cursorRectangle;else if(o===`radial`&&fC(u)){var{cx:g,cy:_,radius:v,startAngle:y,endAngle:b}=RO(u);p={cx:g,cy:_,startAngle:y,endAngle:b,innerRadius:v,outerRadius:v},m=GO,h=YN.cursorLine}else p={points:KO(o,u,i)},m=aO,h=YN.cursorLine;var x=typeof s==`object`&&`className`in s?s.className:void 0,S=GI(GI(GI(GI({stroke:`#ccc`,pointerEvents:`none`},i),p),qx(s)),{},{payload:d,payloadIndex:f,className:Vx(`recharts-tooltip-cursor`,x)});return H.createElement(HI,{zIndex:e.zIndex??h},H.createElement(wve,{cursor:s,cursorComp:m,cursorProps:S}))}function Eve(e){var t=W_e(),n=KE(),r=XE(),i=Q_e();return t==null||n==null||r==null||i==null?null:H.createElement(Tve,UI({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var KI=(0,H.createContext)(null),Dve=()=>(0,H.useContext)(KI),Ove=l(o(((e,t)=>{var n=Object.prototype.hasOwnProperty,r=`~`;function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,n,i,o){if(typeof n!=`function`)throw TypeError(`The listener must be a function`);var s=new a(n,i||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function s(e,t){--e._eventsCount===0?e._events=new i:delete e._events[t]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var e=[],t,i;if(this._eventsCount===0)return e;for(i in t=this._events)n.call(t,i)&&e.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e},c.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,o=Array(a);i<a;i++)o[i]=n[i].fn;return o},c.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,i,a,o){var s=r?r+e:e;if(!this._events[s])return!1;var c=this._events[s],l=arguments.length,u,d;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,a),!0;case 6:return c.fn.call(c.context,t,n,i,a,o),!0}for(d=1,u=Array(l-1);d<l;d++)u[d-1]=arguments[d];c.fn.apply(c.context,u)}else{var f=c.length,p;for(d=0;d<f;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),l){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,t);break;case 3:c[d].fn.call(c[d].context,t,n);break;case 4:c[d].fn.call(c[d].context,t,n,i);break;default:if(!u)for(p=1,u=Array(l-1);p<l;p++)u[p-1]=arguments[p];c[d].fn.apply(c[d].context,u)}}return!0},c.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn===t&&(!i||o.once)&&(!n||o.context===n)&&s(this,a);else{for(var c=0,l=[],u=o.length;c<u;c++)(o[c].fn!==t||i&&!o[c].once||n&&o[c].context!==n)&&l.push(o[c]);l.length?this._events[a]=l.length===1?l[0]:l:s(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t!==void 0&&(t.exports=c)}))(),1).default,qI=new Ove,JI=`recharts.syncEvent.tooltip`,YI=`recharts.syncEvent.brush`;function XI(e,t){if(t){var n=Number.parseInt(t,10);if(!XS(n))return e?.[n]}}var ZI=gT({name:`options`,initialState:{chartName:``,tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:`axis`},reducers:{createEventEmitter:e=>{e.eventEmitter??=Symbol(`rechartsEventEmitter`)}}}),kve=ZI.reducer,{createEventEmitter:Ave}=ZI.actions;function jve(e){return e.tooltip.syncInteraction}var QI=gT({name:`chartData`,initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:$I,setDataStartEndIndexes:Mve,setComputedData:Nve}=QI.actions,Pve=QI.reducer,Fve=[`x`,`y`];function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?eL(Object(n),!0).forEach(function(t){Ive(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ive(e,t,n){return(t=Lve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lve(e){var t=Rve(e,`string`);return typeof t==`symbol`?t:t+``}function Rve(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function zve(e,t){if(e==null)return{};var n,r,i=Bve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vve(){var e=AC(KN),t=AC(JN),n=OC(),r=AC(qN),i=AC(_I),a=XE(),o=GE();(0,H.useEffect)(()=>{if(e==null)return oC;var s=(s,c,l)=>{if(t!==l&&e===s){if(r===`index`){var u;if(o&&c!=null&&(u=c.payload)!=null&&u.coordinate&&c.payload.sourceViewBox){var d=c.payload.coordinate,{x:f,y:p}=d,m=zve(d,Fve),{x:h,y:g,width:_,height:v}=c.payload.sourceViewBox,y=tL(tL({},m),{},{x:o.x+(_?(f-h)/_:0)*o.width,y:o.y+(v?(p-g)/v:0)*o.height});n(tL(tL({},c),{},{payload:tL(tL({},c.payload),{},{coordinate:y})}))}else n(c);return}if(i!=null){var b;typeof r==`function`?b=i[r(i,{activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate})]:r===`value`&&(b=i.find(e=>String(e.value)===c.payload.label));var{coordinate:x}=c.payload;if(b==null||c.payload.active===!1||x==null||o==null){n(JF({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:S,y:C}=x,w=Math.min(S,o.x+o.width),T=Math.min(C,o.y+o.height),E={x:a===`horizontal`?b.coordinate:w,y:a===`horizontal`?T:b.coordinate};n(JF({active:c.payload.active,coordinate:E,dataKey:c.payload.dataKey,index:String(b.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId}))}}};return qI.on(JI,s),()=>{qI.off(JI,s)}},[AC(e=>e.rootProps.className),n,t,e,r,i,a,o])}function Hve(){var e=AC(KN),t=AC(JN),n=OC();(0,H.useEffect)(()=>{if(e==null)return oC;var r=(r,i,a)=>{t!==a&&e===r&&n(Mve(i))};return qI.on(YI,r),()=>{qI.off(YI,r)}},[n,t,e])}function Uve(){var e=OC();(0,H.useEffect)(()=>{e(Ave())},[e]),Vve(),Hve()}function Wve(e,t,n,r,i,a){var o=AC(n=>eve(n,e,t)),s=AC(JN),c=AC(KN),l=AC(qN),u=AC(jve)?.active,d=GE();(0,H.useEffect)(()=>{if(!u&&c!=null&&s!=null){var e=JF({active:a,coordinate:n,dataKey:o,index:i,label:typeof r==`number`?String(r):r,sourceViewBox:d,graphicalItemId:void 0});qI.emit(JI,c,e,s)}},[u,n,o,i,r,s,c,l,a,d])}var Gve=h();function nL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?nL(Object(n),!0).forEach(function(t){Kve(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Kve(e,t,n){return(t=qve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qve(e){var t=Jve(e,`string`);return typeof t==`symbol`?t:t+``}function Jve(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function Yve(e){return e.dataKey}function Xve(e,t){return H.isValidElement(e)?H.cloneElement(e,t):typeof e==`function`?H.createElement(e,t):H.createElement(upe,t)}var iL=[],Zve={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:`ease`,axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:`auto`,itemSorter:`name`,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:` : `,trigger:`hover`,useTranslate3d:!1,wrapperStyle:{}};function aL(e){var t=hC(e,Zve),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:c,offset:l,payloadUniqBy:u,position:d,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:h,shared:g,trigger:_,defaultIndex:v,portal:y,axisId:b}=t,x=OC(),S=typeof v==`number`?String(v):v;(0,H.useEffect)(()=>{x(p_e({shared:g,trigger:_,axisId:b,active:n,defaultIndex:S}))},[x,g,_,b,n,S]);var C=GE(),w=XD(),T=c_e(g),{activeIndex:E,isActive:D}=AC(e=>rve(e,T,_,S))??{},O=AC(e=>nve(e,T,_,S)),k=AC(e=>RI(e,T,_,S)),A=AC(e=>tve(e,T,_,S)),j=O,M=Dve(),N=n??D??!1,[P,F]=Ede([j,N]),I=T===`axis`?k:void 0;Wve(T,_,A,I,E,N);var L=y??M;if(L==null||C==null||T==null)return null;var R=j??iL;N||(R=iL),s&&R.length&&(R=mde(R.filter(e=>e.value!=null&&(e.hide!==!0||t.includeHidden)),u,Yve));var ee=R.length>0,te=H.createElement(_pe,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:c,active:N,coordinate:A,hasPayload:ee,offset:l,position:d,reverseDirection:f,useTranslate3d:p,viewBox:C,wrapperStyle:m,lastBoundingBox:P,innerRef:F,hasPortalFromProps:!!y},Xve(o,rL(rL({},t),{},{payload:R,label:I,active:N,activeIndex:E,coordinate:A,accessibilityLayer:w})));return H.createElement(H.Fragment,null,(0,Gve.createPortal)(te,L),N&&H.createElement(Eve,{cursor:h,tooltipEventType:T,coordinate:A,payload:R,index:E}))}var oL=e=>null;oL.displayName=`Cell`;function Qve(e,t,n){return(t=$ve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ve(e){var t=eye(e,`string`);return typeof t==`symbol`?t:t+``}function eye(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var tye=class{constructor(e){Qve(this,`cache`,new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}};function sL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?sL(Object(n),!0).forEach(function(t){rye(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rye(e,t,n){return(t=iye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iye(e){var t=aye(e,`string`);return typeof t==`symbol`?t:t+``}function aye(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var cL=nye({},{cacheSize:2e3,enableCache:!0}),lL=new tye(cL.cacheSize),oye={position:`absolute`,top:`-20000px`,left:0,padding:0,margin:0,border:`none`,whiteSpace:`pre`},uL=`recharts_measurement_span`;function sye(e,t){return`${e}|${t.fontSize||``}|${t.fontFamily||``}|${t.fontWeight||``}|${t.fontStyle||``}|${t.letterSpacing||``}|${t.textTransform||``}`}var dL=(e,t)=>{try{var n=document.getElementById(uL);n||(n=document.createElement(`span`),n.setAttribute(`id`,uL),n.setAttribute(`aria-hidden`,`true`),document.body.appendChild(n)),Object.assign(n.style,oye,t),n.textContent=`${e}`;var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},fL=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||xO.isSsr)return{width:0,height:0};if(!cL.enableCache)return dL(e,t);var n=sye(e,t),r=lL.get(n);if(r)return r;var i=dL(e,t);return lL.set(n,i),i},pL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hL=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gL=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_L={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vL=Object.keys(_L),yL=`NaN`;function bL(e,t){return e*_L[t]}var xL=class e{static parse(t){var[,n,r]=gL.exec(t)??[];return new e(parseFloat(n),r??``)}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,XS(e)&&(this.unit=``),t!==``&&!hL.test(t)&&(this.num=NaN,this.unit=``),vL.includes(t)&&(this.num=bL(e,t),this.unit=`px`)}add(t){return this.unit===t.unit?new e(this.num+t.num,this.unit):new e(NaN,``)}subtract(t){return this.unit===t.unit?new e(this.num-t.num,this.unit):new e(NaN,``)}multiply(t){return this.unit!==``&&t.unit!==``&&this.unit!==t.unit?new e(NaN,``):new e(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==``&&t.unit!==``&&this.unit!==t.unit?new e(NaN,``):new e(this.num/t.num,this.unit||t.unit)}toString(){return`${this.num}${this.unit}`}isNaN(){return XS(this.num)}};function SL(e){if(e.includes(yL))return yL;for(var t=e;t.includes(`*`)||t.includes(`/`);){var[,n,r,i]=pL.exec(t)??[],a=xL.parse(n??``),o=xL.parse(i??``),s=r===`*`?a.multiply(o):a.divide(o);if(s.isNaN())return yL;t=t.replace(pL,s.toString())}for(;t.includes(`+`)||/.-\d+(?:\.\d+)?/.test(t);){var[,c,l,u]=mL.exec(t)??[],d=xL.parse(c??``),f=xL.parse(u??``),p=l===`+`?d.add(f):d.subtract(f);if(p.isNaN())return yL;t=t.replace(mL,p.toString())}return t}var CL=/\(([^()]*)\)/;function wL(e){for(var t=e,n;(n=CL.exec(t))!=null;){var[,r]=n;t=t.replace(CL,SL(r))}return t}function TL(e){var t=e.replace(/\s+/g,``);return t=wL(t),t=SL(t),t}function EL(e){try{return TL(e)}catch{return yL}}function DL(e){var t=EL(e.slice(5,-1));return t===yL?``:t}var OL=[`x`,`y`,`lineHeight`,`capHeight`,`fill`,`scaleToFit`,`textAnchor`,`verticalAnchor`],kL=[`dx`,`dy`,`angle`,`className`,`breakAll`];function AL(){return AL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AL.apply(null,arguments)}function jL(e,t){if(e==null)return{};var n,r,i=ML(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ML(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var NL=/[ \f\n\r\t\v\u2028\u2029]+/,PL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return iC(t)||(i=n?t.toString().split(``):t.toString().split(NL)),{wordsWithComputedWidth:i.map(e=>({word:e,width:fL(e,r).width})),spaceWidth:n?0:fL(`\xA0`,r).width}}catch{return null}};function FL(e){return e===`start`||e===`middle`||e===`end`||e===`inherit`}var IL=(e,t,n,r)=>e.reduce((e,i)=>{var{word:a,width:o}=i,s=e[e.length-1];if(s&&o!=null&&(t==null||r||s.width+o+n<Number(t)))s.words.push(a),s.width+=o+n;else{var c={words:[a],width:o};e.push(c)}return e},[]),LL=e=>e.reduce((e,t)=>e.width>t.width?e:t),RL=``,zL=(e,t,n,r,i,a,o,s)=>{var c=PL({breakAll:n,style:r,children:e.slice(0,t)+RL});if(!c)return[!1,[]];var l=IL(c.wordsWithComputedWidth,a,o,s);return[l.length>i||LL(l).width>Number(a),l]},BL=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:c}=e,l=QS(a),u=String(o),d=IL(t,r,n,i);if(!l||i||!(d.length>a||LL(d).width>Number(r)))return d;for(var f=0,p=u.length-1,m=0,h;f<=p&&m<=u.length-1;){var g=Math.floor((f+p)/2),[_,v]=zL(u,g-1,c,s,a,r,n,i),[y]=zL(u,g,c,s,a,r,n,i);if(!_&&!y&&(f=g+1),_&&y&&(p=g-1),!_&&y){h=v;break}m++}return h||d},VL=e=>[{words:iC(e)?[]:e.toString().split(NL),width:void 0}],HL=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!xO.isSsr){var s,c,l=PL({breakAll:a,children:r,style:i});if(l){var{wordsWithComputedWidth:u,spaceWidth:d}=l;s=u,c=d}else return VL(r);return BL({breakAll:a,children:r,maxLines:o,style:i},s,c,t,!!n)}return VL(r)},UL=`#808080`,WL={angle:0,breakAll:!1,capHeight:`0.71em`,fill:UL,lineHeight:`1em`,scaleToFit:!1,textAnchor:`start`,verticalAnchor:`end`,x:0,y:0},GL=(0,H.forwardRef)((e,t)=>{var n=hC(e,WL),{x:r,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:c,textAnchor:l,verticalAnchor:u}=n,d=jL(n,OL),f=(0,H.useMemo)(()=>HL({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:c,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,c,d.style,d.width]),{dx:p,dy:m,angle:h,className:g,breakAll:_}=d,v=jL(d,kL);if(!$S(r)||!$S(i)||f.length===0)return null;var y=Number(r)+(QS(p)?p:0),b=Number(i)+(QS(m)?m:0);if(!FE(y)||!FE(b))return null;var x;switch(u){case`start`:x=DL(`calc(${o})`);break;case`middle`:x=DL(`calc(${(f.length-1)/2} * -${a} + (${o} / 2))`);break;default:x=DL(`calc(${f.length-1} * -${a})`);break}var S=[];if(c){var C=f[0].width,{width:w}=d;S.push(`scale(${QS(w)&&QS(C)?w/C:1})`)}return h&&S.push(`rotate(${h}, ${y}, ${b})`),S.length&&(v.transform=S.join(` `)),H.createElement(`text`,AL({},Jx(v),{ref:t,x:y,y:b,className:Vx(`recharts-text`,g),textAnchor:l,fill:s.includes(`url`)?UL:s}),f.map((e,t)=>{var n=e.words.join(_?``:` `);return H.createElement(`tspan`,{x:y,dy:t===0?x:a,key:`${n}-${t}`},n)}))});GL.displayName=`Text`;var KL=[`labelRef`];function qL(e,t){if(e==null)return{};var n,r,i=JL(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JL(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?YL(Object(n),!0).forEach(function(t){ZL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZL(e,t,n){return(t=QL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QL(e){var t=$L(e,`string`);return typeof t==`symbol`?t:t+``}function $L(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function eR(){return eR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eR.apply(null,arguments)}var tR=(0,H.createContext)(null),nR=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:s}=e,c=(0,H.useMemo)(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return H.createElement(tR.Provider,{value:c},s)},rR=()=>{var e=(0,H.useContext)(tR),t=GE();return e||WE(t)},iR=(0,H.createContext)(null),aR=()=>{var e=(0,H.useContext)(iR),t=AC(sP);return e||t},oR=e=>{var{value:t,formatter:n}=e,r=iC(e.children)?t:e.children;return typeof n==`function`?n(r):r},sR=e=>e!=null&&typeof e==`function`,cR=(e,t)=>YS(t-e)*Math.min(Math.abs(t-e),360),lR=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:s,cy:c,innerRadius:l,outerRadius:u,startAngle:d,endAngle:f,clockWise:p}=i,m=(l+u)/2,h=cR(d,f),g=h>=0?1:-1,_,v;switch(t){case`insideStart`:_=d+g*a,v=p;break;case`insideEnd`:_=f-g*a,v=!p;break;case`end`:_=f+g*a,v=p;break;default:throw Error(`Unsupported position ${t}`)}v=h<=0?v:!v;var y=IO(s,c,m,_),b=IO(s,c,m,_+(v?1:-1)*359),x=`M${y.x},${y.y}
    A${m},${m},0,1,${v?0:1},
    ${b.x},${b.y}`,S=iC(e.id)?eC(`recharts-radial-line-`):e.id;return H.createElement(`text`,eR({},r,{dominantBaseline:`central`,className:Vx(`recharts-radial-bar-label`,o)}),H.createElement(`defs`,null,H.createElement(`path`,{id:S,d:x})),H.createElement(`textPath`,{xlinkHref:`#${S}`},n))},uR=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:c}=e,l=(s+c)/2;if(n===`outside`){var{x:u,y:d}=IO(r,i,o+t,l);return{x:u,y:d,textAnchor:u>=r?`start`:`end`,verticalAnchor:`middle`}}if(n===`center`)return{x:r,y:i,textAnchor:`middle`,verticalAnchor:`middle`};if(n===`centerTop`)return{x:r,y:i,textAnchor:`middle`,verticalAnchor:`start`};if(n===`centerBottom`)return{x:r,y:i,textAnchor:`middle`,verticalAnchor:`end`};var{x:f,y:p}=IO(r,i,(a+o)/2,l);return{x:f,y:p,textAnchor:`middle`,verticalAnchor:`middle`}},dR=e=>`cx`in e&&QS(e.cx),fR=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!dR(n)&&(a=n);var{x:o,y:s,upperWidth:c,lowerWidth:l,height:u}=t,d=o,f=o+(c-l)/2,p=(d+f)/2,m=(c+l)/2,h=d+c/2,g=u>=0?1:-1,_=g*r,v=g>0?`end`:`start`,y=g>0?`start`:`end`,b=c>=0?1:-1,x=b*r,S=b>0?`end`:`start`,C=b>0?`start`:`end`;if(i===`top`)return XL(XL({},{x:d+c/2,y:s-_,textAnchor:`middle`,verticalAnchor:v}),a?{height:Math.max(s-a.y,0),width:c}:{});if(i===`bottom`)return XL(XL({},{x:f+l/2,y:s+u+_,textAnchor:`middle`,verticalAnchor:y}),a?{height:Math.max(a.y+a.height-(s+u),0),width:l}:{});if(i===`left`){var w={x:p-x,y:s+u/2,textAnchor:S,verticalAnchor:`middle`};return XL(XL({},w),a?{width:Math.max(w.x-a.x,0),height:u}:{})}if(i===`right`){var T={x:p+m+x,y:s+u/2,textAnchor:C,verticalAnchor:`middle`};return XL(XL({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:u}:{})}var E=a?{width:m,height:u}:{};return i===`insideLeft`?XL({x:p+x,y:s+u/2,textAnchor:C,verticalAnchor:`middle`},E):i===`insideRight`?XL({x:p+m-x,y:s+u/2,textAnchor:S,verticalAnchor:`middle`},E):i===`insideTop`?XL({x:d+c/2,y:s+_,textAnchor:`middle`,verticalAnchor:y},E):i===`insideBottom`?XL({x:f+l/2,y:s+u-_,textAnchor:`middle`,verticalAnchor:v},E):i===`insideTopLeft`?XL({x:d+x,y:s+_,textAnchor:C,verticalAnchor:y},E):i===`insideTopRight`?XL({x:d+c-x,y:s+_,textAnchor:S,verticalAnchor:y},E):i===`insideBottomLeft`?XL({x:f+x,y:s+u-_,textAnchor:C,verticalAnchor:v},E):i===`insideBottomRight`?XL({x:f+l-x,y:s+u-_,textAnchor:S,verticalAnchor:v},E):i&&typeof i==`object`&&(QS(i.x)||ZS(i.x))&&(QS(i.y)||ZS(i.y))?XL({x:o+tC(i.x,m),y:s+tC(i.y,u),textAnchor:`end`,verticalAnchor:`end`},E):XL({x:h,y:s+u/2,textAnchor:`middle`,verticalAnchor:`middle`},E)},pR={angle:0,offset:5,zIndex:YN.label,position:`middle`,textBreakAll:!1};function mR(e){var t=hC(e,pR),{viewBox:n,position:r,value:i,children:a,content:o,className:s=``,textBreakAll:c,labelRef:l}=t,u=aR(),d=rR(),f=n==null?r===`center`?d:u??d:dR(n)?n:WE(n),p,m;if(!f||iC(i)&&iC(a)&&!(0,H.isValidElement)(o)&&typeof o!=`function`)return null;var h=XL(XL({},t),{},{viewBox:f});if((0,H.isValidElement)(o)){var{labelRef:g}=h;return(0,H.cloneElement)(o,qL(h,KL))}if(typeof o==`function`){if(p=(0,H.createElement)(o,h),(0,H.isValidElement)(p))return p}else p=oR(t);var _=Jx(t);if(dR(f)){if(r===`insideStart`||r===`insideEnd`||r===`end`)return lR(t,r,p,_,f);m=uR(f,t.offset,t.position)}else m=fR(t,f);return H.createElement(HI,{zIndex:t.zIndex},H.createElement(GL,eR({ref:l,className:Vx(`recharts-label`,s)},_,m,{textAnchor:FL(_.textAnchor)?_.textAnchor:m.textAnchor,breakAll:c}),p))}mR.displayName=`Label`;var hR=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?H.createElement(mR,eR({key:`label-implicit`},r)):$S(e)?H.createElement(mR,eR({key:`label-implicit`,value:e},r)):(0,H.isValidElement)(e)?e.type===mR?(0,H.cloneElement)(e,XL({key:`label-implicit`},r)):H.createElement(mR,eR({key:`label-implicit`,content:e},r)):sR(e)?H.createElement(mR,eR({key:`label-implicit`,content:e},r)):e&&typeof e==`object`?H.createElement(mR,eR({},e,{key:`label-implicit`},r)):null};function gR(e){var{label:t,labelRef:n}=e;return hR(t,rR(),n)||null}var _R=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return e[e.length-1]}e.last=t})),vR=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){return Array.isArray(e)?e:Array.from(e)}e.toArray=t})),yR=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});var t=_R(),n=vR(),r=_C();function i(e){if(r.isArrayLike(e))return t.last(n.toArray(e))}e.last=i})),bR=l(o(((e,t)=>{t.exports=yR().last}))()),xR=[`valueAccessor`],SR=[`dataKey`,`clockWise`,`id`,`textBreakAll`,`zIndex`];function CR(){return CR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CR.apply(null,arguments)}function wR(e,t){if(e==null)return{};var n,r,i=TR(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TR(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ER=e=>Array.isArray(e.value)?(0,bR.default)(e.value):e.value,DR=(0,H.createContext)(void 0),OR=DR.Provider,kR=(0,H.createContext)(void 0),AR=kR.Provider;function jR(){return(0,H.useContext)(DR)}function MR(){return(0,H.useContext)(kR)}function NR(e){var{valueAccessor:t=ER}=e,n=wR(e,xR),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:s}=n,c=wR(n,SR),l=jR(),u=MR(),d=l||u;return!d||!d.length?null:H.createElement(HI,{zIndex:s??YN.label},H.createElement(Qx,{className:`recharts-label-list`},d.map((e,i)=>{var s=iC(r)?t(e,i):qT(e&&e.payload,r),l=iC(a)?{}:{id:`${a}-${i}`};return H.createElement(mR,CR({key:`label-${i}`},Jx(e),c,l,{fill:n.fill??e.fill,parentViewBox:e.parentViewBox,value:s,textBreakAll:o,viewBox:e.viewBox,index:i,zIndex:0}))})))}NR.displayName=`LabelList`;function PR(e){var{label:t}=e;return t?t===!0?H.createElement(NR,{key:`labelList-implicit`}):H.isValidElement(t)||sR(t)?H.createElement(NR,{key:`labelList-implicit`,content:t}):typeof t==`object`?H.createElement(NR,CR({key:`labelList-implicit`},t,{type:String(t.type)})):null:null}var FR=e=>e.graphicalItems.polarItems,IR=W([FR,OP,W([cP,lP],jP)],NP),LR=W([W([IR],LP),YM],RP),RR=W([LR,OP,IR],BP);W([LR,OP,IR],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>({value:qT(e,t.dataKey??n.dataKey),errorDomain:[]}))).filter(Boolean):t?.dataKey==null?e.map(e=>({value:e,errorDomain:[]})):e.map(e=>({value:qT(e,t.dataKey),errorDomain:[]})));var zR=()=>void 0,BR=W([OP,YE,LR,RR,UN,cP,W([OP,QP,$P,zR,W([LR,OP,IR,eF,cP],nF),zR,YE,cP],uF)],dF);W([OP,BR,W([BR,OP,mF],gF),cP],vF);var VR=gT({name:`polarAxis`,initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=LD(t.payload)},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=LD(t.payload)},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:cye,removeRadiusAxis:lye,addAngleAxis:uye,removeAngleAxis:dye}=VR.actions,HR=VR.reducer;function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?UR(Object(n),!0).forEach(function(t){GR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GR(e,t,n){return(t=KR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KR(e){var t=qR(e,`string`);return typeof t==`symbol`?t:t+``}function qR(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var JR=W([FR,(e,t)=>t],(e,t)=>e.filter(e=>e.type===`pie`).find(e=>e.id===t)),YR=[],XR=(e,t,n)=>n?.length===0?YR:n,ZR=W([YM,JR,XR],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i=t?.data!=null&&t.data.length>0?t.data:r;if((!i||!i.length)&&n!=null&&(i=n.map(e=>WR(WR({},t.presentationProps),e.props))),i!=null)return i}}),QR=W([ZR,JR,XR],(e,t,n)=>{if(!(e==null||t==null))return e.map((e,r)=>{var i,a=qT(e,t.nameKey,t.name),o=n!=null&&(i=n[r])!=null&&(i=i.props)!=null&&i.fill?n[r].props.fill:typeof e==`object`&&e&&`fill`in e?e.fill:t.fill;return{value:rE(a,t.dataKey),color:o,payload:e,type:t.legendType}})}),$R=W([ZR,JR,XR,wE],(e,t,n,r)=>{if(!(t==null||e==null))return wB({offset:r,pieSettings:t,displayedData:e,cells:n})}),ez=o((e=>{var t=typeof Symbol==`function`&&Symbol.for,n=t?Symbol.for(`react.element`):60103,r=t?Symbol.for(`react.portal`):60106,i=t?Symbol.for(`react.fragment`):60107,a=t?Symbol.for(`react.strict_mode`):60108,o=t?Symbol.for(`react.profiler`):60114,s=t?Symbol.for(`react.provider`):60109,c=t?Symbol.for(`react.context`):60110,l=t?Symbol.for(`react.async_mode`):60111,u=t?Symbol.for(`react.concurrent_mode`):60111,d=t?Symbol.for(`react.forward_ref`):60112,f=t?Symbol.for(`react.suspense`):60113,p=t?Symbol.for(`react.memo`):60115,m=t?Symbol.for(`react.lazy`):60116;function h(e){if(typeof e==`object`&&e){var t=e.$$typeof;switch(t){case n:switch(e=e.type,e){case l:case u:case i:case o:case a:case f:return e;default:switch(e&&=e.$$typeof,e){case c:case d:case m:case p:case s:return e;default:return t}}case r:return t}}}e.isFragment=function(e){return h(e)===i}})),tz=o(((e,t)=>{t.exports=ez()})),nz=l(JS()),rz=tz(),iz=e=>typeof e==`string`?e:e?e.displayName||e.name||`Component`:``,az=null,oz=null,sz=e=>{if(e===az&&Array.isArray(oz))return oz;var t=[];return H.Children.forEach(e,e=>{iC(e)||((0,rz.isFragment)(e)?t=t.concat(sz(e.props.children)):t.push(e))}),oz=t,az=e,t};function cz(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>iz(e)):[iz(t)],sz(e).forEach(e=>{var t=(0,nz.default)(e,`type.displayName`)||(0,nz.default)(e,`type.name`);t&&r.indexOf(t)!==-1&&n.push(e)}),n}var lz=o((e=>{Object.defineProperty(e,Symbol.toStringTag,{value:`Module`});function t(e){if(typeof e!=`object`||!e)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!==`[object Object]`){let t=e[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${t}]`}let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}e.isPlainObject=t})),uz=o(((e,t)=>{t.exports=lz().isPlainObject}));function dz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?dz(Object(n),!0).forEach(function(t){pz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pz(e,t,n){return(t=mz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mz(e){var t=hz(e,`string`);return typeof t==`symbol`?t:t+``}function hz(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function gz(){return gz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gz.apply(null,arguments)}var _z=(e,t,n,r,i)=>{var a=n-r,o=`M ${e},${t}`;return o+=`L ${e+n},${t}`,o+=`L ${e+n-a/2},${t+i}`,o+=`L ${e+n-a/2-r},${t+i}`,o+=`L ${e},${t} Z`,o},vz={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:`ease`},yz=e=>{var t=hC(e,vz),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:c,animationDuration:l,animationBegin:u,isUpdateAnimationActive:d}=t,f=(0,H.useRef)(null),[p,m]=(0,H.useState)(-1),h=(0,H.useRef)(i),g=(0,H.useRef)(a),_=(0,H.useRef)(o),v=(0,H.useRef)(n),y=(0,H.useRef)(r),b=TO(e,`trapezoid-`);if((0,H.useEffect)(()=>{if(f.current&&f.current.getTotalLength)try{var e=f.current.getTotalLength();e&&m(e)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var x=Vx(`recharts-trapezoid`,s);if(!d)return H.createElement(`g`,null,H.createElement(`path`,gz({},Jx(t),{className:x,d:_z(n,r,i,a,o)})));var S=h.current,C=g.current,w=_.current,T=v.current,E=y.current,D=`0px ${p===-1?1:p}px`,O=`${p}px 0px`,k=uO([`strokeDasharray`],l,c);return H.createElement(wO,{animationId:b,key:b,canBegin:p>0,duration:l,easing:c,isActive:d,begin:u},e=>{var s=rC(S,i,e),c=rC(C,a,e),l=rC(w,o,e),u=rC(T,n,e),d=rC(E,r,e);f.current&&(h.current=s,g.current=c,_.current=l,v.current=u,y.current=d);var p=e>0?{transition:k,strokeDasharray:O}:{strokeDasharray:D};return H.createElement(`path`,gz({},Jx(t),{className:x,d:_z(u,d,s,c,l),ref:f,style:fz(fz({},p),t.style)}))})},bz=l(uz()),xz=[`option`,`shapeType`,`propTransformer`,`activeClassName`];function Sz(e,t){if(e==null)return{};var n,r,i=Cz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?wz(Object(n),!0).forEach(function(t){Ez(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ez(e,t,n){return(t=Dz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dz(e){var t=Oz(e,`string`);return typeof t==`symbol`?t:t+``}function Oz(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function kz(e,t){return Tz(Tz({},t),e)}function Az(e,t){return e===`symbols`}function jz(e){var{shapeType:t,elementProps:n}=e;switch(t){case`rectangle`:return H.createElement(MO,n);case`trapezoid`:return H.createElement(yz,n);case`sector`:return H.createElement(GO,n);case`symbols`:if(Az(t,n))return H.createElement(dC,n);break;case`curve`:return H.createElement(aO,n);default:return null}}function Mz(e){return(0,H.isValidElement)(e)?e.props:e}function Nz(e){var{option:t,shapeType:n,propTransformer:r=kz,activeClassName:i=`recharts-active-shape`}=e,a=Sz(e,xz),o;if((0,H.isValidElement)(t))o=(0,H.cloneElement)(t,Tz(Tz({},a),Mz(t)));else if(typeof t==`function`)o=t(a,a.index);else if((0,bz.default)(t)&&typeof t!=`boolean`){var s=r(t,a);o=H.createElement(jz,{shapeType:n,elementProps:s})}else{var c=a;o=H.createElement(jz,{shapeType:n,elementProps:c})}return a.isActive?H.createElement(Qx,{className:i},o):o}var Pz=(e,t,n)=>{var r=OC();return(i,a)=>o=>{e?.(i,a,o),r(GF({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Fz=e=>{var t=OC();return(n,r)=>i=>{e?.(n,r,i),t(m_e())}},Iz=(e,t,n)=>{var r=OC();return(i,a)=>o=>{e?.(i,a,o),r(h_e({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Lz(e){var{tooltipEntrySettings:t}=e,n=OC(),r=OE(),i=(0,H.useRef)(null);return(0,H.useLayoutEffect)(()=>{r||(i.current===null?n(u_e(t)):i.current!==t&&n(d_e({prev:i.current,next:t})),i.current=t)},[t,n,r]),(0,H.useLayoutEffect)(()=>()=>{i.current&&=(n(f_e(i.current)),null)},[n]),null}function Rz(e){var{legendPayload:t}=e,n=OC(),r=OE(),i=(0,H.useRef)(null);return(0,H.useLayoutEffect)(()=>{r||(i.current===null?n(zD(t)):i.current!==t&&n(BD({prev:i.current,next:t})),i.current=t)},[n,r,t]),(0,H.useLayoutEffect)(()=>()=>{i.current&&=(n(VD(i.current)),null)},[n]),null}function zz(e){var{legendPayload:t}=e,n=OC(),r=AC(YE),i=(0,H.useRef)(null);return(0,H.useLayoutEffect)(()=>{r!==`centric`&&r!==`radial`||(i.current===null?n(zD(t)):i.current!==t&&n(BD({prev:i.current,next:t})),i.current=t)},[n,r,t]),(0,H.useLayoutEffect)(()=>()=>{i.current&&=(n(VD(i.current)),null)},[n]),null}var Bz=H.useId??(()=>{var[e]=H.useState(()=>eC(`uid-`));return e});function Vz(e,t){var n=Bz();return t||(e?`${e}-${n}`:n)}var Hz=(0,H.createContext)(void 0),Uz=e=>{var{id:t,type:n,children:r}=e,i=Vz(`recharts-${n}`,t);return H.createElement(Hz.Provider,{value:i},r(i))},Wz=gT({name:`graphicalItems`,initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(LD(t.payload))},prepare:rT()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Jw(e).cartesianItems.indexOf(LD(n));i>-1&&(e.cartesianItems[i]=LD(r))},prepare:rT()},removeCartesianGraphicalItem:{reducer(e,t){var n=Jw(e).cartesianItems.indexOf(LD(t.payload));n>-1&&e.cartesianItems.splice(n,1)},prepare:rT()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(LD(t.payload))},prepare:rT()},removePolarGraphicalItem:{reducer(e,t){var n=Jw(e).polarItems.indexOf(LD(t.payload));n>-1&&e.polarItems.splice(n,1)},prepare:rT()}}}),{addCartesianGraphicalItem:Gz,replaceCartesianGraphicalItem:Kz,removeCartesianGraphicalItem:qz,addPolarGraphicalItem:Jz,removePolarGraphicalItem:Yz}=Wz.actions,Xz=Wz.reducer,Zz=(0,H.memo)(e=>{var t=OC(),n=(0,H.useRef)(null);return(0,H.useLayoutEffect)(()=>{n.current===null?t(Gz(e)):n.current!==e&&t(Kz({prev:n.current,next:e})),n.current=e},[t,e]),(0,H.useLayoutEffect)(()=>()=>{n.current&&=(t(qz(n.current)),null)},[t]),null});function Qz(e){var t=OC();return(0,H.useLayoutEffect)(()=>(t(Jz(e)),()=>{t(Yz(e))}),[t,e]),null}var $z=l(JS()),eB=[`key`],tB=[`onMouseEnter`,`onClick`,`onMouseLeave`],nB=[`id`],rB=[`id`];function iB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?iB(Object(n),!0).forEach(function(t){oB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oB(e,t,n){return(t=sB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sB(e){var t=cB(e,`string`);return typeof t==`symbol`?t:t+``}function cB(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function lB(){return lB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lB.apply(null,arguments)}function uB(e,t){if(e==null)return{};var n,r,i=dB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fB(e){var t=(0,H.useMemo)(()=>cz(e.children,oL),[e.children]),n=AC(n=>QR(n,e.id,t));return n==null?null:H.createElement(zz,{legendPayload:n})}var pB=H.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:s,hide:c,tooltipType:l}=e,u={dataDefinedOnItem:r.map(e=>e.tooltipPayload),positions:r.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:n,name:rE(s,t),hide:c,type:l,color:o,unit:``}};return H.createElement(Lz,{tooltipEntrySettings:u})}),mB=(e,t)=>e>t?`start`:e<t?`end`:`middle`,hB=(e,t,n)=>tC(typeof t==`function`?t(e):t,n,n*.8),gB=(e,t,n)=>{var{top:r,left:i,width:a,height:o}=t,s=LO(a,o);return{cx:i+tC(e.cx,a,a/2),cy:r+tC(e.cy,o,o/2),innerRadius:tC(e.innerRadius,s,0),outerRadius:hB(n,e.outerRadius,s),maxRadius:e.maxRadius||Math.sqrt(a*a+o*o)/2}},_B=(e,t)=>YS(t-e)*Math.min(Math.abs(t-e),360);function vB(e){return e&&typeof e==`object`&&`className`in e&&typeof e.className==`string`?e.className:``}var yB=(e,t)=>{if(H.isValidElement(e))return H.cloneElement(e,t);if(typeof e==`function`)return e(t);var n=Vx(`recharts-pie-label-line`,typeof e==`boolean`?``:e.className),{key:r}=t,i=uB(t,eB);return H.createElement(aO,lB({},i,{type:`linear`,className:n}))},bB=(e,t,n)=>{if(H.isValidElement(e))return H.cloneElement(e,t);var r=n;if(typeof e==`function`&&(r=e(t),H.isValidElement(r)))return r;var i=Vx(`recharts-pie-label-text`,vB(e));return H.createElement(GL,lB({},t,{alignmentBaseline:`middle`,className:i}),r)};function xB(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!t)return null;var s=Kx(n),c=qx(i),l=qx(a),u=typeof i==`object`&&`offsetRadius`in i&&typeof i.offsetRadius==`number`&&i.offsetRadius||20,d=t.map((e,t)=>{var n=(e.startAngle+e.endAngle)/2,r=IO(e.cx,e.cy,e.outerRadius+u,n),d=aB(aB(aB(aB({},s),e),{},{stroke:`none`},c),{},{index:t,textAnchor:mB(r.x,e.cx)},r),f=aB(aB(aB(aB({},s),e),{},{fill:`none`,stroke:e.fill},l),{},{index:t,points:[IO(e.cx,e.cy,e.outerRadius,n),r],key:`line`});return H.createElement(HI,{zIndex:YN.label,key:`label-${e.startAngle}-${e.endAngle}-${e.midAngle}-${t}`},H.createElement(Qx,null,a&&yB(a,f),bB(i,d,qT(e,o))))});return H.createElement(Qx,{className:`recharts-pie-labels`},d)}function SB(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i==`object`&&i&&`position`in i?H.createElement(PR,{label:i}):H.createElement(xB,{sectors:t,props:n,showLabels:r})}function CB(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:o}=e,s=AC(SI),c=AC(wI),l=AC(L_e),{onMouseEnter:u,onClick:d,onMouseLeave:f}=i,p=uB(i,tB),m=Pz(u,i.dataKey,o),h=Fz(f),g=Iz(d,i.dataKey,o);return t==null||t.length===0?null:H.createElement(H.Fragment,null,t.map((e,u)=>{if(e?.startAngle===0&&e?.endAngle===0&&t.length!==1)return null;var d=l==null||l===o,f=String(u)===s&&(c==null||i.dataKey===c)&&d,_=n&&f?n:s?r:null,v=aB(aB({},e),{},{stroke:e.stroke,tabIndex:-1,[fE]:u,[pE]:i.dataKey});return H.createElement(Qx,lB({key:`sector-${e?.startAngle}-${e?.endAngle}-${e.midAngle}-${u}`,tabIndex:-1,className:`recharts-pie-sector`},pC(p,e,u),{onMouseEnter:m(e,u),onMouseLeave:h(e,u),onClick:g(e,u)}),H.createElement(Nz,lB({option:a??_,index:u,shapeType:`sector`,isActive:f},v)))}))}function wB(e){var{pieSettings:t,displayedData:n,cells:r,offset:i}=e,{cornerRadius:a,startAngle:o,endAngle:s,dataKey:c,nameKey:l,tooltipType:u}=t,d=Math.abs(t.minAngle),f=_B(o,s),p=Math.abs(f),m=n.length<=1?0:t.paddingAngle??0,h=n.filter(e=>qT(e,c,0)!==0).length,g=(p>=360?h:h-1)*m,_=p-h*d-g,v=n.reduce((e,t)=>{var n=qT(t,c,0);return e+(QS(n)?n:0)},0),y;if(v>0){var b;y=n.map((e,n)=>{var s=qT(e,c,0),p=qT(e,l,n),h=gB(t,i,e),g=(QS(s)?s:0)/v,y,x=aB(aB({},e),r&&r[n]&&r[n].props);y=n?b.endAngle+YS(f)*m*(s===0?0:1):o;var S=y+YS(f)*((s===0?0:d)+g*_),C=(y+S)/2,w=(h.innerRadius+h.outerRadius)/2,T=[{name:p,value:s,payload:x,dataKey:c,type:u}],E=IO(h.cx,h.cy,w,C);return b=aB(aB(aB(aB({},t.presentationProps),{},{percent:g,cornerRadius:typeof a==`string`?parseFloat(a):a,name:p,tooltipPayload:T,midAngle:C,middleRadius:w,tooltipPosition:E},x),h),{},{value:s,dataKey:c,startAngle:y,endAngle:S,payload:x,paddingAngle:YS(f)*m}),b})}return y}function TB(e){var{showLabels:t,sectors:n,children:r}=e,i=(0,H.useMemo)(()=>!t||!n?[]:n.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})),[n,t]);return H.createElement(AR,{value:t?i:void 0},r)}function EB(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:c,activeShape:l,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,p=TO(t,`recharts-pie-`),m=n.current,[h,g]=(0,H.useState)(!1),_=(0,H.useCallback)(()=>{typeof f==`function`&&f(),g(!1)},[f]),v=(0,H.useCallback)(()=>{typeof d==`function`&&d(),g(!0)},[d]);return H.createElement(TB,{showLabels:!h,sectors:i},H.createElement(wO,{animationId:p,begin:o,duration:s,isActive:a,easing:c,onAnimationStart:v,onAnimationEnd:_,key:p},e=>{var a=[],o=(i&&i[0])?.startAngle;return i?.forEach((t,n)=>{var r=m&&m[n],i=n>0?(0,$z.default)(t,`paddingAngle`,0):0;if(r){var s=rC(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),c=aB(aB({},t),{},{startAngle:o+i,endAngle:o+s+i});a.push(c),o=c.endAngle}else{var{endAngle:l,startAngle:u}=t,d=rC(0,l-u,e),f=aB(aB({},t),{},{startAngle:o+i,endAngle:o+d+i});a.push(f),o=f.endAngle}}),n.current=a,H.createElement(Qx,null,H.createElement(CB,{sectors:a,activeShape:l,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:r}))}),H.createElement(SB,{showLabels:!h,sectors:i,props:t}),t.children)}var DB={animationBegin:400,animationDuration:1500,animationEasing:`ease`,cx:`50%`,cy:`50%`,dataKey:`value`,endAngle:360,fill:`#808080`,hide:!1,innerRadius:0,isAnimationActive:`auto`,label:!1,labelLine:!0,legendType:`rect`,minAngle:0,nameKey:`name`,outerRadius:`80%`,paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:`#fff`,zIndex:YN.area};function OB(e){var{id:t}=e,n=uB(e,nB),{hide:r,className:i,rootTabIndex:a}=e,o=(0,H.useMemo)(()=>cz(e.children,oL),[e.children]),s=AC(e=>$R(e,t,o)),c=(0,H.useRef)(null),l=Vx(`recharts-pie`,i);return r||s==null?(c.current=null,H.createElement(Qx,{tabIndex:a,className:l})):H.createElement(HI,{zIndex:e.zIndex},H.createElement(pB,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),H.createElement(Qx,{tabIndex:a,className:l},H.createElement(EB,{props:aB(aB({},n),{},{sectors:s}),previousSectorsRef:c,id:t})))}function kB(e){var t=hC(e,DB),{id:n}=t,r=uB(t,rB),i=Kx(r);return H.createElement(Uz,{id:n,type:`pie`},e=>H.createElement(H.Fragment,null,H.createElement(Qz,{type:`pie`,id:e,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),H.createElement(fB,lB({},r,{id:e})),H.createElement(OB,lB({},r,{id:e}))))}kB.displayName=`Pie`;function AB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?AB(Object(n),!0).forEach(function(t){MB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MB(e,t,n){return(t=NB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NB(e){var t=PB(e,`string`);return typeof t==`symbol`?t:t+``}function PB(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var FB=gT({name:`cartesianAxis`,initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=LD(t.payload)},prepare:rT()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=LD(r))},prepare:rT()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:rT()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=LD(t.payload)},prepare:rT()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=LD(r))},prepare:rT()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:rT()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=LD(t.payload)},prepare:rT()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=LD(r))},prepare:rT()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:rT()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=jB(jB({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:IB,replaceXAxis:LB,removeXAxis:RB,addYAxis:zB,replaceYAxis:BB,removeYAxis:VB,addZAxis:fye,replaceZAxis:pye,removeZAxis:mye,updateYAxisWidth:HB}=FB.actions,UB=FB.reducer,WB=W([W([wE],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),oE,sE],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),GB=()=>AC(WB),KB=[`x`,`y`];function qB(){return qB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qB.apply(null,arguments)}function JB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?JB(Object(n),!0).forEach(function(t){XB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XB(e,t,n){return(t=ZB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZB(e){var t=QB(e,`string`);return typeof t==`symbol`?t:t+``}function QB(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function $B(e,t){if(e==null)return{};var n,r,i=eV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tV(e,t){var{x:n,y:r}=e,i=$B(e,KB),a=`${n}`,o=parseInt(a,10),s=`${r}`,c=parseInt(s,10),l=`${t.height||i.height}`,u=parseInt(l,10),d=`${t.width||i.width}`,f=parseInt(d,10);return YB(YB(YB(YB(YB({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function nV(e){return H.createElement(Nz,qB({shapeType:`rectangle`,propTransformer:tV,activeClassName:`recharts-active-bar`},e))}var rV=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,r)=>{if(QS(e))return e;var i=QS(n)||iC(n);return i?e(n,r):(!i&&he(!1,`minPointSize callback function received a value with type of ${typeof n}. Currently only numbers or null/undefined are supported.`),t)}},iV=gT({name:`errorBars`,initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(e=>e.dataKey===r.dataKey&&e.direction===r.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:hye,replaceErrorBar:gye,removeErrorBar:_ye}=iV.actions,aV=iV.reducer,oV=[`children`];function sV(e,t){if(e==null)return{};var n,r,i=cV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lV=(0,H.createContext)({data:[],xAxisId:`xAxis-0`,yAxisId:`yAxis-0`,dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0});function uV(e){var{children:t}=e,n=sV(e,oV);return H.createElement(lV.Provider,{value:n},t)}function dV(e,t){var n=AC(t=>CP(t,e)),r=AC(e=>EP(e,t)),i=n?.allowDataOverflow??xP.allowDataOverflow,a=r?.allowDataOverflow??wP.allowDataOverflow;return{needClip:i||a,needClipX:i,needClipY:a}}function fV(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=GB(),{needClipX:a,needClipY:o,needClip:s}=dV(t,n);if(!s||!i)return null;var{x:c,y:l,width:u,height:d}=i;return H.createElement(`clipPath`,{id:`clipPath-${r}`},H.createElement(`rect`,{x:a?c:c-u/2,y:o?l:l-d/2,width:a?u:u*2,height:o?d:d*2}))}function pV(e,t){return e&&typeof e==`object`&&`zIndex`in e&&typeof e.zIndex==`number`&&FE(e.zIndex)?e.zIndex:t}var mV=o((e=>{var t=d();typeof Object.is==`function`&&Object.is,t.useSyncExternalStore,t.useRef,t.useEffect,t.useMemo,t.useDebugValue}));o(((e,t)=>{t.exports=mV()}))();function hV(e){e()}function gV(){let e=null,t=null;return{clear(){e=null,t=null},notify(){hV(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0,i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var _V={notify(){},get:()=>[]};function vV(e,t){let n,r=_V,i=0,a=!1;function o(e){u();let t=r.subscribe(e),n=!1;return()=>{n||(n=!0,t(),d())}}function s(){r.notify()}function c(){m.onStateChange&&m.onStateChange()}function l(){return a}function u(){i++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=gV())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=_V)}function f(){a||(a=!0,u())}function p(){a&&(a=!1,d())}let m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:l,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return m}var yV=(()=>typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0)(),bV=(()=>typeof navigator<`u`&&navigator.product===`ReactNative`)(),xV=(()=>yV||bV?H.useLayoutEffect:H.useEffect)();function SV(e,t){return e===t?e!==0||t!==0||1/e==1/t:e!==e&&t!==t}function CV(e,t){if(SV(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!SV(e[n[r]],t[n[r]]))return!1;return!0}Object.prototype;var wV=Symbol.for(`react-redux-context`),TV=typeof globalThis<`u`?globalThis:{};function EV(){if(!H.createContext)return{};let e=TV[wV]??=new Map,t=e.get(H.createContext);return t||(t=H.createContext(null),e.set(H.createContext,t)),t}var DV=EV();function OV(e){let{children:t,context:n,serverState:r,store:i}=e,a=H.useMemo(()=>({store:i,subscription:vV(i),getServerState:r?()=>r:void 0}),[i,r]),o=H.useMemo(()=>i.getState(),[i]);xV(()=>{let{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,o]);let s=n||DV;return H.createElement(s.Provider,{value:a},t)}var kV=OV,AV=new Set([`axisLine`,`tickLine`,`activeBar`,`activeDot`,`activeLabel`,`activeShape`,`allowEscapeViewBox`,`background`,`cursor`,`dot`,`label`,`line`,`margin`,`padding`,`position`,`shape`,`style`,`tick`,`wrapperStyle`]);function jV(e,t){return e==null&&t==null?!0:typeof e==`number`&&typeof t==`number`?e===t||e!==e&&t!==t:e===t}function MV(e,t){for(var n of new Set([...Object.keys(e),...Object.keys(t)]))if(AV.has(n)){if(e[n]==null&&t[n]==null)continue;if(!CV(e[n],t[n]))return!1}else if(!jV(e[n],t[n]))return!1;return!0}var NV=[`onMouseEnter`,`onMouseLeave`,`onClick`],PV=[`value`,`background`,`tooltipPosition`],FV=[`id`],IV=[`onMouseEnter`,`onClick`,`onMouseLeave`];function LV(){return LV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LV.apply(null,arguments)}function RV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?RV(Object(n),!0).forEach(function(t){BV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BV(e,t,n){return(t=VV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VV(e){var t=HV(e,`string`);return typeof t==`symbol`?t:t+``}function HV(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function UV(e,t){if(e==null)return{};var n,r,i=WV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GV=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:rE(n,t),payload:e}]},KV=H.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:s,tooltipType:c}=e,l={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:rE(a,t),hide:o,type:c,color:i,unit:s}};return H.createElement(Lz,{tooltipEntrySettings:l})});function qV(e){var t=AC(SI),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:c}=a,l=UV(a,NV),u=Pz(o,r),d=Fz(s),f=Iz(c,r);if(!i||n==null)return null;var p=qx(i);return H.createElement(HI,{zIndex:pV(i,YN.barBackground)},n.map((e,n)=>{var{value:a,background:o,tooltipPosition:s}=e,c=UV(e,PV);if(!o)return null;var m=u(e,n),h=d(e,n),g=f(e,n),_=zV(zV(zV(zV(zV({option:i,isActive:String(n)===t},c),{},{fill:`#eee`},o),p),pC(l,e,n)),{},{onMouseEnter:m,onMouseLeave:h,onClick:g,dataKey:r,index:n,className:`recharts-bar-background-rectangle`});return H.createElement(nV,LV({key:`background-bar-${n}`},_))}))}function JV(e){var{showLabels:t,children:n,rects:r}=e,i=r?.map(e=>{var t={x:e.x,y:e.y,width:e.width,lowerWidth:e.width,upperWidth:e.width,height:e.height};return zV(zV({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return H.createElement(OR,{value:t?i:void 0},n)}function YV(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=e,s=AC(SI),c=AC(wI),l=n&&String(a)===s&&(c==null||o===c),u=l?n:t;return l?H.createElement(HI,{zIndex:YN.activeBar},H.createElement(nV,LV({},r,{name:String(r.name)},i,{isActive:l,option:u,index:a,dataKey:o}))):H.createElement(nV,LV({},r,{name:String(r.name)},i,{isActive:l,option:u,index:a,dataKey:o}))}function XV(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return H.createElement(nV,LV({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:a}))}function ZV(e){var{data:t,props:n}=e,r=Kx(n)??{},{id:i}=r,a=UV(r,FV),{shape:o,dataKey:s,activeBar:c}=n,{onMouseEnter:l,onClick:u,onMouseLeave:d}=n,f=UV(n,IV),p=Pz(l,s),m=Fz(d),h=Iz(u,s);return t?H.createElement(H.Fragment,null,t.map((e,t)=>H.createElement(Qx,LV({key:`rectangle-${e?.x}-${e?.y}-${e?.value}-${t}`,className:`recharts-bar-rectangle`},pC(f,e,t),{onMouseEnter:p(e,t),onMouseLeave:m(e,t),onClick:h(e,t)}),c?H.createElement(YV,{shape:o,activeBar:c,baseProps:a,entry:e,index:t,dataKey:s}):H.createElement(XV,{shape:o,baseProps:a,entry:e,index:t,dataKey:s})))):null}function QV(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:c,onAnimationEnd:l,onAnimationStart:u}=t,d=n.current,f=TO(t,`recharts-bar-`),[p,m]=(0,H.useState)(!1),h=!p,g=(0,H.useCallback)(()=>{typeof l==`function`&&l(),m(!1)},[l]),_=(0,H.useCallback)(()=>{typeof u==`function`&&u(),m(!0)},[u]);return H.createElement(JV,{showLabels:h,rects:r},H.createElement(wO,{animationId:f,begin:o,duration:s,isActive:a,easing:c,onAnimationEnd:g,onAnimationStart:_,key:f},e=>{var a=e===1?r:r?.map((t,n)=>{var r=d&&d[n];if(r)return zV(zV({},t),{},{x:rC(r.x,t.x,e),y:rC(r.y,t.y,e),width:rC(r.width,t.width,e),height:rC(r.height,t.height,e)});if(i===`horizontal`){var a=rC(0,t.height,e),o=rC(t.stackedBarStart,t.y,e);return zV(zV({},t),{},{y:o,height:a})}var s=rC(0,t.width,e),c=rC(t.stackedBarStart,t.x,e);return zV(zV({},t),{},{width:s,x:c})});return e>0&&(n.current=a??null),a==null?null:H.createElement(Qx,null,H.createElement(ZV,{props:t,data:a}))}),H.createElement(PR,{label:t.label}),t.children)}function $V(e){var t=(0,H.useRef)(null);return H.createElement(QV,{previousRectanglesRef:t,props:e})}var eH=0,tH=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:qT(e,t)}},nH=class extends H.PureComponent{render(){var{hide:e,data:t,dataKey:n,className:r,xAxisId:i,yAxisId:a,needClip:o,background:s,id:c}=this.props;if(e||t==null)return null;var l=Vx(`recharts-bar`,r),u=c;return H.createElement(Qx,{className:l,id:c},o&&H.createElement(`defs`,null,H.createElement(fV,{clipPathId:u,xAxisId:i,yAxisId:a})),H.createElement(Qx,{className:`recharts-bar-rectangles`,clipPath:o?`url(#clipPath-${u})`:void 0},H.createElement(qV,{data:t,dataKey:n,background:s,allOtherBarProps:this.props}),H.createElement($V,this.props)))}},rH={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:`ease`,background:!1,hide:!1,isAnimationActive:`auto`,label:!1,legendType:`rect`,minPointSize:eH,xAxisId:0,yAxisId:0,zIndex:YN.bar};function iH(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:l,isAnimationActive:u}=e,{needClip:d}=dV(t,n),f=XE(),p=OE(),m=cz(e.children,oL),h=AC(r=>EH(r,t,n,p,e.id,m));if(f!==`vertical`&&f!==`horizontal`)return null;var g,_=h?.[0];return g=_==null||_.height==null||_.width==null?0:f===`vertical`?_.height/2:_.width/2,H.createElement(uV,{xAxisId:t,yAxisId:n,data:h,dataPointFormatter:tH,errorBarOffset:g},H.createElement(nH,LV({},e,{layout:f,needClip:d,data:h,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:l,isAnimationActive:u})))}function aH(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:c,yAxisTicks:l,stackedData:u,displayedData:d,offset:f,cells:p,parentViewBox:m,dataStartIndex:h}=e,g=t===`horizontal`?s:o,_=u?g.scale.domain():null,v=Tfe({numericAxis:g}),y=g.scale(v);return d.map((e,d)=>{var g,b,x,S,C,w;u?g=xfe(u[d+h],_):(g=qT(e,n),Array.isArray(g)||(g=[v,g]));var T=rV(r,eH)(g[1],d);if(t===`horizontal`){var[E,D]=[s.scale(g[0]),s.scale(g[1])];b=QT({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:e,index:d}),x=D??E??void 0,S=i.size;var O=E-D;if(C=XS(O)?0:O,w={x:b,y:f.top,width:S,height:f.height},Math.abs(T)>0&&Math.abs(C)<Math.abs(T)){var k=YS(C||T)*(Math.abs(T)-Math.abs(C));x-=k,C+=k}}else{var[A,j]=[o.scale(g[0]),o.scale(g[1])];if(b=A,x=QT({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:e,index:d}),S=j-A,C=i.size,w={x:f.left,y:x,width:f.width,height:C},Math.abs(T)>0&&Math.abs(S)<Math.abs(T)){var M=YS(S||T)*(Math.abs(T)-Math.abs(S));S+=M}}return b==null||x==null||S==null||C==null?null:zV(zV({},e),{},{stackedBarStart:y,x:b,y:x,width:S,height:C,value:u?g:g[1],payload:e,background:w,tooltipPosition:{x:b+S/2,y:x+C/2},parentViewBox:m},p&&p[d]&&p[d].props)}).filter(Boolean)}function oH(e){var t=hC(e,rH),n=OE();return H.createElement(Uz,{id:t.id,type:`bar`},e=>H.createElement(H.Fragment,null,H.createElement(Rz,{legendPayload:GV(t)}),H.createElement(KV,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),H.createElement(Zz,{type:`bar`,id:e,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:wfe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),H.createElement(HI,{zIndex:t.zIndex},H.createElement(iH,LV({},t,{id:e})))))}var sH=H.memo(oH,MV);sH.displayName=`Bar`;function cH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?cH(Object(n),!0).forEach(function(t){uH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uH(e,t,n){return(t=dH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dH(e){var t=fH(e,`string`);return typeof t==`symbol`?t:t+``}function fH(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var pH=(e,t)=>t,mH=(e,t,n)=>n,hH=(e,t,n,r)=>r,gH=W([MP,(e,t,n,r,i)=>i],(e,t)=>e.filter(e=>e.type===`bar`).find(e=>e.id===t)),_H=W([gH],e=>e?.maxBarSize),vH=(e,t,n,r,i,a)=>a,yH=(e,t,n)=>{var r=n??e;if(!iC(r))return tC(r,t,0)},bH=W([YE,MP,pH,mH,hH],(e,t,n,r,i)=>t.filter(t=>e===`horizontal`?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===i).filter(e=>e.hide===!1).filter(e=>e.type===`bar`)),xH=(e,t,n,r)=>YE(e)===`horizontal`?YP(e,`yAxis`,n,r):YP(e,`xAxis`,t,r),SH=W([bH,fge,(e,t,n)=>YE(e)===`horizontal`?kF(e,`xAxis`,t):kF(e,`yAxis`,n)],(e,t,n)=>{var r={},i=e.filter(fP),a=e.filter(e=>e.stackId==null),o=i.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),r),s=Object.entries(o).map(e=>{var[r,i]=e;return{stackId:r,dataKeys:i.map(e=>e.dataKey),barSize:yH(t,n,i[0].barSize)}}),c=a.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>e!=null),barSize:yH(t,n,e.barSize)}));return[...s,...c]}),CH=(e,t,n,r,i)=>{var a=gH(e,t,n,r,i);if(a!=null){var o=YE(e),s=VN(e),{maxBarSize:c}=a,l=iC(c)?s:c,u,d;return o===`horizontal`?(u=LF(e,`xAxis`,t,r),d=IF(e,`xAxis`,t,r)):(u=LF(e,`yAxis`,n,r),d=IF(e,`yAxis`,n,r)),tE(u,d,!0)??l??0}},wH=(e,t,n,r)=>{var i=YE(e),a,o;return i===`horizontal`?(a=LF(e,`xAxis`,t,r),o=IF(e,`xAxis`,t,r)):(a=LF(e,`yAxis`,n,r),o=IF(e,`yAxis`,n,r)),tE(a,o)};function TH(e,t,n,r,i){var a=r.length;if(!(a<1)){var o=tC(e,n,0,!0),s,c=[];if(FE(r[0].barSize)){var l=!1,u=n/a,d=r.reduce((e,t)=>e+(t.barSize||0),0);d+=(a-1)*o,d>=n&&(d-=(a-1)*o,o=0),d>=n&&u>0&&(l=!0,u*=.9,d=a*u);var f={offset:((n-d)/2>>0)-o,size:0};s=r.reduce((e,t)=>{var n={stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f.offset+f.size+o,size:l?u:t.barSize??0}},r=[...e,n];return f=r[r.length-1].position,r},c)}else{var p=tC(t,n,0,!0);n-2*p-(a-1)*o<=0&&(o=0);var m=(n-2*p-(a-1)*o)/a;m>1&&(m>>=0);var h=FE(i)?Math.min(m,i):m;s=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:p+(m+o)*n+(m-h)/2,size:h}}],c)}return s}}var EH=W([wE,EE,(e,t,n,r)=>LF(e,`xAxis`,t,r),(e,t,n,r)=>LF(e,`yAxis`,n,r),(e,t,n,r)=>IF(e,`xAxis`,t,r),(e,t,n,r)=>IF(e,`yAxis`,n,r),W([W([SH,VN,dge,HN,CH,wH,_H],(e,t,n,r,i,a,o)=>{var s=iC(o)?t:o,c=TH(n,r,i===a?a:i,e,s);return i!==a&&c!=null&&(c=c.map(e=>lH(lH({},e),{},{position:lH(lH({},e.position),{},{offset:e.position.offset-i/2})}))),c}),gH],(e,t)=>{if(!(e==null||t==null)){var n=e.find(e=>e.stackId===t.stackId&&t.dataKey!=null&&e.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),YE,XM,wH,W([xH,gH],(e,t)=>{var n=uP(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(e=>e.key===n)}}}}),gH,vH],(e,t,n,r,i,a,o,s,c,l,u,d,f)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:h}=c;if(!(d==null||o==null||t==null||s!==`horizontal`&&s!==`vertical`||n==null||r==null||i==null||a==null||l==null)){var{data:g}=d,_=g!=null&&g.length>0?g:p?.slice(m,h+1);if(_!=null)return aH({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:l,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:_,offset:e,cells:f,dataStartIndex:m})}}),DH=e=>{var{chartData:t}=e,n=OC(),r=OE();return(0,H.useEffect)(()=>r?()=>{}:(n($I(t)),()=>{n($I(void 0))}),[t,n,r]),null},OH={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},kH=gT({name:`brush`,initialState:OH,reducers:{setBrushSettings(e,t){return t.payload==null?OH:t.payload}}}),{setBrushSettings:vye}=kH.actions,AH=kH.reducer;function jH(e,t,n){return(t=MH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MH(e){var t=NH(e,`string`);return typeof t==`symbol`?t:t+``}function NH(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}jH(class e{static create(t){return new e(t)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case`start`:return this.scale(e);case`middle`:var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case`end`:var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i;default:return this.scale(e)}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}},`EPS`,1e-4);function PH(e){return(e%180+180)%180}var FH=function(e){var{width:t,height:n}=e,r=PH(arguments.length>1&&arguments[1]!==void 0?arguments[1]:0)*Math.PI/180,i=Math.atan(n/t),a=r>i&&r<Math.PI-i?n/Math.sin(r):t/Math.cos(r);return Math.abs(a)},IH=gT({name:`referenceElements`,initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Jw(e).dots.findIndex(e=>e===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Jw(e).areas.findIndex(e=>e===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(LD(t.payload))},removeLine:(e,t)=>{var n=Jw(e).lines.findIndex(e=>e===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:yye,removeDot:bye,addArea:xye,removeArea:Sye,addLine:Cye,removeLine:wye}=IH.actions,LH=IH.reducer,RH=(0,H.createContext)(void 0),zH=e=>{var{children:t}=e,[n]=(0,H.useState)(`${eC(`recharts`)}-clip`),r=GB();if(r==null)return null;var{x:i,y:a,width:o,height:s}=r;return H.createElement(RH.Provider,{value:n},H.createElement(`defs`,null,H.createElement(`clipPath`,{id:n},H.createElement(`rect`,{x:i,y:a,height:s,width:o}))),t)};function BH(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function VH(e,t,n){return FH({width:e.width+t.width,height:e.height+t.height},n)}function HH(e,t,n){var r=n===`width`,{x:i,y:a,width:o,height:s}=e;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function UH(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function WH(e,t){return BH(e,t+1)}function GH(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:s}=t,c=0,l=1,u=o,d=function(){var t=r?.[c];if(t===void 0)return{v:BH(r,l)};var a=c,d,f=()=>(d===void 0&&(d=n(t,a)),d),p=t.coordinate,m=c===0||UH(e,p,f,u,s);m||(c=0,u=o,l+=1),m&&(u=p+e*(f()/2+i),c+=l)},f;l<=a.length;)if(f=d(),f)return f.v;return[]}function KH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?KH(Object(n),!0).forEach(function(t){JH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JH(e,t,n){return(t=YH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YH(e){var t=XH(e,`string`);return typeof t==`symbol`?t:t+``}function XH(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function ZH(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:c}=t,l=function(t){var r=a[t],l,u=()=>(l===void 0&&(l=n(r,t)),l);if(t===o-1){var d=e*(r.coordinate+e*u()/2-c);a[t]=r=qH(qH({},r),{},{tickCoord:d>0?r.coordinate-d*e:r.coordinate})}else a[t]=r=qH(qH({},r),{},{tickCoord:r.coordinate});r.tickCoord!=null&&UH(e,r.tickCoord,u,s,c)&&(c=r.tickCoord-e*(u()/2+i),a[t]=qH(qH({},r),{},{isShow:!0}))},u=o-1;u>=0;u--)l(u);return a}function QH(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:c,end:l}=t;if(a){var u=r[s-1],d=n(u,s-1),f=e*(u.coordinate+e*d/2-l);o[s-1]=u=qH(qH({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),u.tickCoord!=null&&UH(e,u.tickCoord,()=>d,c,l)&&(l=u.tickCoord-e*(d/2+i),o[s-1]=qH(qH({},u),{},{isShow:!0}))}for(var p=a?s-1:s,m=function(t){var r=o[t],a,s=()=>(a===void 0&&(a=n(r,t)),a);if(t===0){var u=e*(r.coordinate-e*s()/2-c);o[t]=r=qH(qH({},r),{},{tickCoord:u<0?r.coordinate-u*e:r.coordinate})}else o[t]=r=qH(qH({},r),{},{tickCoord:r.coordinate});r.tickCoord!=null&&UH(e,r.tickCoord,s,c,l)&&(c=r.tickCoord+e*(s()/2+i),o[t]=qH(qH({},r),{},{isShow:!0}))},h=0;h<p;h++)m(h);return o}function $H(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:c,tickFormatter:l,unit:u,angle:d}=e;if(!i||!i.length||!r)return[];if(QS(c)||xO.isSsr)return WH(i,QS(c)?c:0)??[];var f=[],p=s===`top`||s===`bottom`?`width`:`height`,m=u&&p===`width`?fL(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},h=(e,r)=>{var i=typeof l==`function`?l(e.value,r):e.value;return p===`width`?VH(fL(i,{fontSize:t,letterSpacing:n}),m,d):fL(i,{fontSize:t,letterSpacing:n})[p]},g=i.length>=2?YS(i[1].coordinate-i[0].coordinate):1,_=HH(a,g,p);return c===`equidistantPreserveStart`?GH(g,_,h,i,o):(f=c===`preserveStart`||c===`preserveStartEnd`?QH(g,_,h,i,o,c===`preserveStartEnd`):ZH(g,_,h,i,o),f.filter(e=>e.isShow))}var eU=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=n?n.getBoundingClientRect().width:0,c=i+a,l=o+c+s+(n?r:0);return Math.round(l)}return 0},tU=l(JS()),nU=[`axisLine`,`width`,`height`,`className`,`hide`,`ticks`,`axisType`];function rU(e,t){if(e==null)return{};var n,r,i=iU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aU(){return aU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aU.apply(null,arguments)}function oU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?oU(Object(n),!0).forEach(function(t){cU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cU(e,t,n){return(t=lU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lU(e){var t=uU(e,`string`);return typeof t==`symbol`?t:t+``}function uU(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var dU={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:`bottom`,ticks:[],stroke:`#666`,tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:`preserveEnd`,zIndex:YN.axis};function fU(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:c}=e;if(!s)return null;var l=sU(sU(sU({},c),Kx(s)),{},{fill:`none`});if(a===`top`||a===`bottom`){var u=+(a===`top`&&!o||a===`bottom`&&o);l=sU(sU({},l),{},{x1:t,y1:n+u*i,x2:t+r,y2:n+u*i})}else{var d=+(a===`left`&&!o||a===`right`&&o);l=sU(sU({},l),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return H.createElement(`line`,aU({},l,{className:Vx(`recharts-cartesian-axis-line`,(0,tU.default)(s,`className`))}))}function pU(e,t,n,r,i,a,o,s,c){var l,u,d,f,p,m,h=s?-1:1,g=e.tickSize||o,_=QS(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case`top`:l=u=e.coordinate,f=n+ +!s*i,d=f-h*g,m=d-h*c,p=_;break;case`left`:d=f=e.coordinate,u=t+ +!s*r,l=u-h*g,p=l-h*c,m=_;break;case`right`:d=f=e.coordinate,u=t+ +s*r,l=u+h*g,p=l+h*c,m=_;break;default:l=u=e.coordinate,f=n+ +s*i,d=f+h*g,m=d+h*c,p=_;break}return{line:{x1:l,y1:d,x2:u,y2:f},tick:{x:p,y:m}}}function mU(e,t){switch(e){case`left`:return t?`start`:`end`;case`right`:return t?`end`:`start`;default:return`middle`}}function hU(e,t){switch(e){case`left`:case`right`:return`middle`;case`top`:return t?`start`:`end`;default:return t?`end`:`start`}}function gU(e){var{option:t,tickProps:n,value:r}=e,i,a=Vx(n.className,`recharts-cartesian-axis-tick-value`);if(H.isValidElement(t))i=H.cloneElement(t,sU(sU({},n),{},{className:a}));else if(typeof t==`function`)i=t(sU(sU({},n),{},{className:a}));else{var o=`recharts-cartesian-axis-tick-value`;typeof t!=`boolean`&&(o=Vx(o,t?.className)),i=H.createElement(GL,aU({},n,{className:o}),r)}return i}var _U=(0,H.forwardRef)((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:c,tickTextProps:l,orientation:u,mirror:d,x:f,y:p,width:m,height:h,tickSize:g,tickMargin:_,fontSize:v,letterSpacing:y,getTicksConfig:b,events:x,axisType:S}=e,C=$H(sU(sU({},b),{},{ticks:n}),v,y),w=mU(u,d),T=hU(u,d),E=Kx(b),D=qx(r),O={};typeof i==`object`&&(O=i);var k=sU(sU({},E),{},{fill:`none`},O),A=C.map(e=>sU({entry:e},pU(e,f,p,m,h,u,g,d,_))),j=A.map(e=>{var{entry:t,line:n}=e;return H.createElement(Qx,{className:`recharts-cartesian-axis-tick`,key:`tick-${t.value}-${t.coordinate}-${t.tickCoord}`},i&&H.createElement(`line`,aU({},k,n,{className:Vx(`recharts-cartesian-axis-tick-line`,(0,tU.default)(i,`className`))})))}),M=A.map((e,t)=>{var{entry:n,tick:i}=e,u=sU(sU(sU(sU({textAnchor:w,verticalAnchor:T},E),{},{stroke:`none`,fill:a},D),i),{},{index:t,payload:n,visibleTicksCount:C.length,tickFormatter:o,padding:c},l);return H.createElement(Qx,aU({className:`recharts-cartesian-axis-tick-label`,key:`tick-label-${n.value}-${n.coordinate}-${n.tickCoord}`},pC(x,n,t)),r&&H.createElement(gU,{option:r,tickProps:u,value:`${typeof o==`function`?o(n.value,t):n.value}${s||``}`}))});return H.createElement(`g`,{className:`recharts-cartesian-axis-ticks recharts-${S}-ticks`},M.length>0&&H.createElement(HI,{zIndex:YN.label},H.createElement(`g`,{className:`recharts-cartesian-axis-tick-labels recharts-${S}-tick-labels`,ref:t},M)),j.length>0&&H.createElement(`g`,{className:`recharts-cartesian-axis-tick-lines recharts-${S}-tick-lines`},j))}),vU=(0,H.forwardRef)((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:s,axisType:c}=e,l=rU(e,nU),[u,d]=(0,H.useState)(``),[f,p]=(0,H.useState)(``),m=(0,H.useRef)(null);(0,H.useImperativeHandle)(t,()=>({getCalculatedWidth:()=>eU({ticks:m.current,label:e.labelRef?.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}));var h=(0,H.useCallback)(e=>{if(e){var t=e.getElementsByClassName(`recharts-cartesian-axis-tick-value`);m.current=t;var n=t[0];if(n){var r=window.getComputedStyle(n),i=r.fontSize,a=r.letterSpacing;(i!==u||a!==f)&&(d(i),p(a))}}},[u,f]);return o||r!=null&&r<=0||i!=null&&i<=0?null:H.createElement(HI,{zIndex:e.zIndex},H.createElement(Qx,{className:Vx(`recharts-cartesian-axis`,a)},H.createElement(fU,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Kx(e)}),H.createElement(_U,{ref:h,axisType:c,events:l,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),H.createElement(nR,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},H.createElement(gR,{label:e.label,labelRef:e.labelRef}),e.children)))}),yU=H.forwardRef((e,t)=>{var n=hC(e,dU);return H.createElement(vU,aU({},n,{ref:t}))});yU.displayName=`CartesianAxis`;var bU=[`x1`,`y1`,`x2`,`y2`,`key`],xU=[`offset`],SU=[`xAxisId`,`yAxisId`],CU=[`xAxisId`,`yAxisId`];function wU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?wU(Object(n),!0).forEach(function(t){EU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function EU(e,t,n){return(t=DU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DU(e){var t=OU(e,`string`);return typeof t==`symbol`?t:t+``}function OU(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function kU(){return kU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kU.apply(null,arguments)}function AU(e,t){if(e==null)return{};var n,r,i=jU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MU=e=>{var{fill:t}=e;if(!t||t===`none`)return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:s}=e;return H.createElement(`rect`,{x:r,y:i,ry:s,width:a,height:o,stroke:`none`,fill:t,fillOpacity:n,className:`recharts-cartesian-grid-bg`})};function NU(e){var{option:t,lineItemProps:n}=e,r;if(H.isValidElement(t))r=H.cloneElement(t,n);else if(typeof t==`function`)r=t(n);else{var{x1:i,y1:a,x2:o,y2:s,key:c}=n,l=Kx(AU(n,bU))??{},{offset:u}=l,d=AU(l,xU);r=H.createElement(`line`,kU({},d,{x1:i,y1:a,x2:o,y2:s,fill:`none`,key:c}))}return r}function PU(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=AU(e,SU),c=i.map((e,i)=>{var a=TU(TU({},s),{},{x1:t,y1:e,x2:t+n,y2:e,key:`line-${i}`,index:i});return H.createElement(NU,{key:`line-${i}`,option:r,lineItemProps:a})});return H.createElement(`g`,{className:`recharts-cartesian-grid-horizontal`},c)}function FU(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=AU(e,CU),c=i.map((e,i)=>{var a=TU(TU({},s),{},{x1:e,y1:t,x2:e,y2:t+n,key:`line-${i}`,index:i});return H.createElement(NU,{option:r,lineItemProps:a,key:`line-${i}`})});return H.createElement(`g`,{className:`recharts-cartesian-grid-vertical`},c)}function IU(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length||s==null)return null;var l=s.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==l[0]&&l.unshift(0);var u=l.map((e,s)=>{var c=l[s+1]?l[s+1]-e:i+o-e;if(c<=0)return null;var u=s%t.length;return H.createElement(`rect`,{key:`react-${s}`,y:e,x:r,height:c,width:a,stroke:`none`,fill:t[u],fillOpacity:n,className:`recharts-cartesian-grid-bg`})});return H.createElement(`g`,{className:`recharts-cartesian-gridstripes-horizontal`},u)}function LU(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var l=c.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==l[0]&&l.unshift(0);var u=l.map((e,t)=>{var c=l[t+1]?l[t+1]-e:i+o-e;if(c<=0)return null;var u=t%n.length;return H.createElement(`rect`,{key:`react-${t}`,x:e,y:a,width:c,height:s,stroke:`none`,fill:n[u],fillOpacity:r,className:`recharts-cartesian-grid-bg`})});return H.createElement(`g`,{className:`recharts-cartesian-gridstripes-vertical`},u)}var RU=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return YT($H(TU(TU(TU({},dU),n),{},{ticks:XT(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},zU=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return YT($H(TU(TU(TU({},dU),n),{},{ticks:XT(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},BU={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:`#ccc`,fill:`none`,verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:YN.grid};function VU(e){var t=qE(),n=JE(),r=KE(),i=TU(TU({},hC(e,BU)),{},{x:QS(e.x)?e.x:r.left,y:QS(e.y)?e.y:r.top,width:QS(e.width)?e.width:r.width,height:QS(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:s,y:c,width:l,height:u,syncWithTicks:d,horizontalValues:f,verticalValues:p}=i,m=OE(),h=AC(e=>PF(e,`xAxis`,a,m)),g=AC(e=>PF(e,`yAxis`,o,m));if(!IE(l)||!IE(u)||!QS(s)||!QS(c))return null;var _=i.verticalCoordinatesGenerator||RU,v=i.horizontalCoordinatesGenerator||zU,{horizontalPoints:y,verticalPoints:b}=i;if((!y||!y.length)&&typeof v==`function`){var x=f&&f.length,S=v({yAxis:g?TU(TU({},g),{},{ticks:x?f:g.ticks}):void 0,width:t??l,height:n??u,offset:r},x?!0:d);NE(Array.isArray(S),`horizontalCoordinatesGenerator should return Array but instead it returned [${typeof S}]`),Array.isArray(S)&&(y=S)}if((!b||!b.length)&&typeof _==`function`){var C=p&&p.length,w=_({xAxis:h?TU(TU({},h),{},{ticks:C?p:h.ticks}):void 0,width:t??l,height:n??u,offset:r},C?!0:d);NE(Array.isArray(w),`verticalCoordinatesGenerator should return Array but instead it returned [${typeof w}]`),Array.isArray(w)&&(b=w)}return H.createElement(HI,{zIndex:i.zIndex},H.createElement(`g`,{className:`recharts-cartesian-grid`},H.createElement(MU,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),H.createElement(IU,kU({},i,{horizontalPoints:y})),H.createElement(LU,kU({},i,{verticalPoints:b})),H.createElement(PU,kU({},i,{offset:r,horizontalPoints:y,xAxis:h,yAxis:g})),H.createElement(FU,kU({},i,{offset:r,verticalPoints:b,xAxis:h,yAxis:g}))))}VU.displayName=`CartesianGrid`;var HU=[`domain`,`range`],UU=[`domain`,`range`];function WU(e,t){if(e==null)return{};var n,r,i=GU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function KU(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function qU(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=WU(e,HU),{domain:a,range:o}=t,s=WU(t,UU);return!KU(n,a)||!KU(r,o)?!1:MV(i,s)}var JU=[`dangerouslySetInnerHTML`,`ticks`],YU=[`id`];function XU(){return XU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XU.apply(null,arguments)}function ZU(e,t){if(e==null)return{};var n,r,i=QU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $U(e){var t=OC(),n=(0,H.useRef)(null);return(0,H.useLayoutEffect)(()=>{n.current===null?t(IB(e)):n.current!==e&&t(LB({prev:n.current,next:e})),n.current=e},[e,t]),(0,H.useLayoutEffect)(()=>()=>{n.current&&=(t(RB(n.current)),null)},[t]),null}var eW=e=>{var{xAxisId:t,className:n}=e,r=AC(EE),i=OE(),a=`xAxis`,o=AC(e=>SF(e,a,t,i)),s=AC(e=>FF(e,a,t,i)),c=AC(e=>DF(e,t)),l=AC(e=>a_e(e,t)),u=AC(e=>SP(e,t));if(c==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=e,p=ZU(e,JU),{id:m}=u,h=ZU(u,YU);return H.createElement(yU,XU({},p,h,{scale:o,x:l.x,y:l.y,width:c.width,height:c.height,className:Vx(`recharts-${a} ${a}`,n),viewBox:r,ticks:s,axisType:a}))},tW={allowDataOverflow:xP.allowDataOverflow,allowDecimals:xP.allowDecimals,allowDuplicatedCategory:xP.allowDuplicatedCategory,angle:xP.angle,axisLine:dU.axisLine,height:xP.height,hide:!1,includeHidden:xP.includeHidden,interval:xP.interval,minTickGap:xP.minTickGap,mirror:xP.mirror,orientation:xP.orientation,padding:xP.padding,reversed:xP.reversed,scale:xP.scale,tick:xP.tick,tickCount:xP.tickCount,tickLine:dU.tickLine,tickSize:dU.tickSize,type:xP.type,xAxisId:0},nW=H.memo(e=>{var t=hC(e,tW);return H.createElement(H.Fragment,null,H.createElement($U,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),H.createElement(eW,t))},qU);nW.displayName=`XAxis`;var rW=[`dangerouslySetInnerHTML`,`ticks`],iW=[`id`];function aW(){return aW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aW.apply(null,arguments)}function oW(e,t){if(e==null)return{};var n,r,i=sW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cW(e){var t=OC(),n=(0,H.useRef)(null);return(0,H.useLayoutEffect)(()=>{n.current===null?t(zB(e)):n.current!==e&&t(BB({prev:n.current,next:e})),n.current=e},[e,t]),(0,H.useLayoutEffect)(()=>()=>{n.current&&=(t(VB(n.current)),null)},[t]),null}var lW=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=(0,H.useRef)(null),o=(0,H.useRef)(null),s=AC(EE),c=OE(),l=OC(),u=`yAxis`,d=AC(e=>SF(e,u,t,c)),f=AC(e=>OF(e,t)),p=AC(e=>o_e(e,t)),m=AC(e=>FF(e,u,t,c)),h=AC(e=>TP(e,t));if((0,H.useLayoutEffect)(()=>{if(!(r!==`auto`||!f||sR(i)||(0,H.isValidElement)(i)||h==null)){var e=a.current;if(e){var n=e.getCalculatedWidth();Math.round(f.width)!==Math.round(n)&&l(HB({id:t,width:n}))}}},[m,f,l,i,t,r,h]),f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:_}=e,v=oW(e,rW),{id:y}=h,b=oW(h,iW);return H.createElement(yU,aW({},v,b,{ref:a,labelRef:o,scale:d,x:p.x,y:p.y,tickTextProps:r===`auto`?{width:void 0}:{width:r},width:f.width,height:f.height,className:Vx(`recharts-${u} ${u}`,n),viewBox:s,ticks:m,axisType:u}))},uW={allowDataOverflow:wP.allowDataOverflow,allowDecimals:wP.allowDecimals,allowDuplicatedCategory:wP.allowDuplicatedCategory,angle:wP.angle,axisLine:dU.axisLine,hide:!1,includeHidden:wP.includeHidden,interval:wP.interval,minTickGap:wP.minTickGap,mirror:wP.mirror,orientation:wP.orientation,padding:wP.padding,reversed:wP.reversed,scale:wP.scale,tick:wP.tick,tickCount:wP.tickCount,tickLine:dU.tickLine,tickSize:dU.tickSize,type:wP.type,width:wP.width,yAxisId:0},dW=H.memo(e=>{var t=hC(e,uW);return H.createElement(H.Fragment,null,H.createElement(cW,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),H.createElement(lW,t))},qU);dW.displayName=`YAxis`;var fW=W([(e,t)=>t,YE,sP,hP,hI,_I,$_e,wE],ove),pW=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},mW=Qw(`mouseClick`),hW=VT();hW.startListening({actionCreator:mW,effect:(e,t)=>{var n=e.payload,r=fW(t.getState(),pW(n));r?.activeIndex!=null&&t.dispatch(g_e({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var gW=Qw(`mouseMove`),_W=VT(),vW=null;_W.startListening({actionCreator:gW,effect:(e,t)=>{var n=e.payload;vW!==null&&cancelAnimationFrame(vW);var r=pW(n);vW=requestAnimationFrame(()=>{var e=t.getState();if(VF(e,e.tooltip.settings.shared)===`axis`){var n=fW(e,r);n?.activeIndex==null?t.dispatch(KF()):t.dispatch(qF({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}vW=null})}});function yW(e,t){return t instanceof HTMLElement?`HTMLElement <${t.tagName} class="${t.className}">`:t===window?`global.window`:e===`children`&&typeof t==`object`&&t?`<<CHILDREN>>`:t}var bW={accessibilityLayer:!0,barCategoryGap:`10%`,barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:`none`,syncId:void 0,syncMethod:`index`,baseValue:void 0,reverseStackOrder:!1},xW=gT({name:`rootProps`,initialState:bW,reducers:{updateOptions:(e,t)=>{e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=t.payload.barGap??bW.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),SW=xW.reducer,{updateOptions:CW}=xW.actions,wW=gT({name:`polarOptions`,initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:TW}=wW.actions,EW=wW.reducer,DW=Qw(`keyDown`),OW=Qw(`focus`),kW=VT();kW.startListening({actionCreator:DW,effect:(e,t)=>{var n=t.getState();if(n.rootProps.accessibilityLayer!==!1){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if(!(i!==`ArrowRight`&&i!==`ArrowLeft`&&i!==`Enter`)){var a=$F(r,lI(n),qP(n),pI(n)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var s=_I(n);if(i===`Enter`){var c=LI(n,`axis`,`hover`,String(r.index));t.dispatch(YF({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}));return}var l=s_e(n)===`left-to-right`?1:-1,u=o+(i===`ArrowRight`?1:-1)*l;if(!(s==null||u>=s.length||u<0)){var d=LI(n,`axis`,`hover`,String(u));t.dispatch(YF({active:!0,activeIndex:u.toString(),activeDataKey:void 0,activeCoordinate:d}))}}}}}}),kW.startListening({actionCreator:OW,effect:(e,t)=>{var n=t.getState();if(n.rootProps.accessibilityLayer!==!1){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&r.index==null){var i=`0`,a=LI(n,`axis`,`hover`,String(i));t.dispatch(YF({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:a}))}}}});var AW=Qw(`externalEvent`),jW=VT(),MW=new Map;jW.startListening({actionCreator:AW,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=MW.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var e=t.getState();n({activeCoordinate:R_e(e),activeDataKey:wI(e),activeIndex:SI(e),activeLabel:CI(e),activeTooltipIndex:SI(e),isTooltipActive:z_e(e)},r)}finally{MW.delete(i)}});MW.set(i,o)}}});var NW=W([W([rI],e=>e.tooltipItemPayloads),nI,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null)return t(a,n)}}),PW=Qw(`touchMove`),FW=VT();FW.startListening({actionCreator:PW,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=VF(r,r.tooltip.settings.shared);if(i===`axis`){var a=fW(r,pW({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(qF({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i===`item`){var o=n.touches[0];if(document.elementFromPoint==null)return;var s=document.elementFromPoint(o.clientX,o.clientY);if(!s||!s.getAttribute)return;var c=s.getAttribute(fE),l=s.getAttribute(`data-recharts-item-data-key`)??void 0,u=NW(t.getState(),c,l);t.dispatch(GF({activeDataKey:l,activeIndex:c,activeCoordinate:u}))}}}});var IW=HC({brush:AH,cartesianAxis:UB,chartData:Pve,errorBars:aV,graphicalItems:Xz,layout:pfe,legend:ipe,options:kve,polarAxis:HR,polarOptions:EW,referenceElements:LH,rootProps:SW,tooltip:__e,zIndex:yve}),LW=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:`Chart`;return oT({reducer:IW,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:![`commonjs`,`es6`,`production`].includes(`es6`)}).concat([hW.middleware,_W.middleware,kW.middleware,jW.middleware,FW.middleware]),enhancers:e=>{var t=e;return typeof e==`function`&&(t=e()),t.concat(aT({type:`raf`}))},devTools:xO.devToolsEnabled&&{serialize:{replacer:yW},name:`recharts-${t}`}})};function RW(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=OE(),a=(0,H.useRef)(null);if(i)return n;a.current??=LW(t,r);var o=DC;return H.createElement(kV,{context:o,store:a.current},n)}function zW(e){var{layout:t,margin:n}=e,r=OC(),i=OE();return(0,H.useEffect)(()=>{i||(r(ufe(t)),r(lfe(n)))},[r,i,t,n]),null}var BW=(0,H.memo)(zW,MV);function VW(e){var t=OC();return(0,H.useEffect)(()=>{t(CW(e))},[t,e]),null}function HW(e){var{zIndex:t,isPanorama:n}=e,r=Vz(`${n?`recharts-zindex-panorama-`:`recharts-zindex-`}${t}`),i=OC();return(0,H.useLayoutEffect)(()=>(i(_ve({zIndex:t,elementId:r,isPanorama:n})),()=>{i(vve({zIndex:t,isPanorama:n}))}),[i,t,r,n]),H.createElement(`g`,{tabIndex:-1,id:r})}function UW(e){var{children:t,isPanorama:n}=e,r=AC(cve);if(!r||r.length===0)return t;var i=r.filter(e=>e<0),a=r.filter(e=>e>0);return H.createElement(H.Fragment,null,i.map(e=>H.createElement(HW,{key:e,zIndex:e,isPanorama:n})),t,a.map(e=>H.createElement(HW,{key:e,zIndex:e,isPanorama:n})))}var WW=[`children`];function GW(e,t){if(e==null)return{};var n,r,i=KW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qW(){return qW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qW.apply(null,arguments)}var JW={width:`100%`,height:`100%`,display:`block`},YW=(0,H.forwardRef)((e,t)=>{var n=qE(),r=JE(),i=XD();if(!IE(n)||!IE(r))return null;var{children:a,otherAttributes:o,title:s,desc:c}=e,l,u;return o!=null&&(l=typeof o.tabIndex==`number`?o.tabIndex:i?0:void 0,u=typeof o.role==`string`?o.role:i?`application`:void 0),H.createElement(Xx,qW({},o,{title:s,desc:c,role:u,tabIndex:l,width:n,height:r,style:JW,ref:t}),a)}),XW=e=>{var{children:t}=e,n=AC(AE);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return H.createElement(Xx,{width:r,height:i,x:o,y:a},t)},ZW=(0,H.forwardRef)((e,t)=>{var{children:n}=e,r=GW(e,WW);return OE()?H.createElement(XW,null,H.createElement(UW,{isPanorama:!0},n)):H.createElement(YW,qW({ref:t},r),H.createElement(UW,{isPanorama:!1},n))});function QW(){var e=OC(),[t,n]=(0,H.useState)(null),r=AC(cE);return(0,H.useEffect)(()=>{if(t!=null){var n=t.getBoundingClientRect().width/t.offsetWidth;FE(n)&&n!==r&&e(ffe(n))}},[t,e,r]),n}function $W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?$W(Object(n),!0).forEach(function(t){Eye(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Eye(e,t,n){return(t=Dye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dye(e){var t=Oye(e,`string`);return typeof t==`symbol`?t:t+``}function Oye(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function eG(){return eG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eG.apply(null,arguments)}var kye=()=>(Uve(),null);function tG(e){if(typeof e==`number`)return e;if(typeof e==`string`){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Aye=(0,H.forwardRef)((e,t)=>{var n=(0,H.useRef)(null),[r,i]=(0,H.useState)({containerWidth:tG(e.style?.width),containerHeight:tG(e.style?.height)}),a=(0,H.useCallback)((e,t)=>{i(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]),o=(0,H.useCallback)(e=>{if(typeof t==`function`&&t(e),e!=null&&typeof ResizeObserver<`u`){var{width:r,height:i}=e.getBoundingClientRect();a(r,i);var o=new ResizeObserver(e=>{var{width:t,height:n}=e[0].contentRect;a(t,n)});o.observe(e),n.current=o}},[t,a]);return(0,H.useEffect)(()=>()=>{n.current?.disconnect()},[a]),H.createElement(H.Fragment,null,H.createElement(ZE,{width:r.containerWidth,height:r.containerHeight}),H.createElement(`div`,eG({ref:o},e)))}),jye=(0,H.forwardRef)((e,t)=>{var{width:n,height:r}=e,[i,a]=(0,H.useState)({containerWidth:tG(n),containerHeight:tG(r)}),o=(0,H.useCallback)((e,t)=>{a(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]),s=(0,H.useCallback)(e=>{if(typeof t==`function`&&t(e),e!=null){var{width:n,height:r}=e.getBoundingClientRect();o(n,r)}},[t,o]);return H.createElement(H.Fragment,null,H.createElement(ZE,{width:i.containerWidth,height:i.containerHeight}),H.createElement(`div`,eG({ref:s},e)))}),Mye=(0,H.forwardRef)((e,t)=>{var{width:n,height:r}=e;return H.createElement(H.Fragment,null,H.createElement(ZE,{width:n,height:r}),H.createElement(`div`,eG({ref:t},e)))}),Nye=(0,H.forwardRef)((e,t)=>{var{width:n,height:r}=e;return ZS(n)||ZS(r)?H.createElement(jye,eG({},e,{ref:t})):H.createElement(Mye,eG({},e,{ref:t}))});function Pye(e){return e===!0?Aye:Nye}var Fye=(0,H.forwardRef)((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:l,onMouseLeave:u,onMouseMove:d,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:h,style:g,width:_,responsive:v,dispatchTouchEvents:y=!0}=e,b=(0,H.useRef)(null),x=OC(),[S,C]=(0,H.useState)(null),[w,T]=(0,H.useState)(null),E=QW(),D=HE(),O=D?.width>0?D.width:_,k=D?.height>0?D.height:i,A=(0,H.useCallback)(e=>{E(e),typeof t==`function`&&t(e),C(e),T(e),e!=null&&(b.current=e)},[E,t,C,T]),j=(0,H.useCallback)(e=>{x(mW(e)),x(AW({handler:a,reactEvent:e}))},[x,a]),M=(0,H.useCallback)(e=>{x(gW(e)),x(AW({handler:l,reactEvent:e}))},[x,l]),N=(0,H.useCallback)(e=>{x(KF()),x(AW({handler:u,reactEvent:e}))},[x,u]),P=(0,H.useCallback)(e=>{x(gW(e)),x(AW({handler:d,reactEvent:e}))},[x,d]),F=(0,H.useCallback)(()=>{x(OW())},[x]),I=(0,H.useCallback)(e=>{x(DW(e.key))},[x]),L=(0,H.useCallback)(e=>{x(AW({handler:o,reactEvent:e}))},[x,o]),R=(0,H.useCallback)(e=>{x(AW({handler:s,reactEvent:e}))},[x,s]),ee=(0,H.useCallback)(e=>{x(AW({handler:c,reactEvent:e}))},[x,c]),te=(0,H.useCallback)(e=>{x(AW({handler:f,reactEvent:e}))},[x,f]),z=(0,H.useCallback)(e=>{x(AW({handler:h,reactEvent:e}))},[x,h]),ne=(0,H.useCallback)(e=>{y&&x(PW(e)),x(AW({handler:m,reactEvent:e}))},[x,y,m]),re=(0,H.useCallback)(e=>{x(AW({handler:p,reactEvent:e}))},[x,p]),B=Pye(v);return H.createElement(KI.Provider,{value:S},H.createElement(Yle.Provider,{value:w},H.createElement(B,{width:O??g?.width,height:k??g?.height,className:Vx(`recharts-wrapper`,r),style:Tye({position:`relative`,cursor:`default`,width:O,height:k},g),onClick:j,onContextMenu:L,onDoubleClick:R,onFocus:F,onKeyDown:I,onMouseDown:ee,onMouseEnter:M,onMouseLeave:N,onMouseMove:P,onMouseUp:te,onTouchEnd:re,onTouchMove:ne,onTouchStart:z,ref:A},H.createElement(kye,null),n)))}),Iye=[`width`,`height`,`responsive`,`children`,`className`,`style`,`compact`,`title`,`desc`];function Lye(e,t){if(e==null)return{};var n,r,i=Rye(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nG=(0,H.forwardRef)((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:s,compact:c,title:l,desc:u}=e,d=Kx(Lye(e,Iye));return c?H.createElement(H.Fragment,null,H.createElement(ZE,{width:n,height:r}),H.createElement(ZW,{otherAttributes:d,title:l,desc:u},a)):H.createElement(Fye,{className:o,style:s,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},H.createElement(ZW,{otherAttributes:d,title:l,desc:u,ref:t},H.createElement(zH,null,a)))});function rG(){return rG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rG.apply(null,arguments)}var zye={accessibilityLayer:!0,barCategoryGap:`10%`,barGap:4,layout:`horizontal`,margin:{top:5,right:5,bottom:5,left:5},responsive:!1,reverseStackOrder:!1,stackOffset:`none`,syncMethod:`index`},Bye=(0,H.forwardRef)(function(e,t){var n=hC(e.categoricalChartProps,zye),{chartName:r,defaultTooltipEventType:i,validateTooltipEventTypes:a,tooltipPayloadSearcher:o,categoricalChartProps:s}=e,c={chartName:r,defaultTooltipEventType:i,validateTooltipEventTypes:a,tooltipPayloadSearcher:o,eventEmitter:void 0};return H.createElement(RW,{preloadedState:{options:c},reduxStoreName:s.id??r},H.createElement(DH,{chartData:s.data}),H.createElement(BW,{layout:n.layout,margin:n.margin}),H.createElement(VW,{baseValue:n.baseValue,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),H.createElement(nG,rG({},n,{ref:t})))}),Vye=[`axis`,`item`],Hye=(0,H.forwardRef)((e,t)=>H.createElement(Bye,{chartName:`BarChart`,defaultTooltipEventType:`axis`,validateTooltipEventTypes:Vye,tooltipPayloadSearcher:XI,categoricalChartProps:e,ref:t}));function Uye(e){var t=OC();return(0,H.useEffect)(()=>{t(TW(e))},[t,e]),null}var Wye=[`layout`];function iG(){return iG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iG.apply(null,arguments)}function Gye(e,t){if(e==null)return{};var n,r,i=Kye(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aG={accessibilityLayer:!0,stackOffset:`none`,barCategoryGap:`10%`,barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:`index`,layout:`radial`,responsive:!1,cx:`50%`,cy:`50%`,innerRadius:0,outerRadius:`80%`},qye=(0,H.forwardRef)(function(e,t){var n=hC(e.categoricalChartProps,aG),{layout:r}=n,i=Gye(n,Wye),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c}=e,l={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0};return H.createElement(RW,{preloadedState:{options:l},reduxStoreName:n.id??a},H.createElement(DH,{chartData:n.data}),H.createElement(BW,{layout:r,margin:n.margin}),H.createElement(VW,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),H.createElement(Uye,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),H.createElement(nG,iG({},i,{ref:t})))});function oG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?oG(Object(n),!0).forEach(function(t){Jye(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jye(e,t,n){return(t=Yye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yye(e){var t=Xye(e,`string`);return typeof t==`symbol`?t:t+``}function Xye(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var Zye=[`item`],Qye=sG(sG({},aG),{},{layout:`centric`,startAngle:0,endAngle:360}),$ye=(0,H.forwardRef)((e,t)=>{var n=hC(e,Qye);return H.createElement(qye,{chartName:`PieChart`,defaultTooltipEventType:`item`,validateTooltipEventTypes:Zye,tooltipPayloadSearcher:XI,categoricalChartProps:n,ref:t})});function cG(e){let{margin:t,containerPadding:n,containerWidth:r,cols:i}=e;return(r-t[0]*(i-1)-n[0]*2)/i}function lG(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function uG(e,t,n,r,i,a,o){let{margin:s,containerPadding:c,rowHeight:l}=e,u=cG(e),d,f,p,m;if(o?(d=Math.round(o.width),f=Math.round(o.height)):(d=lG(r,u,s[0]),f=lG(i,l,s[1])),a?(p=Math.round(a.top),m=Math.round(a.left)):o?(p=Math.round(o.top),m=Math.round(o.left)):(p=Math.round((l+s[1])*n+c[1]),m=Math.round((u+s[0])*t+c[0])),!a&&!o){if(Number.isFinite(r)){let e=Math.round((u+s[0])*(t+r)+c[0])-m-d;e!==s[0]&&(d+=e-s[0])}if(Number.isFinite(i)){let e=Math.round((l+s[1])*(n+i)+c[1])-p-f;e!==s[1]&&(f+=e-s[1])}}return{top:p,left:m,width:d,height:f}}function ebe(e,t,n,r,i){let{margin:a,containerPadding:o,cols:s,rowHeight:c,maxRows:l}=e,u=cG(e),d=Math.round((n-o[0])/(u+a[0])),f=Math.round((t-o[1])/(c+a[1]));return d=fG(d,0,s-r),f=fG(f,0,l-i),{x:d,y:f}}function dG(e,t,n){let{margin:r,containerPadding:i,rowHeight:a}=e,o=cG(e);return{x:Math.round((n-i[0])/(o+r[0])),y:Math.round((t-i[1])/(a+r[1]))}}function tbe(e,t,n){let{margin:r,rowHeight:i}=e,a=cG(e);return{w:Math.max(1,Math.round((t+r[0])/(a+r[0]))),h:Math.max(1,Math.round((n+r[1])/(i+r[1])))}}function fG(e,t,n){return Math.max(Math.min(e,n),t)}function pG(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function mG(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(r!==void 0&&pG(r,t))return r}}function hG(e,t){return e.filter(e=>pG(e,t))}function gG(e,t){return t===`horizontal`?vG(e):t===`vertical`||t===`wrap`?_G(e):[...e]}function _G(e){return[...e].sort((e,t)=>e.y===t.y?e.x-t.x:e.y-t.y)}function vG(e){return[...e].sort((e,t)=>e.x===t.x?e.y-t.y:e.x-t.x)}function yG(e){let t=0;for(let n=0;n<e.length;n++){let r=e[n];if(r!==void 0){let e=r.y+r.h;e>t&&(t=e)}}return t}function bG(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(r!==void 0&&r.i===t)return r}}function xG(e){return e.filter(e=>e.static===!0)}function SG(e){return{i:e.i,x:e.x,y:e.y,w:e.w,h:e.h,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,constraints:e.constraints,isBounded:e.isBounded}}function CG(e){let t=Array(e.length);for(let n=0;n<e.length;n++){let r=e[n];r!==void 0&&(t[n]=SG(r))}return t}function nbe(e,t){let n=Array(e.length);for(let r=0;r<e.length;r++){let i=e[r];i!==void 0&&(t.i===i.i?n[r]=t:n[r]=i)}return n}function rbe(e,t,n){let r=bG(e,t);return r?(r=n(SG(r)),[nbe(e,r),r]):[[...e],null]}function wG(e,t){let n=xG(e);for(let r=0;r<e.length;r++){let i=e[r];if(i!==void 0)if(i.x+i.w>t.cols&&(i.x=t.cols-i.w),i.x<0&&(i.x=0,i.w=t.cols),!i.static)n.push(i);else for(;mG(n,i);)i.y++}return e}function TG(e,t,n,r,i,a,o,s,c){if(t.static&&t.isDraggable!==!0||t.y===r&&t.x===n)return[...e];let l=t.x,u=t.y;typeof n==`number`&&(t.x=n),typeof r==`number`&&(t.y=r),t.moved=!0;let d=gG(e,o);(o===`vertical`&&typeof r==`number`?u>=r:o===`horizontal`&&typeof n==`number`&&l>=n)&&(d=d.reverse());let f=hG(d,t),p=f.length>0;if(p&&c)return CG(e);if(p&&a)return t.x=l,t.y=u,t.moved=!1,e;let m=[...e];for(let e=0;e<f.length;e++){let n=f[e];n!==void 0&&(n.moved||(m=n.static?EG(m,n,t,i,o):EG(m,t,n,i,o)))}return m}function EG(e,t,n,r,i,a){let o=i===`horizontal`,s=i===`vertical`,c=t.static;if(r){r=!1;let a={x:o?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:`-1`},l=mG(e,a),u=l!==void 0&&l.y+l.h>t.y,d=l!==void 0&&t.x+t.w>l.x;if(!l)return TG(e,n,o?a.x:void 0,s?a.y:void 0,r,c,i);if(u&&s)return TG(e,n,void 0,n.y+1,r,c,i);if(u&&i===null)return t.y=n.y,n.y+=n.h,[...e];if(d&&o)return TG(e,t,n.x,void 0,r,c,i)}let l=o?n.x+1:void 0,u=s?n.y+1:void 0;return l===void 0&&u===void 0?[...e]:TG(e,n,l,u,r,c,i)}function DG(e,t,n){return Math.max(t,Math.min(n,e))}var OG=[{name:`gridBounds`,constrainPosition(e,t,n,{cols:r,maxRows:i}){return{x:DG(t,0,Math.max(0,r-e.w)),y:DG(n,0,Math.max(0,i-e.h))}},constrainSize(e,t,n,r,{cols:i,maxRows:a}){let o=r===`w`||r===`nw`||r===`sw`?e.x+e.w:i-e.x,s=r===`n`||r===`nw`||r===`ne`?e.y+e.h:a-e.y;return{w:DG(t,1,Math.max(1,o)),h:DG(n,1,Math.max(1,s))}}},{name:`minMaxSize`,constrainSize(e,t,n){return{w:DG(t,e.minW??1,e.maxW??1/0),h:DG(n,e.minH??1,e.maxH??1/0)}}}];function kG(e,t,n,r,i){let a={x:n,y:r};for(let n of e)n.constrainPosition&&(a=n.constrainPosition(t,a.x,a.y,i));if(t.constraints)for(let e of t.constraints)e.constrainPosition&&(a=e.constrainPosition(t,a.x,a.y,i));return a}function ibe(e,t,n,r,i,a){let o={w:n,h:r};for(let n of e)n.constrainSize&&(o=n.constrainSize(t,o.w,o.h,i,a));if(t.constraints)for(let e of t.constraints)e.constrainSize&&(o=e.constrainSize(t,o.w,o.h,i,a));return o}function AG({top:e,left:t,width:n,height:r}){let i=`translate(${t}px,${e}px)`;return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:`${n}px`,height:`${r}px`,position:`absolute`}}function abe({top:e,left:t,width:n,height:r}){return{top:`${e}px`,left:`${t}px`,width:`${n}px`,height:`${r}px`,position:`absolute`}}function jG(e){return e*100+`%`}function obe(e,t,n,r){return e+n>r?t:n}function MG(e,t,n){return e<0?t:n}function sbe(e){return Math.max(0,e)}function NG(e){return Math.max(0,e)}var PG=(e,t,n)=>{let{left:r,height:i,width:a}=t,o=e.top-(i-e.height);return{left:r,width:a,height:MG(o,e.height,i),top:NG(o)}},FG=(e,t,n)=>{let{top:r,left:i,height:a,width:o}=t;return{top:r,height:a,width:obe(e.left,e.width,o,n),left:sbe(i)}},IG=(e,t,n)=>{let{top:r,height:i,width:a}=t,o=e.left+e.width-a;return o<0?{height:i,width:e.left+e.width,top:NG(r),left:0}:{height:i,width:a,top:NG(r),left:o}},LG=(e,t,n)=>{let{top:r,left:i,height:a,width:o}=t;return{width:o,left:i,height:MG(r,e.height,a),top:NG(r)}},cbe={n:PG,ne:(e,t,n)=>PG(e,FG(e,t,n)),e:FG,se:(e,t,n)=>LG(e,FG(e,t,n)),s:LG,sw:(e,t,n)=>LG(e,IG(e,t)),w:IG,nw:(e,t,n)=>PG(e,IG(e,t))};function lbe(e,t,n,r){let i=cbe[e];return i?i(t,{...t,...n},r):n}var ube={type:`transform`,scale:1,calcStyle(e){return AG(e)},calcDragPosition(e,t,n,r){return{left:e-n,top:t-r}}},dbe={cols:12,rowHeight:150,margin:[10,10],containerPadding:null,maxRows:1/0},fbe={enabled:!0,bounded:!1,threshold:3},pbe={enabled:!0,handles:[`se`]},mbe={enabled:!1,defaultItem:{w:1,h:1}};function RG(e){return e.filter(e=>e.static)}var hbe={x:`w`,y:`h`};function zG(e,t,n,r,i){let a=hbe[r];t[r]+=1;let o=e.findIndex(e=>e.i===t.i),s=i??RG(e).length>0;for(let i=o+1;i<e.length;i++){let o=e[i];if(o!==void 0&&!o.static){if(!s&&o.y>t.y+t.h)break;pG(t,o)&&zG(e,o,n+t[a],r,s)}}t[r]=n}function gbe(e,t,n,r,i,a,o){let s=n===`vertical`,c=n===`horizontal`;if(s)for(typeof o==`number`?t.y=Math.min(o,t.y):t.y=Math.min(yG(e),t.y);t.y>0&&!mG(e,t);)t.y--;else if(c)for(;t.x>0&&!mG(e,t);)t.x--;let l;for(;(l=mG(e,t))!==void 0&&!(n===null&&a);)if(c?zG(i,t,l.x+l.w,`x`):zG(i,t,l.y+l.h,`y`),c&&t.x+t.w>r)for(t.x=r-t.w,t.y++;t.x>0&&!mG(e,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function BG(e,t,n,r){let i=RG(e),a=yG(i),o=gG(e,t),s=Array(e.length);for(let c=0;c<o.length;c++){let l=o[c];if(l===void 0)continue;let u=SG(l);u.static||(u=gbe(i,u,t,n,o,r,a),a=Math.max(a,u.y+u.h),i.push(u));let d=e.indexOf(l);s[d]=u,u.moved=!1}return s}function VG(e,t,n,r,i){let a=r===`x`?`w`:`h`;t[r]+=1;let o=e.findIndex(e=>e.i===t.i),s=i??xG(e).length>0;for(let i=o+1;i<e.length;i++){let o=e[i];if(o!==void 0&&!o.static){if(!s&&o.y>t.y+t.h)break;pG(t,o)&&VG(e,o,n+t[a],r,s)}}t[r]=n}function _be(e,t,n,r){for(t.y=Math.min(r,t.y);t.y>0&&!mG(e,t);)t.y--;let i;for(;(i=mG(e,t))!==void 0;)VG(n,t,i.y+i.h,`y`);return t.y=Math.max(t.y,0),t}function vbe(e,t,n,r){for(;t.x>0&&!mG(e,t);)t.x--;let i;for(;(i=mG(e,t))!==void 0;)if(VG(r,t,i.x+i.w,`x`),t.x+t.w>n)for(t.x=n-t.w,t.y++;t.x>0&&!mG(e,t);)t.x--;return t.x=Math.max(t.x,0),t}var HG={type:`vertical`,allowOverlap:!1,compact(e,t){let n=xG(e),r=yG(n),i=_G(e),a=Array(e.length);for(let t=0;t<i.length;t++){let o=i[t];if(o===void 0)continue;let s=SG(o);s.static||(s=_be(n,s,i,r),r=Math.max(r,s.y+s.h),n.push(s));let c=e.indexOf(o);a[c]=s,s.moved=!1}return a},onMove(e,t,n,r,i){let a=CG(e),o=a.find(e=>e.i===t.i);return o&&(o.x=n,o.y=r,o.moved=!0),a}},UG={type:`horizontal`,allowOverlap:!1,compact(e,t){let n=xG(e),r=vG(e),i=Array(e.length);for(let a=0;a<r.length;a++){let o=r[a];if(o===void 0)continue;let s=SG(o);s.static||(s=vbe(n,s,t,r),n.push(s));let c=e.indexOf(o);i[c]=s,s.moved=!1}return i},onMove(e,t,n,r,i){let a=CG(e),o=a.find(e=>e.i===t.i);return o&&(o.x=n,o.y=r,o.moved=!0),a}},WG={type:null,allowOverlap:!1,compact(e,t){return CG(e)},onMove(e,t,n,r,i){let a=CG(e),o=a.find(e=>e.i===t.i);return o&&(o.x=n,o.y=r,o.moved=!0),a}},ybe={...HG,allowOverlap:!0,compact(e,t){return CG(e)}},bbe={...UG,allowOverlap:!0,compact(e,t){return CG(e)}};function GG(e,t=!1,n=!1){let r;return r=t?e===`vertical`?ybe:e===`horizontal`?bbe:WG:e===`vertical`?HG:e===`horizontal`?UG:WG,n?{...r,preventCollision:n}:r}function KG(e){return Object.keys(e).sort((t,n)=>e[t]-e[n])}function qG(e,t){let n=KG(e),r=n[0];if(r===void 0)throw Error(`No breakpoints defined`);for(let i=1;i<n.length;i++){let a=n[i];a!==void 0&&t>e[a]&&(r=a)}return r}function JG(e,t){let n=t[e];if(n===void 0)throw Error(`ResponsiveReactGridLayout: \`cols\` entry for breakpoint ${String(e)} is missing!`);return n}function YG(e,t,n,r,i,a){let o=e[n];if(o)return CG(o);let s=e[r],c=KG(t),l=c.slice(c.indexOf(n));for(let t=0;t<l.length;t++){let n=l[t];if(n===void 0)continue;let r=e[n];if(r){s=r;break}}return BG(wG(CG(s||[]),{cols:i}),a,i)}function XG(e,t){if(Array.isArray(e))return e;let n=e,r=n[t];if(r!==void 0)return r;let i=Object.keys(n);for(let e of i){let t=n[e];if(t!==void 0)return t}return[10,10]}function ZG(e){return function(t,n,r,i,a,o,s){return e(t,n,s)}}function QG(e){return function(t,n,r,i){if(!t||!n||typeof t!=`object`||typeof n!=`object`)return e(t,n,r,i);var a=i.get(t),o=i.get(n);if(a&&o)return a===n&&o===t;i.set(t,n),i.set(n,t);var s=e(t,n,r,i);return i.delete(t),i.delete(n),s}}function $G(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function eK(e){return e.constructor===Object||e.constructor==null}function tK(e){return typeof e.then==`function`}function nK(e,t){return e===t||e!==e&&t!==t}var xbe=`[object Arguments]`,Sbe=`[object Boolean]`,Cbe=`[object Date]`,wbe=`[object RegExp]`,Tbe=`[object Map]`,Ebe=`[object Number]`,Dbe=`[object Object]`,Obe=`[object Set]`,kbe=`[object String]`,rK=Object.prototype.toString;function iK(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,a=e.areRegExpsEqual,o=e.areSetsEqual,s=e.createIsNestedEqual,c=s(l);function l(e,s,l){if(e===s)return!0;if(!e||!s||typeof e!=`object`||typeof s!=`object`)return e!==e&&s!==s;if(eK(e)&&eK(s))return i(e,s,c,l);var u=Array.isArray(e),d=Array.isArray(s);if(u||d)return u===d&&t(e,s,c,l);var f=rK.call(e);return f===rK.call(s)?f===Cbe?n(e,s,c,l):f===wbe?a(e,s,c,l):f===Tbe?r(e,s,c,l):f===Obe?o(e,s,c,l):f===Dbe||f===xbe?tK(e)||tK(s)?!1:i(e,s,c,l):f===Sbe||f===Ebe||f===kbe?nK(e.valueOf(),s.valueOf()):!1:!1}return l}function aK(e,t,n,r){var i=e.length;if(t.length!==i)return!1;for(;i-- >0;)if(!n(e[i],t[i],i,i,e,t,r))return!1;return!0}var Abe=QG(aK);function oK(e,t){return nK(e.valueOf(),t.valueOf())}function sK(e,t,n,r){var i=e.size===t.size;if(!i)return!1;if(!e.size)return!0;var a={},o=0;return e.forEach(function(s,c){if(i){var l=!1,u=0;t.forEach(function(i,d){!l&&!a[u]&&(l=n(c,d,o,u,e,t,r)&&n(s,i,c,d,e,t,r))&&(a[u]=!0),u++}),o++,i=l}}),i}var jbe=QG(sK),Mbe=`_owner`,Nbe=Object.prototype.hasOwnProperty;function cK(e,t,n,r){var i=Object.keys(e),a=i.length;if(Object.keys(t).length!==a)return!1;for(var o;a-- >0;){if(o=i[a],o===Mbe){var s=!!e.$$typeof,c=!!t.$$typeof;if((s||c)&&s!==c)return!1}if(!Nbe.call(t,o)||!n(e[o],t[o],o,o,e,t,r))return!1}return!0}var Pbe=QG(cK);function lK(e,t){return e.source===t.source&&e.flags===t.flags}function uK(e,t,n,r){var i=e.size===t.size;if(!i)return!1;if(!e.size)return!0;var a={};return e.forEach(function(o,s){if(i){var c=!1,l=0;t.forEach(function(i,u){!c&&!a[l]&&(c=n(o,i,s,u,e,t,r))&&(a[l]=!0),l++}),i=c}}),i}var Fbe=QG(uK),dK=Object.freeze({areArraysEqual:aK,areDatesEqual:oK,areMapsEqual:sK,areObjectsEqual:cK,areRegExpsEqual:lK,areSetsEqual:uK,createIsNestedEqual:ZG}),fK=Object.freeze({areArraysEqual:Abe,areDatesEqual:oK,areMapsEqual:jbe,areObjectsEqual:Pbe,areRegExpsEqual:lK,areSetsEqual:Fbe,createIsNestedEqual:ZG}),Ibe=iK(dK);function pK(e,t){return Ibe(e,t,void 0)}iK($G(dK,{createIsNestedEqual:function(){return nK}})),iK(fK),iK($G(fK,{createIsNestedEqual:function(){return nK}}));function Lbe(e={}){let{measureBeforeMount:t=!1,initialWidth:n=1280}=e,[r,i]=(0,H.useState)(n),[a,o]=(0,H.useState)(!t),s=(0,H.useRef)(null),c=(0,H.useRef)(null),l=(0,H.useCallback)(()=>{let e=s.current;if(e){let t=e.offsetWidth;i(t),a||o(!0)}},[a]);return(0,H.useEffect)(()=>{let e=s.current;if(e)return l(),typeof ResizeObserver<`u`&&(c.current=new ResizeObserver(e=>{let t=e[0];if(t){let e=t.contentRect.width;i(e)}}),c.current.observe(e)),()=>{c.current&&=(c.current.disconnect(),null)}},[l]),{width:r,mounted:a,containerRef:s,measureWidth:l}}var Rbe=o(((e,t)=>{t.exports=`SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED`})),zbe=o(((e,t)=>{var n=Rbe();function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name=`Invariant Violation`,s}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return a.PropTypes=a,a}})),mK=o(((e,t)=>{t.exports=zbe()()})),Bbe=o(((e,t)=>{function n(e){var t,r,i=``;if(typeof e==`string`||typeof e==`number`)i+=e;else if(typeof e==`object`)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=n(e[t]))&&(i&&(i+=` `),i+=r)}else for(r in e)e[r]&&(i&&(i+=` `),i+=r);return i}function r(){for(var e,t,r=0,i=``,a=arguments.length;r<a;r++)(e=arguments[r])&&(t=n(e))&&(i&&(i+=` `),i+=t);return i}t.exports=r,t.exports.clsx=r})),hK=o((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.dontSetMe=a,e.findInArray=t,e.int=i,e.isFunction=n,e.isNum=r;function t(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function n(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Function]`}function r(e){return typeof e==`number`&&!isNaN(e)}function i(e){return parseInt(e,10)}function a(e,t,n){if(e[t])return Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}})),Vbe=o((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.browserPrefixToKey=r,e.browserPrefixToStyle=i,e.default=void 0,e.getPrefix=n;var t=[`Moz`,`Webkit`,`O`,`ms`];function n(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:`transform`;if(typeof window>`u`)return``;let n=window.document?.documentElement?.style;if(!n||e in n)return``;for(let i=0;i<t.length;i++)if(r(e,t[i])in n)return t[i];return``}function r(e,t){return t?`${t}${a(e)}`:e}function i(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function a(e){let t=``,n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]===`-`?n=!0:t+=e[r];return t}e.default=n()})),gK=o((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.addClassName=S,e.addEvent=s,e.addUserSelectStyles=y,e.createCSSTransform=m,e.createSVGTransform=h,e.getTouch=_,e.getTouchIdentifier=v,e.getTranslation=g,e.innerHeight=d,e.innerWidth=f,e.matchesSelector=a,e.matchesSelectorAndParentsTo=o,e.offsetXYFromParent=p,e.outerHeight=l,e.outerWidth=u,e.removeClassName=C,e.removeEvent=c,e.scheduleRemoveUserSelectStyles=b;var t=hK(),n=r(Vbe());function r(e,t){if(typeof WeakMap==`function`)var n=new WeakMap,i=new WeakMap;return(r=function(e,t){if(!t&&e&&e.__esModule)return e;var r,a,o={__proto__:null,default:e};if(e===null||typeof e!=`object`&&typeof e!=`function`)return o;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,o)}for(let t in e)t!==`default`&&{}.hasOwnProperty.call(e,t)&&((a=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?r(o,t,a):o[t]=e[t]);return o})(e,t)}var i=``;function a(e,n){return i||=(0,t.findInArray)([`matches`,`webkitMatchesSelector`,`mozMatchesSelector`,`msMatchesSelector`,`oMatchesSelector`],function(n){return(0,t.isFunction)(e[n])}),(0,t.isFunction)(e[i])?e[i](n):!1}function o(e,t,n){let r=e;do{if(a(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function s(e,t,n,r){if(!e)return;let i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent(`on`+t,n):e[`on`+t]=n}function c(e,t,n,r){if(!e)return;let i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent(`on`+t,n):e[`on`+t]=null}function l(e){let n=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,t.int)(r.borderTopWidth),n+=(0,t.int)(r.borderBottomWidth),n}function u(e){let n=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,t.int)(r.borderLeftWidth),n+=(0,t.int)(r.borderRightWidth),n}function d(e){let n=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,t.int)(r.paddingTop),n-=(0,t.int)(r.paddingBottom),n}function f(e){let n=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,t.int)(r.paddingLeft),n-=(0,t.int)(r.paddingRight),n}function p(e,t,n){let r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}}function m(e,t){let r=g(e,t,`px`);return{[(0,n.browserPrefixToKey)(`transform`,n.default)]:r}}function h(e,t){return g(e,t,``)}function g(e,t,n){let{x:r,y:i}=e,a=`translate(${r}${n},${i}${n})`;return t&&(a=`translate(${`${typeof t.x==`string`?t.x:t.x+n}`}, ${`${typeof t.y==`string`?t.y:t.y+n}`})`+a),a}function _(e,n){return e.targetTouches&&(0,t.findInArray)(e.targetTouches,e=>n===e.identifier)||e.changedTouches&&(0,t.findInArray)(e.changedTouches,e=>n===e.identifier)}function v(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function y(e){if(!e)return;let t=e.getElementById(`react-draggable-style-el`);t||(t=e.createElement(`style`),t.type=`text/css`,t.id=`react-draggable-style-el`,t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName(`head`)[0].appendChild(t)),e.body&&S(e.body,`react-draggable-transparent-selection`)}function b(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{x(e)}):x(e)}function x(e){if(e)try{if(e.body&&C(e.body,`react-draggable-transparent-selection`),e.selection)e.selection.empty();else{let t=(e.defaultView||window).getSelection();t&&t.type!==`Caret`&&t.removeAllRanges()}}catch{}}function S(e,t){e.classList?e.classList.add(t):e.className.match(RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function C(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp(`(?:^|\\s)${t}(?!\\S)`,`g`),``)}})),_K=o((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.canDragX=a,e.canDragY=o,e.createCoreData=c,e.createDraggableData=l,e.getBoundPosition=r,e.getControlPosition=s,e.snapToGrid=i;var t=hK(),n=gK();function r(e,r,i){if(!e.props.bounds)return[r,i];let{bounds:a}=e.props;a=typeof a==`string`?a:u(a);let o=d(e);if(typeof a==`string`){let{ownerDocument:e}=o,r=e.defaultView,i;if(i=a===`parent`?o.parentNode:o.getRootNode().querySelector(a),!(i instanceof r.HTMLElement))throw Error(`Bounds selector "`+a+`" could not find an element.`);let s=i,c=r.getComputedStyle(o),l=r.getComputedStyle(s);a={left:-o.offsetLeft+(0,t.int)(l.paddingLeft)+(0,t.int)(c.marginLeft),top:-o.offsetTop+(0,t.int)(l.paddingTop)+(0,t.int)(c.marginTop),right:(0,n.innerWidth)(s)-(0,n.outerWidth)(o)-o.offsetLeft+(0,t.int)(l.paddingRight)-(0,t.int)(c.marginRight),bottom:(0,n.innerHeight)(s)-(0,n.outerHeight)(o)-o.offsetTop+(0,t.int)(l.paddingBottom)-(0,t.int)(c.marginBottom)}}return(0,t.isNum)(a.right)&&(r=Math.min(r,a.right)),(0,t.isNum)(a.bottom)&&(i=Math.min(i,a.bottom)),(0,t.isNum)(a.left)&&(r=Math.max(r,a.left)),(0,t.isNum)(a.top)&&(i=Math.max(i,a.top)),[r,i]}function i(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function a(e){return e.props.axis===`both`||e.props.axis===`x`}function o(e){return e.props.axis===`both`||e.props.axis===`y`}function s(e,t,r){let i=typeof t==`number`?(0,n.getTouch)(e,t):null;if(typeof t==`number`&&!i)return null;let a=d(r),o=r.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,n.offsetXYFromParent)(i||e,o,r.props.scale)}function c(e,n,r){let i=!(0,t.isNum)(e.lastX),a=d(e);return i?{node:a,deltaX:0,deltaY:0,lastX:n,lastY:r,x:n,y:r}:{node:a,deltaX:n-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:n,y:r}}function l(e,t){let n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function u(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function d(e){let t=e.findDOMNode();if(!t)throw Error(`<DraggableCore>: Unmounted during event!`);return t}})),vK=o((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.default=t;function t(){}})),Hbe=o((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.default=void 0;var t=l(d()),n=c(mK()),r=c(h()),i=gK(),a=_K(),o=hK(),s=c(vK());function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(typeof WeakMap==`function`)var n=new WeakMap,r=new WeakMap;return(l=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(e===null||typeof e!=`object`&&typeof e!=`function`)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(let t in e)t!==`default`&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}function u(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=p(e,`string`);return typeof t==`symbol`?t:t+``}function p(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var m={touch:{start:`touchstart`,move:`touchmove`,stop:`touchend`},mouse:{start:`mousedown`,move:`mousemove`,stop:`mouseup`}},g=m.mouse,_=class extends t.Component{constructor(){super(...arguments),u(this,`dragging`,!1),u(this,`lastX`,NaN),u(this,`lastY`,NaN),u(this,`touchIdentifier`,null),u(this,`mounted`,!1),u(this,`handleDragStart`,e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button==`number`&&e.button!==0)return!1;let t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw Error(`<DraggableCore> not mounted on DragStart!`);let{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,i.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,i.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;e.type===`touchstart`&&!this.props.allowMobileScroll&&e.preventDefault();let r=(0,i.getTouchIdentifier)(e);this.touchIdentifier=r;let o=(0,a.getControlPosition)(e,r,this);if(o==null)return;let{x:c,y:l}=o,u=(0,a.createCoreData)(this,c,l);(0,s.default)(`DraggableCore: handleDragStart: %j`,u),(0,s.default)(`calling`,this.props.onStart),!(this.props.onStart(e,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(n),this.dragging=!0,this.lastX=c,this.lastY=l,(0,i.addEvent)(n,g.move,this.handleDrag),(0,i.addEvent)(n,g.stop,this.handleDragStop))}),u(this,`handleDrag`,e=>{let t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,a.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}let i=(0,a.createCoreData)(this,n,r);if((0,s.default)(`DraggableCore: handleDrag: %j`,i),this.props.onDrag(e,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent(`mouseup`))}catch{let e=document.createEvent(`MouseEvents`);e.initMouseEvent(`mouseup`,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}return}this.lastX=n,this.lastY=r}),u(this,`handleDragStop`,e=>{if(!this.dragging)return;let t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,a.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}let o=(0,a.createCoreData)(this,n,r);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;let c=this.findDOMNode();c&&this.props.enableUserSelectHack&&(0,i.scheduleRemoveUserSelectStyles)(c.ownerDocument),(0,s.default)(`DraggableCore: handleDragStop: %j`,o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,c&&((0,s.default)(`DraggableCore: Removing handlers`),(0,i.removeEvent)(c.ownerDocument,g.move,this.handleDrag),(0,i.removeEvent)(c.ownerDocument,g.stop,this.handleDragStop))}),u(this,`onMouseDown`,e=>(g=m.mouse,this.handleDragStart(e))),u(this,`onMouseUp`,e=>(g=m.mouse,this.handleDragStop(e))),u(this,`onTouchStart`,e=>(g=m.touch,this.handleDragStart(e))),u(this,`onTouchEnd`,e=>(g=m.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;let e=this.findDOMNode();e&&(0,i.addEvent)(e,m.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let e=this.findDOMNode();if(e){let{ownerDocument:t}=e;(0,i.removeEvent)(t,m.mouse.move,this.handleDrag),(0,i.removeEvent)(t,m.touch.move,this.handleDrag),(0,i.removeEvent)(t,m.mouse.stop,this.handleDragStop),(0,i.removeEvent)(t,m.touch.stop,this.handleDragStop),(0,i.removeEvent)(e,m.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:r.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};e.default=_,u(_,`displayName`,`DraggableCore`),u(_,`propTypes`,{allowAnyClick:n.default.bool,allowMobileScroll:n.default.bool,children:n.default.node.isRequired,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw Error(`Draggable's offsetParent must be a DOM Node.`)},grid:n.default.arrayOf(n.default.number),handle:n.default.string,cancel:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),u(_,`defaultProps`,{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})})),Ube=o((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),Object.defineProperty(e,`DraggableCore`,{enumerable:!0,get:function(){return c.default}}),e.default=void 0;var t=f(d()),n=u(mK()),r=u(h()),i=Bbe(),a=gK(),o=_K(),s=hK(),c=u(Hbe()),l=u(vK());function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(typeof WeakMap==`function`)var n=new WeakMap,r=new WeakMap;return(f=function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(e===null||typeof e!=`object`&&typeof e!=`function`)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(let t in e)t!==`default`&&{}.hasOwnProperty.call(e,t)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?i(o,t,a):o[t]=e[t]);return o})(e,t)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(null,arguments)}function m(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=_(e,`string`);return typeof t==`symbol`?t:t+``}function _(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var v=class extends t.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return n&&(!r||n.x!==r.x||n.y!==r.y)?((0,l.default)(`Draggable: getDerivedStateFromProps %j`,{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}}):null}constructor(e){super(e),m(this,`onDragStart`,(e,t)=>{if((0,l.default)(`Draggable: onDragStart: %j`,t),this.props.onStart(e,(0,o.createDraggableData)(this,t))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,`onDrag`,(e,t)=>{if(!this.state.dragging)return!1;(0,l.default)(`Draggable: onDrag: %j`,t);let n=(0,o.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){let{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;let[i,a]=(0,o.getBoundPosition)(this,r.x,r.y);r.x=i,r.y=a,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(this.props.onDrag(e,n)===!1)return!1;this.setState(r)}),m(this,`onDragStop`,(e,t)=>{if(!this.state.dragging||this.props.onStop(e,(0,o.createDraggableData)(this,t))===!1)return!1;(0,l.default)(`Draggable: onDragStop: %j`,t);let n={dragging:!1,slackX:0,slackY:0};if(this.props.position){let{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},e.position&&!(e.onDrag||e.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){window.SVGElement!==void 0&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??r.default.findDOMNode(this)}render(){let{axis:e,bounds:n,children:r,defaultPosition:s,defaultClassName:l,defaultClassNameDragging:u,defaultClassNameDragged:d,position:f,positionOffset:m,scale:h,...g}=this.props,_={},v=null,y=!f||this.state.dragging,b=f||s,x={x:(0,o.canDragX)(this)&&y?this.state.x:b.x,y:(0,o.canDragY)(this)&&y?this.state.y:b.y};this.state.isElementSVG?v=(0,a.createSVGTransform)(x,m):_=(0,a.createCSSTransform)(x,m);let S=(0,i.clsx)(r.props.className||``,l,{[u]:this.state.dragging,[d]:this.state.dragged});return t.createElement(c.default,p({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(r),{className:S,style:{...r.props.style,..._},transform:v}))}};e.default=v,m(v,`displayName`,`Draggable`),m(v,`propTypes`,{...c.default.propTypes,axis:n.default.oneOf([`both`,`x`,`y`,`none`]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),m(v,`defaultProps`,{...c.default.defaultProps,axis:`both`,bounds:!1,defaultClassName:`react-draggable`,defaultClassNameDragging:`react-draggable-dragging`,defaultClassNameDragged:`react-draggable-dragged`,defaultPosition:{x:0,y:0},scale:1})})),yK=o(((e,t)=>{var{default:n,DraggableCore:r}=Ube();t.exports=n,t.exports.default=n,t.exports.DraggableCore=r})),Wbe=o((e=>{e.__esModule=!0,e.cloneElement=c;var t=n(d());function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t=o(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=s(e,`string`);return typeof t==`symbol`?t:String(t)}function s(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function c(e,n){return n.style&&e.props.style&&(n.style=i(i({},e.props.style),n.style)),n.className&&e.props.className&&(n.className=e.props.className+` `+n.className),t.default.cloneElement(e,n)}})),bK=o((e=>{e.__esModule=!0,e.resizableProps=void 0;var t=n(mK());yK();function n(e){return e&&e.__esModule?e:{default:e}}e.resizableProps={axis:t.default.oneOf([`both`,`x`,`y`,`none`]),className:t.default.string,children:t.default.element.isRequired,draggableOpts:t.default.shape({allowAnyClick:t.default.bool,cancel:t.default.string,children:t.default.node,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:t.default.node,grid:t.default.arrayOf(t.default.number),handle:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number}),height:function(){var e=[...arguments],n=e[0];if(n.axis===`both`||n.axis===`y`){var r;return(r=t.default.number).isRequired.apply(r,e)}return t.default.number.apply(t.default,e)},handle:t.default.oneOfType([t.default.node,t.default.func]),handleSize:t.default.arrayOf(t.default.number),lockAspectRatio:t.default.bool,maxConstraints:t.default.arrayOf(t.default.number),minConstraints:t.default.arrayOf(t.default.number),onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,resizeHandles:t.default.arrayOf(t.default.oneOf([`s`,`w`,`e`,`n`,`sw`,`nw`,`se`,`ne`])),transformScale:t.default.number,width:function(){var e=[...arguments],n=e[0];if(n.axis===`both`||n.axis===`x`){var r;return(r=t.default.number).isRequired.apply(r,e)}return t.default.number.apply(t.default,e)}}})),xK=o((e=>{e.__esModule=!0,e.default=void 0;var t=s(d()),n=yK(),r=Wbe(),i=bK(),a=[`children`,`className`,`draggableOpts`,`width`,`height`,`handle`,`handleSize`,`lockAspectRatio`,`axis`,`minConstraints`,`maxConstraints`,`onResize`,`onResizeStop`,`onResizeStart`,`resizeHandles`,`transformScale`];function o(e){if(typeof WeakMap!=`function`)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=`object`&&typeof e!=`function`)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!==`default`&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?u(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return t=m(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=h(e,`string`);return typeof t==`symbol`?t:String(t)}function h(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_(e,t)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}var v=function(e){g(i,e);function i(){var t,n=[...arguments];return t=e.call.apply(e,[this].concat(n))||this,t.handleRefs={},t.lastHandleRect=null,t.slack=null,t}var o=i.prototype;return o.componentWillUnmount=function(){this.resetData()},o.resetData=function(){this.lastHandleRect=this.slack=null},o.runConstraints=function(e,t){var n=this.props,r=n.minConstraints,i=n.maxConstraints,a=n.lockAspectRatio;if(!r&&!i&&!a)return[e,t];if(a){var o=this.props.width/this.props.height,s=e-this.props.width,c=t-this.props.height;Math.abs(s)>Math.abs(c*o)?t=e/o:e=t*o}var l=e,u=t,d=this.slack||[0,0],f=d[0],p=d[1];return e+=f,t+=p,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),i&&(e=Math.min(i[0],e),t=Math.min(i[1],t)),this.slack=[f+(l-e),p+(u-t)],[e,t]},o.resizeHandler=function(e,t){var n=this;return function(r,i){var a=i.node,o=i.deltaX,s=i.deltaY;e===`onResizeStart`&&n.resetData();var c=(n.props.axis===`both`||n.props.axis===`x`)&&t!==`n`&&t!==`s`,l=(n.props.axis===`both`||n.props.axis===`y`)&&t!==`e`&&t!==`w`;if(!(!c&&!l)){var u=t[0],d=t[t.length-1],f=a.getBoundingClientRect();if(n.lastHandleRect!=null){if(d===`w`){var p=f.left-n.lastHandleRect.left;o+=p}if(u===`n`){var m=f.top-n.lastHandleRect.top;s+=m}}n.lastHandleRect=f,d===`w`&&(o=-o),u===`n`&&(s=-s);var h=n.props.width+(c?o/n.props.transformScale:0),g=n.props.height+(l?s/n.props.transformScale:0),_=n.runConstraints(h,g);h=_[0],g=_[1];var v=h!==n.props.width||g!==n.props.height,y=typeof n.props[e]==`function`?n.props[e]:null;y&&!(e===`onResize`&&!v)&&(r.persist==null||r.persist(),y(r,{node:a,size:{width:h,height:g},handle:t})),e===`onResizeStop`&&n.resetData()}}},o.renderResizeHandle=function(e,n){var r=this.props.handle;if(!r)return t.createElement(`span`,{className:`react-resizable-handle react-resizable-handle-`+e,ref:n});if(typeof r==`function`)return r(e,n);var i=typeof r.type==`string`,a=f({ref:n},i?{}:{handleAxis:e});return t.cloneElement(r,a)},o.render=function(){var e=this,i=this.props,o=i.children,s=i.className,u=i.draggableOpts;i.width,i.height,i.handle,i.handleSize,i.lockAspectRatio,i.axis,i.minConstraints,i.maxConstraints,i.onResize,i.onResizeStop,i.onResizeStart;var d=i.resizeHandles;i.transformScale;var p=l(i,a);return(0,r.cloneElement)(o,f(f({},p),{},{className:(s?s+` `:``)+`react-resizable`,children:[].concat(o.props.children,d.map(function(r){var i=e.handleRefs[r]??(e.handleRefs[r]=t.createRef());return t.createElement(n.DraggableCore,c({},u,{nodeRef:i,key:`resizableHandle-`+r,onStop:e.resizeHandler(`onResizeStop`,r),onStart:e.resizeHandler(`onResizeStart`,r),onDrag:e.resizeHandler(`onResize`,r)}),e.renderResizeHandle(r,i))}))}))},i}(t.Component);e.default=v,v.propTypes=i.resizableProps,v.defaultProps={axis:`both`,handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:[`se`],transformScale:1}})),Gbe=o((e=>{e.__esModule=!0,e.default=void 0;var t=c(d()),n=o(mK()),r=o(xK()),i=bK(),a=[`handle`,`handleSize`,`onResize`,`onResizeStart`,`onResizeStop`,`draggableOpts`,`minConstraints`,`maxConstraints`,`lockAspectRatio`,`axis`,`width`,`height`,`resizeHandles`,`style`,`transformScale`];function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(typeof WeakMap!=`function`)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=`object`&&typeof e!=`function`)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!==`default`&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?u(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return t=m(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=h(e,`string`);return typeof t==`symbol`?t:String(t)}function h(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function g(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}var y=function(e){_(n,e);function n(){var t,n=[...arguments];return t=e.call.apply(e,[this].concat(n))||this,t.state={width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height},t.onResize=function(e,n){var r=n.size;t.props.onResize?(e.persist==null||e.persist(),t.setState(r,function(){return t.props.onResize&&t.props.onResize(e,n)})):t.setState(r)},t}n.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null};var i=n.prototype;return i.render=function(){var e=this.props,n=e.handle,i=e.handleSize;e.onResize;var o=e.onResizeStart,s=e.onResizeStop,c=e.draggableOpts,u=e.minConstraints,d=e.maxConstraints,p=e.lockAspectRatio,m=e.axis;e.width,e.height;var h=e.resizeHandles,_=e.style,v=e.transformScale,y=g(e,a);return t.createElement(r.default,{axis:m,draggableOpts:c,handle:n,handleSize:i,height:this.state.height,lockAspectRatio:p,maxConstraints:d,minConstraints:u,onResizeStart:o,onResize:this.onResize,onResizeStop:s,resizeHandles:h,transformScale:v,width:this.state.width},t.createElement(`div`,l({},y,{style:f(f({},_),{},{width:this.state.width+`px`,height:this.state.height+`px`})})))},n}(t.Component);e.default=y,y.propTypes=f(f({},i.resizableProps),{},{children:n.default.element})})),Kbe=o(((e,t)=>{t.exports=function(){throw Error(`Don't instantiate Resizable directly! Use require('react-resizable').Resizable`)},t.exports.Resizable=xK().default,t.exports.ResizableBox=Gbe().default})),qbe=yK(),Jbe=Kbe();function SK(e){let{children:t,cols:n,containerWidth:r,margin:i,containerPadding:a,rowHeight:o,maxRows:s,isDraggable:c,isResizable:l,isBounded:u,static:d,useCSSTransforms:f=!0,usePercentages:p=!1,transformScale:m=1,droppingPosition:h,className:g=``,style:_,handle:v=``,cancel:y=``,x:b,y:x,w:S,h:C,minW:w=1,maxW:T=1/0,minH:E=1,maxH:D=1/0,i:O,resizeHandles:k,resizeHandle:A,constraints:j=OG,layoutItem:M,layout:N=[],onDragStart:P,onDrag:F,onDragStop:I,onResizeStart:L,onResize:R,onResizeStop:ee}=e,[te,z]=(0,H.useState)(!1),[ne,re]=(0,H.useState)(!1),B=(0,H.useRef)(null),ie=(0,H.useRef)({left:0,top:0}),ae=(0,H.useRef)({top:0,left:0,width:0,height:0}),oe=(0,H.useRef)(void 0),se=(0,H.useMemo)(()=>({cols:n,containerPadding:a,containerWidth:r,margin:i,maxRows:s,rowHeight:o}),[n,a,r,i,s,o]),ce=(0,H.useMemo)(()=>({cols:n,maxRows:s,containerWidth:r,containerHeight:0,rowHeight:o,margin:i,layout:N}),[n,s,r,o,i,N]),le=(0,H.useMemo)(()=>M??{i:O,x:b,y:x,w:S,h:C,minW:w,maxW:T,minH:E,maxH:D},[M,O,b,x,S,C,w,T,E,D]),ue=(0,H.useCallback)(e=>{if(f)return AG(e);let t=abe(e);return p?{...t,left:jG(e.left/r),width:jG(e.width/r)}:t},[f,p,r]),de=(0,H.useCallback)((e,{node:t})=>{if(!P)return;let{offsetParent:n}=t;if(!n)return;let r=n.getBoundingClientRect(),i=t.getBoundingClientRect(),a=i.left/m,o=r.left/m,s=i.top/m,c=r.top/m,l={left:a-o+n.scrollLeft,top:s-c+n.scrollTop};ie.current=l,z(!0);let u=dG(se,l.top,l.left),{x:d,y:f}=kG(j,le,u.x,u.y,ce);P(O,d,f,{e,node:t,newPosition:l})},[P,m,se,j,le,ce,O]),fe=(0,H.useCallback)((e,{node:t,deltaX:n,deltaY:a})=>{if(!F||!te)return;let s=ie.current.top+a,c=ie.current.left+n;if(u){let{offsetParent:e}=t;if(e){let t=e.clientHeight-lG(C,o,i[1]);s=fG(s,0,t);let n=r-lG(S,cG(se),i[0]);c=fG(c,0,n)}}let l={top:s,left:c};ie.current=l;let d=dG(se,s,c),{x:f,y:p}=kG(j,le,d.x,d.y,ce);F(O,f,p,{e,node:t,newPosition:l})},[F,te,u,C,o,i,se,r,S,O,j,le,ce]),pe=(0,H.useCallback)((e,{node:t})=>{if(!I||!te)return;let{left:n,top:r}=ie.current,i={top:r,left:n};z(!1),ie.current={left:0,top:0};let a=dG(se,r,n),{x:o,y:s}=kG(j,le,a.x,a.y,ce);I(O,o,s,{e,node:t,newPosition:i})},[I,te,se,j,le,ce,O]),me=(0,H.useCallback)((e,{node:t,size:n,handle:i},a,o)=>{let s=o===`onResizeStart`?L:o===`onResize`?R:ee;if(!s)return;let c;c=t?lbe(i,a,n,r):{...n,top:a.top,left:a.left},ae.current=c;let l=tbe(se,c.width,c.height),{w:u,h:d}=ibe(j,le,l.w,l.h,i,ce);s(O,u,d,{e:e.nativeEvent,node:t,size:c,handle:i})},[L,R,ee,r,se,b,x,O,j,le,ce]),he=(0,H.useCallback)((e,t)=>{re(!0);let n=uG(se,b,x,S,C);me(e,{...t,handle:t.handle},n,`onResizeStart`)},[me,se,b,x,S,C]),ge=(0,H.useCallback)((e,t)=>{let n=uG(se,b,x,S,C);me(e,{...t,handle:t.handle},n,`onResize`)},[me,se,b,x,S,C]),_e=(0,H.useCallback)((e,t)=>{re(!1),ae.current={top:0,left:0,width:0,height:0};let n=uG(se,b,x,S,C);me(e,{...t,handle:t.handle},n,`onResizeStop`)},[me,se,b,x,S,C]);(0,H.useEffect)(()=>{if(!h)return;let e=B.current;if(!e)return;let t=oe.current||{left:0,top:0},n=te&&(h.left!==t.left||h.top!==t.top);if(te){if(n){let t={node:e,deltaX:h.left-ie.current.left,deltaY:h.top-ie.current.top,lastX:ie.current.left,lastY:ie.current.top,x:h.left,y:h.top};fe(h.e,t)}}else{let t={node:e,deltaX:h.left,deltaY:h.top,lastX:0,lastY:0,x:h.left,y:h.top};de(h.e,t)}oe.current=h},[h,te,de,fe]);let ve=uG(se,b,x,S,C,te?ie.current:null,ne?ae.current:null),ye=H.Children.only(t),be=uG(se,0,0,1,1),xe=[be.width,be.height],Se=[1/0,1/0],Ce=ye.props,we=Ce.className,Te=Ce.style,Ee=H.cloneElement(ye,{ref:B,className:Hx(`react-grid-item`,we,g,{static:d,resizing:ne,"react-draggable":c,"react-draggable-dragging":te,dropping:!!h,cssTransforms:f}),style:{..._,...Te,...ue(ve)}}),De=A;return Ee=(0,V.jsx)(Jbe.Resizable,{draggableOpts:{disabled:!l},className:l?void 0:`react-resizable-hide`,width:ve.width,height:ve.height,minConstraints:xe,maxConstraints:Se,onResizeStart:he,onResize:ge,onResizeStop:_e,transformScale:m,resizeHandles:k,handle:De,children:Ee}),Ee=(0,V.jsx)(qbe.DraggableCore,{disabled:!c,onStart:de,onDrag:fe,onStop:pe,handle:v,cancel:`.react-resizable-handle`+(y?`,`+y:``),scale:m,nodeRef:B,children:Ee}),Ee}var CK=()=>{},wK=`react-grid-layout`,TK=!1;try{TK=/firefox/i.test(navigator.userAgent)}catch{}function Ybe(e,t){let n=H.Children.toArray(e),r=H.Children.toArray(t);if(n.length!==r.length)return!1;for(let e=0;e<n.length;e++){let t=n[e],i=r[e];if(t?.key!==i?.key)return!1}return!0}function EK(e,t,n,r,i){let a=[],o=new Set;return H.Children.forEach(t,t=>{if(!H.isValidElement(t)||t.key===null)return;let n=String(t.key);o.add(n);let r=e.find(e=>e.i===n);if(r)a.push(SG(r));else{let e=t.props[`data-grid`];e?a.push({i:n,x:e.x??0,y:e.y??0,w:e.w??1,h:e.h??1,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,static:e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}):a.push({i:n,x:0,y:yG(a),w:1,h:1})}}),BG(wG(a,{cols:n}),r,n,i)}function Xbe(e){let{children:t,width:n,gridConfig:r,dragConfig:i,resizeConfig:a,dropConfig:o,positionStrategy:s=ube,compactor:c,constraints:l=OG,layout:u=[],droppingItem:d,autoSize:f=!0,className:p=``,style:m={},innerRef:h,onLayoutChange:g=CK,onDragStart:_=CK,onDrag:v=CK,onDragStop:y=CK,onResizeStart:b=CK,onResize:x=CK,onResizeStop:S=CK,onDrop:C=CK,onDropDragOver:w=CK}=e,T=(0,H.useMemo)(()=>({...dbe,...r}),[r]),E=(0,H.useMemo)(()=>({...fbe,...i}),[i]),D=(0,H.useMemo)(()=>({...pbe,...a}),[a]),O=(0,H.useMemo)(()=>({...mbe,...o}),[o]),{cols:k,rowHeight:A,maxRows:j,margin:M,containerPadding:N}=T,{enabled:P,bounded:F,handle:I,cancel:L}=E,{enabled:R,handles:ee,handleComponent:te}=D,{enabled:z,defaultItem:ne}=O,re=c??GG(`vertical`),B=re.type,ie=re.allowOverlap,ae=re.preventCollision??!1,oe=(0,H.useMemo)(()=>d??{i:`__dropping-elem__`,...ne},[d,ne]),se=s.type===`transform`,ce=s.scale,le=N??M,[ue,de]=(0,H.useState)(!1),[fe,pe]=(0,H.useState)(()=>EK(u,t,k,B,ie)),[me,he]=(0,H.useState)(null),[ge,_e]=(0,H.useState)(!1),[ve,ye]=(0,H.useState)(null),[be,xe]=(0,H.useState)(),Se=(0,H.useRef)(null),Ce=(0,H.useRef)(null),we=(0,H.useRef)(null),Te=(0,H.useRef)(0),Ee=(0,H.useRef)(fe),De=(0,H.useRef)(u),Oe=(0,H.useRef)(t),ke=(0,H.useRef)(B);(0,H.useEffect)(()=>{de(!0),pK(fe,u)||g(fe)},[]),(0,H.useEffect)(()=>{if(me)return;let e=!pK(u,De.current),n=!Ybe(t,Oe.current),r=B!==ke.current;(e||n||r)&&pe(EK(e?u:fe,t,k,B,ie)),De.current=u,Oe.current=t,ke.current=B},[u,t,k,B,ie,me,fe]),(0,H.useEffect)(()=>{!me&&!pK(fe,Ee.current)&&(Ee.current=fe,g(fe))},[fe,me,g]);let Ae=(0,H.useMemo)(()=>{if(!f)return;let e=yG(fe),t=le[1];return e*A+(e-1)*M[1]+t*2+`px`},[f,fe,A,M,le]),je=(0,H.useCallback)((e,t,n,r)=>{let i=bG(fe,e);if(!i)return;let a={w:i.w,h:i.h,x:i.x,y:i.y,i:e};Se.current=SG(i),we.current=fe,he(a),_(fe,i,i,null,r.e,r.node)},[fe,_]),Me=(0,H.useCallback)((e,t,n,r)=>{let i=Se.current,a=bG(fe,e);if(!a)return;let o={w:a.w,h:a.h,x:a.x,y:a.y,i:e},s=TG(fe,a,t,n,!0,ae,B,k,ie);v(s,i,a,o,r.e,r.node),pe(ie?s:BG(s,B,k)),he(o)},[fe,ae,B,k,ie,v]),Ne=(0,H.useCallback)((e,t,n,r)=>{if(!me)return;let i=Se.current,a=bG(fe,e);if(!a)return;let o=TG(fe,a,t,n,!0,ae,B,k,ie),s=ie?o:BG(o,B,k);y(s,i,a,null,r.e,r.node);let c=we.current;Se.current=null,we.current=null,he(null),pe(s),c&&!pK(c,s)&&g(s)},[me,fe,ae,B,k,ie,y,g]),Pe=(0,H.useCallback)((e,t,n,r)=>{let i=bG(fe,e);i&&(Ce.current=SG(i),we.current=fe,_e(!0),b(fe,i,i,null,r.e,r.node))},[fe,b]),Fe=(0,H.useCallback)((e,t,n,r)=>{let i=Ce.current,{handle:a}=r,o=!1,s,c,[l,u]=rbe(fe,e,e=>(s=e.x,c=e.y,[`sw`,`w`,`nw`,`n`,`ne`].includes(a)&&([`sw`,`nw`,`w`].includes(a)&&(s=e.x+(e.w-t),t=e.x!==s&&s<0?e.w:t,s=s<0?0:s),[`ne`,`n`,`nw`].includes(a)&&(c=e.y+(e.h-n),n=e.y!==c&&c<0?e.h:n,c=c<0?0:c),o=!0),ae&&!ie&&hG(fe,{...e,w:t,h:n,x:s??e.x,y:c??e.y}).filter(t=>t.i!==e.i).length>0&&(c=e.y,n=e.h,s=e.x,t=e.w,o=!1),e.w=t,e.h=n,e));if(!u)return;let d=l;o&&s!==void 0&&c!==void 0&&(d=TG(l,u,s,c,!0,ae,B,k,ie));let f={w:u.w,h:u.h,x:u.x,y:u.y,i:e,static:!0};x(d,i,u,f,r.e,r.node),pe(ie?d:BG(d,B,k)),he(f)},[fe,ae,ie,B,k,x]),Ie=(0,H.useCallback)((e,t,n,r)=>{let i=Ce.current,a=bG(fe,e),o=ie?fe:BG(fe,B,k);S(o,i,a??null,null,r.e,r.node);let s=we.current;Ce.current=null,we.current=null,he(null),_e(!1),pe(o),s&&!pK(s,o)&&g(o)},[fe,ie,B,k,S,g]),Le=(0,H.useCallback)(()=>{pe(BG(fe.filter(e=>e.i!==oe.i),B,k,ie)),ye(null),he(null),xe(void 0)},[fe,oe.i,B,k,ie]),Re=(0,H.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),TK&&!e.nativeEvent.target?.classList.contains(wK))return!1;let t=w(e);if(t===!1)return ve&&Le(),!1;let{dragOffsetX:r=0,dragOffsetY:i=0,...a}=t??{},o={...oe,...a},s=e.currentTarget.getBoundingClientRect(),c={cols:k,margin:M,maxRows:j,rowHeight:A,containerWidth:n,containerPadding:le},l=cG(c),u=lG(o.w,l,M[0]),d=lG(o.h,A,M[1]),f=u/2,p=d/2,m=e.clientX-s.left+r-f,h=e.clientY-s.top+i-p,g=Math.max(0,m),_=Math.max(0,h),v={left:g/ce,top:_/ce,e:e.nativeEvent};if(ve)be&&(be.left!==v.left||be.top!==v.top)&&xe(v);else{let e=ebe(c,_,g,o.w,o.h);ye((0,V.jsx)(`div`,{},o.i)),xe(v),pe([...fe,{...o,x:e.x,y:e.y,static:!1,isDraggable:!0}])}},[ve,be,oe,w,Le,ce,k,M,j,A,n,le,fe]),ze=(0,H.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),Te.current--,Te.current===0&&Le()},[Le]),Be=(0,H.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),Te.current++},[]),Ve=(0,H.useCallback)(e=>{e.preventDefault(),e.stopPropagation();let t=fe.find(e=>e.i===oe.i);Te.current=0,Le(),C(fe,t,e.nativeEvent)},[fe,oe.i,Le,C]),He=(0,H.useCallback)((e,t)=>{if(!e||!e.key)return null;let r=bG(fe,String(e.key));if(!r)return null;let i=typeof r.isDraggable==`boolean`?r.isDraggable:!r.static&&P,a=typeof r.isResizable==`boolean`?r.isResizable:!r.static&&R,o=r.resizeHandles||[...ee],s=i&&F&&r.isBounded!==!1,c=te;return(0,V.jsx)(SK,{containerWidth:n,cols:k,margin:M,containerPadding:le,maxRows:j,rowHeight:A,cancel:L,handle:I,onDragStart:je,onDrag:Me,onDragStop:Ne,onResizeStart:Pe,onResize:Fe,onResizeStop:Ie,isDraggable:i,isResizable:a,isBounded:s,useCSSTransforms:se&&ue,usePercentages:!ue,transformScale:ce,w:r.w,h:r.h,x:r.x,y:r.y,i:r.i,minH:r.minH,minW:r.minW,maxH:r.maxH,maxW:r.maxW,static:r.static,droppingPosition:t?be:void 0,resizeHandles:o,resizeHandle:c,constraints:l,layoutItem:r,layout:fe,children:e},r.i)},[fe,n,k,M,le,j,A,L,I,je,Me,Ne,Pe,Fe,Ie,P,R,F,se,ue,ce,be,ee,te,l]),Ue=()=>me?(0,V.jsx)(SK,{w:me.w,h:me.h,x:me.x,y:me.y,i:me.i,className:`react-grid-placeholder ${ge?`placeholder-resizing`:``}`,containerWidth:n,cols:k,margin:M,containerPadding:le,maxRows:j,rowHeight:A,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:se,transformScale:ce,constraints:l,layout:fe,children:(0,V.jsx)(`div`,{})}):null;return(0,V.jsxs)(`div`,{ref:h,className:Hx(wK,p),style:{height:Ae,...m},onDrop:z?Ve:void 0,onDragLeave:z?ze:void 0,onDragEnter:z?Be:void 0,onDragOver:z?Re:void 0,children:[H.Children.map(t,e=>H.isValidElement(e)?He(e):null),z&&ve&&He(ve,!0),Ue()]})}var Zbe={lg:1200,md:996,sm:768,xs:480,xxs:0},Qbe={lg:12,md:10,sm:6,xs:4,xxs:2},DK=()=>{};function $be(e,t,n,r,i){let a=[];return H.Children.forEach(t,t=>{if(!H.isValidElement(t)||t.key===null)return;let n=String(t.key),r=e.find(e=>e.i===n);if(r)a.push({...r,i:n});else{let e=t.props[`data-grid`];e?a.push({i:n,x:e.x??0,y:e.y??0,w:e.w??1,h:e.h??1,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,static:e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}):a.push({i:n,x:0,y:yG(a),w:1,h:1})}}),BG(wG(a,{cols:n}),r,n,i)}function exe(e){let{children:t,width:n,breakpoint:r,breakpoints:i=Zbe,cols:a=Qbe,layouts:o={},rowHeight:s=150,maxRows:c=1/0,margin:l=[10,10],containerPadding:u=null,compactor:d,onBreakpointChange:f=DK,onLayoutChange:p=DK,onWidthChange:m=DK,...h}=e,g=d??GG(`vertical`),_=g.type,v=g.allowOverlap,y=(0,H.useMemo)(()=>r??qG(i,n),[]),b=(0,H.useMemo)(()=>JG(y,a),[y,a]),x=(0,H.useMemo)(()=>YG(o,i,y,y,b,_),[]),[S,C]=(0,H.useState)(y),[w,T]=(0,H.useState)(b),[E,D]=(0,H.useState)(x),[O,k]=(0,H.useState)(o),A=(0,H.useRef)(n),j=(0,H.useRef)(r),M=(0,H.useRef)(i),N=(0,H.useRef)(a),P=(0,H.useRef)(o),F=(0,H.useRef)(_),I=(0,H.useRef)(O);(0,H.useEffect)(()=>{I.current=O},[O]);let L=(0,H.useMemo)(()=>pK(o,P.current)?null:YG(o,i,S,S,w,_),[o,i,S,w,_]),R=L??E;(0,H.useEffect)(()=>{L!==null&&(D(L),k(o),I.current=o,P.current=o)},[L,o]),(0,H.useEffect)(()=>{if(_!==F.current){let e=BG(CG(R),_,w,v),t={...I.current,[S]:e};D(e),k(t),I.current=t,p(e,t),F.current=_}},[_,R,w,v,S,p]),(0,H.useEffect)(()=>{let e=n!==A.current,o=r!==j.current,s=!pK(i,M.current),c=!pK(a,N.current);if(e||o||s||c){let e=r??qG(i,n),o=JG(e,a),d=S;if(d!==e||s||c){let n={...I.current};n[d]||(n[d]=CG(E));let r=YG(n,i,e,d,o,_);r=$be(r,t,o,_,v),n[e]=r,C(e),T(o),D(r),k(n),I.current=n,f(e,o),p(r,n)}m(n,XG(l,e),o,u?XG(u,e):null),A.current=n,j.current=r,M.current=i,N.current=a}},[n,r,i,a,S,w,E,t,_,v,l,u,f,p,m]);let ee=(0,H.useCallback)(e=>{let t={...I.current,[S]:e};D(e),k(t),I.current=t,p(e,t)},[S,p]),te=(0,H.useMemo)(()=>XG(l,S),[l,S]),z=(0,H.useMemo)(()=>u===null?null:XG(u,S),[u,S]),ne=(0,H.useMemo)(()=>({cols:w,rowHeight:s,maxRows:c,margin:te,containerPadding:z}),[w,s,c,te,z]);return(0,V.jsx)(Xbe,{...h,width:n,gridConfig:ne,compactor:g,onLayoutChange:ee,layout:R,children:t})}var txe=br();function nxe(e){switch(e){case`vertical`:return HG;case`horizontal`:return UG;case null:return WG;default:return HG}}var rxe=e=>{let t=(0,txe.c)(62),{children:n,layouts:r,onLayoutChange:i,onBreakpointChange:a,className:o,gridConfig:s,dragConfig:c,resizeConfig:l,compactType:u,breakpoints:d,cols:f,autoSize:p,style:m,measureBeforeMount:h,initialWidth:g}=e,_=o===void 0?``:o,v;t[0]===s?v=t[1]:(v=s===void 0?{}:s,t[0]=s,t[1]=v);let y=v,b;t[2]===c?b=t[3]:(b=c===void 0?{}:c,t[2]=c,t[3]=b);let x=b,S;t[4]===l?S=t[5]:(S=l===void 0?{}:l,t[4]=l,t[5]=S);let C=S,w=u===void 0?`vertical`:u,T;t[6]===d?T=t[7]:(T=d===void 0?{lg:1200,md:996,sm:768,xs:480,xxs:0}:d,t[6]=d,t[7]=T);let E=T,D;t[8]===f?D=t[9]:(D=f===void 0?{lg:12,md:10,sm:6,xs:4,xxs:2}:f,t[8]=f,t[9]=D);let O=D,k=p===void 0?!0:p,A=h===void 0?!1:h,j=g===void 0?1280:g,M;t[10]!==j||t[11]!==A?(M={measureBeforeMount:A,initialWidth:j},t[10]=j,t[11]=A,t[12]=M):M=t[12];let{width:N,containerRef:P,mounted:F}=Lbe(M),I;t[13]===Symbol.for(`react.memo_cache_sentinel`)?(I=[10,10],t[13]=I):I=t[13];let L;t[14]===Symbol.for(`react.memo_cache_sentinel`)?(L=[10,10],t[14]=L):L=t[14];let R;t[15]===y?R=t[16]:(R={rowHeight:30,margin:I,containerPadding:L,maxRows:1/0,...y},t[15]=y,t[16]=R);let ee=R,te;t[17]===x?te=t[18]:(te={enabled:!0,bounded:!1,handle:`.drag-handle`,cancel:void 0,threshold:3,...x},t[17]=x,t[18]=te);let z=te,ne;t[19]===Symbol.for(`react.memo_cache_sentinel`)?(ne=[`se`],t[19]=ne):ne=t[19];let re;t[20]===C?re=t[21]:(re={enabled:!0,handles:ne,...C},t[20]=C,t[21]=re);let B=re,ie;t[22]===w?ie=t[23]:(ie=nxe(w),t[22]=w,t[23]=ie);let ae=ie,oe;t[24]===i?oe=t[25]:(oe=(e,t)=>{i&&i(e,t)},t[24]=i,t[25]=oe);let se=oe,ce;t[26]===a?ce=t[27]:(ce=(e,t)=>{a&&a(e,t)},t[26]=a,t[27]=ce);let le=ce;if(!F){let e=`grid-layout ${_}`,n;return t[28]!==P||t[29]!==m||t[30]!==e?(n=(0,V.jsx)(`div`,{ref:P,className:e,style:m}),t[28]=P,t[29]=m,t[30]=e,t[31]=n):n=t[31],n}let ue=`grid-layout ${_}`,de;t[32]!==z.bounded||t[33]!==z.cancel||t[34]!==z.enabled||t[35]!==z.handle||t[36]!==z.threshold?(de={enabled:z.enabled,bounded:z.bounded,handle:z.handle,cancel:z.cancel,threshold:z.threshold},t[32]=z.bounded,t[33]=z.cancel,t[34]=z.enabled,t[35]=z.handle,t[36]=z.threshold,t[37]=de):de=t[37];let fe;t[38]!==B.enabled||t[39]!==B.handles?(fe={enabled:B.enabled,handles:B.handles},t[38]=B.enabled,t[39]=B.handles,t[40]=fe):fe=t[40];let pe;t[41]!==k||t[42]!==E||t[43]!==n||t[44]!==O||t[45]!==ae||t[46]!==ee.containerPadding||t[47]!==ee.margin||t[48]!==ee.maxRows||t[49]!==ee.rowHeight||t[50]!==le||t[51]!==se||t[52]!==r||t[53]!==de||t[54]!==fe||t[55]!==N?(pe=(0,V.jsx)(exe,{width:N,layouts:r,onLayoutChange:se,onBreakpointChange:le,breakpoints:E,cols:O,rowHeight:ee.rowHeight,margin:ee.margin,containerPadding:ee.containerPadding,maxRows:ee.maxRows,dragConfig:de,resizeConfig:fe,compactor:ae,autoSize:k,children:n}),t[41]=k,t[42]=E,t[43]=n,t[44]=O,t[45]=ae,t[46]=ee.containerPadding,t[47]=ee.margin,t[48]=ee.maxRows,t[49]=ee.rowHeight,t[50]=le,t[51]=se,t[52]=r,t[53]=de,t[54]=fe,t[55]=N,t[56]=pe):pe=t[56];let me;return t[57]!==P||t[58]!==m||t[59]!==ue||t[60]!==pe?(me=(0,V.jsx)(`div`,{ref:P,className:ue,style:m,children:pe}),t[57]=P,t[58]=m,t[59]=ue,t[60]=pe,t[61]=me):me=t[61],me},ixe=br(),axe=[{month:`Jan`,attendance:85},{month:`Feb`,attendance:92},{month:`Mar`,attendance:78},{month:`Apr`,attendance:88},{month:`May`,attendance:95},{month:`Jun`,attendance:90},{month:`Jul`,attendance:87},{month:`Aug`,attendance:93}],OK=[{name:`Present`,value:450},{name:`Absent`,value:50}],kK=[`#d4ff00`,`#333333`],AK={minW:2,minH:3},oxe={lg:[{i:`stat-1`,x:0,y:0,w:2,h:4,...AK},{i:`stat-2`,x:2,y:0,w:2,h:4,...AK},{i:`stat-3`,x:0,y:4,w:2,h:6,...AK},{i:`stat-4`,x:4,y:0,w:2,h:4,...AK},{i:`chart-1`,x:6,y:0,w:6,h:10,minW:4,minH:6},{i:`chart-2`,x:2,y:4,w:4,h:6,minW:4,minH:6}],md:[{i:`stat-1`,x:0,y:0,w:2,h:4,minW:2,minH:3},{i:`stat-2`,x:2,y:0,w:2,h:4,minW:2,minH:3},{i:`stat-3`,x:7,y:0,w:3,h:4,minW:2,minH:3},{i:`stat-4`,x:4,y:0,w:3,h:4,minW:2,minH:3},{i:`chart-1`,x:0,y:4,w:4,h:6,minW:4,minH:6},{i:`chart-2`,x:4,y:4,w:6,h:6,minW:4,minH:6}],sm:[{i:`stat-1`,x:0,y:0,w:2,h:4,minW:2,minH:3},{i:`stat-2`,x:2,y:0,w:2,h:4,minW:2,minH:3},{i:`stat-3`,x:4,y:0,w:2,h:4,minW:2,minH:3},{i:`stat-4`,x:0,y:4,w:2,h:6,minW:2,minH:3},{i:`chart-1`,x:0,y:10,w:6,h:6,minW:4,minH:6},{i:`chart-2`,x:2,y:4,w:4,h:6,minW:4,minH:6}]},sxe=[{id:`stat-1`,icon:si,label:`Total Members`,value:`1,284`,change:`+12%`,trend:`up`},{id:`stat-2`,icon:jr,label:`Events This Month`,value:`24`,change:`+8%`,trend:`up`},{id:`stat-3`,icon:ii,label:`Avg Attendance`,value:`89%`,change:`+5%`,trend:`up`},{id:`stat-4`,icon:kr,label:`Active Streaks`,value:`342`,change:`+18%`,trend:`up`}],jK=()=>{let e=(0,ixe.c)(18),t;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=sxe.map(cxe),e[0]=t):t=e[0];let n=t,r;e[1]===Symbol.for(`react.memo_cache_sentinel`)?(r={containerPadding:[0,0]},e[1]=r):r=e[1];let i;e[2]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,V.jsx)(`div`,{className:`drag-handle`,children:``}),e[2]=i):i=e[2];let a;e[3]===Symbol.for(`react.memo_cache_sentinel`)?(a=(0,V.jsx)(`h3`,{children:`Monthly Attendance Trend`}),e[3]=a):a=e[3];let o;e[4]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,V.jsxs)(`div`,{className:`chart-header`,children:[a,(0,V.jsxs)(`select`,{className:`chart-filter`,children:[(0,V.jsx)(`option`,{children:`Last 8 Months`}),(0,V.jsx)(`option`,{children:`Last 6 Months`}),(0,V.jsx)(`option`,{children:`Last Year`})]})]}),e[4]=o):o=e[4];let s,c,l;e[5]===Symbol.for(`react.memo_cache_sentinel`)?(s=(0,V.jsx)(VU,{strokeDasharray:`3 3`,stroke:`#333`}),c=(0,V.jsx)(nW,{dataKey:`month`,stroke:`#a0a0a0`,fontSize:9}),l=(0,V.jsx)(dW,{stroke:`#a0a0a0`,fontSize:9}),e[5]=s,e[6]=c,e[7]=l):(s=e[5],c=e[6],l=e[7]);let u;e[8]===Symbol.for(`react.memo_cache_sentinel`)?(u=(0,V.jsx)(aL,{contentStyle:{backgroundColor:`#252525`,border:`1px solid #333`,borderRadius:`8px`}}),e[8]=u):u=e[8];let d;e[9]===Symbol.for(`react.memo_cache_sentinel`)?(d=(0,V.jsxs)(`div`,{className:`grid-item chart-card`,children:[i,o,(0,V.jsx)(`div`,{className:`chart-container`,children:(0,V.jsx)(UE,{width:`100%`,height:`95%`,children:(0,V.jsxs)(Hye,{data:axe,children:[s,c,l,u,(0,V.jsx)(sH,{dataKey:`attendance`,fill:`#d4ff00`,radius:[8,8,0,0]})]})})})]},`chart-1`),e[9]=d):d=e[9];let f;e[10]===Symbol.for(`react.memo_cache_sentinel`)?(f=(0,V.jsx)(`div`,{className:`drag-handle`,children:``}),e[10]=f):f=e[10];let p;e[11]===Symbol.for(`react.memo_cache_sentinel`)?(p=(0,V.jsxs)(`div`,{className:`chart-header`,children:[(0,V.jsx)(`h3`,{children:`Attendance Distribution`}),(0,V.jsx)(`span`,{className:`chart-subtitle`,children:`This Month`})]}),e[11]=p):p=e[11];let m;e[12]===Symbol.for(`react.memo_cache_sentinel`)?(m=(0,V.jsx)(kB,{data:OK,cx:`50%`,cy:`50%`,innerRadius:37.5,outerRadius:60,paddingAngle:2,dataKey:`value`,children:OK.map(uxe)}),e[12]=m):m=e[12];let h;e[13]===Symbol.for(`react.memo_cache_sentinel`)?(h=(0,V.jsx)(UE,{width:`100%`,height:`95%`,children:(0,V.jsxs)($ye,{children:[m,(0,V.jsx)(aL,{contentStyle:{backgroundColor:`#252525`,border:`1px solid #333`,borderRadius:`8px`}})]})}),e[13]=h):h=e[13];let g;e[14]===Symbol.for(`react.memo_cache_sentinel`)?(g=(0,V.jsx)(`div`,{className:`legend-color`,style:{backgroundColor:kK[0]}}),e[14]=g):g=e[14];let _;e[15]===Symbol.for(`react.memo_cache_sentinel`)?(_=(0,V.jsxs)(`div`,{className:`legend-item`,children:[g,(0,V.jsxs)(`span`,{children:[`Present: `,OK?.[0]?.value]})]}),e[15]=_):_=e[15];let v;e[16]===Symbol.for(`react.memo_cache_sentinel`)?(v=(0,V.jsx)(`div`,{className:`legend-color`,style:{backgroundColor:kK[1]}}),e[16]=v):v=e[16];let y;return e[17]===Symbol.for(`react.memo_cache_sentinel`)?(y=(0,V.jsx)(`div`,{className:`hero-panel`,children:(0,V.jsxs)(rxe,{layouts:oxe,gridConfig:r,onLayoutChange:lxe,children:[n,d,(0,V.jsxs)(`div`,{className:`grid-item chart-card`,children:[f,p,(0,V.jsxs)(`div`,{className:`chart-container`,children:[h,(0,V.jsxs)(`div`,{className:`pie-legend`,children:[_,(0,V.jsxs)(`div`,{className:`legend-item`,children:[v,(0,V.jsxs)(`span`,{children:[`Absent: `,OK?.[1]?.value]})]})]})]})]},`chart-2`)]})}),e[17]=y):y=e[17],y};function cxe(e){let t=e.icon;return(0,V.jsxs)(`div`,{className:`grid-item stat-card`,children:[(0,V.jsx)(`div`,{className:`drag-handle`,children:``}),(0,V.jsxs)(`div`,{className:`stat-header`,children:[(0,V.jsx)(`div`,{className:`stat-icon`,children:(0,V.jsx)(t,{size:16})}),(0,V.jsx)(`span`,{className:`stat-change ${e.trend}`,children:e.change})]}),(0,V.jsxs)(`div`,{className:`stat-content`,children:[(0,V.jsx)(`h3`,{className:`stat-value`,children:e.value}),(0,V.jsx)(`p`,{className:`stat-label`,children:e.label})]})]},e.id)}function lxe(e,t){return console.log(e,t)}function uxe(e,t){return(0,V.jsx)(oL,{fill:kK[t%kK.length]},`cell-${t}`)}var MK=1;function NK(e,t=[]){let n=e&&typeof e==`object`&&typeof e.subscribeChanges==`function`&&typeof e.startSyncImmediate==`function`&&typeof e.id==`string`,r=(0,H.useRef)(null),i=(0,H.useRef)(null),a=(0,H.useRef)(null),o=(0,H.useRef)(0),s=(0,H.useRef)(null),c=!r.current||n&&a.current!==e||!n&&(i.current===null||i.current.length!==t.length||i.current.some((e,n)=>e!==t[n]));if(c)if(n)e.startSyncImmediate(),r.current=e,a.current=e;else if(typeof e==`function`){let n=e(new ev);if(n==null)r.current=null;else if(n instanceof $_)n.startSyncImmediate(),r.current=n;else if(n instanceof ev)r.current=Ov({query:e,startSync:!0,gcTime:MK});else if(n&&typeof n==`object`)r.current=Ov({startSync:!0,gcTime:MK,...n});else throw Error(`useLiveQuery callback must return a QueryBuilder, LiveQueryCollectionConfig, Collection, undefined, or null. Got: ${typeof n}`);i.current=[...t]}else r.current=Ov({startSync:!0,gcTime:MK,...e}),i.current=[...t];c&&(o.current=0,s.current=null);let l=(0,H.useRef)(null);(!l.current||c)&&(l.current=e=>{if(!r.current)return()=>{};let t=r.current.subscribeChanges(()=>{o.current+=1,e()});return r.current.status===`ready`&&(o.current+=1,e()),()=>{t.unsubscribe()}});let u=(0,H.useRef)(null);(!u.current||c)&&(u.current=()=>{let e=o.current,t=r.current;return(!s.current||s.current.version!==e||s.current.collection!==t)&&(s.current={collection:t,version:e}),s.current});let d=(0,H.useSyncExternalStore)(l.current,u.current),f=(0,H.useRef)(null),p=(0,H.useRef)(null);if(!f.current||f.current.version!==d.version||f.current.collection!==d.collection){if(!d.collection)p.current={state:void 0,data:void 0,collection:void 0,status:`disabled`,isLoading:!1,isReady:!0,isIdle:!1,isError:!1,isCleanedUp:!1,isEnabled:!1};else{let e=Array.from(d.collection.entries()),t=d.collection.config.singleResult,n=null,r=null;p.current={get state(){return n||=new Map(e),n},get data(){return r||=e.map(([,e])=>e),t?r[0]:r},collection:d.collection,status:d.collection.status,isLoading:d.collection.status===`loading`,isReady:d.collection.status===`ready`,isIdle:d.collection.status===`idle`,isError:d.collection.status===`error`,isCleanedUp:d.collection.status===`cleaned-up`,isEnabled:!0}}f.current=d}return p.current}var dxe=new hy,PK=`/api`;const FK=Q_(xy({queryKey:[`users`],queryFn:async()=>{let e=await fetch(`${PK}/users`);if(!e.ok)throw Error(`Failed to fetch users`);return e.json()},getKey:e=>e.id,queryClient:dxe,onInsert:async({transaction:e})=>{let{modified:t}=e.mutations[0];if(console.log(`newUser`,t),!(await fetch(`${PK}/users`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify(t)})).ok)throw Error(`Failed to create user`)},onUpdate:async({transaction:e})=>{let{original:t,modified:n}=e.mutations[0];if(!(await fetch(`${PK}/users/${t.id}`,{method:`PUT`,headers:{"Content-Type":`application/json`},body:JSON.stringify(n)})).ok)throw Error(`Failed to update user`)},onDelete:async({transaction:e})=>{let{original:t}=e.mutations[0];if(!(await fetch(`${PK}/users/${t.id}`,{method:`DELETE`})).ok)throw Error(`Failed to delete user`)},schema:nle}));var IK=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){let r=t?this.allAsyncListeners:this.allSyncListeners,i=r.get(e);return!i&&n&&(i=new Set,r.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){let r=this.getListeners(e,n,!1);r&&(r.delete(t),r.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){let n=e.type;if(t&&`event`in e){let t=e.event;t instanceof Event&&(e.eventPath=t.composedPath())}let{frameworkOverrides:r}=this,i=e=>{let n=r?()=>r.wrapIncoming(e):e;t?this.dispatchAsync(n):n()},a=this.getListeners(n,t,!1);if((a?.size??0)>0){let t=new Set(a);for(let n of t)a?.has(n)&&i(()=>n(e))}let o=this.getGlobalListeners(t);if(o.size>0){let t=new Set(o);for(let r of t)i(()=>r(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let e=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(e):e(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[];for(let t of e)t()}};function LK(e){return e==null||e===``?null:e}function q(e){return e!=null&&e!==``}function RK(e){return!q(e)}function zK(e){return e!=null&&typeof e.toString==`function`?e.toString():null}function BK(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function fxe(e,t,n=!1){let r=e==null,i=t==null;if(e?.toNumber&&(e=e.toNumber()),t?.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function a(e,t){return e>t?1:e<t?-1:0}if(typeof e!=`string`||!n)return a(e,t);try{return e.localeCompare(t)}catch{return a(e,t)}}var pxe=/[&<>"']/g,mxe={"&":`&amp;`,"<":`&lt;`,">":`&gt;`,'"':`&quot;`,"'":`&#39;`};function VK(e){return e?.toString().toString()??null}function HK(e){return VK(e)?.replace(pxe,e=>mxe[e])??null}function UK(e){return e.eRootDiv.getRootNode()}function WK(e){return UK(e).activeElement}function GK(e){let{gos:t,eRootDiv:n}=e,r=null,i=t.get(`getDocument`);return i&&q(i)?r=i():n&&(r=n.ownerDocument),r&&q(r)?r:document}function KK(e){let t=WK(e);return t===null||t===GK(e).body}function qK(e){return GK(e).defaultView||window}function JK(e){let t=null,n=null;try{t=GK(e).fullscreenElement}catch{}finally{t||=UK(e),n=t.querySelector(`body`)||(t instanceof ShadowRoot?t:t instanceof Document?t?.documentElement:t)}return n}function hxe(e){return JK(e)?.clientWidth??(window.innerWidth||-1)}function gxe(e){return JK(e)?.clientHeight??(window.innerHeight||-1)}function YK(e,t,n){n==null||typeof n==`string`&&n==``?ZK(e,t):XK(e,t,n)}function XK(e,t,n){e.setAttribute(QK(t),n.toString())}function ZK(e,t){e.removeAttribute(QK(t))}function QK(e){return`aria-${e}`}function $K(e,t){t?e.setAttribute(`role`,t):e.removeAttribute(`role`)}function _xe(e){let t;return t=e===`asc`?`ascending`:e===`desc`?`descending`:e===`mixed`?`other`:`none`,t}function vxe(e){return e.getAttribute(`aria-label`)}function eq(e,t){YK(e,`label`,t)}function tq(e,t){YK(e,`labelledby`,t)}function nq(e,t){YK(e,`live`,t)}function yxe(e,t){YK(e,`atomic`,t)}function bxe(e,t){YK(e,`relevant`,t)}function xxe(e,t){YK(e,`invalid`,t)}function Sxe(e,t){YK(e,`disabled`,t)}function rq(e,t){YK(e,`hidden`,t)}function iq(e,t){XK(e,`expanded`,t)}function Cxe(e,t){XK(e,`setsize`,t)}function wxe(e,t){XK(e,`posinset`,t)}function Txe(e,t){XK(e,`rowcount`,t)}function aq(e,t){XK(e,`rowindex`,t)}function Exe(e,t){XK(e,`rowspan`,t)}function Dxe(e,t){XK(e,`colcount`,t)}function oq(e,t){XK(e,`colindex`,t)}function Oxe(e,t){XK(e,`colspan`,t)}function kxe(e,t){XK(e,`sort`,t)}function Axe(e){ZK(e,`sort`)}function sq(e,t){YK(e,`selected`,t)}function jxe(e,t){YK(e,`controls`,t)}function Mxe(e,t){jxe(e,t.id),tq(t,e.id)}function cq(e,t){YK(e,`owns`,t)}function lq(e,t){return t===void 0?e(`ariaIndeterminate`,`indeterminate`):t===!0?e(`ariaChecked`,`checked`):e(`ariaUnchecked`,`unchecked`)}var Nxe=`[tabindex], input, select, button, textarea, [href]`,uq=`[disabled], .ag-disabled:not(.ag-button), .ag-disabled *`;function dq(e){return!e||!e.matches(`input, select, button, textarea`)||!e.matches(uq)?!1:Eq(e)}function fq(e,t,n={}){let{skipAriaHidden:r}=n;e.classList.toggle(`ag-hidden`,!t),r||rq(e,!t)}function Pxe(e,t,n={}){let{skipAriaHidden:r}=n;e.classList.toggle(`ag-invisible`,!t),r||rq(e,!t)}function pq(e,t){let n=`disabled`,r=t?e=>e.setAttribute(n,``):e=>e.removeAttribute(n);r(e);let i=e.querySelectorAll(`input`)??[];for(let e of i)r(e)}function mq(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n==`number`){if(++r>n)break}else if(e===n)break}return!1}function hq(e){let{height:t,width:n,borderTopWidth:r,borderRightWidth:i,borderBottomWidth:a,borderLeftWidth:o,paddingTop:s,paddingRight:c,paddingBottom:l,paddingLeft:u,marginTop:d,marginRight:f,marginBottom:p,marginLeft:m,boxSizing:h}=window.getComputedStyle(e),g=Number.parseFloat;return{height:g(t||`0`),width:g(n||`0`),borderTopWidth:g(r||`0`),borderRightWidth:g(i||`0`),borderBottomWidth:g(a||`0`),borderLeftWidth:g(o||`0`),paddingTop:g(s||`0`),paddingRight:g(c||`0`),paddingBottom:g(l||`0`),paddingLeft:g(u||`0`),marginTop:g(d||`0`),marginRight:g(f||`0`),marginBottom:g(p||`0`),marginLeft:g(m||`0`),boxSizing:h}}function gq(e){let t=hq(e);return t.boxSizing===`border-box`?t.height-t.paddingTop-t.paddingBottom-t.borderTopWidth-t.borderBottomWidth:t.height}function _q(e){let t=hq(e);return t.boxSizing===`border-box`?t.width-t.paddingLeft-t.paddingRight-t.borderLeftWidth-t.borderRightWidth:t.width}function vq(e){let{height:t,marginBottom:n,marginTop:r}=hq(e);return Math.floor(t+n+r)}function yq(e){let{width:t,marginLeft:n,marginRight:r}=hq(e);return Math.floor(t+n+r)}function bq(e){let t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:i,borderBottomWidth:a}=hq(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(i||0),bottom:t.bottom+(a||0)}}function xq(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function Sq(e,t,n){n&&(t*=-1),e.scrollLeft=t}function Cq(e){for(;e?.firstChild;)e.firstChild.remove()}function wq(e){e?.parentNode&&e.remove()}function Tq(e){return!!e.offsetParent}function Eq(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!Tq(e)||window.getComputedStyle(e).visibility!==`visible`)}function Dq(e){let t=document.createElement(`div`);return t.innerHTML=(e||``).trim(),t.firstChild}function Oq(e){return()=>{let t=e();return t?kq(t)||Aq(t):!0}}function kq(e){return e.clientWidth<e.scrollWidth}function Aq(e){return e.clientHeight<e.scrollHeight}function jq(e,t){t===`flex`?(e.style.removeProperty(`width`),e.style.removeProperty(`minWidth`),e.style.removeProperty(`maxWidth`),e.style.flex=`1 1 auto`):Mq(e,t)}function Mq(e,t){t=Pq(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function Nq(e,t){t=Pq(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function Pq(e){return typeof e==`number`?`${e}px`:e}function Fq(e){return e instanceof Node||e instanceof HTMLElement}function Iq(e,t,n){n==null||n===``?e.removeAttribute(t):e.setAttribute(t,n.toString())}function Lq(e,t,n){let r=qK(e).ResizeObserver,i=r?new r(n):null;return i?.observe(t),()=>i?.disconnect()}function Rq(e,t){let n=qK(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var zq=`data-ref`,Bq;function Vq(){return Bq??=document.createTextNode(` `),Bq.cloneNode()}function Hq(e){let{attrs:t,children:n,cls:r,ref:i,role:a,tag:o}=e,s=document.createElement(o);if(r&&(s.className=r),i&&s.setAttribute(zq,i),a&&s.setAttribute(`role`,a),t)for(let e of Object.keys(t))s.setAttribute(e,t[e]);if(n)if(typeof n==`string`)s.textContent=n;else{let e=!0;for(let t of n)t&&(typeof t==`string`?(s.appendChild(document.createTextNode(t)),e=!1):typeof t==`function`?s.appendChild(t()):(e&&=(s.appendChild(Vq()),!1),s.append(Hq(t)),s.appendChild(Vq())))}return s}var Fxe=[`touchstart`,`touchend`,`touchmove`,`touchcancel`,`scroll`],Ixe=[`wheel`],Uq={},Wq=(()=>{let e={select:`input`,change:`input`,submit:`form`,reset:`form`,error:`img`,load:`img`,abort:`img`};return t=>{if(typeof Uq[t]==`boolean`)return Uq[t];let n=document.createElement(e[t]||`div`);return t=`on`+t,Uq[t]=t in n}})();function Lxe(e,t){return!t||!e?!1:zxe(t).indexOf(e)>=0}function Rxe(e){let t=[],n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function zxe(e){let t=e;return t.path?t.path:t.composedPath?t.composedPath():Rxe(t)}function Bxe(e,t,n){let r=Vxe(t),i;r!=null&&(i={passive:r}),e.addEventListener(t,n,i)}var Vxe=e=>{let t=Fxe.includes(e),n=Ixe.includes(e);if(t)return!0;if(n)return!1};function Gq(e,t,n){if(n===0)return!1;let r=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(r,i)<=n}var Kq=(e,t)=>{let n=e.identifier;for(let e=0,r=t.length;e<r;++e){let r=t[e];if(r.identifier===n)return r}return null};function qq(e,t){return e.gos.isElementInThisInstance(t.target)}function Hxe(e,t,n){let r=e.getBoundingClientRect().height,i=hxe(n)-2,a=gxe(n)-2;if(!e.offsetParent)return;let o=bq(e.offsetParent),{clientY:s,clientX:c}=t,l=s-o.top-r/2,u=c-o.left-10,d=GK(n),f=d.defaultView||window,p=f.pageYOffset||d.documentElement.scrollTop,m=f.pageXOffset||d.documentElement.scrollLeft;i>0&&u+e.clientWidth>i+m&&(u=i+m-e.clientWidth),u<0&&(u=0),a>0&&l+e.clientHeight>a+p&&(l=a+p-e.clientHeight),l<0&&(l=0),e.style.left=`${u}px`,e.style.top=`${l}px`}var Jq=(e,...t)=>{for(let n of t){let[t,r,i,a]=n;t.addEventListener(r,i,a),e.push(n)}},Yq=e=>{if(e){for(let[t,n,r,i]of e)t.removeEventListener(n,r,i);e.length=0}},Xq=e=>{e.cancelable&&e.preventDefault()};function Uxe(e,t){return t}function Zq(e){return e?.getLocaleTextFunc()??Uxe}function Wxe(e,t,n,r){let i=t[n];return e.getLocaleTextFunc()(n,typeof i==`function`?i(r):i,r)}function Gxe(e){return(t,n,r)=>e({key:t,defaultValue:n,variableValues:r})}function Kxe(e){return(t,n,r)=>{let i=e?.[t];if(i&&r?.length){let e=0;for(;!(e>=r.length||i.indexOf("${variable}")===-1);)i=i.replace("${variable}",r[e++])}return i??n}}var Qq=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){let{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:`destroyed`})}addEventListener(e,t,n){this.localEventService||=new IK,this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){let n=[];for(let r of Object.keys(t)){let i=t[r];i&&n.push(this._setupListener(e,r,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let r;if(qxe(e))e.__addEventListener(t,n),r=()=>(e.__removeEventListener(t,n),null);else{let i=Jxe(e);e instanceof HTMLElement?Bxe(e,t,n):i?e.addListener(t,n):e.addEventListener(t,n),r=i?()=>(e.removeListener(t,n),null):()=>(e.removeEventListener(t,n),null)}return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(e=>e!==r),null)}setupPropertyListener(e,t){let{gos:n}=this;n.addPropertyEventListener(e,t);let r=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(e=>e!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupPropertyListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;let n=e.join(`-`)+ this.propertyListenerId++,r=e=>{if(e.changeSet){if(e.changeSet&&e.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=e.changeSet.id}t({type:`propertyChanged`,changeSet:e.changeSet,source:e.source})};for(let t of e)this.setupPropertyListener(t,r)}getLocaleTextFunc(){return Zq(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){let n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function qxe(e){return e.__addEventListener!==void 0}function Jxe(e){return e.eventServiceType===`global`}var J=class extends Qq{},$q={};function eJ(e,t){$q[t]||(e(),$q[t]=!0)}var Yxe={pending:!1,funcs:[]},Xxe={pending:!1,funcs:[]};function tJ(e,t=`setTimeout`,n){let r=t===`raf`?Xxe:Yxe;if(r.funcs.push(e),r.pending)return;r.pending=!0;let i=()=>{let e=r.funcs.slice();r.funcs.length=0,r.pending=!1;for(let t of e)t()};t===`raf`?Rq(n,i):window.setTimeout(i,0)}function nJ(e,t,n){let r;return function(...i){let a=this;window.clearTimeout(r),r=window.setTimeout(function(){e.isAlive()&&t.apply(a,i)},n)}}function rJ(e,t){let n=0;return function(...r){let i=this,a=Date.now();a-n<t||(n=a,e.apply(i,r))}}function Zxe(e,t,n,r=100){let i=Date.now(),a=null,o=!1,s=()=>{a!=null&&(window.clearInterval(a),a=null)};e.addDestroyFunc(s);let c=()=>{let e=Date.now()-i>r;(t()||e)&&(n(),o=!0,s())};c(),o||(a=window.setInterval(c,10))}var iJ=new Set([`__proto__`,`constructor`,`prototype`]);function Qxe(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(let n of Object.keys(e).filter(e=>!iJ.has(e)))t(n,e[n])}}function aJ(e,t,n=!0,r=!1){q(t)&&Qxe(t,(t,i)=>{let a=e[t];a!==i&&(r&&a==null&&typeof i==`object`&&i&&i.constructor===Object&&(a={},e[t]=a),oJ(i)&&oJ(a)&&!Array.isArray(a)?aJ(a,i,n,r):(n||i!==void 0)&&(e[t]=i))})}function oJ(e){return typeof e==`object`&&!!e}var sJ=class e{static applyGlobalGridOptions(t){if(!e.gridOptions)return{...t};let n={};return aJ(n,e.gridOptions,!0,!0),e.mergeStrategy===`deep`?aJ(n,t,!0,!0):n={...n,...t},e.gridOptions.context&&(n.context=e.gridOptions.context),t.context&&(e.mergeStrategy===`deep`&&n.context&&aJ(t.context,n.context,!0,!0),n.context=t.context),n}static applyGlobalGridOption(t,n){if(e.mergeStrategy===`deep`){let r=lJ(t);if(r&&typeof r==`object`&&typeof n==`object`)return e.applyGlobalGridOptions({[t]:n})[t]}return n}};sJ.gridOptions=void 0,sJ.mergeStrategy=`shallow`;var cJ=sJ;function lJ(e){return cJ.gridOptions?.[e]}var uJ={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:`hover`,tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:`standard`,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:`	`,suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:`never`,pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:`normal`,ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:`singleColumn`,groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:`never`,suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:`clientSide`,asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:`_`,viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:`xy`,suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:`new`,reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1},dJ=`https://www.ag-grid.com`;function fJ(e,t,...n){e.get(`debug`)&&console.log(`AG Grid: `+t,...n)}function pJ(e,...t){eJ(()=>console.warn(`AG Grid: `+e,...t),e+t?.join(``))}function mJ(e,...t){eJ(()=>console.error(`AG Grid: `+e,...t),e+t?.join(``))}var hJ=new Set,gJ={},_J={},vJ,yJ=!1,bJ=!1,$xe=!1;function eSe(e){let[t,n]=e.version.split(`.`)||[],[r,i]=vJ.split(`.`)||[];return t===r&&n===i}function tSe(e){vJ||=e.version;let t=e=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${e} Please update all modules to the same version.`;e.version?eSe(e)||mJ(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${vJ}.`)):mJ(t(`'${e.moduleName}' is incompatible.`));let n=e.validate?.();n&&!n.isValid&&mJ(`${n.message}`)}function xJ(e,t,n=!1){n||(yJ=!0),tSe(e);let r=e.rowModels??[`all`];hJ.add(e);let i;t===void 0?i=gJ:(bJ=!0,_J[t]===void 0&&(_J[t]={}),i=_J[t]);for(let t of r)i[t]===void 0&&(i[t]={}),i[t][e.moduleName]=e;if(e.dependsOn)for(let r of e.dependsOn)xJ(r,t,n)}function nSe(e){delete _J[e]}function SJ(e,t,n){let r=n=>!!gJ[n]?.[e]||!!_J[t]?.[n]?.[e];return r(n)||r(`all`)}function CJ(){return bJ}function rSe(e,t){let n=_J[e]??{};return[...Object.values(gJ.all??{}),...Object.values(n.all??{}),...Object.values(gJ[t]??{}),...Object.values(n[t]??{})]}function iSe(){return new Set(hJ)}function aSe(e,t){let n=_J[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function oSe(){return yJ}function wJ(){return $xe}var sSe=class{static register(e){xJ(e,void 0)}static registerModules(e){for(let t of e)xJ(t,void 0)}},Y=`34.3.1`,TJ=2e3,EJ=100,DJ=`_version_`,OJ=null,kJ=`${dJ}/javascript-data-grid`;function cSe(e){OJ=e}function lSe(e){kJ=e}function AJ(e,t,n){return OJ?.(e,t)??[pSe(e,t,n)]}function jJ(e,t,n,r,i){e(`${r?`warning`:`error`} #${t}`,...AJ(t,n,i))}function uSe(e){if(!e)return String(e);let t={};for(let n of Object.keys(e))typeof e[n]!=`object`&&typeof e[n]!=`function`&&(t[n]=e[n]);return JSON.stringify(t)}function dSe(e){let t=e;return e instanceof Error?t=e.toString():typeof e==`object`&&(t=uSe(e)),t}function MJ(e){return e===void 0?`undefined`:e===null?`null`:e}function NJ(e,t){return`${e}?${t.toString()}`}function fSe(e,t,n){let r=Array.from(t.entries()).sort((e,t)=>t[1].length-e[1].length),i=NJ(e,t);for(let[a,o]of r){if(a===DJ)continue;let r=i.length-n;if(r<=0)break;let s=r+3,c=o.length-s>EJ?o.slice(0,o.length-s)+`...`:o.slice(0,EJ)+`...`;t.set(a,c),i=NJ(e,t)}return i}function PJ(e,t){let n=new URLSearchParams;if(n.append(DJ,Y),t)for(let e of Object.keys(t))n.append(e,dSe(t[e]));let r=`${kJ}/errors/${e}`,i=NJ(r,n);return i.length<=TJ?i:fSe(r,n,TJ)}var pSe=(e,t,n)=>{let r=PJ(e,t),i=`${n?n+` 
`:``}Visit ${r}`;return wJ()?i:`${i}${n?``:` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function X(...e){jJ(pJ,e[0],e[1],!0)}function FJ(...e){jJ(mJ,e[0],e[1],!1)}function IJ(e,t,n){jJ(mJ,e,t,!1,n)}function mSe(e,t){let n=t[0];return`error #${n} `+AJ(n,t[1],e).join(` `)}function LJ(...e){return mSe(void 0,e)}function RJ(e,t){return e.get(`rowModelType`)===t}function zJ(e,t){return RJ(e,`clientSide`)}function BJ(e,t){return RJ(e,`serverSide`)}function VJ(e,t){return e.get(`domLayout`)===t}function HJ(e){return uY(e)!==void 0}function UJ(e){return typeof e.get(`getRowHeight`)==`function`}function hSe(e,t){return t?!e.get(`enableStrictPivotColumnOrder`):e.get(`maintainColumnOrder`)}function WJ(e,t,n=!1,r){let{gos:i,environment:a}=e;if(r??=a.getDefaultRowHeight(),UJ(i)){if(n)return{height:r,estimated:!0};let e={node:t,data:t.data},a=i.getCallback(`getRowHeight`)(e);if(KJ(a))return a===0&&X(23),{height:Math.max(1,a),estimated:!1}}if(t.detail&&i.get(`masterDetail`))return gSe(i);let o=i.get(`rowHeight`);return{height:o&&KJ(o)?o:r,estimated:!1}}function gSe(e){if(e.get(`detailRowAutoHeight`))return{height:1,estimated:!1};let t=e.get(`detailRowHeight`);return KJ(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function GJ(e){let{environment:t,gos:n}=e,r=n.get(`rowHeight`);if(!r||RK(r))return t.getDefaultRowHeight();let i=t.refreshRowHeightVariable();return i===-1?(X(24),t.getDefaultRowHeight()):i}function KJ(e){return!isNaN(e)&&typeof e==`number`&&isFinite(e)}function qJ(e,t,n){let r=t[e.getDomDataKey()];return r?r[n]:void 0}function JJ(e,t,n,r){let i=e.getDomDataKey(),a=t[i];RK(a)&&(a={},t[i]=a),a[n]=r}function YJ(e){return e.get(`ensureDomOrder`)?!1:e.get(`animateRows`)}function XJ(e){return!(e.get(`paginateChildRows`)||e.get(`groupHideOpenParents`)||VJ(e,`print`))}function ZJ(e){return!e.get(`autoGroupColumnDef`)?.comparator&&!e.get(`treeData`)}function QJ(e){let t=e.get(`groupAggFiltering`);if(typeof t==`function`)return e.getCallback(`groupAggFiltering`);if(t===!0)return()=>!0}function $J(e){return e.get(`grandTotalRow`)}function eY(e,t){return t?!1:e.get(`groupDisplayType`)===`groupRows`}function tY(e,t,n){return!!t.group&&!t.footer&&eY(e,n)}function nY(e){let t=e.getCallback(`getRowId`);return t===void 0?t:e=>{let n=t(e);return typeof n!=`string`&&(eJ(()=>X(25,{id:n}),`getRowIdString`),n=String(n)),n}}function _Se(e,t){let n=e.get(`groupHideParentOfSingleChild`);return!!(n===!0||n===`leafGroupsOnly`&&t.leafGroup||e.get(`groupRemoveSingleChildren`)||e.get(`groupRemoveLowestSingleChildren`)&&t.leafGroup)}function vSe(e){let t=e.get(`maxConcurrentDatasourceRequests`);return t>0?t:void 0}function rY(e){return e?.checkboxes??!0}function iY(e){return e?.mode===`multiRow`&&(e.headerCheckbox??!0)}function aY(e){if(typeof e==`object`)return e.checkboxLocation??`selectionColumn`}function oY(e){return e?.hideDisabledCheckboxes??!1}function ySe(e){return typeof e.get(`rowSelection`)!=`string`}function sY(e){let t=e.get(`cellSelection`);return t===void 0?e.get(`enableRangeSelection`):!!t}function cY(e){let t=e.get(`rowSelection`)??`single`;if(typeof t==`string`){let t=e.get(`suppressRowClickSelection`),n=e.get(`suppressRowDeselection`);return t&&n?!1:t?`enableDeselection`:n?`enableSelection`:!0}return t.mode===`singleRow`||t.mode===`multiRow`?t.enableClickSelection??!1:!1}function bSe(e){let t=cY(e);return t===!0||t===`enableSelection`}function xSe(e){let t=cY(e);return t===!0||t===`enableDeselection`}function lY(e){let t=e.get(`rowSelection`);return typeof t==`string`?e.get(`isRowSelectable`):t?.isRowSelectable}function uY(e){let t=`beanName`in e&&e.beanName===`gos`?e.get(`rowSelection`):e.rowSelection;if(typeof t==`string`)switch(t){case`multiple`:return`multiRow`;case`single`:return`singleRow`;default:return}switch(t?.mode){case`multiRow`:case`singleRow`:return t.mode;default:return}}function dY(e){return uY(e)===`multiRow`}function SSe(e){let t=e.get(`rowSelection`);return typeof t==`string`?e.get(`rowMultiSelectWithClick`):t?.enableSelectionWithoutKeys??!1}function fY(e){let t=e.get(`rowSelection`);if(typeof t==`string`){let t=e.get(`groupSelectsChildren`),n=e.get(`groupSelectsFiltered`);return t&&n?`filteredDescendants`:t?`descendants`:`self`}return t?.mode===`multiRow`?t.groupSelects:void 0}function pY(e,t=!0){let n=e.get(`rowSelection`);return typeof n==`object`?n.mode===`multiRow`?n.selectAll:`all`:t?`all`:void 0}function CSe(e){let t=e.get(`rowSelection`);return typeof t==`string`?!1:t?.mode===`multiRow`?t.ctrlASelectsRows??!1:!1}function mY(e){let t=fY(e);return t===`descendants`||t===`filteredDescendants`}function hY(e){let t=e.get(`rowSelection`);return typeof t==`object`&&t.masterSelects||`self`}function wSe(e){return e.isModuleRegistered(`SetFilter`)&&!e.get(`suppressSetFilterByDefault`)}function gY(e){return e.get(`columnMenu`)===`legacy`}function TSe(e){return!gY(e)}function ESe(e){return!e||e.length<2?e:`on`+e[0].toUpperCase()+e.substring(1)}function DSe(e,t,n){typeof e!=`object`&&(e={});let r={...e};for(let e of n){let n=t[e];n!==void 0&&(r[e]=n)}return r}function OSe(e,t){if(!e)return;let n={},r=!1;for(let t of Object.keys(e))n[t]=e[t],r=!0;if(!r)return;let i={type:`gridOptionsChanged`,options:n};t.dispatchEvent(i);let a={type:`componentStateChanged`,...n};t.dispatchEvent(a)}function _Y(e,t){return e.addCommon(t)}function vY(e,t){return e[t]??e.gridOptions?.[t]??lJ(t)??uJ[t]}function yY({gos:e},t){return t.button===2||t.ctrlKey&&e.get(`allowContextMenuWithControlKey`)}var kSe={resizable:!0,sortable:!0},ASe=0;function bY(){return ASe++}function xY(e){return e instanceof SY}var SY=class extends J{constructor(e,t,n,r){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.isColumn=!0,this.instanceId=bY(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new IK,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=HK(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){let{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:r}}=this;t?.initCol(this);let i=e.hide;i===void 0?this.visible=!e.initialHide:this.visible=!i,n?.initCol(this),r?.initCol(this)}setColDef(e,t,n){let r=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),r&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent(`colDefChanged`,n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth(`gridInitializing`),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){let{gos:e,colDef:{field:t,tooltipField:n}}=this,r=e.get(`suppressFieldDotNotation`);this.fieldContainsDots=q(t)&&t.includes(`.`)&&!r,this.tooltipFieldContainsDots=q(n)&&n.includes(`.`)&&!r}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??2**53-1}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){let e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:t=>{let n=e.recreateColDef(this.colDef);this.setColDef(n,n,t.source)}})}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t,n=e.width,r=e.initialWidth;return t=n??r??200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);let n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){let n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return _Y(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue(`resizable`)}getColDefValue(e){return this.colDef[e]??kSe[e]}isColumnFunc(e,t){return typeof t==`boolean`?t:typeof t==`function`?t(this.createColumnFunctionCallbackParams(e)):!1}createColumnEvent(e,t){return _Y(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue(`sortable`)}isSortAscending(){return this.sort===`asc`}isSortDescending(){return this.sort===`desc`}isSortNone(){return RK(this.sort)}isSorting(){return q(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent(`leftChanged`,t))}isFilterActive(){return this.filterActive}isHovered(){return X(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent(`firstRightPinnedChanged`,t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent(`lastLeftPinnedChanged`,t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned===`left`||this.pinned===`right`}isPinnedLeft(){return this.pinned===`left`}isPinnedRight(){return this.pinned===`right`}getPinned(){return this.pinned}setVisible(e,t){let n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent(`visibleChanged`,t)),this.dispatchStateUpdatedEvent(`hide`)}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e?.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e?.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return _Y(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(RK(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(RK(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!==`flex`&&t!==`gridInitializing`&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent(`width`)}fireColumnWidthChangedEvent(e){this.dispatchColEvent(`widthChanged`,e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){let r=this.createColumnEvent(e,t);n&&aJ(r,n),this.colEventSvc.dispatchEvent(r)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:`columnStateUpdated`,key:e})}};function CY(e){return e instanceof wY}var wY=class extends J{constructor(e,t,n,r){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=r,this.isColumn=!1,this.expandable=!1,this.instanceId=bY(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:`expandedChanged`})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(let t of this.children)xY(t)?e(t):CY(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){if(this.children)for(let t of this.children)xY(t)?e.push(t):CY(t)&&t.addLeafColumns(e)}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);for(let t of this.getLeafColumns())t.__addEventListener(`visibleChanged`,e);this.expandableListenerRemoveCallback=()=>{for(let t of this.getLeafColumns())t.__removeEventListener(`visibleChanged`,e);this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1,r=this.findChildrenRemovingPadding();for(let i=0,a=r.length;i<a;i++){let a=r[i];if(!a.isVisible())continue;let o=a.getColumnGroupShow();o===`open`?(e=!0,n=!0):o===`closed`?(t=!0,n=!0):(e=!0,t=!0)}let i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:`expandableChanged`}))}findChildrenRemovingPadding(){let e=[],t=n=>{for(let r of n)CY(r)&&r.isPadding()?t(r.children):e.push(r)};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},jSe={numericColumn:{headerClass:`ag-right-aligned-header`,cellClass:`ag-right-aligned-cell`},rightAligned:{headerClass:`ag-right-aligned-header`,cellClass:`ag-right-aligned-cell`}};function TY(e,t,n){let r={},i=e.gos;return Object.assign(r,i.get(`defaultColGroupDef`)),Object.assign(r,t),i.validateColDef(r,n),r}var MSe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=zK(e);let n=0;for(;;){let r=e??t;if(r?n!==0&&(r+=`_`+n):r=n,!this.existingKeys[r]){let t=String(r);return e&&n>0&&X(273,{providedId:e,usedId:t}),this.existingKeys[t]=!0,t}n++}}};Object.freeze([]);function EY(e){if(e?.length)return e[e.length-1]}function DY(e,t,n){if(e===t)return!0;if(!e||!t)return e==null&&t==null;let r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i]&&!n?.(e[i],t[i]))return!1;return!0}function OY(e,t){if(e)for(let n of e)t(n)}function kY(e,t){let n=e.indexOf(t);n>=0&&e.splice(n,1)}function AY(e,t,n){for(let n=0;n<t.length;n++)kY(e,t[n]);for(let r=t.length-1;r>=0;r--)e.splice(n,0,t[r])}var NSe=`ag-Grid-AutoColumn`,PSe=`ag-Grid-SelectionColumn`;function jY(e){let t=[],n=e=>{for(let r=0;r<e.length;r++){let i=e[r];xY(i)?t.push(i):CY(i)&&n(i.getChildren())}};return n(e),t}function MY(e){return e.reduce((e,t)=>e+t.getActualWidth(),0)}function NY(e,t,n){let r={};if(!t)return;UY(null,t,e=>{r[e.getInstanceId()]=e}),n&&UY(null,n,e=>{r[e.getInstanceId()]=null});let i=Object.values(r).filter(e=>e!=null);e.context.destroyBeans(i)}function PY(e){return e.getId().startsWith(NSe)}function FY(e){return(typeof e==`string`?e:`getColId`in e?e.getColId():e.colId)?.startsWith(`ag-Grid-SelectionColumn`)??!1}function IY(e){return(typeof e==`string`?e:`getColId`in e?e.getColId():e.colId)?.startsWith(`ag-Grid-RowNumbersColumn`)??!1}function FSe(e){return FY(e)||IY(e)}function LY(e){let t=[];return e instanceof Array?t=e:typeof e==`string`&&(t=e.split(`,`)),t}function ISe(e,t){return DY(e,t,(e,t)=>e.getColId()===t.getColId())}function LSe(e){e.map={};for(let t of e.list)e.map[t.getId()]=t}function RY(e){return e===`optionsUpdated`?`gridOptionsChanged`:e}function zY(e,t){let n=e===t,r=e.getColDef()===t,i=e.getColId()==t;return n||r||i}var RSe=(e,t)=>(n,r)=>{let i={value1:void 0,value2:void 0},a=!1;return e&&(e[n]!==void 0&&(i.value1=e[n],a=!0),q(r)&&e[r]!==void 0&&(i.value2=e[r],a=!0)),!a&&t&&(t[n]!==void 0&&(i.value1=t[n]),q(r)&&t[r]!==void 0&&(i.value2=t[r])),i},zSe=(e,t)=>{CY(e)&&e.setupExpandable(),e.originalParent=t};function BSe(e,t=null,n,r,i){let a=new MSe,{existingCols:o,existingGroups:s,existingColKeys:c}=VSe(r);a.addExistingKeys(c);let l=BY(e,t,0,n,o,a,s,i),{colGroupSvc:u}=e,d=u?.findMaxDepth(l,0)??0,f=u?u.balanceColumnTree(l,0,d,a):l;return UY(null,f,zSe),{columnTree:f,treeDepth:d}}function VSe(e){let t=[],n=[],r=[];return e&&UY(null,e,e=>{if(CY(e)){let t=e;n.push(t)}else{let n=e;r.push(n.getId()),t.push(n)}}),{existingCols:t,existingGroups:n,existingColKeys:r}}function BY(e,t,n,r,i,a,o,s){if(!t)return[];let{colGroupSvc:c}=e,l=Array(t.length);for(let u=0;u<l.length;u++){let d=t[u];c&&qSe(d)?l[u]=c.createProvidedColumnGroup(r,d,n,i,a,o,s):l[u]=HSe(e,r,d,i,a,s)}return l}function HSe(e,t,n,r,i,a){let o=WSe(n,r);o&&r?.splice(o.idx,1);let s=o?.column;if(s){let t=HY(e,n,s.getColId());s.setColDef(t,n,a),USe(e,s,t,a)}else{let r=i.getUniqueKey(n.colId,n.field);s=new SY(HY(e,n,r),n,r,t),e.context.createBean(s)}return e.dataTypeSvc?.addColumnListeners(s),s}function VY(e,t,n,r,i,a,o,s){let{sortSvc:c,pinnedCols:l,colFlex:u}=e;n!==void 0&&t.setVisible(!n,s),c&&(c.updateColSort(t,r,s),i!==void 0&&c.setColSortIndex(t,i)),a!==void 0&&l?.setColPinned(t,a),o!==void 0&&u?.setColFlex(t,o)}function USe(e,t,n,r){VY(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,r);let i=t.getFlex();if(!(i!=null&&i>0))if(n.width!=null)t.setActualWidth(n.width,r);else{let e=t.getActualWidth();t.setActualWidth(e,r)}}function WSe(e,t){if(t)for(let n=0;n<t.length;n++){let r=t[n].getUserProvidedColDef();if(r){if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(r.field===e.field)return{idx:n,column:t[n]};continue}if(r===e)return{idx:n,column:t[n]}}}}function HY(e,t,n,r){let{gos:i,dataTypeSvc:a}=e,o={};aJ(o,i.get(`defaultColDef`),!1,!0);let s=GSe(e,o,t,n);s&&KSe(e,s,o);let c=o.cellDataType;aJ(o,t,!1,!0),c!==void 0&&(o.cellDataType=c);let l=i.get(`autoGroupColumnDef`),u=ZJ(i);return t.rowGroup&&l&&u&&aJ(o,{sort:l.sort,initialSort:l.initialSort},!1,!0),a&&(a.postProcess(o),a.validateColDef(o)),i.validateColDef(o,n,r),o}function GSe(e,t,n,r){let i=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,r),a=n.type??i??t.type;return t.type=a,a?LY(a):void 0}function KSe(e,t,n){if(!t.length)return;let r=Object.assign({},jSe),i=e.gos.get(`columnTypes`)||{};for(let e of Object.keys(i)){let t=i[e];e in r?X(34,{key:e}):(t.type&&X(35),r[e]=t)}for(let e of t){let t=r[e.trim()];t?aJ(n,t,!1,!0):X(36,{t:e})}}function qSe(e){return e.children!==void 0}function UY(e,t,n){if(t)for(let r=0;r<t.length;r++){let i=t[r];CY(i)&&UY(i,i.getChildren(),n),n(i,e)}}function WY(e,t){let n=[],r=[],i=[];return e.forEach(e=>{let t=e.getColDef().lockPosition;t===`right`?i.push(e):t===`left`||t===!0?n.push(e):r.push(e)}),t.get(`enableRtl`)?[...i,...r,...n]:[...n,...r,...i]}function GY(e,t){let n=!0;return UY(null,t,t=>{if(!CY(t))return;let r=t;if(!r.getColGroupDef()?.marryChildren)return;let i=[];for(let t of r.getLeafColumns()){let n=e.indexOf(t);i.push(n)}Math.max.apply(Math,i)-Math.min.apply(Math,i)>r.getLeafColumns().length-1&&(n=!1)}),n}function KY(e,t){if(!e||e.length==0)return;let n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}function qY(e,t,n){if(!t.length)return;let r=t.length===1?t[0]:null,i=KY(t,e=>e.getPinned());e.dispatchEvent({type:`columnPinned`,pinned:i??null,columns:t,column:r,source:n})}function JSe(e,t,n){if(!t.length)return;let r=t.length===1?t[0]:null,i=KY(t,e=>e.isVisible());e.dispatchEvent({type:`columnVisible`,visible:i,columns:t,column:r,source:n})}function YSe(e,t,n,r){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r})}function JY(e,t,n,r,i=null){t?.length&&e.dispatchEvent({type:`columnResized`,columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:n,source:r})}function YY(e,t,n){let{colModel:r,rowGroupColsSvc:i,pivotColsSvc:a,autoColSvc:o,selectionColSvc:s,colAnimation:c,visibleCols:l,pivotResultCols:u,environment:d,valueColsSvc:f,eventSvc:p,gos:m}=e,h=r.getColDefCols()??[],g=s?.getColumns();if(!h.length&&!g?.length)return!1;if(t?.state&&!t.state.forEach)return X(32),!1;let _=(r,o,s,c,l)=>{if(!r)return;let u=RSe(o,t.defaultState),p=u(`flex`).value1;if(VY(e,r,u(`hide`).value1,u(`sort`).value1,u(`sortIndex`).value1,u(`pinned`).value1,p,n),p==null){let e=u(`width`).value1;if(e!=null){let t=r.getColDef().minWidth??d.getDefaultColumnMinWidth();t!=null&&e>=t&&r.setActualWidth(e,n)}}l||!r.isPrimary()||(f?.syncColumnWithState(r,n,u),i?.syncColumnWithState(r,n,u,s),a?.syncColumnWithState(r,n,u,c))},v=(c,u,d)=>{let f=XY(e,n),h=u.slice(),g={},v={},y=[],b=[],x=[],S=0,C=i?.columns.slice()??[],w=a?.columns.slice()??[];for(let e of c){let t=e.colId;if(t.startsWith(`ag-Grid-AutoColumn`)){y.push(e),x.push(e);continue}if(FY(t)){b.push(e),x.push(e);continue}let n=d(t);n?(_(n,e,g,v,!1),kY(h,n)):(x.push(e),S+=1)}let T=e=>_(e,null,g,v,!1);h.forEach(T),i?.sortColumns($Y.bind(i,g,C)),a?.sortColumns($Y.bind(a,v,w)),r.refreshCols(!1,n);let E=(e,t,n=[])=>{for(let r of t){let t=e(r.colId);kY(n,t),_(t,r,null,null,!0)}n.forEach(T)};return E(e=>o?.getColumn(e)??null,y,o?.getColumns()?.slice()),E(e=>s?.getColumn(e)??null,b,s?.getColumns()?.slice()),ZSe(t,r,m),l.refresh(n),p.dispatchEvent({type:`columnEverythingChanged`,source:n}),f(),{unmatchedAndAutoStates:x,unmatchedCount:S}};c?.start();let{unmatchedAndAutoStates:y,unmatchedCount:b}=v(t.state||[],h,e=>r.getColDefCol(e));return(y.length>0||q(t.defaultState))&&(b=v(y,u?.getPivotResultCols()?.list??[],e=>u?.getPivotResultCol(e)??null).unmatchedCount),c?.finish(),b===0}function XSe(e,t){let{colModel:n,autoColSvc:r,selectionColSvc:i,eventSvc:a,gos:o}=e,s=n.getColDefCols();if(!s?.length)return;let c=jY(n.getColDefColTree()),l=[],u=1e3,d=1e3,f=e=>{let t=QY(e);RK(t.rowGroupIndex)&&t.rowGroup&&(t.rowGroupIndex=u++),RK(t.pivotIndex)&&t.pivot&&(t.pivotIndex=d++),l.push(t)};r?.getColumns()?.forEach(f),i?.getColumns()?.forEach(f),c?.forEach(f),YY(e,{state:l},t);let p=r?.getColumns()??[];YY(e,{state:[...i?.getColumns()??[],...p,...s].map(e=>({colId:e.colId})),applyOrder:!0},t),a.dispatchEvent(_Y(o,{type:`columnsReset`,source:t}))}function XY(e,t){let{rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:i,colModel:a,sortSvc:o,eventSvc:s}=e,c={rowGroupColumns:n?.columns.slice()??[],pivotColumns:r?.columns.slice()??[],valueColumns:i?.columns.slice()??[]},l=ZY(e),u={};for(let e of l)u[e.colId]=e;return()=>{let i=(e,n,r,i)=>{if(DY(n.map(i),r.map(i)))return;let a=new Set(n);for(let e of r)a.delete(e)||a.add(e);let o=[...a];s.dispatchEvent({type:e,columns:o,column:o.length===1?o[0]:null,source:t})},d=e=>{let t=[];return a.forAllCols(n=>{let r=u[n.getColId()];r&&e(r,n)&&t.push(n)}),t},f=e=>e.getColId();i(`columnRowGroupChanged`,c.rowGroupColumns,n?.columns??[],f),i(`columnPivotChanged`,c.pivotColumns,r?.columns??[],f);let p=d((e,t)=>{let n=e.aggFunc!=null,r=n!=t.isValueActive(),i=n&&e.aggFunc!=t.getAggFunc();return r||i});p.length>0&&YSe(s,`columnValueChanged`,p,t),JY(s,d((e,t)=>e.width!=t.getActualWidth()),!0,t),qY(s,d((e,t)=>e.pinned!=t.getPinned()),t),JSe(s,d((e,t)=>e.hide==t.isVisible()),t);let m=d((e,t)=>e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex());m.length>0&&o?.dispatchSortChangedEvents(t,m),$Se(l,ZY(e),t,a,s)}}function ZY(e){let{colModel:t,rowGroupColsSvc:n,pivotColsSvc:r}=e;if(RK(t.getColDefCols())||!t.isAlive())return[];let i=n?.columns,a=r?.columns,o=[],s=e=>{let t=e.isRowGroupActive()&&i?i.indexOf(e):null,n=e.isPivotActive()&&a?a.indexOf(e):null,r=e.isValueActive()?e.getAggFunc():null,s=e.getSort()==null?null:e.getSort(),c=e.getSortIndex()==null?null:e.getSortIndex();o.push({colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:c,aggFunc:r,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:n,flex:e.getFlex()??null})};t.forAllCols(e=>s(e));let c=new Map(t.getCols().map((e,t)=>[e.getColId(),t]));return o.sort((e,t)=>(c.has(e.colId)?c.get(e.colId):-1)-(c.has(t.colId)?c.get(t.colId):-1)),o}function QY(e){let t=(e,t)=>e??t??null,n=e.getColDef(),r=t(n.sort,n.initialSort),i=t(n.sortIndex,n.initialSortIndex),a=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),s=t(n.width,n.initialWidth),c=t(n.flex,n.initialFlex),l=t(n.rowGroupIndex,n.initialRowGroupIndex),u=t(n.rowGroup,n.initialRowGroup);l==null&&!u&&(l=null,u=null);let d=t(n.pivotIndex,n.initialPivotIndex),f=t(n.pivot,n.initialPivot);d==null&&!f&&(d=null,f=null);let p=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:r,sortIndex:i,hide:a,pinned:o,width:s,flex:c,rowGroup:u,rowGroupIndex:l,pivot:f,pivotIndex:d,aggFunc:p}}function ZSe(e,t,n){if(!e.applyOrder||!e.state)return;let r=[];for(let t of e.state)t.colId!=null&&r.push(t.colId);QSe(t.cols,r,t,n)}function QSe(e,t,n,r){if(e==null)return;let i=[],a={};for(let n of t){if(a[n])continue;let t=e.map[n];t&&(i.push(t),a[n]=!0)}let o=0;for(let t of e.list){let e=t.getColId();a[e]??(e.startsWith(`ag-Grid-AutoColumn`)?i.splice(o++,0,t):i.push(t))}if(i=WY(i,r),!GY(i,n.getColTree())){X(39);return}e.list=i}function $Se(e,t,n,r,i){let a={};for(let e of t)a[e.colId]=e;let o={};for(let t of e)a[t.colId]&&(o[t.colId]=!0);let s=e.filter(e=>o[e.colId]),c=t.filter(e=>o[e.colId]),l=[];c.forEach((e,t)=>{let n=s?.[t];if(n&&n.colId!==e.colId){let e=r.getCol(n.colId);e&&l.push(e)}}),l.length&&i.dispatchEvent({type:`columnMoved`,columns:l,column:l.length===1?l[0]:null,finished:!0,source:n})}var $Y=(e,t,n,r)=>{let i=e[n.getId()],a=e[r.getId()],o=i!=null,s=a!=null;if(o&&s)return i-a;if(o)return-1;if(s)return 1;let c=t.indexOf(n),l=t.indexOf(r),u=c>=0;return u&&l>=0?c-l:u?-1:1},eCe=class extends J{constructor(){super(...arguments),this.beanName=`colModel`,this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get(`pivotMode`),this.addManagedPropertyListeners([`groupDisplayType`,`treeData`,`treeDataDisplayType`,`groupHideOpenParents`,`rowNumbers`,`hidePaddedHeaderRows`],e=>this.refreshAll(RY(e.source))),this.addManagedPropertyListeners([`defaultColDef`,`defaultColGroupDef`,`columnTypes`,`suppressFieldDotNotation`],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener(`pivotMode`,e=>this.setPivotMode(this.gos.get(`pivotMode`),RY(e.source)))}createColsFromColDefs(e){let{beans:t}=this,{valueCache:n,colAutosize:r,rowGroupColsSvc:i,pivotColsSvc:a,valueColsSvc:o,visibleCols:s,eventSvc:c,groupHierarchyColSvc:l}=t,u=this.colDefs?XY(t,e):void 0;n?.expire();let d=this.colDefCols?.list,f=this.colDefCols?.tree,p=BSe(t,this.colDefs,!0,f,e);NY(t,this.colDefCols?.tree,p.columnTree);let m=p.columnTree,h=p.treeDepth,g=jY(m),_={};for(let e of g)_[e.getId()]=e;this.colDefCols={tree:m,treeDepth:h,list:g,map:_},this.createColumnsForService([l],this.colDefCols,e),i?.extractCols(e,d),a?.extractCols(e,d),o?.extractCols(e,d),this.ready=!0,this.refreshCols(!0,e),s.refresh(e),c.dispatchEvent({type:`columnEverythingChanged`,source:e}),u&&(this.changeEventsDispatching=!0,u(),this.changeEventsDispatching=!1),c.dispatchEvent({type:`newColumnsLoaded`,source:e}),e===`gridInitializing`&&r?.applyAutosizeStrategy()}refreshCols(e,t){if(!this.colDefCols)return;let n=this.cols?.tree;this.saveColOrder();let{autoColSvc:r,selectionColSvc:i,rowNumbersSvc:a,quickFilter:o,pivotResultCols:s,showRowGroupCols:c,rowAutoHeight:l,visibleCols:u,colViewport:d,eventSvc:f}=this.beans,p=this.selectCols(s,this.colDefCols);this.createColumnsForService([r,i,a],p,t);let m=hSe(this.gos,this.showingPivotResult);(!e||m)&&this.restoreColOrder(p),this.positionLockedCols(p),c?.refresh(),o?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(p),u.clear(),d.clear(),DY(n,this.cols.tree)||f.dispatchEvent({type:`gridColumnsChanged`})}createColumnsForService(e,t,n){for(let r of e)r&&(r.createColumns(t,e=>{this.lastOrder=e(this.lastOrder),this.lastPivotOrder=e(this.lastPivotOrder)},n),r.addColumns(t))}selectCols(e,t){let n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;let{map:r,list:i,tree:a,treeDepth:o}=n??t;return this.cols={list:i.slice(),map:{...r},tree:a.slice(),treeDepth:o},n&&(n.list.some(e=>this.cols?.map[e.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];let{valueColsSvc:e,selectionColSvc:t,gos:n}=this.beans,r=this.isPivotMode()&&!this.showingPivotResult,i=t?.isSelectionColumnEnabled(),a=n.get(`rowNumbers`),o=e?.columns;return this.cols.list.filter(e=>{let t=PY(e);if(r){let n=o?.includes(e);return t||n||i&&FY(e)||a&&IY(e)}else return t||e.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1,e),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){YY(this.beans,{state:e.map(e=>({colId:typeof e==`string`?e:e.getColId(),hide:!t}))},n)}restoreColOrder(e){let t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;let n=t.filter(t=>e.map[t.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}let r=e=>{let t=e.getOriginalParent();return t?t.getChildren().length>1?!0:r(t):!1};if(!n.some(e=>r(e))){let t=new Set(n);for(let r of e.list)t.has(r)||n.push(r);e.list=n;return}let i=new Map;for(let e=0;e<n.length;e++){let t=n[e];i.set(t,e)}let a=e.list.filter(e=>!i.has(e));if(a.length===0){e.list=n;return}let o=(e,t)=>{let n=t?t.getOriginalParent():e.getOriginalParent();if(!n)return null;let r=null,a=null;for(let o of n.getChildren())if(!(o===t||o===e)){if(o instanceof SY){let e=i.get(o);if(e==null)continue;(r==null||r<e)&&(r=e,a=o);continue}o.forEachLeafColumn(e=>{let t=i.get(e);t!=null&&(r==null||r<t)&&(r=t,a=e)})}return a??o(e,n)},s=[],c=new Map;for(let e of a){let t=o(e,null);if(t==null){s.push(e);continue}let n=c.get(t);n===void 0?c.set(t,e):Array.isArray(n)?n.push(e):c.set(t,[n,e])}let l=Array(e.list.length),u=l.length-1;for(let e=s.length-1;e>=0;e--)l[u--]=s[e];for(let e=n.length-1;e>=0;e--){let t=n[e],r=c.get(t);if(r)if(Array.isArray(r))for(let e=r.length-1;e>=0;e--){let t=r[e];l[u--]=t}else l[u--]=r;l[u--]=t}e.list=l}positionLockedCols(e){e.list=WY(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(e){return this.colDefCols&&this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[],e)}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1,t);let{visibleCols:n,eventSvc:r}=this.beans;n.refresh(t),r.dispatchEvent({type:`columnPivotModeChanged`})}isPivotActive(){let e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);let t=RY(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){NY(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){let{pivotResultCols:t,autoColSvc:n,selectionColSvc:r,groupHierarchyColSvc:i}=this.beans;OY(this.colDefCols?.list,e),OY(n?.columns?.list,e),OY(r?.columns?.list,e),OY(i?.columns?.list,e),OY(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(e=>this.getCol(e)).filter(e=>e!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;let{map:n,list:r}=t;if(typeof e==`string`&&n[e])return n[e];for(let t=0;t<r.length;t++)if(zY(r[t],e))return r[t];let{autoColSvc:i,selectionColSvc:a,groupHierarchyColSvc:o}=this.beans;return i?.getColumn(e)??a?.getColumn(e)??o?.getColumn(e)??null}},eX=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let t=this.existingIds[e],n;return n=typeof t==`number`?t+1:0,this.existingIds[e]=n,n}},tX=class extends J{};function nX(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}function rX(e){return typeof e?.getGui==`function`}var iX=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(e){if(e.indexOf(` `)>=0){let n=(e||``).split(` `);if(n.length>1){for(let e of n)this.toggleCss(e,t);return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}}},tCe=0,aX=class extends Qq{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=tCe++,this.cssManager=new iX(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(e=>[e.selector,e])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());let e=`component-`+Object.getPrototypeOf(this)?.constructor?.name;for(let t of this.css??[])this.beans.environment.addGlobalCSS(t,e)}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(zq):null}applyElementsToComponent(e,t,n,r=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){let i=this[t];if(i===null)this[t]=r??e;else{let e=n?.[t];if(!this.suppressDataRefValidation&&!e)throw Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){let n=[];for(let t of e.childNodes??[])n.push(t);for(let r of n){if(!(r instanceof HTMLElement))continue;let n=this.createComponentFromElement(r,e=>{let t=e.getGui();if(t)for(let e of r.attributes??[])t.setAttribute(e.name,e.value)},t);if(n){if(n.addItems&&r.children.length){this.createChildComponentsFromTags(r,t);let e=Array.prototype.slice.call(r.children);n.addItems(e)}this.swapComponentForNode(n,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,t)}}createComponentFromElement(e,t,n){let r=e.nodeName,i=this.getDataRefAttribute(e),a=r.indexOf(`AG-`)===0,o=a?this.componentSelectors.get(r):null,s=null;if(o){let e=n&&i?n[i]:void 0;s=new o.component(e),s.setParentComponent(this),this.createBean(s,null,t)}else if(a)throw Error(`selector: ${r}`);return this.applyElementsToComponent(e,i,n,s),s}swapComponentForNode(e,t,n){let r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){let t=this.gos.get(`tabIndex`);e||=[],e.length||e.push(this.getGui());for(let n of e)n.setAttribute(`tabindex`,t.toString())}setTemplate(e,t,n){let r;r=typeof e==`string`||e==null?Dq(e):Hq(e),this.setTemplateFromElement(r,t,n)}setTemplateFromElement(e,t,n,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,t)for(let e=0;e<t.length;e++){let n=t[e];this.componentSelectors.set(n.selector,n)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||=this.eGui,Fq(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){let{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.insertAdjacentElement(`afterbegin`,n)}appendChild(e,t){let{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;let{skipAriaHidden:n}=t;Pxe(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;let{skipAriaHidden:n}=t;fq(this.eGui,e,{skipAriaHidden:n});let r={type:`displayChanged`,visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&=void 0,super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||=[],this.css.push(e)}},oX=class extends aX{};function sX(e){return typeof e==`object`&&!!e.component}function nCe(e,t){return new cX(n=>{n(window.setInterval(e,t))})}var cX=class e{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(e=>this.onDone(e),e=>this.onReject(e))}static all(t){return t.length?new e(e=>{let n=t.length,r=Array(n);t.forEach((t,i)=>{t.then(t=>{r[i]=t,n--,n===0&&e(r)})})}):e.resolve()}static resolve(t=null){return new e(e=>e(t))}then(t){return new e(e=>{this.status===1?e(t(this.resolution)):this.waiters.push(n=>e(t(n)))})}onDone(e){this.status=1,this.resolution=e;for(let t of this.waiters)t(e)}onReject(e){}};function rCe(e){return e?e.prototype&&`getGui`in e.prototype:!1}function lX(e,t,n,r){let{name:i}=n,a,o,s,c,l,u;if(t){let n=t,d=n[i+`Selector`],f=d?d(r):null,p=t=>{typeof t==`string`?a=t:t!=null&&t!==!0&&(e.isFrameworkComponent(t)?s=t:o=t)};f?(p(f.component),c=f.params,l=f.popup,u=f.popupPosition):p(n[i])}return{compName:a,jsComp:o,fwComp:s,paramsFromSelector:c,popupFromSelector:l,popupPositionFromSelector:u}}var iCe=class extends J{constructor(){super(...arguments),this.beanName=`userCompFactory`}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,r=!1){return this.getCompDetails(this.gridOptions,e,t,n,r)}getCompDetails(e,t,n,r,i=!1){let{name:a,cellRenderer:o}=t,{compName:s,jsComp:c,fwComp:l,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:f}=lX(this.beans.frameworkOverrides,e,t,r),p,m,h=e=>{let t=this.registry.getUserComponent(a,e);t&&(c=t.componentFromFramework?void 0:t.component,l=t.componentFromFramework?t.component:void 0,p=t.params,m=t.processParams)};if(s!=null&&h(s),c==null&&l==null&&n!=null&&h(n),c&&o&&!rCe(c)&&(c=this.agCompUtils?.adaptFunction(t,c)),!c&&!l){let{validation:e}=this.beans;i&&(s!==n||!n)?s?e?.isProvidedUserComp(s)||FJ(50,{compName:s}):n?e||FJ(260,{...this.gos.getModuleErrorParams(),propName:a,compName:n}):FJ(216,{name:a}):n&&!e&&FJ(146,{comp:n});return}let g=this.mergeParams(e,t,r,u,p,m),_=c==null,v=c??l;return{componentFromFramework:_,componentClass:v,params:g,type:t,popupFromSelector:d,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(v,_,g,t)}}newAgStackInstance(e,t,n,r){let i=!t,a;a=i?new e:this.frameworkCompWrapper.wrap(e,r.mandatoryMethods,r.optionalMethods,r),this.createBean(a);let o=a.init?.(n);return o==null?cX.resolve(a):o.then(()=>a)}mergeParams(e,t,n,r=null,i,a){let o={...n,...i},s=e?.[t.name+`Params`];return typeof s==`function`?aJ(o,s(n)):typeof s==`object`&&aJ(o,s),aJ(o,r),a?a(o):o}},aCe={name:`dateComponent`,mandatoryMethods:[`getDate`,`setDate`],optionalMethods:[`afterGuiAttached`,`setInputPlaceholder`,`setInputAriaLabel`,`setDisabled`,`refresh`]},oCe={name:`dragAndDropImageComponent`,mandatoryMethods:[`setIcon`,`setLabel`]},sCe={name:`headerComponent`,optionalMethods:[`refresh`]},cCe={name:`innerHeaderComponent`},lCe={name:`innerHeaderGroupComponent`},uCe={name:`headerGroupComponent`},dCe={name:`cellRenderer`,optionalMethods:[`refresh`,`afterGuiAttached`],cellRenderer:!0},fCe={name:`loadingCellRenderer`,cellRenderer:!0},pCe={name:`cellEditor`,mandatoryMethods:[`getValue`],optionalMethods:[`isPopup`,`isCancelBeforeStart`,`isCancelAfterEnd`,`getPopupPosition`,`focusIn`,`focusOut`,`afterGuiAttached`,`refresh`]},mCe={name:`loadingOverlayComponent`,optionalMethods:[`refresh`]},hCe={name:`noRowsOverlayComponent`,optionalMethods:[`refresh`]},gCe={name:`tooltipComponent`},uX={name:`filter`,mandatoryMethods:[`isFilterActive`,`doesFilterPass`,`getModel`,`setModel`],optionalMethods:[`afterGuiAttached`,`afterGuiDetached`,`onNewRowsLoaded`,`getModelAsString`,`onFloatingFilterChanged`,`onAnyFilterChanged`,`refresh`]},_Ce={name:`floatingFilterComponent`,mandatoryMethods:[`onParentModelChanged`],optionalMethods:[`afterGuiAttached`,`refresh`]},vCe={name:`fullWidthCellRenderer`,optionalMethods:[`refresh`,`afterGuiAttached`],cellRenderer:!0},yCe={name:`loadingCellRenderer`,cellRenderer:!0},bCe={name:`groupRowRenderer`,optionalMethods:[`afterGuiAttached`],cellRenderer:!0},xCe={name:`detailCellRenderer`,optionalMethods:[`refresh`],cellRenderer:!0};function SCe(e,t){return e.getCompDetailsFromGridOptions(oCe,`agDragAndDropImage`,t,!0)}function CCe(e,t,n){return e.getCompDetails(t,sCe,`agColumnHeader`,n)}function wCe(e,t,n){return e.getCompDetails(t,cCe,void 0,n)}function TCe(e,t){let n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,uCe,`agColumnGroupHeader`,t)}function ECe(e,t,n){return e.getCompDetails(t,lCe,void 0,n)}function DCe(e,t){return e.getCompDetailsFromGridOptions(vCe,void 0,t,!0)}function OCe(e,t){return e.getCompDetailsFromGridOptions(yCe,`agLoadingCellRenderer`,t,!0)}function kCe(e,t){return e.getCompDetailsFromGridOptions(bCe,`agGroupRowRenderer`,t,!0)}function ACe(e,t){return e.getCompDetailsFromGridOptions(xCe,`agDetailCellRenderer`,t,!0)}function dX(e,t,n){return e.getCompDetails(t,dCe,void 0,n)}function fX(e,t,n){return e.getCompDetails(t,fCe,`agSkeletonCellRenderer`,n,!0)}function pX(e,t,n){return e.getCompDetails(t,pCe,`agCellEditor`,n,!0)}function jCe(e,t,n,r){let i=t.filter;return sX(i)&&(t={filter:i.component,filterParams:t.filterParams}),e.getCompDetails(t,uX,r,n,!0)}function MCe(e,t,n){return e.getCompDetails(t,aCe,`agDateInput`,n,!0)}function NCe(e,t){return e.getCompDetailsFromGridOptions(mCe,`agLoadingOverlay`,t,!0)}function PCe(e,t){return e.getCompDetailsFromGridOptions(hCe,`agNoRowsOverlay`,t,!0)}function FCe(e,t){return e.getCompDetails(t.colDef,gCe,`agTooltipComponent`,t,!0)}function ICe(e,t,n,r){return e.getCompDetails(t,_Ce,r,n)}function mX(e,t){return lX(e,t,uX)}function hX(e,t,n){return e.mergeParams(t,uX,n)}function gX(e){let t=e;return t?.getFrameworkComponentInstance==null?e:t.getFrameworkComponentInstance()}function LCe(e){return typeof e==`object`&&!!e.getComp}var Z={BACKSPACE:`Backspace`,TAB:`Tab`,ENTER:`Enter`,ESCAPE:`Escape`,SPACE:` `,LEFT:`ArrowLeft`,UP:`ArrowUp`,RIGHT:`ArrowRight`,DOWN:`ArrowDown`,DELETE:`Delete`,F2:`F2`,PAGE_UP:`PageUp`,PAGE_DOWN:`PageDown`,PAGE_HOME:`Home`,PAGE_END:`End`,A:`KeyA`,C:`KeyC`,D:`KeyD`,V:`KeyV`,X:`KeyX`,Y:`KeyY`,Z:`KeyZ`},_X=class extends aX{isPopup(){return!0}setParentComponent(e){e.addCss(`ag-has-popup`),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e?.isAlive()&&e.getGui().classList.remove(`ag-has-popup`),super.destroy()}},vX,yX,bX,xX,SX,CX,wX;function TX(){return vX===void 0&&(vX=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),vX}function EX(){return yX===void 0&&(yX=/(firefox)/i.test(navigator.userAgent)),yX}function DX(){return bX===void 0&&(bX=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),bX}function OX(){return xX===void 0&&(xX=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform===`MacIntel`&&navigator.maxTouchPoints>1),xX}function kX(e){if(!e)return null;let t=e.tabIndex,n=e.getAttribute(`tabIndex`);return t===-1&&(n===null||n===``&&!EX())?null:t.toString()}function RCe(){if(wX!==void 0)return wX;if(!document.body)return-1;let e=1e6,t=EX()?6e6:1e9,n=document.createElement(`div`);for(document.body.appendChild(n);;){let r=e*2;if(n.style.height=r+`px`,r>t||n.clientHeight!==r)break;e=r}return n.remove(),wX=e,e}function zCe(){return CX??AX(),CX}function AX(){let e=document.body,t=document.createElement(`div`);t.style.width=t.style.height=`100px`,t.style.opacity=`0`,t.style.overflow=`scroll`,t.style.msOverflowStyle=`scrollbar`,t.style.position=`absolute`,e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.remove(),n!=null&&(CX=n,SX=n===0)}function jX(){return SX??AX(),SX}var MX=`T`,BCe=RegExp(`[${MX} ]`),VCe=RegExp(`^\\d{4}-\\d{2}-\\d{2}(${MX}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function NX(e,t){return e.toString().padStart(t,`0`)}function PX(e,t=!0,n=MX){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(e=>NX(e,2)).join(`-`);return t&&(r+=n+[e.getHours(),e.getMinutes(),e.getSeconds()].map(e=>NX(e,2)).join(`:`)),r}function FX(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),NX(e.getDate(),2),NX(e.getHours(),2),`:${NX(e.getMinutes(),2)}`,`:${NX(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,NX(e.getDate(),2)].map(String):null}var IX=e=>{if(e>3&&e<21)return`th`;switch(e%10){case 1:return`st`;case 2:return`nd`;case 3:return`rd`}return`th`},LX=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],RX=[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`];function zX(e,t){if(t==null)return PX(e,!1);let n=NX(e.getFullYear(),4),r={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>LX[e.getMonth()],MMM:()=>LX[e.getMonth()].slice(0,3),MM:()=>NX(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${IX(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${IX(e.getDate())}`,DD:()=>NX(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>RX[e.getDay()],ddd:()=>RX[e.getDay()].slice(0,3),dd:()=>RX[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${IX(e.getDay())}`,d:()=>`${e.getDay()}`},i=new RegExp(Object.keys(r).join(`|`),`g`);return t.replace(i,e=>e in r?r[e]():e)}function BX(e,t=!1){return!!VX(e,t)}function HCe(e){return BX(e,!0)}function VX(e,t=!1,n){if(!e||!n&&!VCe.test(e))return null;let[r,i]=e.split(BCe);if(!r)return null;let a=r.split(`-`).map(e=>Number.parseInt(e,10));if(a.filter(e=>!isNaN(e)).length!==3)return null;let[o,s,c]=a,l=new Date(o,s-1,c);if(l.getFullYear()!==o||l.getMonth()!==s-1||l.getDate()!==c||!i&&t)return null;if(!i||i===`00:00:00`)return l;let[u,d,f]=i.split(`:`).map(e=>Number.parseInt(e,10));if(u>=0&&u<24)l.setHours(u);else if(t)return null;if(d>=0&&d<60)l.setMinutes(d);else if(t)return null;if(f>=0&&f<60)l.setSeconds(f);else if(t)return null;return l}function HX(e){let{inputValue:t,allSuggestions:n,hideIrrelevant:r,filterByPercentageOfBestMatch:i}=e,a=(n??[]).map((e,n)=>({value:e,relevance:UCe(t,e),idx:n}));if(a.sort((e,t)=>e.relevance-t.relevance),r&&(a=a.filter(e=>e.relevance<Math.max(e.value.length,t.length))),a.length>0&&i&&i>0){let e=a[0].relevance*i;a=a.filter(t=>e-t.relevance<0)}let o=[],s=[];for(let e of a)o.push(e.value),s.push(e.idx);return{values:o,indices:s}}function UCe(e,t){e.length<t.length&&([e,t]=[t,e]);let n=[],r=[],i=e.length,a=t.length;for(let e=0;e<=a;e++)n[e]=e;let o=0;for(let s=1;s<=i;s++){r[0]=s;for(let c=1;c<=a;c++){let a=e[s-1],l=t[c-1];if(a.toLocaleLowerCase()===l.toLocaleLowerCase())++o,a===l&&++o,s>1&&c>1&&e[s-2].toLocaleLowerCase()===t[c-2].toLocaleLowerCase()&&(++o,e[s-2]===t[c-2]&&++o),s<i/2-10&&++o,r[c]=n[c-1];else{let e=r[c-1],t=n[c],i=n[c-1];r[c]=1+Math.min(e,t,i)}}[n,r]=[r,n]}return n[a]/(o+1)}function UX(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}var WX=!1,GX=0;function WCe(e){GX>0||(e.addEventListener(`keydown`,KX),e.addEventListener(`mousedown`,KX))}function GCe(e){GX>0||(e.removeEventListener(`keydown`,KX),e.removeEventListener(`mousedown`,KX))}function KX(e){let t=WX,n=e.type===`keydown`;n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(WX=n)}function KCe(e){let t=GK(e);return WCe(t),GX++,()=>{GX--,GCe(t)}}function qCe(){return WX}function qX(e,t,n=!1){let r=Nxe,i=uq;t&&(i+=`, `+t),n&&(i+=`, [tabindex="-1"]`);let a=Array.prototype.slice.apply(e.querySelectorAll(r)).filter(e=>Eq(e)),o=Array.prototype.slice.apply(e.querySelectorAll(i));return o.length?((e,t)=>e.filter(e=>t.indexOf(e)===-1))(a,o):a}function JX(e,t=!1,n=!1,r=!1){let i=qX(e,r?`.ag-tab-guard`:null,n),a=t?EY(i):i[0];return a?(a.focus({preventScroll:!0}),!0):!1}function YX(e,t,n,r){let i=qX(t,n?`:not([tabindex="-1"])`:null),a=WK(e),o;o=n?i.findIndex(e=>e.contains(a)):i.indexOf(a);let s=o+(r?-1:1);return s<0||s>=i.length?null:i[s]}function XX(e,t=5){let n=0;for(;e&&kX(e)===null&&++n<=t;)e=e.parentElement;return kX(e)===null?null:e}var JCe=`.ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}`,YCe=class extends aX{constructor(e,t,n){super(t,n),this.labelSeparator=``,this.labelAlignment=`left`,this.disabled=!1,this.label=``,this.config=e||{},this.registerCSS(JCe)}postConstruct(){this.addCss(`ag-labeled`),this.eLabel.classList.add(`ag-label`);let{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){let{label:e,eLabel:t}=this;Cq(t),typeof e==`string`?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===``?(fq(t,!1),$K(t,`presentation`)):(fq(t,!0),$K(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){let e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let t=this.getGui().classList;return t.toggle(`ag-label-align-left`,e===`left`),t.toggle(`ag-label-align-right`,e===`right`),t.toggle(`ag-label-align-top`,e===`top`),this}setLabelEllipsis(e){return this.eLabel.classList.toggle(`ag-label-ellipsis`,e),this}setLabelWidth(e){return this.label==null||jq(this.eLabel,e),this}setDisabled(e){e=!!e;let t=this.getGui();return pq(t,e),t.classList.toggle(`ag-disabled`,e),this.disabled=e,this}isDisabled(){return!!this.disabled}},ZX=class extends YCe{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==``||vxe(e)!==null?tq(e,``):tq(e,t??``)}setAriaLabel(e){return eq(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Mq(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:`fieldValueChanged`}),this)}};function XCe(e){return{tag:`div`,role:`presentation`,children:[{tag:`div`,ref:`eLabel`,cls:`ag-input-field-label`},{tag:`div`,ref:`eWrapper`,cls:`ag-wrapper ag-input-wrapper`,role:`presentation`,children:[{tag:e,ref:`eInput`,cls:`ag-input-field-input`}]}]}}var QX=class extends ZX{constructor(e,t,n=`text`,r=`input`){super(e,e?.template??XCe(r),[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=null,this.eWrapper=null,this.eInput=null}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);let{eLabel:e,eWrapper:t,eInput:n,className:r}=this;e.classList.add(`${r}-label`),t.classList.add(`${r}-input-wrapper`),n.classList.add(`${r}-input`),this.addCss(`ag-input-field`),n.id=n.id||`ag-${this.getCompId()}-input`;let{inputName:i,inputWidth:a}=this.config;i!=null&&this.setInputName(i),a!=null&&this.setInputWidth(a),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag===`input`&&(this.inputType=e,Iq(this.eInput,`type`,e))}getInputElement(){return this.eInput}setInputWidth(e){return jq(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute(`name`,e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Iq(this.eInput,`placeholder`,e),this}setInputAriaLabel(e){return eq(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return pq(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Iq(this.eInput,`autocomplete`,null);else{let t=typeof e==`string`?e:`off`;Iq(this.eInput,`autocomplete`,t)}return this}},$X=class extends QX{constructor(e,t=`ag-checkbox`,n=`checkbox`){super(e,t,n),this.labelAlignment=`right`,this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:t}=this.config;typeof e==`boolean`&&this.setReadOnly(e),typeof t==`boolean`&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle(`ag-disabled`,e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle(`ag-disabled`,e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){let t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e==`boolean`?e:void 0;let n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:`fieldValueChanged`,selected:e,previousValue:t,event:n});let r=this.getInputElement();this.eventSvc.dispatchEvent({type:`checkboxChanged`,id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){let t=this.eWrapper.classList;t.toggle(`ag-checked`,e===!0),t.toggle(`ag-indeterminate`,e==null)}},eZ={selector:`AG-CHECKBOX`,component:$X},ZCe=class extends $X{constructor(e){super(e,`ag-radio-button`,`radio`)}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){let t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},tZ=class extends QX{constructor(e,t=`ag-text-field`,n=`text`){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){let n=this.eInput;return n.value!==e&&(n.value=q(e)?e:``),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){let e=RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListeners(this.eInput,{keydown:t=>{UX(t)&&t.key&&!e.test(t.key)&&t.preventDefault()},paste:t=>{(t.clipboardData?.getData(`text`))?.split(``).some(t=>!e.test(t))&&t.preventDefault()}})}},nZ={selector:`AG-INPUT-TEXT-FIELD`,component:tZ},QCe={selector:`AG-INPUT-TEXT-AREA`,component:class extends QX{constructor(e){super(e,`ag-text-area`,null,`textarea`)}setValue(e,t){let n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}}},rZ=class extends tZ{constructor(e){super(e,`ag-number-field`,`number`)}postConstruct(){super.postConstruct();let e=this.eInput;this.addManagedListeners(e,{blur:()=>{let t=Number.parseFloat(e.value),n=isNaN(t)?``:this.normalizeValue(t.toString());this.value!==n&&this.setValue(n)},wheel:this.onWheel.bind(this)}),e.step=`any`;let{precision:t,min:n,max:r,step:i}=this.config;typeof t==`number`&&this.setPrecision(t),typeof n==`number`&&this.setMin(n),typeof r==`number`&&this.setMax(r),typeof i==`number`&&this.setStep(i)}onWheel(e){WK(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===``?``:(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){let n=this.precision;if(n==null)return e;if(t){let t=Number.parseFloat(e).toFixed(n);return Number.parseFloat(t).toString()}let r=String(e).split(`.`);if(r.length>1){if(r[1].length<=n)return e;if(n>0)return`${r[0]}.${r[1].slice(0,n)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,Iq(this.eInput,`min`,e),this)}setMax(e){return this.max===e?this:(this.max=e,Iq(this.eInput,`max`,e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Iq(this.eInput,`step`,e),this)}setValue(e,t){return this.setValueOrInputValue(e=>super.setValue(e,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(e=>super.setValue(e,!0),e=>{this.eInput.value=e},e)}setValueOrInputValue(e,t,n){if(q(n)){let r=this.isScientificNotation(n);if(r&&this.eInput.validity.valid)return e(n);if(!r){n=this.adjustPrecision(n);let e=this.normalizeValue(n);r=n!=e}if(r)return t(n)}return e(n)}getValue(){let e=this.eInput;if(!e.validity.valid)return;let t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e==`string`&&e.includes(`e`)}},$Ce={selector:`AG-INPUT-NUMBER-FIELD`,component:rZ},iZ={selector:`AG-INPUT-DATE-FIELD`,component:class extends tZ{constructor(e){super(e,`ag-date-field`,`date`)}postConstruct(){super.postConstruct();let e=TX();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step=`any`}onWheel(e){WK(this.beans)===this.eInput&&e.preventDefault()}setMin(e){let t=e instanceof Date?PX(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,Iq(this.eInput,`min`,t),this)}setMax(e){let t=e instanceof Date?PX(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,Iq(this.eInput,`max`,t),this)}setStep(e){return this.step===e?this:(this.step=e,Iq(this.eInput,`step`,e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?`datetime-local`:`date`),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return VX(this.getValue())??void 0}setDate(e,t){this.setValue(PX(e??null,this.includeTime),t)}}},ewe=`.ag-list-item{align-items:center;display:flex;height:var(--ag-list-item-height);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}`,twe=`ag-active-item`,nwe=(e,t)=>({tag:`div`,cls:`ag-list-item ag-${e}-list-item`,attrs:{role:`option`},children:[{tag:`span`,ref:`eText`,children:t}]}),rwe=class extends aX{constructor(e,t,n){super(nwe(e,t)),this.label=t,this.value=n,this.eText=null}postConstruct(){this.createTooltip(),this.addEventListeners()}setHighlighted(e){let t=this.getGui();t.classList.toggle(twe,e),sq(t,e),this.dispatchLocalEvent({type:`itemHighlighted`,highlighted:e})}getHeight(){return this.getGui().clientHeight}setIndex(e,t){let n=this.getGui();wxe(n,e),Cxe(n,t)}createTooltip(){let e=this.createOptionalManagedBean(this.beans.registry.createDynamicBean(`highlightTooltipFeature`,!1,{getTooltipValue:()=>this.label,getGui:()=>this.getGui(),getLocation:()=>`UNKNOWN`,shouldDisplayTooltip:()=>kq(this.eText)},this));e&&(this.tooltipFeature=e)}addEventListeners(){let e=this.getParentComponent();e&&(this.addGuiEventListener(`mouseover`,()=>{e.highlightItem(this)}),this.addGuiEventListener(`mousedown`,t=>{t.preventDefault(),t.stopPropagation(),e.setValue(this.value)}))}},iwe=class extends aX{constructor(e=`default`){super({tag:`div`,cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.options=[],this.listItems=[],this.highlightedItem=null,this.registerCSS(ewe)}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()})}handleKeyDown(e){let t=e.key;switch(t){case Z.ENTER:if(!this.highlightedItem)this.setValue(this.getValue());else{let e=this.listItems.indexOf(this.highlightedItem);this.setValueByIndex(e)}break;case Z.DOWN:case Z.UP:e.preventDefault(),this.navigate(t);break;case Z.PAGE_DOWN:case Z.PAGE_UP:case Z.PAGE_HOME:case Z.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}addOptions(e){for(let t of e)this.addOption(t);return this}addOption(e){let{value:t,text:n}=e,r=n??t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0);for(let e of this.listItems)e.destroy();Cq(this.getGui()),this.listItems=[],this.refreshAriaRole()}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;let n=this.options.findIndex(t=>t.value===e);if(n!==-1){let e=this.options[n];this.value=e.value,this.displayValue=e.text,this.highlightItem(this.listItems[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(e=>e.value===this.value);e!==-1&&this.highlightItem(this.listItems[e])}highlightItem(e){let t=e.getGui();if(!Eq(t))return;this.clearHighlighted(),e.setHighlighted(!0),this.highlightedItem=e;let{scrollTop:n,clientHeight:r}=this.getGui(),{offsetTop:i,offsetHeight:a}=t;(i+a>n+r||i<n)&&t.scrollIntoView({block:`nearest`})}hideItemTooltip(){this.highlightedItem?.tooltipFeature?.attemptToHideTooltip()}destroy(){this.hideItemTooltip(),super.destroy()}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}clearHighlighted(){this.highlightedItem?.setHighlighted(!1),this.highlightedItem=null}renderOption(e,t){let n=new rwe(this.cssIdentifier,t,e);n.setParentComponent(this);let r=this.createManagedBean(n);this.listItems.push(r),this.getGui().appendChild(r.getGui())}navigate(e){let t=e===Z.DOWN,n,{listItems:r,highlightedItem:i}=this;if(!i)n=t?r[0]:EY(r);else{let e=r.indexOf(i)+(t?1:-1);e=Math.min(Math.max(e,0),r.length-1),n=r[e]}this.highlightItem(n)}navigateToPage(e){let{listItems:t,highlightedItem:n}=this;if(!n||t.length===0)return;let r=t.indexOf(n),i=this.options.length-1,a=t[0].getHeight(),o=Math.floor(this.getGui().clientHeight/a),s=-1;e===Z.PAGE_HOME?s=0:e===Z.PAGE_END?s=i:e===Z.PAGE_DOWN?s=Math.min(r+o,i):e===Z.PAGE_UP&&(s=Math.max(r-o,0)),s!==-1&&this.highlightItem(t[s])}refreshAriaRole(){$K(this.getGui(),this.options.length===0?`presentation`:`listbox`)}updateIndices(){this.refreshAriaRole();let e=this.listItems,t=e.length;e.forEach((e,n)=>{e.setIndex(n+1,t)})}fireChangeEvent(){this.dispatchLocalEvent({type:`fieldValueChanged`}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:`selectedItem`})}},awe=`.ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}`,owe={tag:`div`,cls:`ag-picker-field`,role:`presentation`,children:[{tag:`div`,ref:`eLabel`},{tag:`div`,ref:`eWrapper`,cls:`ag-wrapper ag-picker-field-wrapper ag-picker-collapsed`,children:[{tag:`div`,ref:`eDisplayField`,cls:`ag-picker-field-display`},{tag:`div`,ref:`eIcon`,cls:`ag-picker-field-icon`,attrs:{"aria-hidden":`true`}}]}]},swe=class extends ZX{constructor(e){if(super(e,e?.template||owe,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=null,this.eWrapper=null,this.eDisplayField=null,this.eIcon=null,this.registerCSS(awe),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:t,maxPickerHeight:n,variableWidth:r,minPickerWidth:i,maxPickerWidth:a}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!r,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),a!=null&&this.setPickerMaxWidth(a)}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute(`id`,e);let t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:n,inputWidth:r}=this.config;if(n){let e=this.beans.iconSvc.createIconNoSpan(n);e&&this.eIcon.appendChild(e)}r!=null&&this.setInputWidth(r)}setupAria(){let e=this.getAriaElement();e.setAttribute(`tabindex`,this.gos.get(`tabIndex`).toString()),iq(e,!1),this.ariaRole&&$K(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Z.UP:case Z.DOWN:case Z.ENTER:case Z.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Z.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||=this.createPickerComponent();let e=this.pickerComponent.getGui();e.addEventListener(`focusin`,this.onPickerFocusIn),e.addEventListener(`focusout`,this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.pickerComponent.getGui();this.gos.get(`suppressScrollWhenPopupsAreOpen`)||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:r,modalPicker:i=!0},maxPickerHeight:a,minPickerWidth:o,maxPickerWidth:s,variableWidth:c,beans:l,eWrapper:u}=this,d={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{let e=KK(l);this.beforeHidePicker(),e&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,r),anchorToElement:u};e.style.position=`absolute`;let f=l.popupSvc,p=f.addPopup(d);c?(o&&(e.style.minWidth=o),e.style.width=Pq(yq(u)),s&&(e.style.maxWidth=s)):jq(e,s??yq(u));let m=a??`${gq(f.getPopupParent())}px`;return e.style.setProperty(`max-height`,m),this.alignPickerToComponent(),p.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:r},eWrapper:i,pickerComponent:a}=this,o=r.get(`enableRtl`)?`right`:`left`;n.positionPopupByComponent({type:t,eventSource:i,ePopup:a.getGui(),position:`under`,alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&=(this.destroyMouseWheelFunc(),void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener(`focusin`,this.onPickerFocusIn),e.removeEventListener(`focusout`,this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;iq(this.getAriaElement(),e);let t=this.eWrapper.classList;t.toggle(`ag-picker-expanded`,e),t.toggle(`ag-picker-collapsed`,!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle(`ag-picker-has-focus`,e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:`pickerHidden`}))}setInputWidth(e){return jq(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e==`number`&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e==`number`&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e==`number`&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},cwe=`.ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}`,aZ=class extends swe{constructor(e){super({pickerAriaLabelKey:`ariaLabelSelectField`,pickerAriaLabelValue:`Select Field`,pickerType:`ag-list`,className:`ag-select`,pickerIcon:`selectOpen`,ariaRole:`combobox`,...e}),this.registerCSS(cwe)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean(`tooltipFeature`,!1,{shouldDisplayTooltip:Oq(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get(`tabIndex`);let{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){let e=this.createBean(new iwe(`select`));this.listComponent=e,e.setParentComponent(this);let t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute(`id`,n),Mxe(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:e=>{e?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:`selectedItem`})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}beforeHidePicker(){this.listComponent?.hideItemTooltip(),super.beforeHidePicker()}onKeyDown(e){let{key:t}=e;switch(t===Z.TAB&&this.hidePicker(),t){case Z.ENTER:case Z.UP:case Z.DOWN:case Z.PAGE_UP:case Z.PAGE_DOWN:case Z.PAGE_HOME:case Z.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case Z.ESCAPE:super.onKeyDown(e);break;case Z.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){let e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){for(let t of e)this.addOption(t);return this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){let{listComponent:r,config:{placeholder:i},eDisplayField:a,tooltipFeature:o}=this;if(this.value===e||!r||(n||r.setValue(e,!0),r.getValue()===this.getValue()))return this;let s=r.getDisplayValue();return s==null&&i&&(s=i),a.textContent=s,o?.setTooltipAndRefresh(s??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},lwe={selector:`AG-SELECT`,component:aZ},uwe=`:where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-chart,.ag-dnd-ghost,.ag-external,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}`,oZ=typeof window!=`object`||!window?.document?.fonts?.forEach,sZ=!1,cZ=(e,t,n,r,i,a)=>{if(oZ||sZ)return;r&&(e=`@layer ${CSS.escape(r)} { ${e} }`);let o=dZ.map.get(t);if(o||(o=[],dZ.map.set(t,o)),o.some(t=>t.css===e))return;let s=document.createElement(`style`);a&&s.setAttribute(`nonce`,a),s.dataset.agGlobalCss=n,s.textContent=e;let c={css:e,el:s,priority:i},l;for(let e of o){if(e.priority>i)break;l=e}if(l){l.el.insertAdjacentElement(`afterend`,s);let e=o.indexOf(l);o.splice(e+1,0,c)}else t.insertBefore(s,t.querySelector(`:not(title, meta)`)),o.push(c)},lZ=(e,t,n,r)=>{cZ(uwe,e,`shared`,t,0,n),r?.forEach((r,i)=>r.forEach(r=>cZ(r,e,i,t,0,n)))},dwe=e=>{dZ.grids.add(e)},fwe=e=>{if(dZ.grids.delete(e),dZ.grids.size===0){dZ.map=new WeakMap;for(let e of document.head.querySelectorAll(`style[data-ag-global-css]`))e.remove()}},uZ,dZ=(uZ=typeof window==`object`?window:{}).agStyleInjectionState??(uZ.agStyleInjectionState={map:new WeakMap,grids:new Set}),fZ=e=>new mZ(e),pZ=`$default`,pwe=0,mZ=class{constructor({feature:e,params:t,modeParams:n={},css:r,cssImports:i}){this.feature=e,this.css=r,this.cssImports=i,this.modeParams={[pZ]:{...n[pZ]??{},...t??{}},...n}}use(e,t,n){let r=this._inject;if(r==null){let{css:e}=this;if(e){let t=`ag-theme-${this.feature??`part`}-${++pwe}`;typeof e==`function`&&(e=e()),e=`:where(.${t}) {
${e}
}
`;for(let t of this.cssImports??[])e=`@import url(${JSON.stringify(t)});
${e}`;r={css:e,class:t}}else r=!1;this._inject=r}return r&&e&&cZ(r.css,e,r.class,t,1,n),r?r.class:!1}},mwe=e=>e.replace(/[A-Z]/g,e=>`-${e}`).toLowerCase(),hZ=e=>`--ag-${mwe(e)}`,gZ=e=>`var(${hZ(e)})`,hwe=(e,t,n)=>Math.max(t,Math.min(n,e)),gwe=e=>{let t=new Map;return n=>{let r=n;return t.has(r)||t.set(r,e(n)),t.get(r)}},_Z=e=>({ref:`accentColor`,mix:e}),vZ=e=>({ref:`foregroundColor`,mix:e}),yZ=e=>({ref:`foregroundColor`,mix:e,onto:`backgroundColor`}),_we=e=>({ref:`foregroundColor`,mix:e,onto:`headerBackgroundColor`}),bZ={ref:`backgroundColor`},xZ={ref:`foregroundColor`},SZ={ref:`accentColor`},CZ={backgroundColor:`#fff`,foregroundColor:`#181d1f`,borderColor:vZ(.15),chromeBackgroundColor:yZ(.02),browserColorScheme:`light`},vwe={...CZ,textColor:xZ,accentColor:`#2196f3`,invalidColor:`#e02525`,fontFamily:[`-apple-system`,`BlinkMacSystemFont`,`Segoe UI`,`Roboto`,`Oxygen-Sans`,`Ubuntu`,`Cantarell`,`Helvetica Neue`,`sans-serif`],subtleTextColor:{ref:`textColor`,mix:.5},borderWidth:1,borderRadius:4,spacing:8,fontSize:14,focusShadow:{spread:3,color:_Z(.5)},focusErrorShadow:{spread:3,color:{ref:`invalidColor`,onto:`backgroundColor`,mix:.5}},popupShadow:`0 0 16px #00000026`,cardShadow:`0 1px 4px 1px #00000018`,dropdownShadow:{ref:`cardShadow`},listItemHeight:{calc:`max(iconSize, dataFontSize) + widgetVerticalSpacing`},dragAndDropImageBackgroundColor:bZ,dragAndDropImageBorder:!0,dragAndDropImageNotAllowedBorder:{color:{ref:`invalidColor`,onto:`dragAndDropImageBackgroundColor`,mix:.5}},dragAndDropImageShadow:{ref:`popupShadow`},iconSize:16,iconColor:`inherit`,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:SZ,toggleButtonOffBackgroundColor:yZ(.3),toggleButtonSwitchBackgroundColor:bZ,toggleButtonSwitchInset:2,tooltipBackgroundColor:{ref:`chromeBackgroundColor`},tooltipErrorBackgroundColor:{ref:`invalidColor`,onto:`backgroundColor`,mix:.1},tooltipTextColor:{ref:`textColor`},tooltipErrorTextColor:{ref:`invalidColor`},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:`invalidColor`,onto:`backgroundColor`,mix:.25}}},ywe=[`colorScheme`,`color`,`length`,`scale`,`borderStyle`,`border`,`shadow`,`image`,`fontFamily`,`fontWeight`,`duration`],bwe=gwe(e=>(e=e.toLowerCase(),ywe.find(t=>e.endsWith(t.toLowerCase()))??`length`)),wZ=e=>typeof e==`object`&&e?.ref?gZ(e.ref):typeof e==`string`?e:typeof e==`number`?String(e):!1,TZ=e=>{if(typeof e==`string`)return e;if(e&&`ref`in e){let t=gZ(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?gZ(e.onto):`transparent`}, ${t} ${hwe(e.mix*100,0,100)}%)`}return!1},xwe=wZ,EZ=e=>typeof e==`string`?e:typeof e==`number`?`${e}px`:e&&`calc`in e?`calc(${e.calc.replace(/ ?[*/+] ?/g,` $& `).replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,e=>e[0]===`-`?e:` `+gZ(e)+` `)})`:e&&`ref`in e?gZ(e.ref):!1,Swe=wZ,DZ=(e,t)=>typeof e==`string`?e:e===!0?DZ({},t):e===!1?t===`columnBorder`?DZ({color:`transparent`},t):`none`:e&&`ref`in e?gZ(e.ref):OZ(e.style??`solid`)+` `+EZ(e.width??{ref:`borderWidth`})+` `+TZ(e.color??{ref:`borderColor`}),Cwe=e=>typeof e==`string`?e:e===!1?`none`:e&&`ref`in e?gZ(e.ref):[EZ(e.offsetX??0),EZ(e.offsetY??0),EZ(e.radius??0),EZ(e.spread??0),TZ(e.color??{ref:`foregroundColor`})].join(` `),OZ=wZ,kZ=e=>typeof e==`string`?e.includes(`,`)?e:AZ(e):e&&`googleFont`in e?kZ(e.googleFont):e&&`ref`in e?gZ(e.ref):Array.isArray(e)?e.map(e=>(typeof e==`object`&&`googleFont`in e&&(e=e.googleFont),AZ(e))).join(`, `):!1,AZ=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),wwe=wZ,jZ=e=>typeof e==`string`?e:e&&`url`in e?`url(${JSON.stringify(e.url)})`:e&&`svg`in e?jZ({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&`ref`in e?gZ(e.ref):!1,Twe={color:TZ,colorScheme:xwe,length:EZ,scale:Swe,border:DZ,borderStyle:OZ,shadow:Cwe,image:jZ,fontFamily:kZ,fontWeight:wwe,duration:(e,t,n)=>typeof e==`string`?e:typeof e==`number`?(e>=10&&n.warn(104,{value:e,param:t}),`${e}s`):e&&`ref`in e?gZ(e.ref):!1},Ewe=(e,t,n)=>Twe[bwe(e)](t,e,n),Dwe=e=>new MZ(e),MZ=class e{constructor(e,t=[]){this.themeLogger=e,this.parts=t}withPart(t){return typeof t==`function`&&(t=t()),t instanceof mZ?new e(this.themeLogger,[...this.parts,t]):(this.themeLogger.preInitErr(259,`Invalid part`,{part:t}),this)}withoutPart(e){return this.withPart(fZ({feature:e}))}withParams(e,t=pZ){return this.withPart(fZ({modeParams:{[t]:e}}))}_startUse({styleContainer:e,cssLayer:t,nonce:n,loadThemeGoogleFonts:r,moduleCss:i}){if(oZ||sZ)return;kwe(),lZ(e,t,n,i);let a=Owe(this);if(a.length>0)for(let e of a)r&&Awe(e,n);for(let r of this.parts)r.use(e,t,n)}_getCssClass(){return sZ?`ag-theme-quartz`:this._cssClassCache??=NZ(this.parts).map(e=>e.use(void 0,void 0,void 0)).filter(Boolean).join(` `)}_getModeParams(){let e=this._paramsCache;if(!e){let t={[pZ]:{...vwe}};for(let e of NZ(this.parts))for(let n of Object.keys(e.modeParams)){let r=e.modeParams[n];if(r){let e=t[n]??(t[n]={}),i=new Set;for(let t of Object.keys(r)){let n=r[t];n!==void 0&&(e[t]=n,i.add(t))}if(n===pZ)for(let e of Object.keys(t)){let n=t[e];if(e!==pZ)for(let e of i)delete n[e]}}}this._paramsCache=e=t}return e}_getPerInstanceCss(e){let t=`##SELECTOR##`,n=this._paramsCssCache;if(!n){let e=``,r=``,i=this._getModeParams();for(let t of Object.keys(i)){let n=i[t];if(t!==pZ){let n=`:where([data-ag-theme-mode="${typeof CSS==`object`?CSS.escape(t):t}"]) & {
`;e+=n,r+=n}for(let t of Object.keys(n).sort()){let i=n[t],a=Ewe(t,i,this.themeLogger);if(a===!1)this.themeLogger.error(107,{key:t,value:i});else{let n=hZ(t),i=n.replace(`--ag-`,`--ag-inherited-`);e+=`	${n}: var(${i}, ${a});
`,r+=`	${i}: var(${n});
`}}t!==pZ&&(e+=`}
`,r+=`}
`)}let a=`${t} {
${e}}
`;a+=`:has(> ${t}):not(${t}) {
${r}}
`,this._paramsCssCache=n=a}return n.replaceAll(t,`:where(.${e})`)}},NZ=e=>{let t=new Map;for(let n of e)t.set(n.feature,n);let n=[];for(let r of e)(!r.feature||t.get(r.feature)===r)&&n.push(r);return n},Owe=e=>{let t=new Set,n=e=>{if(Array.isArray(e))e.forEach(n);else{let n=e?.googleFont;typeof n==`string`&&t.add(n)}};return Object.values(e._getModeParams()).flatMap(e=>Object.values(e)).forEach(n),Array.from(t).sort()},PZ=!1,kwe=()=>{if(!PZ){PZ=!0;for(let e of Array.from(document.head.querySelectorAll(`style[data-ag-scope="legacy"]`)))e.remove()}},Awe=async(e,t)=>{cZ(`@import url('https://${jwe}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`,document.head,`googleFont:${e}`,void 0,0,t)},jwe=`fonts.googleapis.com`,Mwe=1,Nwe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,this.instanceId=Mwe++,e?.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){this.id=e.id,this.beans.context=this,this.destroyCallback=e.destroyCallback;for(let t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];for(let t of e.beanClasses){let e=new t;e.beanName?this.beans[e.beanName]=e:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(e)}for(let t of e.derivedBeans??[]){let{beanName:e,bean:n}=t(this);this.beans[e]=n,this.createdBeans.push(n)}e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){let n=this.beans;for(let t of e)t.preWireBeans?.(n),t.wireBeans?.(n);for(let t of e)t.preConstruct?.();t&&e.forEach(t);for(let t of e)t.postConstruct?.()}getBeans(){return this.beans}getBean(e){return this.beans[e]}getId(){return this.id}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[],this.destroyCallback?.()}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},Pwe=0,Fwe=class extends Qq{constructor(){super(...arguments),this.beanName=`environment`,this.paramsClass=`ag-theme-params-${++Pwe}`,this.globalCSS=[]}wireBeans(e){this.eRootDiv=e.eRootDiv}postConstruct(){let{gos:e,eRootDiv:t}=this;e.setInstanceDomData(t),this.eStyleContainer=e.get(`themeStyleContainer`)??(t.getRootNode()===document?document.head:t),this.cssLayer=e.get(`themeCssLayer`),this.styleNonce=e.get(`styleNonce`),this.addManagedPropertyListener(`theme`,()=>this.handleThemeChange()),this.handleThemeChange(),this.initVariables(),this.addDestroyFunc(()=>fwe(this)),this.mutationObserver=new MutationObserver(()=>{this.fireStylesChangedEvent(`themeChanged`)}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}applyThemeClasses(e,t=[]){let{theme:n}=this,r;r=n?`${this.paramsClass} ${n._getCssClass()}`:this.applyLegacyThemeClasses();for(let t of Array.from(e.classList))t.startsWith(`ag-theme-`)&&e.classList.remove(t);if(r){let n=e.className;e.className=`${n}${n?` `:``}${r}${t?.length?` `+t.join(` `):``}`}}applyLegacyThemeClasses(){let e=``;this.mutationObserver.disconnect();let t=this.eRootDiv;for(;t;){let n=!1;for(let r of Array.from(t.classList))r.startsWith(`ag-theme-`)&&(n=!0,e=e?`${e} ${r}`:r);n&&this.mutationObserver.observe(t,{attributes:!0,attributeFilter:[`class`]}),t=t.parentElement}return e}addGlobalCSS(e,t){this.theme?cZ(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}handleThemeChange(){let{gos:e,theme:t}=this,n=e.get(`theme`),r;if(n===`legacy`)r=void 0;else{let e=n??this.getDefaultTheme();e instanceof MZ?r=e:this.themeError(e)}r!==t&&this.handleNewTheme(r),this.postProcessThemeChange(r,n)}handleNewTheme(e){let{gos:t,eRootDiv:n,globalCSS:r}=this,i=this.getAdditionalCss();if(e){dwe(this),lZ(this.eStyleContainer,this.cssLayer,this.styleNonce,i);for(let[e,t]of r)cZ(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce);r.length=0}this.theme=e,e?._startUse({loadThemeGoogleFonts:t.get(`loadThemeGoogleFonts`),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce,moduleCss:i});let a=this.eParamsStyle;if(!a){a=this.eParamsStyle=Hq({tag:`style`});let e=t.get(`styleNonce`);e&&a.setAttribute(`nonce`,e),n.appendChild(a)}oZ||(a.textContent=e?._getPerInstanceCss(this.paramsClass)||``),this.applyThemeClasses(n),this.fireStylesChangedEvent(`themeChanged`)}},Iwe=class extends Qq{constructor(){super(...arguments),this.beanName=`registry`}registerDynamicBeans(e){if(e){this.dynamicBeans??={};for(let t of Object.keys(e))this.dynamicBeans[t]=e[t]}}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw Error(this.getDynamicError(e,!0));let r=this.dynamicBeans[e];if(r==null){if(t)throw Error(this.getDynamicError(e,!1));return}return new r(...n)}},Lwe=class extends Qq{constructor(){super(...arguments),this.beanName=`eventSvc`,this.eventServiceType=`global`,this.globalSvc=new IK}addListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchEvent(e){this.globalSvc.dispatchEvent(this.gos.addCommon(e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(this.gos.addCommon(e))}},FZ=class extends Qq{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){let n=`title`,r=this.ctrl.getGui();r&&(e!=null&&(e!=``||t)?r.setAttribute(n,e):r.removeAttribute(n))}updateTooltipText(){let{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){if(this.tooltipManager==null){let e=this.beans.registry.createDynamicBean(`tooltipStateManager`,!0,this.ctrl,()=>this.tooltip);e&&(this.tooltipManager=this.createBean(e,this.beans.context))}}attemptToShowTooltip(){this.tooltipManager?.prepareToShowTooltip()}attemptToHideTooltip(){this.tooltipManager?.hideTooltip()}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get(`enableBrowserTooltips`),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?``:null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},Rwe=1e3,zwe=1e3,IZ=100,LZ,RZ=!1,Bwe=class extends Qq{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){this.gos.get(`tooltipInteraction`)&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get(`tooltipMouseTrack`);let e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){let t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e===`show`?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay(`tooltipShowDelay`):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay(`tooltipHideDelay`)}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let e=this.gos.get(`tooltipTrigger`);return!e||e===`hover`?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!OX()&&(RZ?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},IZ):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&=e,this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){let t=e.relatedTarget,n=this.tooltipCtrl.getGui(),r=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&r?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&=!1,this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||RZ)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay(`show`)),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-LZ<Rwe}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&=(this.onBodyScrollEventCallback(),void 0),this.clearEventHandlers(),this.onDocumentKeyDownCallback&&=(this.onDocumentKeyDownCallback(),void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let e=this.getTooltipValue(),t=this.tooltipCtrl;if(!q(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}let n=this.gos.addCommon({location:t.getLocation?.()??`UNKNOWN`,value:e,hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()});this.state=2,this.tooltipInstanceCount++;let r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.createTooltipComp(n,r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),LZ=Date.now()),this.eventSvc.dispatchEvent({type:`tooltipHide`,parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}let n=t.getGui();this.tooltipComp=t,n.classList.contains(`ag-tooltip`)||n.classList.add(`ag-tooltip-custom`),this.tooltipTrigger===0&&n.classList.add(`ag-tooltip-animate`),this.interactionEnabled&&n.classList.add(`ag-tooltip-interactive`);let r=this.getLocaleTextFunc(),i=this.popupSvc?.addPopup({eChild:n,ariaLabel:r(`ariaLabelTooltip`,`Tooltip`)});if(i&&(this.tooltipPopupDestroyFunc=i.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let e=()=>this.setToDoNothing();[this.onBodyScrollEventCallback]=this.addManagedEventListeners({bodyScroll:e}),this.setEventHandlers(e)}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(GK(this.beans),{keydown:e=>{n.contains(e?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:`tooltipShow`,tooltipGui:n,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){let e=this.tooltipComp?.getGui(),t=WK(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){let t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let e={type:`tooltip`,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:`under`,keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add(`ag-tooltip-hiding`);let e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?zwe:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){for(let e of[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener])e&&e();this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){RZ=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},IZ)}unlockService(){RZ=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay(`hide`))}clearShowTimeout(){this.showTooltipTimeoutId&&=(window.clearTimeout(this.showTooltipTimeoutId),void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&=(window.clearTimeout(this.hideTooltipTimeoutId),void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&=(window.clearTimeout(this.interactiveTooltipTimeoutId),void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}},Vwe=class extends FZ{constructor(e,t,n){super(e,n),this.highlightTracker=t,this.onHighlight=this.onHighlight.bind(this)}postConstruct(){super.postConstruct(),this.wireHighlightListeners()}wireHighlightListeners(){this.addManagedPropertyListener(`tooltipTrigger`,({currentValue:e})=>{this.setTooltipMode(e)}),this.setTooltipMode(this.gos.get(`tooltipTrigger`)),this.highlightTracker.addEventListener(`itemHighlighted`,this.onHighlight)}onHighlight(e){this.tooltipMode===1&&(e.highlighted?this.attemptToShowTooltip():this.attemptToHideTooltip())}setTooltipMode(e=`focus`){this.tooltipMode=e===`focus`?1:0}destroy(){this.highlightTracker.removeEventListener(`itemHighlighted`,this.onHighlight),super.destroy()}},zZ=0,Hwe=200,Uwe=class extends Qq{constructor(){super(...arguments),this.beanName=`popupSvc`,this.popupList=[]}getPopupParent(){return this.gos.get(`popupParent`)||this.getDefaultPopupParent()}positionPopupUnderMouseEvent(e){let{ePopup:t,nudgeX:n,nudgeY:r,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e,e.type,e.ePopup,null,e.mouseEvent)})}calculatePointerAlign(e){let t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){let{ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,eventSource:a,alignSide:o=`left`,position:s=`over`,type:c}=e,l=a.getBoundingClientRect(),u=this.getParentRect();this.setAlignedTo(a,t),this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,updatePosition:()=>{let n=l.left-u.left;o===`right`&&(n-=t.offsetWidth-l.width);let i;return s===`over`?(i=l.top-u.top,this.setAlignedStyles(t,`over`)):(this.setAlignedStyles(t,`under`),i=this.shouldRenderUnderOrAbove(t,l,u,e.nudgeY||0)===`under`?l.top-u.top+l.height:l.top-t.offsetHeight-(r||0)*2-u.top),{x:n,y:i}},postProcessCallback:()=>this.callPostProcessPopup(e,c,t,a,null)})}shouldRenderUnderOrAbove(e,t,n,r){let i=n.bottom-t.bottom,a=t.top-n.top,o=e.offsetHeight+r;return i>o?`under`:a>o||a>i?`above`:`under`}setAlignedStyles(e,t){let n=this.getPopupIndex(e);if(n===-1)return;let{alignedToElement:r}=this.popupList[n];if(r){for(let t of[`right`,`left`,`over`,`above`,`under`])r.classList.remove(`ag-has-popup-positioned-${t}`),e.classList.remove(`ag-popup-positioned-${t}`);t&&(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}}setAlignedTo(e,t){let n=this.getPopupIndex(t);if(n!==-1){let t=this.popupList[n];t.alignedToElement=e}}positionPopup(e){let{ePopup:t,keepWithinBounds:n,nudgeX:r,nudgeY:i,skipObserver:a,updatePosition:o}=e,s={width:0,height:0},c=(a=!1)=>{let{x:c,y:l}=o();a&&t.clientWidth===s.width&&t.clientHeight===s.height||(s.width=t.clientWidth,s.height=t.clientHeight,r&&(c+=r),i&&(l+=i),n&&(c=this.keepXYWithinBounds(t,c,1),l=this.keepXYWithinBounds(t,l,0)),t.style.left=`${c}px`,t.style.top=`${l}px`,e.postProcessCallback&&e.postProcessCallback())};if(c(),!a){let e=Lq(this.beans,t,()=>c(!0));setTimeout(()=>e(),Hwe)}}getParentRect(){let e=GK(this.beans),t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position===`static`&&(t=t.offsetParent),bq(t)}keepXYWithinBounds(e,t,n){let r=n===0,i=r?`clientHeight`:`clientWidth`,a=r?`top`:`left`,o=r?`height`:`width`,s=r?`scrollTop`:`scrollLeft`,c=GK(this.beans),l=c.documentElement,u=this.getPopupParent(),d=e.getBoundingClientRect(),f=u.getBoundingClientRect(),p=c.documentElement.getBoundingClientRect(),m=u===c.body,h=Math.ceil(d[o]),g=m?(r?vq:yq)(l)+l[s]:u[i];m&&(g-=Math.abs(p[a]-f[a]));let _=g-h;return Math.min(Math.max(t,0),Math.max(_,0))}addPopup(e){let{eChild:t,ariaLabel:n,ariaOwns:r,alwaysOnTop:i,positionCallback:a,anchorToElement:o}=e,s=this.getPopupIndex(t);if(s!==-1)return{hideFunc:this.popupList[s].hideFunc};this.initialisePopupPosition(t);let c=this.createPopupWrapper(t,!!i,n,r),l=this.addEventListenersToPopup({...e,wrapperEl:c});return a&&a(),this.addPopupToPopupList(t,c,l,o),{hideFunc:l}}initialisePopupPosition(e){let t=this.getPopupParent().getBoundingClientRect();q(e.style.top)||(e.style.top=`${t.top*-1}px`),q(e.style.left)||(e.style.left=`${t.left*-1}px`)}createPopupWrapper(e,t,n,r){let i=this.getPopupParent(),{environment:a,gos:o}=this.beans,s=Hq({tag:`div`});return a.applyThemeClasses(s),s.classList.add(`ag-popup`),e.classList.add(o.get(`enableRtl`)?`ag-rtl`:`ag-ltr`,`ag-popup-child`),e.hasAttribute(`role`)||$K(e,`dialog`),n?eq(e,n):r&&(e.id||=`popup-component-${zZ}`,cq(r,e.id)),s.appendChild(e),i.appendChild(s),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}addEventListenersToPopup(e){let t=this.beans,n=GK(t),{wrapperEl:r,eChild:i,closedCallback:a,afterGuiAttached:o,closeOnEsc:s,modal:c,ariaOwns:l}=e,u=!1,d=e=>{r.contains(WK(t))&&e.key===Z.ESCAPE&&!this.isStopPropagation(e)&&m({keyboardEvent:e})},f=e=>m({mouseEvent:e}),p=e=>m({touchEvent:e}),m=(e={})=>{let{mouseEvent:t,touchEvent:o,keyboardEvent:s,forceHide:c}=e;!c&&(this.isEventFromCurrentPopup({mouseEvent:t,touchEvent:o},i)||u)||(u=!0,r.remove(),n.removeEventListener(`keydown`,d),n.removeEventListener(`mousedown`,f),n.removeEventListener(`touchstart`,p),n.removeEventListener(`contextmenu`,f),this.eventSvc.removeListener(`dragStarted`,f),a&&a(t||o||s),this.removePopupFromPopupList(i,l))};return o&&o({hidePopup:m}),window.setTimeout(()=>{s&&n.addEventListener(`keydown`,d),c&&(n.addEventListener(`mousedown`,f),this.eventSvc.addListener(`dragStarted`,f),n.addEventListener(`touchstart`,p),n.addEventListener(`contextmenu`,f))},0),m}addPopupToPopupList(e,t,n,r){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:zZ,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r),zZ+=1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){let n=this.getPopupIndex(e);if(n===-1)return;let r=this.popupList[n];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(e=>e&&e()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;let i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=i,r.isAnchored=!0,i}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&cq(t,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){let t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:r,ePopup:i}=e,a=r.getBoundingClientRect(),o=e=>Number.parseInt(e.substring(0,e.length-1),10),s=(e,t)=>{let r=n[e]-a[e],s=o(i.style[e]);return{initialDiff:r,lastDiff:r,initial:s,last:s,direction:t}},c=s(`top`,0),l=s(`left`,1),u=this.beans.frameworkOverrides;return new cX(n=>{u.wrapIncoming(()=>{nCe(()=>{let n=t.getBoundingClientRect(),a=r.getBoundingClientRect();if(a.top==0&&a.left==0&&a.height==0&&a.width==0){e.hidePopup();return}let s=(e,t)=>{let r=o(i.style[t]);e.last!==r&&(e.initial=r,e.last=r);let s=n[t]-a[t];if(s!=e.lastDiff){let n=this.keepXYWithinBounds(i,e.initial+e.initialDiff-s,e.direction);i.style[t]=`${n}px`,e.last=n}e.lastDiff=s};s(c,`top`),s(l,`left`)},200).then(e=>{n(()=>{e!=null&&window.clearInterval(e)})})},`popupPositioning`)})}isEventFromCurrentPopup(e,t){let{mouseEvent:n,touchEvent:r}=e,i=n||r;if(!i)return!1;let a=this.getPopupIndex(t);if(a===-1)return!1;for(let e=a;e<this.popupList.length;e++){let t=this.popupList[e];if(Lxe(t.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){let t=GK(this.beans);for(;e&&e!==t.body;){if(e.classList.contains(`ag-custom-component-popup`)||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains(`ag-popup`)&&e.parentElement;)e=e.parentElement;return e.classList.contains(`ag-popup`)?e:null}setAlwaysOnTop(e,t){let n=this.getWrapper(e);n&&(n.classList.toggle(`ag-always-on-top`,!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){let t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(`.ag-popup`)),r=n.length,i=this.getWrapper(e);if(!i||r<=1||!t.contains(e))return;let a=[],o=[];for(let e of n)e!==i&&(e.classList.contains(`ag-always-on-top`)?o.push(e):a.push(e));let s=[],c=o.length,l=i.classList.contains(`ag-always-on-top`)||!c?[...a,...o,i]:[...a,i,...o];for(let e=0;e<=r;e++){let r=l[e];if(n[e]===l[e]||r===i)continue;let a=r.querySelectorAll(`div`);for(let e of a)e.scrollTop!==0&&s.push([e,e.scrollTop]);e===0?t.insertAdjacentElement(`afterbegin`,r):l[e-1].insertAdjacentElement(`afterend`,r)}for(;s.length;){let e=s.pop();e[0].scrollTop=e[1]}}},Wwe=class extends _X{constructor(){super({tag:`div`,cls:`ag-tooltip`})}init(e){let{value:t}=e,n=this.getGui();n.textContent=VK(t);let r=e.location.replace(/([a-z])([A-Z0-9])/g,`$1-$2`).toLowerCase();n.classList.add(`ag-${r}-tooltip`)}},BZ=(e,t)=>{if(t!=null&&e?.setPointerCapture)try{return e.setPointerCapture(t),e.hasPointerCapture(t)}catch{}return!1},Gwe=(e,t)=>{if(typeof PointerEvent>`u`||!(t instanceof PointerEvent))return null;let n=t.pointerId;if(!BZ(e,n))return null;let r={eElement:e,pointerId:n,onLost(e){qwe(r,e)}};return e.addEventListener(`lostpointercapture`,r.onLost),r},Kwe=e=>{if(!e)return;VZ(e);let{eElement:t,pointerId:n}=e;if(t){try{t.releasePointerCapture(n)}catch{}e.eElement=null}},VZ=e=>{let{eElement:t,onLost:n}=e;t&&n&&(t.removeEventListener(`lostpointercapture`,n),e.onLost=null)},qwe=(e,t)=>{VZ(e);let{eElement:n,pointerId:r}=e;n&&t.pointerId===r&&BZ(n,r)},HZ,UZ,WZ=e=>{if(!UZ)UZ=new WeakSet;else if(UZ.has(e))return!1;return UZ.add(e),!0},Jwe=class extends Qq{constructor(){super(...arguments),this.beanName=`dragSvc`,this.dragging=!1,this.drag=null,this.dragSources=[]}get startTarget(){return this.drag?.start.target??null}isPointer(){return!!HZ?.has(UK(this.beans))}hasPointerCapture(){let e=this.drag?.pointerCapture;return!!(e&&this.beans.eRootDiv.hasPointerCapture?.(e.pointerId))}destroy(){this.drag&&this.cancelDrag();let e=this.dragSources;for(let t of e)GZ(t);e.length=0,super.destroy()}removeDragSource(e){let t=this.dragSources;for(let n=0,r=t.length;n<r;++n){let r=t[n];if(r.params===e){t.splice(n,1),GZ(r);break}}}addDragSource(e){if(!this.isAlive())return;let{eElement:t,includeTouch:n}=e,r=[],i;if(n){let e=t.style;e&&(i=e.touchAction,e.touchAction=`none`)}let a={handlers:r,params:e,oldTouchAction:i};this.dragSources.push(a),Jq(r,[t,`pointerdown`,t=>this.onPointerDown(e,t),{passive:!1}],[t,`mousedown`,t=>this.onMouseDown(e,t)]);let o=this.gos.get(`suppressTouch`);n&&!o&&Jq(r,[t,`touchstart`,t=>this.onTouchStart(e,t),{passive:!1}])}cancelDrag(e){let t=this.drag;e??=t?.eElement,e&&this.eventSvc.dispatchEvent({type:`dragCancelled`,target:e}),t?.params.onDragCancel?.(),this.destroyDrag()}shouldPreventMouseEvent(e){let t=e.type;return(t===`mousemove`||t===`pointermove`)&&e.cancelable&&qq(this.beans,e)&&!dq(qZ(e))}initDrag(e,...t){this.drag=e;let n=this.beans,r=e=>this.onScroll(e),i=e=>this.onKeyDown(e),a=UK(n),o=GK(n);Jq(e.handlers,[a,`contextmenu`,Xq],[a,`keydown`,i],[o,`scroll`,r,{capture:!0}],[o.defaultView||window,`scroll`,r],...t)}destroyDrag(){this.dragging=!1;let e=this.drag;if(e){let t=e.rootEl;HZ?.get(t)===e&&HZ?.delete(t),this.drag=null,Kwe(e.pointerCapture),Yq(e.handlers)}}onPointerDown(e,t){if(this.isPointer())return;let n=this.beans;if(UZ?.has(t))return;let r=t.pointerType;if(r===`touch`&&(n.gos.get(`suppressTouch`)||!e.includeTouch||(e.stopPropagationForTouch&&t.stopPropagation(),dq(qZ(t))))||!t.isPrimary||r===`mouse`&&t.button!==0)return;this.destroyDrag();let i=UK(n),a=e.eElement,o=t.pointerId,s=new KZ(i,e,t,o);HZ??=new WeakMap,HZ.set(i,s),this.initDrag(s,[i,`pointerup`,e=>{e.pointerId===o&&this.onMouseOrPointerUp(e)}],[i,`pointercancel`,e=>{e.pointerId===o&&WZ(e)&&this.cancelDrag()}],[i,`pointermove`,e=>{e.pointerId===o&&this.onMouseOrPointerMove(e)},{passive:!1}],[i,`touchmove`,Xq,{passive:!1}],[a,`mousemove`,Xq,{passive:!1}]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):WZ(t)}onTouchStart(e,t){if(this.gos.get(`suppressTouch`)||!e.includeTouch||!WZ(t)||dq(qZ(t)))return;if(e.stopPropagationForTouch&&t.stopPropagation(),this.isPointer()){Xq(t);return}this.destroyDrag();let n=this.beans,r=new KZ(UK(n),e,t.touches[0]),i=e=>this.onTouchMove(e),a=e=>this.onTouchUp(e),o=t.target??e.eElement;this.initDrag(r,[UK(n),`touchmove`,Xq,{passive:!1}],[o,`touchmove`,i,{passive:!0}],[o,`touchend`,a,{passive:!0}],[o,`touchcancel`,a,{passive:!0}]),e.dragStartPixels===0&&this.onMove(r.start)}onMouseDown(e,t){if(t.button!==0||UZ?.has(t)||this.isPointer())return;let n=this.beans;this.destroyDrag();let r=new KZ(UK(n),e,t),i=e=>this.onMouseOrPointerMove(e),a=e=>this.onMouseOrPointerUp(e),o=UK(n);this.initDrag(r,[o,`mousemove`,i],[o,`mouseup`,a]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):WZ(t)}onScroll(e){if(!WZ(e))return;let t=this.drag,n=t?.lastDrag;n&&this.dragging&&t.params?.onDragging(n)}onMouseOrPointerMove(e){WZ(e)&&(TX()&&GK(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&Xq(e),this.onMove(e))}onTouchMove(e){let t=this.drag;if(!t||!WZ(e))return;let n=Kq(t.start,e.touches);n&&(e.preventDefault(),this.onMove(n))}onMove(e){let t=this.drag;if(!t)return;t.lastDrag=e;let n=t.params;if(!this.dragging){let r=t.start;if(Gq(e,r,n.dragStartPixels??4)||(this.dragging=!0,n.capturePointer&&(t.pointerCapture=Gwe(this.beans.eRootDiv,e)),this.eventSvc.dispatchEvent({type:`dragStarted`,target:n.eElement}),n.onDragStart(r),this.drag!==t)||(n.onDragging(r),this.drag!==t))return}n.onDragging(e)}onTouchUp(e){let t=this.drag;t&&WZ(e)&&this.onUp(Kq(t.start,e.changedTouches))}onMouseOrPointerUp(e){WZ(e)&&this.onUp(e)}onUp(e){let t=this.drag;t&&(e||=t.lastDrag,e&&this.dragging&&(this.dragging=!1,t.params.onDragStop(e),this.eventSvc.dispatchEvent({type:`dragStopped`,target:t.params.eElement})),this.destroyDrag())}onKeyDown(e){e.key===Z.ESCAPE&&this.cancelDrag()}},GZ=e=>{Yq(e.handlers);let t=e.oldTouchAction;if(t!=null){let n=e.params.eElement.style;n&&(n.touchAction=t)}},KZ=class{constructor(e,t,n,r=null){this.rootEl=e,this.params=t,this.start=n,this.pointerId=r,this.handlers=[],this.lastDrag=null,this.pointerCapture=null,this.eElement=t.eElement}},qZ=e=>{let t=e.target;return t instanceof Element?t:null},Ywe=class extends Qq{constructor(){super(...arguments),this.beanName=`dragAndDrop`,this.dragSourceAndParamsList=[],this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.dragSource=null,this.dragImageParent=null,this.dragImageCompPromise=null,this.dragImageComp=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.dropTargets=[],this.lastDropTarget=null}addDragSource(e,t=!1){let n={capturePointer:!0,dragSource:e,eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:t=>this.onDragStart(e,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push(n),this.beans.dragSvc.addDragSource(n)}setDragImageCompIcon(e,t=!1){let n=this.dragImageComp;n&&(t||this.dragImageLastIcon!==e)&&(this.dragImageLastIcon=e,n.setIcon(e,t))}removeDragSource(e){let{dragSourceAndParamsList:t,beans:n}=this,r=t.find(t=>t.dragSource===e);r&&(n.dragSvc?.removeDragSource(r),kY(t,r))}destroy(){let{dragSourceAndParamsList:e,dropTargets:t,beans:n}=this,r=n.dragSvc;for(let t of e)r?.removeDragSource(t);e.length=0,t.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){let e=this.lastMouseEvent;e&&this.onDragging(e,!0)}onDragStart(e,t){this.lastMouseEvent=t,this.dragSource=e,this.dragItem=e.getDragItem();let n=e.eElement.getBoundingClientRect();this.dragInitialSourcePointerOffsetX=t.clientX-n.left,this.dragInitialSourcePointerOffsetY=t.clientY-n.top,e.onDragStarted?.(),this.createAndUpdateDragImageComp(e)}onDragStop(e){let{dragSource:t,lastDropTarget:n}=this;if(t?.onDragStopped?.(),n){let t=this.dropTargetEvent(n,e,!1);n.onDragStop?.(t)}this.clearDragAndDropProperties()}onDragCancel(){let{dragSource:e,lastDropTarget:t,lastMouseEvent:n}=this;if(e?.onDragCancelled?.(),t&&n){let e=this.dropTargetEvent(t,n,!1);t.onDragCancel?.(e)}this.clearDragAndDropProperties()}onDragging(e,t=!1){this.positionDragImageComp(e);let n=this.findCurrentDropTarget(e),{lastDropTarget:r,dragSource:i,dragItem:a}=this,o=!1;if(n!==r){if(o=!0,r){let n=this.dropTargetEvent(r,e,t);r.onDragLeave?.(n)}if(r!==null&&!n?this.handleExit(i,a):r===null&&n&&this.handleEnter(i,a),n){let r=this.dropTargetEvent(n,e,t);n.onDragEnter?.(r)}this.lastDropTarget=n}else if(n){let r=this.dropTargetEvent(n,e,t);n.onDragging?.(r),r?.changed&&(o=!0)}this.lastMouseEvent=e,o&&this.updateDragImageComp()}clearDragAndDropProperties(){this.removeDragImageComp(this.dragImageComp),this.dragImageCompPromise=null,this.dragImageParent=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.lastDropTarget=null,this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.dragSource=null}getAllContainersFromDropTarget(e){let t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){let n=this.getAllContainersFromDropTarget(t),r=!1,i=(e,t)=>{for(let n of t){let{width:t,height:r,left:i,right:a,top:o,bottom:s}=n.getBoundingClientRect();if(t===0||r===0)return!1;let c=e.clientX>=i&&e.clientX<a,l=e.clientY>=o&&e.clientY<s;if(!c||!l)return!1}return!0};for(let t of n)if(i(e,t)){r=!0;break}let{eElement:a,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(a)?!1:r&&t.isInterestedIn(o,a)}findCurrentDropTarget(e){let t=this.dropTargets.filter(t=>this.isMouseOnDropTarget(e,t)),n=t.length;if(n===0)return null;if(n===1)return t[0];let r=UK(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let e of r)for(let n of t)if(this.getAllContainersFromDropTarget(n).flatMap(e=>e).indexOf(e)!==-1)return n;return null}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.find(t=>t.external&&t.getContainer()===e)||null}dropTargetEvent(e,t,n){let{dragSource:r,dragItem:i,lastDraggingEvent:a,lastMouseEvent:o,dragInitialSourcePointerOffsetX:s,dragInitialSourcePointerOffsetY:c}=this,l=e.getContainer(),u=l.getBoundingClientRect(),{clientX:d,clientY:f}=t,p=d-(o?.clientX||0),m=f-(o?.clientY||0),h=this.createEvent({event:t,x:d-u.left,y:f-u.top,vDirection:m>0?`down`:m<0?`up`:null,hDirection:p<0?`left`:p>0?`right`:null,initialSourcePointerOffsetX:s,initialSourcePointerOffsetY:c,dragSource:r,fromNudge:n,dragItem:i,dropZoneTarget:l,dropTarget:a?.dropTarget??null,changed:!!a?.changed});return this.lastDraggingEvent=h,h}positionDragImageComp(e){let t=this.dragImageComp?.getGui();t&&Hxe(t,e,this.beans)}removeDragImageComp(e){this.dragImageComp===e&&(this.dragImageComp=null),e&&(e.getGui()?.remove(),this.destroyBean(e))}createAndUpdateDragImageComp(e){let t=this.createDragImageComp(e)??null;this.dragImageCompPromise=t,t?.then(e=>{if(t!==this.dragImageCompPromise||!this.lastMouseEvent||!this.isAlive()){this.destroyBean(e);return}this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0;let n=this.dragImageComp;n!==e&&(this.dragImageComp=e,this.removeDragImageComp(n)),e&&(this.appendDragImageComp(e),this.updateDragImageComp())})}appendDragImageComp(e){let t=e.getGui(),n=t.style;n.position=`absolute`,n.zIndex=`9999`,this.beans.dragSvc?.hasPointerCapture()&&(n.pointerEvents=`none`),this.gos.setInstanceDomData(t),this.beans.environment.applyThemeClasses(t),n.top=`20px`,n.left=`20px`;let r=JK(this.beans);this.dragImageParent=r,r?r.appendChild(t):this.warnNoBody()}updateDragImageComp(){let{dragImageComp:e,dragSource:t,lastDropTarget:n,lastDraggingEvent:r,dragImageLastLabel:i}=this;if(!e)return;this.setDragImageCompIcon(n?.getIconName?.(r)??null);let a=t?.dragItemName;typeof a==`function`&&(a=a(r)),a||=``,i!==a&&(this.dragImageLastLabel=a,e.setLabel(a))}},Xwe=class extends Ywe{createEvent(e){return _Y(this.gos,e)}createDragImageComp(e){let{gos:t,beans:n}=this;return SCe(n.userCompFactory,_Y(t,{dragSource:e}))?.newAgStackInstance()}handleEnter(e,t){e?.onGridEnter?.(t)}handleExit(e,t){e?.onGridExit?.(t)}warnNoBody(){X(54)}isDropZoneWithinThisGrid(e){return this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody.contains(e.dropZoneTarget)}registerGridDropTarget(e,t){let n={getContainer:e,isInterestedIn:e=>e===1||e===0,getIconName:()=>`notAllowed`};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}};function JZ(e,t){return e+`_`+t}function YZ(e){return e instanceof XZ}var XZ=class extends J{constructor(e,t,n,r){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=r,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.colIdSanitised=HK(this.getUniqueId())}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return JZ(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(e=>e.isMoving())}checkLeft(){for(let e of this.displayedChildren)YZ(e)&&e.checkLeft();if(this.displayedChildren.length>0)if(this.gos.get(`enableRtl`)){let e=EY(this.displayedChildren).getLeft();this.setLeft(e)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:`leftChanged`}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;for(let t of this.displayedChildren??[])e+=t.getActualWidth();return e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;for(let t of this.displayedChildren)t.isResizable()&&(e=!0);return e}getMinWidth(){let e=0;for(let t of this.displayedChildren)e+=t.getMinWidth();return e}addChild(e){this.children||=[],this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){for(let t of this.displayedChildren??[])xY(t)?e.push(t):YZ(t)&&t.addDisplayedLeafColumns(e)}addLeafColumns(e){for(let t of this.children??[])xY(t)?e.push(t):YZ(t)&&t.addLeafColumns(e)}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e?.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e?.isPadding();)e=e.getParent();if(!(e&&e.getProvidedColumnGroup().isExpandable())){this.displayedChildren=this.children,this.dispatchLocalEvent({type:`displayedChildrenChanged`});return}for(let t of this.children??[])if(!(YZ(t)&&!t.displayedChildren?.length))switch(t.getColumnGroupShow()){case`open`:e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(t);break;case`closed`:e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(t);break;default:this.displayedChildren.push(t);break}this.dispatchLocalEvent({type:`displayedChildrenChanged`})}},Zwe=`row-group-`,Qwe=0,ZZ=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this._leafs=void 0,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Qwe++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}get allLeafChildren(){let e=this._leafs;return e===void 0?this.beans.groupStage?.loadLeafs?.(this)??null:e}set allLeafChildren(e){this._leafs=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){let{valueCache:n,eventSvc:r}=this.beans,i=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();let a=this.createDataChangedEvent(e,i,t);if(this.__localEventService?.dispatchEvent(a),this.sibling){this.sibling.data=e;let n=this.sibling.createDataChangedEvent(e,i,t);this.sibling.__localEventService?.dispatchEvent(n)}r.dispatchEvent({type:`rowNodeDataChanged`,node:this});let o=this.pinnedSibling;o&&(o.data=e,o.__localEventService?.dispatchEvent(o.createDataChangedEvent(e,i,t)),r.dispatchEvent({type:`rowNodeDataChanged`,node:o}))}updateDataOnDetailNode(){let e=this.detailNode;e&&(e.data=this.data)}createDataChangedEvent(e,t,n){return{type:`dataChanged`,node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(FJ(13),null):this.rowPinned===`top`?`t-`+this.rowIndex:this.rowPinned===`bottom`?`b-`+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){let{selectionSvc:n}=this.beans,r=n?.createDaemonNode?.(this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,r));let a=this.createDataChangedEvent(e,i,!1);this.__localEventService?.dispatchEvent(a)}setId(e){let t=nY(this.beans.gos);if(t)if(this.data){let e=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:e.length>0?e:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(`row-group-`)&&FJ(14,{groupPrefix:Zwe})}else this.id=void 0;else this.id=e}setRowTop(e){if(this.oldRowTop=this.rowTop,this.rowTop===e)return;this.rowTop=e,this.dispatchRowEvent(`topChanged`);let t=e!==null;this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent(`displayedChanged`))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent(`heightChanged`)}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){let{colModel:r,valueSvc:i,gos:a,editSvc:o}=this.beans,s=typeof e==`string`?r.getCol(e)??r.getColDefCol(e):e;if(!s)return!1;let c=i.getValueForDisplay(s,this,void 0,void 0,`api`).value;if(a.get(`readOnlyEdit`)){let{beans:{eventSvc:e},data:r,rowIndex:i,rowPinned:a}=this;return e.dispatchEvent({type:`cellEditRequest`,event:null,rowIndex:i,rowPinned:a,column:s,colDef:s.colDef,data:r,node:this,oldValue:c,newValue:t,value:t,source:n}),!1}if(o&&!o.committing){let e=o.setDataValue({rowNode:this,column:s},t,n);if(e!=null)return e}let l=i.setValue(this,s,t,n);return this.dispatchCellChangedEvent(s,t,c),l&&this.pinnedSibling?.dispatchCellChangedEvent(s,t,c),l}updateHasChildren(){let e=this.group&&!this.footer||!!this.childrenAfterGroup?.length,{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent(`hasChildrenChanged`))}hasChildren(){return this.__hasChildren??this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){let r={type:`cellChanged`,node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){if(this.footer)return this.sibling.isSelected();let e=this.rowPinned&&this.pinnedSibling;return e?e.isSelected():this.__selected}depthFirstSearch(e){let t=this.childrenAfterGroup;if(t)for(let n=0,r=t.length;n<r;++n)t[n].depthFirstSearch(e);e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n=`api`){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){(this.__localEventService??=new IK).addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e);let n=this.__localEventService??=new IK;this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,n);let r=this.frameworkEventListenerService?.wrap(e,t)??t;n.addEventListener(e,r)}removeEventListener(e,t){let n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){let n=this.__localEventService;n&&(n.removeEventListener(e,t),n.noRegisteredListenersExist()&&(this.__localEventService=null))}isFullWidthCell(){if(X(61),this.detail)return!0;let e=this.beans.gos.getCallback(`isFullWidthRow`);return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let e=[],t=this;for(;t?.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent(`rowIndexChanged`))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent(`allChildrenCountChanged`))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent(`uiLevelChanged`))}getFirstChild(){let e=this.childStore;return e?e.getFirstNode():this.childrenAfterSort?.[0]??null}};function $we(e,t,n){return _Y(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var eTe=new Set([`__autoHeights`,`__checkAutoHeightsDebounced`,`__localEventService`,`__objectId`,`_leafs`,`childStore`,`oldRowTop`,`sticky`,`treeNodeFlags`,`treeParent`]),tTe=(e,t)=>{let n=new ZZ(t);for(let t of Object.keys(e))eTe.has(t)||(n[t]=e[t]);return n.oldRowTop=null,n},QZ=e=>{for(;e?.length;){let t=e[0];if(t.data)return t;e=t.childrenAfterGroup}},$Z={agSetColumnFilter:`agSetColumnFilterHandler`,agMultiColumnFilter:`agMultiColumnFilterHandler`,agGroupColumnFilter:`agGroupColumnFilterHandler`,agNumberColumnFilter:`agNumberColumnFilterHandler`,agDateColumnFilter:`agDateColumnFilterHandler`,agTextColumnFilter:`agTextColumnFilterHandler`},nTe=new Set(Object.values($Z));function eQ(e,t){let n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;let r=n.create(n.refreshed),i=n;return i.created=!0,i.promise=r,r}function rTe(e,t,n,r,i,a,o){return t.refresh?.({...n,model:r,source:a,additionalEventAttributes:o}),e().then(e=>{if(e){let{filter:t,filterParams:n}=e;tQ(t,n,r,i,a,o)}})}function tQ(e,t,n,r,i,a){e?.refresh?.({...t,model:n,state:r,source:i,additionalEventAttributes:a})}function nQ(e,t,n){let r=e();r?.created&&r.promise.then(e=>{let i=t();tQ(e,r.filterParams,i,n()??{model:i},`ui`)})}function rQ(e,t,n,r,i,a,o){let s,c=!1,l;switch(e){case`apply`:{let e=r();l=e?.model??null,o&&(l=o(l)),s={state:e?.state,model:l},c=!0;break}case`clear`:s={model:null};break;case`reset`:s={model:null},c=!0,l=null;break;case`cancel`:s={model:n()};break}i(s),c?a(l):nQ(t,n,r)}function iQ(e,t){return e[t]??null}function aQ(e){return Hq(e)}function iTe(e){return{tag:`div`,cls:e}}var aTe=class extends oX{constructor(e){let{className:t=`ag-filter-apply-panel`}=e??{};super(iTe(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){let n=this.buttons;if(this.buttons=e,n===e)return;let r=this.getGui();Cq(r);let i;this.destroyListeners();let a=document.createDocumentFragment(),o=this.className,s=({type:e,label:n})=>{let r=t=>{this.dispatchLocalEvent({type:e,event:t})};[`apply`,`clear`,`reset`,`cancel`].includes(e)||X(75);let s=e===`apply`,c=aQ({tag:`button`,attrs:{type:s&&t?`submit`:`button`},ref:`${e}FilterButton`,cls:`ag-button ag-standard-button ${o}-button${s?` `+o+`-apply-button`:``}`,children:n});this.activateTabIndex([c]),s&&(i=c);let l=e=>{e.key===Z.ENTER&&(e.preventDefault(),r(e))},u=this.listeners;c.addEventListener(`click`,r),u.push(()=>c.removeEventListener(`click`,r)),c.addEventListener(`keydown`,l),u.push(()=>c.removeEventListener(`keydown`,l)),a.append(c)};for(let t of e)s(t);this.eApply=i;let c=this.validationTooltipFeature;i&&!c?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean(`tooltipFeature`,!1,{getGui:()=>this.eApply,getLocation:()=>`advancedFilter`,getTooltipShowDelayOverride:()=>1e3})):!i&&c&&(this.validationTooltipFeature=this.destroyBean(c)),r.append(a)}getApplyButton(){return this.eApply}updateValidity(e,t=null){let n=this.eApply;n&&(pq(n,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){for(let e of this.listeners)e();this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},oTe={applyFilter:`Apply`,clearFilter:`Clear`,resetFilter:`Reset`,cancelFilter:`Cancel`,textFilter:`Text Filter`,numberFilter:`Number Filter`,dateFilter:`Date Filter`,setFilter:`Set Filter`,filterOoo:`Filter...`,empty:`Choose one`,equals:`Equals`,notEqual:`Does not equal`,lessThan:`Less than`,greaterThan:`Greater than`,inRange:`Between`,inRangeStart:`From`,inRangeEnd:`To`,lessThanOrEqual:`Less than or equal to`,greaterThanOrEqual:`Greater than or equal to`,contains:`Contains`,notContains:`Does not contain`,startsWith:`Begins with`,endsWith:`Ends with`,blank:`Blank`,notBlank:`Not blank`,before:`Before`,after:`After`,andCondition:`AND`,orCondition:`OR`,dateFormatOoo:`yyyy-mm-dd`,filterSummaryInactive:`is (All)`,filterSummaryContains:`contains`,filterSummaryNotContains:`does not contain`,filterSummaryTextEquals:`equals`,filterSummaryTextNotEqual:`does not equal`,filterSummaryStartsWith:`begins with`,filterSummaryEndsWith:`ends with`,filterSummaryBlank:`is blank`,filterSummaryNotBlank:`is not blank`,filterSummaryEquals:`=`,filterSummaryNotEqual:`!=`,filterSummaryGreaterThan:`>`,filterSummaryGreaterThanOrEqual:`>=`,filterSummaryLessThan:`<`,filterSummaryLessThanOrEqual:`<=`,filterSummaryInRange:`between`,filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function oQ(e,t,n){return Wxe(e,oTe,t,n)}function sQ(e,t){let{debounceMs:n}=e;return cQ(e)?(n!=null&&X(71),0):n??t}function cQ(e){return(e.buttons?.indexOf(`apply`)??-1)>=0}var sTe=class extends oX{constructor(e,t,n,r,i,a){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=r,this.isGlobalButtons=i,this.enableGlobalButtonCheck=a,this.hidePopup=null,this.applyActive=!1}postConstruct(){let{comp:e,params:t}=this.wrapper,n=t,r=n.useForm,i=r?`form`:`div`;this.setTemplate({tag:i,cls:`ag-filter-wrapper`}),r&&this.addManagedElementListeners(this.getGui(),{submit:e=>{e?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:e,params:t})=>{e===this.column&&this.resetButtonsPanel(t,this.params)},filterStateChanged:({column:e,state:t})=>{e===this.column&&this.eButtons?.updateValidity(t.valid!==!1)},filterAction:({column:e,action:t,event:n})=>{e===this.column&&this.afterAction(t,n)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:e})=>{if(e!==this.isGlobalButtons){this.isGlobalButtons=e;let t=this.params;this.resetButtonsPanel(t,t,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){let{buttons:r,readOnly:i}=t??{},{buttons:a,readOnly:o,useForm:s}=e;if(!n&&i===o&&BK(r,a))return;let c=a&&a.length>0&&!e.readOnly&&!this.isGlobalButtons,l=this.eButtons;if(c){let e=a.map(e=>{let t=`${e}Filter`;return{type:e,label:oQ(this,t)}});if(this.applyActive=cQ(this.params),!l){l=this.createBean(new aTe),this.appendChild(l.getGui());let e=this.column,t=t=>({event:n})=>{this.updateModel(e,t,{fromButtons:!0}),this.afterAction(t,n)};l?.addManagedListeners(l,{apply:t(`apply`),clear:t(`clear`),reset:t(`reset`),cancel:t(`cancel`)}),this.eButtons=l}l.updateButtons(e,s)}else this.applyActive=!1,l&&(wq(l.getGui()),this.eButtons=this.destroyBean(l))}close(e){let t=this.hidePopup;if(!t)return;let n=e,r=n?.key,i;(r===Z.ENTER||r===Z.SPACE)&&(i={keyboardEvent:n}),t(i),this.hidePopup=null}afterAction(e,t){let{params:n,applyActive:r}=this,i=n?.closeOnApply;switch(e){case`apply`:t?.preventDefault(),i&&r&&this.close(t);break;case`reset`:i&&r&&this.close();break;case`cancel`:i&&this.close(t);break}}handleKeyDown(e){!e.defaultPrevented&&e.key===Z.ENTER&&this.applyActive&&(this.updateModel(this.column,`apply`,{fromButtons:!0}),this.afterAction(`apply`,e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},cTe={tag:`div`,cls:`ag-filter`},lTe=class extends oX{constructor(e,t,n){super(cTe),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??cX.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){let{column:t,source:n,beans:{colFilter:r}}=this,i=r.getFilterUiForDisplay(t)??null;this.wrapper=i,i?.then(i=>{if(!i)return;let{isHandler:a,comp:o}=i,s;if(a){let e=!!this.enableGlobalButtonCheck,n=this.createBean(new sTe(t,i,r,r.updateModel.bind(r),e&&r.isGlobalButtons,e));this.comp=n,s=n.getGui()}else s=o.getGui(),q(s)||X(69,{guiFromFilter:s});this.appendChild(s),e?this.eventSvc.dispatchEvent({type:`filterOpened`,column:t,source:n,eGui:this.getGui()}):o.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){let{source:t,column:n}=e;(t===`api`||t===`paramsUpdated`)&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Cq(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:`filterClosed`,column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},lQ={january:`January`,february:`February`,march:`March`,april:`April`,may:`May`,june:`June`,july:`July`,august:`August`,september:`September`,october:`October`,november:`November`,december:`December`},uQ=[`january`,`february`,`march`,`april`,`may`,`june`,`july`,`august`,`september`,`october`,`november`,`december`];function uTe(e,t){return e==null?-1:t==null?1:Number.parseFloat(e)-Number.parseFloat(t)}function dQ(e){return e instanceof Date&&!isNaN(e.getTime())}var fQ={number:()=>void 0,boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:[`empty`,{displayKey:`true`,displayName:`True`,predicate:(e,t)=>t,numberOfInputs:0},{displayKey:`false`,displayName:`False`,predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:dQ}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{let r=e.dateParser(n);return n==null||r<t?-1:r>t?1:0},isValidDate:t=>typeof t==`string`&&dQ(e.dateParser(t))}),dateTime:e=>fQ.date(e),dateTimeString:e=>fQ.dateString(e),object:()=>void 0,text:()=>void 0},pQ={number:()=>({comparator:uTe}),boolean:({t:e})=>({valueFormatter:t=>q(t.value)?e(String(t.value),t.value?`True`:`False`):e(`blanks`,`(Blanks)`)}),date:({formatValue:e,t})=>({valueFormatter:n=>{let r=e(n);return q(r)?r:t(`blanks`,`(Blanks)`)},treeList:!0,treeListFormatter:(e,n)=>{if(e===`NaN`)return t(`invalidDate`,`Invalid Date`);if(n===1&&e!=null){let n=uQ[Number(e)-1];return t(n,lQ[n])}return e??t(`blanks`,`(Blanks)`)},treeListPathGetter:e=>FX(e,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:t=>{let r=e(t);return q(r)?r:n(`blanks`,`(Blanks)`)},treeList:!0,treeListPathGetter:e=>FX(t.dateParser(e??void 0),!1),treeListFormatter:(e,t)=>{if(t===1&&e!=null){let t=uQ[Number(e)-1];return n(t,lQ[t])}return e??n(`blanks`,`(Blanks)`)}}),dateTime:e=>{let t=pQ.date(e);return t.treeListPathGetter=FX,t},dateTimeString(e){let t=e.dataTypeDefinition.dateParser,n=pQ.dateString(e);return n.treeListPathGetter=e=>FX(t(e??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{let r=e(n);return q(r)?r:t(`blanks`,`(Blanks)`)}}),text:()=>void 0};function dTe(e,t,n,r,i,a,o){let s=t,c=n,l=e===`agSetColumnFilter`;!c&&r.baseDataType===`object`&&!l&&(c=({column:e,node:t})=>i({column:e,node:t,value:a.valueSvc.getValue(e,t)}));let u=(l?pQ:fQ)[r.baseDataType],d=u({dataTypeDefinition:r,formatValue:i,t:o});return s=typeof t==`object`?{...d,...t}:d,{filterParams:s,filterValueGetter:c}}var fTe={boolean:`agTextColumnFilter`,date:`agDateColumnFilter`,dateString:`agDateColumnFilter`,dateTime:`agDateColumnFilter`,dateTimeString:`agDateColumnFilter`,number:`agNumberColumnFilter`,object:`agTextColumnFilter`,text:`agTextColumnFilter`},pTe={boolean:`agTextColumnFloatingFilter`,date:`agDateColumnFloatingFilter`,dateString:`agDateColumnFloatingFilter`,dateTime:`agDateColumnFloatingFilter`,dateTimeString:`agDateColumnFloatingFilter`,number:`agNumberColumnFloatingFilter`,object:`agTextColumnFloatingFilter`,text:`agTextColumnFloatingFilter`};function mTe(e,t=!1){return(t?pTe:fTe)[e??`text`]}var mQ=`ag-resizer-wrapper`,hQ=(e,t)=>({tag:`div`,ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),hTe={tag:`div`,cls:mQ,children:[hQ(`eTopLeft`,`topLeft`),hQ(`eTop`,`top`),hQ(`eTopRight`,`topRight`),hQ(`eRight`,`right`),hQ(`eBottomRight`,`bottomRight`),hQ(`eBottom`,`bottom`),hQ(`eBottomLeft`,`bottomLeft`),hQ(`eLeft`,`left`)]},gTe=class extends J{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){let{clientHeight:t,clientWidth:n}=this.offsetParent,r=n/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(r,i,e)}initialisePosition(e){if(this.positioned)return;let{centered:t,forcePopupParentAsOffsetParent:n,minWidth:r,width:i,minHeight:a,height:o,x:s,y:c}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0,d=Eq(this.element);if(d){let e=this.findBoundaryElement(),t=window.getComputedStyle(e);if(t.minWidth!=null){let n=e.offsetWidth-this.element.offsetWidth;u=Number.parseInt(t.minWidth,10)-n}if(t.minHeight!=null){let n=e.offsetHeight-this.element.offsetHeight;l=Number.parseInt(t.minHeight,10)-n}}if(this.minHeight=a||l,this.minWidth=r||u,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),t)this.center(e);else if(s||c)this.offsetElement(s,c,e);else if(d&&n){let t=this.boundaryEl,n=!0;if(t||(t=this.findBoundaryElement(),n=!1),t){let r=Number.parseFloat(t.style.top),i=Number.parseFloat(t.style.left);n?this.offsetElement(isNaN(i)?0:i,isNaN(r)?0:r,e):this.setPosition(i,r)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e==`boolean`){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{let n=!!e[t],r=this.getResizerElement(t),i={dragStartPixels:0,eElement:r,onDragStart:e=>this.onResizeStart(e,t),onDragging:this.onResize.bind(this),onDragStop:e=>this.onResizeEnd(e,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragSvc?.addDragSource(i),this.resizeListeners.push(i),r.style.pointerEvents=`all`):r.style.pointerEvents=`none`,this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty(`height`),this.element.style.removeProperty(`width`),this.element.style.removeProperty(`flex`)}restoreLastSize(){this.element.style.flex=`0 0 auto`;let{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:t}=this.config,n=this.element,r=!1;if(typeof e==`string`&&e.includes(`%`))Nq(n,e),e=vq(n),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let t=this.getAvailableHeight();t&&e>t&&(e=t)}this.getHeight()!==e&&(r?(n.style.maxHeight=`unset`,n.style.minHeight=`unset`):t?Nq(n,e):(n.style.height=`${e}px`,n.style.flex=`0 0 auto`,this.lastSize.height=typeof e==`number`?e:Number.parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:n}=this.offsetParent;if(!n)return null;let r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),a=e?this.position.y:r.top,o=e?0:i.top,s=0;if(t){let e=this.element.parentElement;if(e){let{bottom:t}=e.getBoundingClientRect();s=t-r.bottom}}return n+o-a-s}getWidth(){return this.element.offsetWidth}setWidth(e){let t=this.element,{popup:n}=this.config,r=!1;if(typeof e==`string`&&e.includes(`%`))Mq(t,e),e=yq(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:t}=this.offsetParent,r=n?this.position.x:this.element.getBoundingClientRect().left;t&&e+r>t&&(e=t-r)}this.getWidth()!==e&&(r?(t.style.maxWidth=`unset`,t.style.minWidth=`unset`):this.config.popup?Mq(t,e):(t.style.width=`${e}px`,t.style.flex=` unset`,this.lastSize.width=typeof e==`number`?e:Number.parseFloat(e)))}offsetElement(e=0,t=0,n){let{forcePopupParentAsOffsetParent:r}=this.config,i=r?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(Number.parseFloat(i.style.left),Number.parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){this.config.forcePopupParentAsOffsetParent&&(e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=Lq(this.beans,this.popupSvc?.getPopupParent(),()=>{let e=this.getAvailableHeight();this.element.style.setProperty(`max-height`,`${e}px`)})):(this.element.style.removeProperty(`max-height`),this.resizeObserverSubscriber&&=(this.resizeObserverSubscriber(),void 0)))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){let{e:t,isLeft:n,isTop:r,anywhereWithin:i,topBuffer:a}=e,o=t.clientX-this.dragStartPosition.x,s=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!n,!!i,o)?0:o,movementY:this.shouldSkipY(t,!!r,a,s)?0:s}}shouldSkipX(e,t,n,r){let i=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),s=this.config.popup?this.position.x:i.left,c=s<=0&&a.left>=e.clientX||a.right<=e.clientX&&a.right<=o.right;return c?!0:(c=t?r<0&&e.clientX>s+a.left||r>0&&e.clientX<s+a.left:n?r<0&&e.clientX>o.right||r>0&&e.clientX<s+a.left:r<0&&e.clientX>o.right||r>0&&e.clientX<o.right,c)}shouldSkipY(e,t,n=0,r){let i=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),s=this.config.popup?this.position.y:i.top,c=s<=0&&a.top>=e.clientY||a.bottom<=e.clientY&&a.bottom<=o.bottom;return c?!0:(c=t?r<0&&e.clientY>s+a.top+n||r>0&&e.clientY<s+a.top:r<0&&e.clientY>o.bottom||r>0&&e.clientY<o.bottom,c)}createResizeMap(){let e=e=>({element:this.element.querySelector(`[data-ref=${e}Resizer]`)});this.resizerMap={topLeft:e(`eTopLeft`),top:e(`eTop`),topRight:e(`eTopRight`),right:e(`eRight`),bottomRight:e(`eBottomRight`),bottom:e(`eBottom`),bottomLeft:e(`eBottomLeft`),left:e(`eLeft`)}}addResizers(){if(this.resizersAdded)return;let e=this.element;e&&(e.appendChild(aQ(hTe)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0,this.element.querySelector(`.${mQ}`)?.remove(),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add(`ag-resizing`),this.resizerMap[t].element.classList.add(`ag-active`);let{popup:n,forcePopupParentAsOffsetParent:r}=this.config;!n&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter(e=>!e.classList.contains(`ag-hidden`)):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,n=0;for(let r=0;r<e.length;r++){let i=e[r],a=!!i.style.flex&&i.style.flex!==`0 0 auto`;if(i===this.element)continue;let o=this.minHeight||0,s=this.minWidth||0;if(a){let e=window.getComputedStyle(i);e.minHeight&&(o=Number.parseInt(e.minHeight,10)),e.minWidth&&(s=Number.parseInt(e.minWidth,10))}else o=i.offsetHeight,s=i.offsetWidth;t+=o,n+=s}return{height:t,width:n}}applySizeToSiblings(e){let t=null,n=this.getSiblings();if(n){for(let r=0;r<n.length;r++){let i=n[r];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex=`0 0 auto`,i===this.element&&(t=n[r+1]))}t&&(t.style.removeProperty(`height`),t.style.removeProperty(`min-height`),t.style.removeProperty(`max-height`),t.style.flex=`1 1 auto`)}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:r,isRight:i,isBottom:a,isLeft:o}=this.currentResizer,s=i||o,c=a||r,{movementX:l,movementY:u}=this.calculateMouseMovement({e,isLeft:o,isTop:r}),d=this.position.x,f=this.position.y,p=0,m=0;if(s&&l){let e=o?-1:1,t=this.getWidth(),n=t+l*e,r=!1;o&&(p=t-n,(d+p<=0||n<=this.minWidth)&&(r=!0,p=0)),r||this.setWidth(n)}if(c&&u){let e=r?-1:1,t=this.getHeight(),n=t+u*e,i=!1;r?(m=t-n,(f+m<=0||n<=this.minHeight)&&(i=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&t<n&&this.getMinSizeOfSiblings().height+n>this.element.parentElement.offsetHeight&&(i=!0),i||this.setHeight(n)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&p||m)&&this.offsetElement(d+p,f+m)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove(`ag-resizing`),this.resizerMap[t].element.classList.remove(`ag-active`),this.dispatchLocalEvent({type:`resize`})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add(`ag-moving`),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:t,y:n}=this.position,r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());let{movementX:i,movementY:a}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(t+i,n+a),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove(`ag-moving`)}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!==`static`)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},gQ=`__ag_Grid_Stop_Propagation`;function _Q(e){e[gQ]=!0}function vQ(e){return e[gQ]===!0}var _Te=`ag-focus-managed`,yQ=class extends J{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;let t=YX(this.beans,this.eFocusable,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())},...t}}postConstruct(){let{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(_Te),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:e=>{if(e.defaultPrevented||vQ(e))return;let{callbacks:t}=this;if(t.shouldStopEventPropagation(e)){_Q(e);return}e.key===Z.TAB?t.onTabKeyDown(e):t.handleKeyDown&&t.handleKeyDown(e)}})}},bQ=class extends oX{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){let e={tag:`div`,cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new yQ(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new gTe(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){let t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){let t=e,n=this.params;this.params=t,t.source===`colDef`&&this.updateParams(t,n);let r=t.state,i=this.state;return this.state=r,(r.model!==i.model||r.state!==i.state)&&this.setModelIntoUi(r.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=cQ(e),this.setupApplyDebounced()}doesFilterPass(e){X(283);let{getHandler:t,model:n,column:r}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(r)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return X(284),this.params.model!=null}setupApplyDebounced(){let e=sQ(this.params,this.defaultDebounceMs),t=nJ(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return X(285),this.params.model}setModel(e){X(286);let{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e=`api`){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){let{params:t,state:n}=this,r=!this.areModelsEqual(t.model,n.model);return r&&t.onAction(`apply`,e),r}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();let n=this.getModelFromUi(),r={model:n,state:this.getState(),valid:this.canApply(n)};this.state=r;let i=this.params;i.onStateChange(r),i.onUiChange(this.getUiChangeEventParams()),this.gos.get(`enableFilterHandlers`)||this.eventSvc.dispatchEvent({type:`filterModified`,column:i.column,filterInstance:this}),e??=this.applyActive?void 0:`debounce`,e===`immediately`?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e===`debounce`&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){let{positionableFeature:t,gos:n}=this;if(!t)return;let r=e===`floatingFilter`||e===`columnFilter`;r?(t.restoreLastSize(),t.setResizable(n.get(`enableRtl`)?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(r)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return oQ(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function xQ(e){return!!e.operator}function vTe(e,t,n){if(t==null)return null;let r=null,{compName:i,jsComp:a,fwComp:o}=mX(e,t);return i?r={agSetColumnFilter:`agSetColumnFloatingFilter`,agMultiColumnFilter:`agMultiColumnFloatingFilter`,agGroupColumnFilter:`agGroupColumnFloatingFilter`,agNumberColumnFilter:`agNumberColumnFloatingFilter`,agDateColumnFilter:`agDateColumnFloatingFilter`,agTextColumnFilter:`agTextColumnFloatingFilter`}[i]:a==null&&o==null&&t.filter===!0&&(r=n()),r}var SQ={AUTO_HEIGHT:`ag-layout-auto-height`,NORMAL:`ag-layout-normal`,PRINT:`ag-layout-print`},CQ=class extends J{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener(`domLayout`,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.gos.get(`domLayout`),t={autoHeight:e===`autoHeight`,normal:e===`normal`,print:e===`print`},n=t.autoHeight?SQ.AUTO_HEIGHT:t.print?SQ.PRINT:SQ.NORMAL;this.view.updateLayoutClasses(n,t)}},wQ=`Viewport`,TQ=`fakeVScrollComp`,EQ=[`fakeHScrollComp`,`centerHeader`,`topCenter`,`bottomCenter`,`stickyTopCenter`,`stickyBottomCenter`],DQ=100,OQ=150,yTe=class extends J{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=nJ(this,()=>this.lastScrollSource[1]=null,OQ),this.resetLastVScrollDebounced=nJ(this,()=>this.lastScrollSource[0]=null,OQ)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get(`enableRtl`);let e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),bodyHeightChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,wQ)});for(let e of EQ){let t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){let e=this.ctrlsSvc.get(`fakeVScrollComp`),t=this.gos.get(`debounceVerticalScrollbar`),n=t?nJ(this,this.onVScroll.bind(this,wQ),DQ):this.onVScroll.bind(this,wQ),r=t?nJ(this,this.onVScroll.bind(this,TQ),DQ):this.onVScroll.bind(this,TQ);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(let t of[...EQ,wQ])this.lastScrollSource[1]!==t&&Sq(this.getViewportForSource(t),e,this.enableRtl)}getViewportForSource(e){return e===wQ?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;let{scrollLeft:t}=this.centerRowsCtrl.eViewport;if(this.shouldBlockScrollUpdate(1,t,!0))return;let n=xq(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(t=e===wQ?this.eBodyViewport.scrollTop:this.ctrlsSvc.get(`fakeVScrollComp`).getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;let{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===wQ?this.ctrlsSvc.get(`fakeVScrollComp`).setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){let t=this.ctrlsSvc.get(`fakeHScrollComp`).getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){let t={type:`bodyScroll`,direction:e===1?`horizontal`:`vertical`,left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:`bodyScrollEnd`})},OQ)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!OX()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){let t=gq(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){let t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){let e=this.scrollLeft,t=!1;for(let n of EQ)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(wQ)}scrollGridIfNeeded(e=!1){let t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){let n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl?e>0?0:n:Math.min(Math.max(e,0),n)),Sq(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){let{lastOffsetHeight:e,lastScrollTop:t}=this;return{top:t,bottom:t+e}}this.isVerticalPositionInvalidated=!1;let{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&=(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){let t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){let{rowModel:n}=this.beans,r=n.getRowCount(),i=-1;for(let t=0;t<r;t++){let r=n.getRow(t);if(typeof e==`function`){if(r&&e(r)){i=t;break}}else if(e===r||e===r.data){i=t;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t,n=0){if(VJ(this.gos,`print`))return;let{rowModel:r}=this.beans,i=r.getRowCount();if(typeof e!=`number`||e<0||e>=i){X(88,{index:e});return}this.clearRetryListeners();let{frameworkOverrides:a,pageBounds:o,rowContainerHeight:s,rowRenderer:c}=this.beans;a.wrapIncoming(()=>{let i=this.ctrlsSvc.getGridBodyCtrl(),a=r.getRow(e),l,u,d=0;this.invalidateVerticalScroll();do{let{stickyTopHeight:e,stickyBottomHeight:n}=i,r=a.rowTop,f=a.rowHeight,p=o.getPixelOffset(),m=a.rowTop-p,h=m+a.rowHeight,g=this.getVScrollPosition(),_=s.divStretchOffset,v=g.top+_,y=g.bottom+_,b=y-v,x=s.getScrollPositionForPixel(m),S=s.getScrollPositionForPixel(h-b),C=Math.min((x+S)/2,m),w=v+e>m,T=y-n<h,E=null;t===`top`?E=x-e:t===`bottom`?E=S+n:t===`middle`?E=C:w?E=x-e:T&&(E=S-x>b?x-e:S+n),E!==null&&(this.setVerticalScrollPosition(E),c.redraw({afterScroll:!0})),l=r!==a.rowTop||f!==a.rowHeight,u=e!==i.stickyTopHeight||n!==i.stickyBottomHeight,d++}while((l||u)&&d<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(a?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){let i=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{i!==this.getVScrollPosition().top&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=r.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){for(let e of this.clearRetryListenerFncs)e();this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t=`auto`){let{colModel:n,frameworkOverrides:r}=this.beans,i=n.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;let a=this.getPositionedHorizontalScroll(i,t);r.wrapIncoming(()=>{a!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(a),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){let{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),a=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl,s=(o?n:r)||i,c=o?r:n;t!==`auto`&&(s=t===`start`,c=t===`end`);let l=t===`middle`;if(s||c||l){let{colLeft:t,colMiddle:n,colRight:r}=this.getColumnBounds(e);return l?n-a/2:s?o?r:t:o?t-a:r-a}return null}isColumnOutsideViewport(e){let{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:i}=this.getColumnBounds(e),a=this.enableRtl;return{columnBeforeStart:a?t>i:n<i,columnAfterEnd:a?n<r:t>r}}getColumnBounds(e){let t=this.enableRtl,n=this.visibleCols.bodyWidth,r=e.getActualWidth(),i=e.getLeft(),a=t?-1:1,o=t?n-i:i,s=o+r*a;return{colLeft:o,colMiddle:o+r/2*a,colRight:s}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}},kQ=class extends J{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener(`domLayout`,e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){let e=VJ(this.gos,`print`),{visibleCols:t,scrollVisibleSvc:n}=this.beans,r=t.bodyWidth,i=t.getColsLeftWidth(),a=t.getDisplayedColumnsRightWidth(),o;e?o=r+i+a:(o=r,this.addSpacer&&(this.gos.get(`enableRtl`)?i:a)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},bTe=class extends J{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners([`alwaysShowHorizontalScroll`,`alwaysShowVerticalScroll`],()=>{this.checkViewportAndScrolls()})}listenForResize(){let{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,r=()=>{Rq(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(r),n.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){let{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=this.gridBodyCtrl.eBodyViewport,t=gq(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:`bodyHeightChanged`}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){if(!this.isAlive())return;let e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function AQ(e,t,n,r){let i=t.getColDef().cellRendererParams?.suppressMouseEventHandling;return jQ(e,t,n,r,i)}function xTe(e,t,n,r){let i=t?.suppressMouseEventHandling;return jQ(e,void 0,n,r,i)}function jQ(e,t,n,r,i){return i?i(_Y(e,{column:t,node:n,event:r})):!1}function MQ(e,t,n){let r=t;for(;r;){let t=qJ(e,r,n);if(t)return t;r=r.parentElement}return null}var NQ=`cellCtrl`;function PQ(e,t){return MQ(e,t,NQ)}var FQ=`renderedRow`;function STe(e,t){return MQ(e,t,FQ)}function IQ(e,t,n,r,i){let a=r?r.getColDef().suppressKeyboardEvent:void 0;if(!a)return!1;let o=_Y(e,{event:t,editing:i,column:r,node:n,data:n.data,colDef:r.getColDef()});return!!(a&&a(o))}function CTe(e){let{pinnedRowModel:t,rowModel:n}=e,[r,i]=[t?.isEmpty(`top`)??!0,t?.isEmpty(`bottom`)??!0],a=r?null:`top`,o,s;i?(o=null,s=n.getRowCount()-1):(o=`bottom`,s=t?.getPinnedBottomRowCount()??-1);let{visibleCols:c,rangeSvc:l}=e,u=c.allCols;!l||!u?.length||l.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:s,rowEndPinned:o})}var wTe=65,TTe=67,ETe=86,DTe=68,OTe=90,kTe=89;function ATe(e){let{keyCode:t}=e,n;switch(t){case wTe:n=Z.A;break;case TTe:n=Z.C;break;case ETe:n=Z.V;break;case DTe:n=Z.D;break;case OTe:n=Z.Z;break;case kTe:n=Z.Y;break;default:n=e.code}return n}var jTe=class extends J{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){let e=`keydown`,t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){let e=[`dblclick`,`contextmenu`,`mouseover`,`mouseout`,`click`,Wq(`touchstart`)?`touchstart`:`mousedown`];for(let t of e){let e=this.processMouseEvent.bind(this,t);this.addManagedElementListeners(this.element,{[t]:e})}}processMouseEvent(e,t){if(!qq(this.beans,t)||vQ(t))return;let{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);e===`contextmenu`?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,r,n)):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}getControlsForEventTarget(e){let{gos:t}=this;return{cellCtrl:PQ(t,e),rowCtrl:STe(t,e)}}processKeyboardEvent(e,t){let{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){let r=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;IQ(this.gos,n,e.rowNode,e.column,r)||t===`keydown`&&(!r&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,r),UX(n)&&e.processCharacter(n)),t===`keydown`&&this.eventSvc.dispatchEvent(e.createEvent(n,`cellKeyDown`))}processFullWidthRowKeyboardEvent(e,t,n){let{rowNode:r}=e,{focusSvc:i,navigation:a}=this.beans,o=i.getFocusedCell()?.column;if(!IQ(this.gos,n,r,o,!1)){let r=n.key;if(t===`keydown`)switch(r){case Z.PAGE_HOME:case Z.PAGE_END:case Z.PAGE_UP:case Z.PAGE_DOWN:a?.handlePageScrollingKey(n,!0);break;case Z.LEFT:case Z.RIGHT:if(!this.gos.get(`embedFullWidthRows`))break;case Z.UP:case Z.DOWN:e.onKeyboardNavigate(n);break;case Z.TAB:e.onTabKeyDown(n);break;default:}}t===`keydown`&&this.eventSvc.dispatchEvent(e.createRowEvent(`cellKeyDown`,n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!qq(this.beans,e))return;let n=ATe(e),{clipboardSvc:r,undoRedo:i}=this.beans;if(n===Z.A)return this.onCtrlAndA(e);if(n===Z.C)return this.onCtrlAndC(r,e);if(n===Z.D)return this.onCtrlAndD(r,e);if(n===Z.V)return this.onCtrlAndV(r,e);if(n===Z.X)return this.onCtrlAndX(r,e);if(n===Z.Y)return this.onCtrlAndY(i);if(n===Z.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){let{beans:{rowModel:t,rangeSvc:n,selectionSvc:r},gos:i}=this;n&&sY(i)&&!CSe(i)&&t.isRowsToRender()?CTe(this.beans):r&&r.selectAllRowNodes({source:`keyboardSelectAll`,selectAll:pY(i)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get(`enableCellTextSelection`))return;let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get(`enableCellTextSelection`)||this.gos.get(`suppressCutToClipboard`))return;let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,`ui`))}onCtrlAndV(e,t){let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get(`suppressClipboardPaste`)&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get(`suppressClipboardPaste`)&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get(`undoRedoCellEditing`)||!e||(t.preventDefault(),t.shiftKey?e.redo(`ui`):e.undo(`ui`))}onCtrlAndY(e){e?.redo(`ui`)}},LQ=class extends J{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){let t=e.uiContainerHeight,n=t==null?``:`${t}px`;this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},RQ=e=>e.topRowCtrls,zQ=e=>e.getStickyTopRowCtrls(),BQ=e=>e.getStickyBottomRowCtrls(),VQ=e=>e.bottomRowCtrls,HQ=e=>e.allRowCtrls,UQ=e=>e.getCtrls(`top`),WQ=e=>e.getCtrls(`center`),GQ=e=>e.getCtrls(`bottom`),MTe={center:{type:`center`,name:`center-cols`,getRowCtrls:HQ,getSpannedRowCtrls:WQ},left:{type:`left`,name:`pinned-left-cols`,pinnedType:`left`,getRowCtrls:HQ,getSpannedRowCtrls:WQ},right:{type:`right`,name:`pinned-right-cols`,pinnedType:`right`,getRowCtrls:HQ,getSpannedRowCtrls:WQ},fullWidth:{type:`fullWidth`,name:`full-width`,fullWidth:!0,getRowCtrls:HQ},topCenter:{type:`center`,name:`floating-top`,getRowCtrls:RQ,getSpannedRowCtrls:UQ},topLeft:{type:`left`,name:`pinned-left-floating`,container:`ag-pinned-left-floating-top`,pinnedType:`left`,getRowCtrls:RQ,getSpannedRowCtrls:UQ},topRight:{type:`right`,name:`pinned-right-floating`,container:`ag-pinned-right-floating-top`,pinnedType:`right`,getRowCtrls:RQ,getSpannedRowCtrls:UQ},topFullWidth:{type:`fullWidth`,name:`floating-top-full-width`,fullWidth:!0,getRowCtrls:RQ},stickyTopCenter:{type:`center`,name:`sticky-top`,getRowCtrls:zQ},stickyTopLeft:{type:`left`,name:`pinned-left-sticky-top`,container:`ag-pinned-left-sticky-top`,pinnedType:`left`,getRowCtrls:zQ},stickyTopRight:{type:`right`,name:`pinned-right-sticky-top`,container:`ag-pinned-right-sticky-top`,pinnedType:`right`,getRowCtrls:zQ},stickyTopFullWidth:{type:`fullWidth`,name:`sticky-top-full-width`,fullWidth:!0,getRowCtrls:zQ},stickyBottomCenter:{type:`center`,name:`sticky-bottom`,getRowCtrls:BQ},stickyBottomLeft:{type:`left`,name:`pinned-left-sticky-bottom`,container:`ag-pinned-left-sticky-bottom`,pinnedType:`left`,getRowCtrls:BQ},stickyBottomRight:{type:`right`,name:`pinned-right-sticky-bottom`,container:`ag-pinned-right-sticky-bottom`,pinnedType:`right`,getRowCtrls:BQ},stickyBottomFullWidth:{type:`fullWidth`,name:`sticky-bottom-full-width`,fullWidth:!0,getRowCtrls:BQ},bottomCenter:{type:`center`,name:`floating-bottom`,getRowCtrls:VQ,getSpannedRowCtrls:GQ},bottomLeft:{type:`left`,name:`pinned-left-floating-bottom`,container:`ag-pinned-left-floating-bottom`,pinnedType:`left`,getRowCtrls:VQ,getSpannedRowCtrls:GQ},bottomRight:{type:`right`,name:`pinned-right-floating-bottom`,container:`ag-pinned-right-floating-bottom`,pinnedType:`right`,getRowCtrls:VQ,getSpannedRowCtrls:GQ},bottomFullWidth:{type:`fullWidth`,name:`floating-bottom-full-width`,fullWidth:!0,getRowCtrls:VQ}};function KQ(e){return`ag-${JQ(e).name}-viewport`}function qQ(e){let t=JQ(e);return t.container??`ag-${t.name}-container`}function NTe(e){return`ag-${JQ(e).name}-spanned-cells-container`}function JQ(e){return MTe[e]}var PTe=[`topCenter`,`topLeft`,`topRight`],FTe=[`bottomCenter`,`bottomLeft`,`bottomRight`],ITe=[`center`,`left`,`right`],LTe=[`center`,`left`,`right`,`fullWidth`],RTe=[`stickyTopCenter`,`stickyBottomCenter`,`center`,`topCenter`,`bottomCenter`],zTe=[`left`,`bottomLeft`,`topLeft`,`stickyTopLeft`,`stickyBottomLeft`],BTe=[`right`,`bottomRight`,`topRight`,`stickyTopRight`,`stickyBottomRight`],YQ=[`stickyTopCenter`,`stickyTopLeft`,`stickyTopRight`],XQ=[`stickyBottomCenter`,`stickyBottomLeft`,`stickyBottomRight`],VTe=[...YQ,`stickyTopFullWidth`,...XQ,`stickyBottomFullWidth`],HTe=[...PTe,...FTe,...ITe,...YQ,...XQ],UTe=class extends J{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=JQ(e)}postConstruct(){this.enableRtl=this.gos.get(`enableRtl`),this.forContainers([`center`],()=>{this.viewportSizeFeature=this.createManagedBean(new bTe(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,r){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=r,this.createManagedBean(new jTe(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let{pinnedCols:i,rangeSvc:a}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(zTe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(BTe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(LTe,()=>this.createManagedBean(new LQ(this.eContainer,this.name===`center`?r:void 0))),a&&this.forContainers(HTe,()=>this.createManagedBean(a.createDragListenerFeature(this.eContainer))),this.forContainers(RTe,()=>this.createManagedBean(new kQ(e=>this.comp.setContainerWidth(`${e}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){let{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get(`enableCellSpan`)&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{let t=this.options.getSpannedRowCtrls(e);t&&this.comp.setSpannedRowCtrls(t,!1)}})}listenOnDomOrder(){if(VTe.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let e=()=>{let e=this.gos.get(`ensureDomOrder`),t=VJ(this.gos,`print`);this.comp.setDomOrder(e||t)};this.addManagedPropertyListener(`domLayout`,e),e()}onDisplayedColumnsChanged(){this.forContainers([`center`],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let{dragSvc:e}=this.beans;if(!e)return;let t=t=>{e.dragging&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener(`touchmove`,t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener(`touchmove`,t))}onHorizontalViewportChanged(e=!1){let t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return _q(this.eViewport)}getCenterViewportScrollLeft(){return xq(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let t=Lq(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return Tq(this.eViewport)}getViewportScrollLeft(){return xq(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get(`alwaysShowHorizontalScroll`)||kq(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Sq(this.eViewport,e,this.enableRtl)}isContainerVisible(){return this.options.pinnedType==null||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let n=VJ(this.gos,`print`),r=this.gos.get(`embedFullWidthRows`)||n,i=t.filter(e=>{let t=e.isFullWidth();return this.options.fullWidth?!r&&t:r||!t});this.comp.setRowCtrls({rowCtrls:i,useFlushSync:e})}},WTe=`ag-force-vertical-scroll`,GTe=`ag-selectable`,KTe=`ag-column-moving`,qTe=class extends J{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,r,i,a,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=i,this.eStickyTop=a,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${KQ(`center`)}`),this.eFullWidthContainer=n.querySelector(`.${qQ(`fullWidth`)}`),this.eStickyTopFullWidthContainer=a.querySelector(`.${qQ(`stickyTopFullWidth`)}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${qQ(`stickyBottomFullWidth`)}`),this.setCellTextSelection(this.gos.get(`enableCellTextSelection`)),this.addManagedPropertyListener(`enableCellTextSelection`,e=>this.setCellTextSelection(e.currentValue)),this.createManagedBean(new CQ(this.comp)),this.scrollFeature=this.createManagedBean(new yTe(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,i,a,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(r),this.ctrlsSvc.register(`gridBodyCtrl`,this)}addEventListeners(){let e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener(`treeData`,t)}toggleRowResizeStyles(e){let t=e.type===`rowResizeStarted`;this.eBodyViewport.classList.toggle(`ag-prevent-animation`,t)}onGridColumnsChanged(){let e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){let{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();let n=`calc(100% + ${(t&&e.getScrollbarWidth()||0)+(jX()?16:0)}px)`;Rq(this.beans,()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}setGridRootRole(){let{rowGroupColsSvc:e,colModel:t}=this,n=this.gos.get(`treeData`);if(!n){let r=t.isPivotMode();n=(e?e.columns.length:0)>=(r?2:1)}this.comp.setGridRootRole(n?`treegrid`:`grid`)}addFocusListeners(e){for(let t of e)this.addManagedElementListeners(t,{focusin:e=>{let{target:n}=e,r=mq(n,`ag-root`,t);t.classList.toggle(`ag-has-focus`,!r)},focusout:e=>{let{target:n,relatedTarget:r}=e,i=t.contains(r),a=mq(r,`ag-root`,t);mq(n,`ag-root`,t)||(!i||a)&&t.classList.remove(`ag-has-focus`)}})}setColumnMovingCss(e){this.comp.setColumnMovingCss(KTe,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(GTe,e)}updateScrollingClasses(){let{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle(`ag-body-vertical-content-no-gap`,!t.verticalScrollGap),e.toggle(`ag-body-horizontal-content-no-gap`,!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){let e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,r=n===-1?-1:e+n;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){let t=e?`scroll`:`hidden`;this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){let e=this.gos.get(`alwaysShowVerticalScroll`),t=e?WTe:null,n=VJ(this.gos,`normal`);return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&Aq(this.eBodyViewport)}setupRowAnimationCssClass(){let{rowContainerHeight:e,environment:t}=this.beans,n=t.sizesMeasured,r=()=>{let t=n&&YJ(this.gos)&&!e.stretching,r=t?`ag-row-animation`:`ag-row-no-animation`;this.comp.setRowAnimationCssOnBodyViewport(r,t)};r(),this.addManagedEventListeners({heightScaleChanged:r}),this.addManagedPropertyListener(`animateRows`,r),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,r())}})}addBodyViewportListener(){let{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:r,eBottom:i,beans:{popupSvc:a,touchSvc:o}}=this,s=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:s}),o?.mockBodyContextMenu(this,s),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,a)});let c=this.onStickyWheel.bind(this);for(let e of[t,n,r,i])this.addManagedElementListeners(e,{wheel:c});let l=this.onHorizontalWheel.bind(this);for(let e of[`left`,`right`,`topLeft`,`topRight`,`bottomLeft`,`bottomRight`])this.addManagedElementListeners(this.ctrlsSvc.get(e).eContainer,{wheel:l});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){let{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&qq(this.beans,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){let{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){let{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){let{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get(`preventDefaultOnContextMenu`)&&(e||n).preventDefault();let{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsSvc.get(`center`).eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:`ui`})}onBodyViewportWheel(e,t){this.gos.get(`suppressScrollWhenPopupsAreOpen`)&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){let t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){let{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),r=e?.getPinnedBottomTotalHeight(),i=t.getPinnedRowBorderWidth()-t.getRowBorderWidth(),a=n?i+n:0,o=r?i+r:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(o),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(o<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth(`100%`),this.comp.setStickyBottomWidth(`100%`);else{let e=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${e}px)`)}}setStickyTopOffsetTop(){let e=this.ctrlsSvc.get(`gridHeaderCtrl`).headerHeight+(this.filterManager?.getHeaderHeight()??0),t=this.pinnedRowModel?.getPinnedTopTotalHeight()??0,n=0;e>0&&(n+=e),t>0&&(n+=t),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){let{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,r=(e?.getPinnedBottomTotalHeight()??0)+(t.horizontalScrollShowing&&t.getScrollbarWidth()||0);n.setStickyBottomBottom(`${r}px`)}};function JTe(e,t){return PQ(e,t.target)?.getFocusedCellPosition()??null}function ZQ(e,t){let n=VJ(e.gos,`normal`),r=t,i,a;r.clientX!=null||r.clientY!=null?(i=r.clientX,a=r.clientY):(i=r.x,a=r.y);let{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(a+=o,n){let t=e.ctrlsSvc.getScrollFeature(),n=t.getVScrollPosition(),r=t.getHScrollPosition();i+=r.left,a+=n.top}return{x:i,y:a}}var QQ=class extends oX{constructor(e,t){super(),this.direction=t,this.eViewport=null,this.eContainer=null,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss(`ag-apple-scrollbar`,DX()||OX())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=jX(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui(),t=()=>this.toggleCss(`ag-scrollbar-active`,!0),n=()=>this.toggleCss(`ag-scrollbar-active`,!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),Rq(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&=(window.clearTimeout(this.hideTimeout),0),this.toggleCss(`ag-scrollbar-scrolling`,!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss(`ag-scrollbar-scrolling`,!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){let t=this.eViewport;Zxe(this,()=>Eq(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},YTe={tag:`div`,cls:`ag-body-horizontal-scroll`,attrs:{"aria-hidden":`true`},children:[{tag:`div`,ref:`eLeftSpacer`,cls:`ag-horizontal-left-spacer`},{tag:`div`,ref:`eViewport`,cls:`ag-body-horizontal-scroll-viewport`,children:[{tag:`div`,ref:`eContainer`,cls:`ag-body-horizontal-scroll-container`}]},{tag:`div`,ref:`eRightSpacer`,cls:`ag-horizontal-right-spacer`}]},XTe=class extends QQ{constructor(){super(YTe,`horizontal`),this.eLeftSpacer=null,this.eRightSpacer=null,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener(`domLayout`,e),this.beans.ctrlsSvc.register(`fakeHScrollComp`,this),this.createManagedBean(new kQ(e=>this.eContainer.style.width=`${e}px`)),this.addManagedPropertyListeners([`suppressHorizontalScroll`],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get(`enableRtl`),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleSvc.verticalScrollShowing,t=this.visibleCols.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&e,r=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=r),Mq(this.eRightSpacer,t),this.eRightSpacer.classList.toggle(`ag-scroller-corner`,t<=r);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=r),Mq(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle(`ag-scroller-corner`,i<=r)}setScrollVisible(){let e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get(`suppressHorizontalScroll`),r=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,i=n?0:r===0&&t?16:r,a=()=>{this.setScrollVisibleDebounce=0,this.toggleCss(`ag-scrollbar-invisible`,t),Nq(this.getGui(),i),Nq(this.eViewport,i),Nq(this.eContainer,i),i||this.eContainer.style.setProperty(`min-height`,`1px`),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(a,100):a()}getScrollPosition(){return xq(this.eViewport,this.enableRtl)}setScrollPosition(e){Eq(this.eViewport)||this.attemptSettingScrollPosition(e),Sq(this.eViewport,e,this.enableRtl)}},ZTe={tag:`div`,cls:`ag-body-vertical-scroll`,attrs:{"aria-hidden":`true`},children:[{tag:`div`,ref:`eViewport`,cls:`ag-body-vertical-scroll-viewport`,children:[{tag:`div`,ref:`eContainer`,cls:`ag-body-vertical-scroll-container`}]}]},QTe=class extends QQ{constructor(){super(ZTe,`vertical`)}postConstruct(){super.postConstruct(),this.createManagedBean(new LQ(this.eContainer));let{ctrlsSvc:e}=this.beans;e.register(`fakeVScrollComp`,this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){let{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,r=t&&e.getScrollbarWidth()||0,i=r===0&&n?16:r;this.toggleCss(`ag-scrollbar-invisible`,n),Mq(this.getGui(),i),Mq(this.eViewport,i),Mq(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){let t=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),r=t.scrollTop;n!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Eq(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},$Te=`ag-column-first`,eEe=`ag-column-last`;function $Q(e,t,n,r){return RK(e)?[]:nEe(e.headerClass,e,t,n,r)}function e$(e,t,n){e.toggleCss($Te,n.isColAtEdge(t,`first`)),e.toggleCss(eEe,n.isColAtEdge(t,`last`))}function tEe(e,t,n,r){return _Y(t,{colDef:e,column:n,columnGroup:r})}function nEe(e,t,n,r,i){if(RK(e))return[];let a;return a=typeof e==`function`?e(tEe(t,n,r,i)):e,typeof a==`string`?[a]:Array.isArray(a)?[...a]:[]}function rEe(e,t,n){t.addManagedElementListeners(n,{keydown:t=>{if(!t.defaultPrevented&&t.key===Z.TAB){let r=t.shiftKey;YX(e,n,!1,r)||r$(e,r)&&t.preventDefault()}}})}function iEe(e,t){return e.ctrlsSvc.get(`gridCtrl`).focusInnerElement(t)}function t$(e){return e.gos.get(`suppressHeaderFocus`)||!!e.overlays?.isExclusive()}function n$(e){return e.gos.get(`suppressCellFocus`)||!!e.overlays?.isExclusive()}function r$(e,t,n=!1){let r=e.ctrlsSvc.get(`gridCtrl`);return!n&&r.focusNextInnerContainer(t)?!0:((n||!t&&!r.isDetailGrid())&&r.forceFocusOutOfContainer(t),!1)}function i$(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function a$(e){let t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(let r of n){if(!r)continue;let n=r.getGroupRowCount()||0;for(let i=0;i<n;i++){let n=r.getGroupRowCtrlAtIndex(i),a=t[i];if(n){let r=aEe(e,n);(a==null||r>a)&&(t[i]=r)}}}return t}function aEe(e,t){let n=e.colModel.isPivotMode()?sEe(e):l$(e),r=t.getHeaderCellCtrls();for(let e of r){let{column:t}=e,r=t.getAutoHeaderHeight();r!=null&&r>n&&t.isAutoHeaderHeight()&&(n=r)}return n}function o$(e){let t=e.colModel.isPivotMode()?oEe(e):s$(e);return e.colModel.forAllCols(e=>{let n=e.getAutoHeaderHeight();n!=null&&n>t&&e.isAutoHeaderHeight()&&(t=n)}),t}function s$(e){return e.gos.get(`headerHeight`)??e.environment.getDefaultHeaderHeight()}function c$(e){return e.gos.get(`floatingFiltersHeight`)??s$(e)}function l$(e){return e.gos.get(`groupHeaderHeight`)??s$(e)}function oEe(e){return e.gos.get(`pivotHeaderHeight`)??s$(e)}function sEe(e){return e.gos.get(`pivotGroupHeaderHeight`)??l$(e)}function cEe(e,t){return e.headerRowIndex===t.headerRowIndex&&e.column===t.column}var lEe=class extends J{setComp(e,t,n){this.comp=e,this.eGui=t;let{beans:r}=this,{headerNavigation:i,touchSvc:a,ctrlsSvc:o}=r;i&&this.createManagedBean(new yQ(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,r),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,r)}),this.onPivotModeChanged(r),this.setupHeaderHeight();let s=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:s}),a?.mockHeaderContextMenu(this,s),o.register(`gridHeaderCtrl`,this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners([`headerHeight`,`pivotHeaderHeight`,`groupHeaderHeight`,`pivotGroupHeaderHeight`,`floatingFiltersHeight`],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>Rq(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){let{beans:e}=this,t=0,n=a$(e).reduce((e,t)=>e+t,0),r=o$(e);if(e.filterManager?.hasFloatingFilters()&&(t+=c$(e)),t+=n,t+=r,this.headerHeight===t)return;this.headerHeight=t;let i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:`headerHeightChanged`})}onPivotModeChanged(e){let t=e.colModel.isPivotMode();this.comp.toggleCss(`ag-pivot-on`,t),this.comp.toggleCss(`ag-pivot-off`,!t)}onDisplayedColumnsChanged(e){let t=e.visibleCols.allCols.some(e=>e.isSpanHeaderHeight());this.comp.toggleCss(`ag-header-allow-overflow`,t)}onTabKeyDown(e){let t=this.gos.get(`enableRtl`),n=e.shiftKey,r=n===t?`RIGHT`:`LEFT`,{beans:i}=this,{headerNavigation:a,focusSvc:o}=i;(a.navigateHorizontally(r,!0,e)||!n&&o.focusOverlay(!1)||r$(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null,{headerNavigation:n}=this.beans;switch(e.key){case Z.LEFT:t=`LEFT`;case Z.RIGHT:q(t)||(t=`RIGHT`),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break;case Z.UP:t=`UP`;case Z.DOWN:q(t)||(t=`DOWN`),n.navigateVertically(t,e)&&e.preventDefault();break;default:return}}onFocusOut(e){let{relatedTarget:t}=e,{eGui:n,beans:r}=this;!t&&n.contains(WK(r))||n.contains(t)||(r.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){let{menuSvc:r,ctrlsSvc:i}=this.beans;if(!e&&!n||!r?.isHeaderContextMenuEnabled())return;let{target:a}=e??t;(a===this.eGui||a===i.getHeaderRowContainerCtrl()?.eViewport)&&r.showHeaderContextMenu(void 0,e,n)}},u$=class extends J{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=r,this.columnOrGroup=e,this.ariaEl=t.querySelector(`[role=columnheader]`)||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){let{beans:e,colsSpanning:t}=this;return e.gos.get(`enableRtl`)&&t?EY(t):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener(`domLayout`,e)}setLeftFirstTime(){let{gos:e,colAnimation:t}=this.beans,n=e.get(`suppressColumnMoveAnimation`),r=q(this.columnOrGroup.getOldLeft());t?.isActive()&&r&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){let{gos:n,visibleCols:r}=this.beans;if(!VJ(n,`print`)||e.getPinned()===`left`)return t;let i=r.getColsLeftWidth();return e.getPinned()===`right`?i+r.bodyWidth+t:i+t}setLeft(e){if(q(e)&&(this.eCell.style.left=`${e}px`),YZ(this.columnOrGroup)){let e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&Oxe(this.ariaEl,e.length)}}},uEe=0,d$=`headerCtrl`,f$=class extends J{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.reAttemptToFocus=!1,this.instanceId=e.getUniqueId()+`-`+ uEe++}postConstruct(){let e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners([`suppressHeaderFocus`],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}setComp(e,t,n,r,i){t.setAttribute(`col-id`,this.column.colIdSanitised),this.wireComp(e,t,n,r,i),this.reAttemptToFocus&&(this.reAttemptToFocus=!1,this.focus(this.lastFocusEvent??void 0))}shouldStopEventPropagation(e){let{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,r=n.getDefinition(),i=r?.suppressHeaderKeyboardEvent;return q(i)?!!i(_Y(this.gos,{colDef:r,column:n,headerRowIndex:t,event:e})):!1}getWrapperHasFocus(){return WK(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){let e=this.column.getDefinition();if(!e)return;let{headerStyle:t}=e,n;n=typeof t==`function`?t(this.getHeaderClassParams()):t,n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:`headerFocused`,column:this.column})}setupAutoHeight(e){let{wrapperElement:t,checkMeasuringCallback:n,compBean:r}=e,{beans:i}=this,a=e=>{if(!this.isAlive()||!r.isAlive())return;let{paddingTop:n,paddingBottom:o,borderBottomWidth:s,borderTopWidth:c}=hq(this.eGui),l=n+o+s+c,u=t.offsetHeight+l;if(e<5&&(!GK(i)?.contains(t)||u==0)){tJ(()=>a(e+1),`raf`,i);return}this.setColHeaderHeight(this.column,u)},o=!1,s,c=()=>{let e=this.column.isAutoHeaderHeight();e&&!o&&l(),!e&&o&&u()},l=()=>{o=!0,this.comp.toggleCss(`ag-header-cell-auto-height`,!0),a(0),s=Lq(this.beans,t,()=>a(0))},u=()=>{o=!1,s&&s(),this.comp.toggleCss(`ag-header-cell-auto-height`,!1),s=void 0};c(),r.addDestroyFunc(()=>u()),r.addManagedListeners(this.column,{widthChanged:()=>o&&a(0)}),r.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>a(0))}}),n&&n(c)}onDisplayedColumnsChanged(){let{comp:e,column:t,beans:n,eGui:r}=this;!e||!t||!r||(e$(e,t,n.visibleCols),oq(r,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let e=t$(this.beans);this.eGui&&Iq(this.eGui,`tabindex`,e?null:`-1`)}onGuiKeyDown(e){let t=WK(this.beans),n=e.key===Z.LEFT||e.key===Z.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;let r=e.key===Z.LEFT===this.gos.get(`enableRtl`)?`right`:`left`;if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let t=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(t,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(r)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){let{gos:t,column:n}=this,r=e.key===Z.LEFT!==t.get(`enableRtl`),i=n.getPinned(),a=t.get(`enableRtl`);return i&&a!==(i===`right`)&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&=(window.clearTimeout(this.resizeToggleTimeout),0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){let t=this.getWrapperHasFocus();switch(e.key){case Z.PAGE_DOWN:case Z.PAGE_UP:case Z.PAGE_HOME:case Z.PAGE_END:t&&e.preventDefault()}}addDomData(e){let t=d$,{eGui:n,gos:r}=this;JJ(r,n,t,this),e.addDestroyFunc(()=>JJ(r,n,t,null))}focus(e){if(!this.isAlive())return!1;let{eGui:t}=this;return t?(t.focus(),this.lastFocusEvent=e||null):this.reAttemptToFocus=!0,!0}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&=(this.beans.dragAndDrop?.removeDragSource(this.dragSource),null)}handleContextMenuMouseEvent(e,t,n){let r=e??t,{menuSvc:i,gos:a}=this.beans;a.get(`preventDefaultOnContextMenu`)&&r.preventDefault(),i?.isHeaderContextMenuEnabled(n)&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent(`columnHeaderContextMenu`,n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;let{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:`columnHeaderHeightChanged`,column:e,columns:[e],source:`autosizeColumnHeaderHeight`}):n.dispatchEvent({type:`columnGroupHeaderHeightChanged`,columnGroup:e,source:`autosizeColumnGroupHeaderHeight`})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},dEe=class extends f${constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}wireComp(e,t,n,r,i){this.comp=e;let{rowCtrl:a,column:o,beans:s}=this,{colResize:c,context:l,colHover:u,rangeSvc:d}=s,f=nX(this,l,i);this.setGui(t,f),this.updateState(),this.setupWidth(f),this.setupMovingCss(f),this.setupMenuClass(f),this.setupSortableClass(f),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:e=>this.setRefreshFunction(`measuring`,e),compBean:f}),this.addColumnHoverListener(f),this.setupFilterClass(f),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(f),this.setupSelectAll(f),this.setupUserComp(),this.refreshAria(),c?this.resizeFeature=f.createManagedBean(c.createResizeFeature(a.pinned,o,n,e,this)):fq(n,!1),u?.createHoverFeature(f,[o],t),d?.createRangeHighlightFeature(f,o,e),f.createManagedBean(new u$(o,t,s)),f.createManagedBean(new yQ(t,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(f),f.addManagedPropertyListeners([`suppressMovableColumns`,`suppressMenuHide`,`suppressAggFuncInHeader`,`enableAdvancedFilter`],()=>this.refresh()),f.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),f.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});let p=()=>this.checkDisplayName();f.addManagedEventListeners({columnValueChanged:p,columnRowGroupChanged:p,columnPivotChanged:p,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),f.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.colDef;return _Y(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){let e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){let e=this.createParams(),t=this.column.getColDef();return CCe(this.beans.userCompFactory,t,e)}createParams(){let{menuSvc:e,sortSvc:t,colFilter:n,gos:r}=this.beans;return _Y(r,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||gY(this.gos)),showColumnMenu:(t,n)=>{e?.showColumnMenu({column:this.column,buttonElement:t,positionBy:`button`,onClosedCallback:n})},showColumnMenuAfterMouseClick:(t,n)=>{e?.showColumnMenu({column:this.column,mouseEvent:t,positionBy:`mouse`,onClosedCallback:n})},showFilter:t=>{e?.showFilterMenu({column:this.column,buttonElement:t,containerType:`columnFilter`,positionBy:`button`})},progressSort:e=>{t?.progressSort(this.column,!!e,`uiColumnSorted`)},setSort:(e,n)=>{t?.setSortForColumn(this.column,e,!!n,`uiColumnSorted`)},eGridHeader:this.eGui,setTooltip:(e,t)=>{r.assertModuleRegistered(`Tooltip`,3),this.setupTooltip(e,t)}})}setupSelectAll(e){let{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener(`rowSelection`,()=>{let n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Z.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===Z.ENTER&&this.onEnterKeyDown(e),e.key===Z.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,`uiColumnSorted`)}showMenuOnKeyPress(e,t){let n=this.comp.getUserCompInstance();p$(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),qCe()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction(`headerStyles`,this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){let e=()=>{let e=$Q(this.column.getColDef(),this.gos,this.column,null),t=this.userHeaderClasses;this.userHeaderClasses=new Set(e);for(let n of e)t.has(n)?t.delete(n):this.comp.toggleCss(n,!0);for(let e of t)this.comp.toggleCss(e,!1)};this.setRefreshFunction(`headerClasses`,e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){let{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria();for(let e of Object.values(this.refreshFunctions))e()}refreshHeaderComp(){let e=this.lookupUserCompDetails();e&&(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e))}attemptHeaderCompRefresh(e){let t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,`header`,!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){let e=this.column.getColDef();return!this.gos.get(`suppressMovableColumns`)&&!e.suppressMovable&&!e.lockPosition||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){let t=()=>{let e=this.column.getActualWidth();this.comp.setWidth(`${e}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){let t=()=>{this.comp.toggleCss(`ag-header-cell-moving`,this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){let t=()=>{this.comp?.toggleCss(`ag-column-menu-visible`,this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){let t=()=>{this.comp.toggleCss(`ag-header-cell-sortable`,!!this.sortable)};t(),this.setRefreshFunction(`updateSortable`,t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){let t=()=>{let e=this.column.isFilterActive();this.comp.toggleCss(`ag-header-cell-filtered`,e),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){let e=()=>{let e=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss(`ag-header-cell-wrap-text`,e)};e(),this.setRefreshFunction(`wrapText`,e)}onHeaderHighlightChanged(){let e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss(`ag-header-highlight-before`,t),this.comp.toggleCss(`ag-header-highlight-after`,n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:t,comp:n,beans:r}=this,i=a$(this.beans),a=i.reduce((e,t)=>e+t,0)===0;if(n.toggleCss(`ag-header-parent-hidden`,a),!t.isSpanHeaderHeight()){e.style.removeProperty(`top`),e.style.removeProperty(`height`),n.toggleCss(`ag-header-span-height`,!1),n.toggleCss(`ag-header-span-total`,!1);return}let{numberOfParents:o,isSpanningTotal:s}=this.column.getColumnGroupPaddingInfo();n.toggleCss(`ag-header-span-height`,o>0);let c=o$(r);if(o===0){n.toggleCss(`ag-header-span-total`,!1),e.style.setProperty(`top`,`0px`),e.style.setProperty(`height`,`${c}px`);return}n.toggleCss(`ag-header-span-total`,s);let l=(this.column.getFirstRealParent()?.getLevel()??-1)+1,u=i.length-l,d=0;for(let e=0;e<u;e++)d+=i[i.length-1-e];e.style.setProperty(`top`,`${-d}px`),e.style.setProperty(`height`,`${c+d}px`)}refreshAriaSort(){if(this.sortable){let e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(_xe(t)),this.setAriaDescriptionProperty(`sort`,e(`ariaSortableColumn`,`Press ENTER to sort`))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty(`sort`,null)}refreshAriaMenu(){if(this.menuEnabled){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty(`menu`,e(`ariaMenuColumn`,`Press ALT DOWN to open column menu`))}else this.setAriaDescriptionProperty(`menu`,null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!gY(this.gos)){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty(`filterButton`,e(`ariaFilterColumn`,`Press CTRL ENTER to open filter`))}else this.setAriaDescriptionProperty(`filterButton`,null)}refreshAriaFiltered(){let e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty(`filter`,e(`ariaColumnFiltered`,`Column Filtered`)):this.setAriaDescriptionProperty(`filter`,null)}setAriaDescriptionProperty(e,t){t==null?this.ariaDescriptionProperties.delete(e):this.ariaDescriptionProperties.set(e,t)}announceAriaDescription(){if(!this.eGui.contains(WK(this.beans)))return;let e=Array.from(this.ariaDescriptionProperties.keys()).sort((e,t)=>e===`filter`?-1:t.charCodeAt(0)-e.charCodeAt(0)).map(e=>this.ariaDescriptionProperties.get(e)).join(`. `);this.beans.ariaAnnounce?.announceValue(e,`columnHeader`)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){let t=e=>this.handleMouseOverChange(e.type===`mouseenter`);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent(`columnHeaderClicked`,this.column)},contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column)})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?`columnHeaderMouseOver`:`columnHeaderMouseLeave`,column:this.column})}setActiveHeader(e){this.comp.toggleCss(`ag-header-active`,e)}getAnchorElementForMenu(e){let t=this.comp.getUserCompInstance();return p$(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function p$(e){return typeof e?.getAnchorElementForMenu==`function`&&typeof e.onMenuKeyboardShortcut==`function`}var fEe=0,m$=class extends J{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=fEe++,this.comp=null,this.allCtrls=[];let r=`ag-header-row-column`;n===`group`?r=`ag-header-row-group`:n===`filter`&&(r=`ag-header-row-filter`),this.headerRowClass=`ag-header-row ${r}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=VJ(this.gos,`print`),this.isEnsureDomOrder=this.gos.get(`ensureDomOrder`)}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=nX(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){let t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:e=>this.onVirtualColumnsChanged(e.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener(`domLayout`,n),e.addManagedPropertyListener(`ensureDomOrder`,e=>this.isEnsureDomOrder=e.currentValue),e.addManagedPropertyListeners([`headerHeight`,`pivotHeaderHeight`,`groupHeaderHeight`,`pivotGroupHeaderHeight`,`floatingFiltersHeight`],t)}onDisplayedColumnsChanged(){this.isPrintLayout=VJ(this.gos,`print`),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned==null?e.getContainerWidth(`right`)+e.getContainerWidth(`left`)+e.getContainerWidth(null):0:e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;let{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+`px`),this.comp.setHeight(t+`px`)}getTopAndHeight(){let e=0,t=a$(this.beans);for(let n=0;n<t.length;n++){if(n===this.rowIndex&&this.type===`group`)return{topOffset:e,rowHeight:t[n]};e+=t[n]}let n=o$(this.beans);if(this.type===`column`)return{topOffset:e,rowHeight:n};e+=n;let r=c$(this.beans);return{topOffset:e,rowHeight:r}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;let t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){let e=this.ctrlsById;this.ctrlsById=new Map;let t=this.getColumnsInViewport();for(let n of t)this.recycleAndCreateHeaderCtrls(n,this.ctrlsById,e);let n=e=>{let{focusSvc:t,visibleCols:n}=this.beans;return t.isHeaderWrapperFocused(e)?n.isVisible(e.column):!1};if(e)for(let[t,r]of e)n(r)?this.ctrlsById.set(t,r):this.destroyBean(r);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;let r=e.getUniqueId(),i;if(n&&(i=n.get(r),n.delete(r)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case`filter`:i=this.createBean(this.beans.registry.createDynamicBean(`headerFilterCellCtrl`,!0,e,this));break;case`group`:i=this.createBean(this.beans.registry.createDynamicBean(`headerGroupCellCtrl`,!0,e,this));break;default:i=this.createBean(new dEe(e,this));break}t.set(r,i)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];let e=[];for(let t of[`left`,null,`right`])e.push(...this.getComponentsToRender(t));return e}getComponentsToRender(e=this.pinned){return this.type===`group`?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){let n=this.allCtrls.find(t=>t.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},pEe=class extends J{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;let{pinnedCols:n,ctrlsSvc:r,colModel:i,colMoves:a}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(a,this.eViewport);let o=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:o,advancedFilterEnabledChanged:o});let s=`${typeof this.pinned==`string`?this.pinned:`center`}Header`;r.register(s,this),i.ready&&this.refresh()}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){let{focusSvc:t,filterManager:n,visibleCols:r}=this.beans,i=0,a=t.getFocusHeaderToUseAfterRefresh(),o=()=>{let t=r.headerGroupRowCount;i=t,e||(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls));let n=this.groupsRowCtrls.length;if(n!==t){if(n>t){for(let e=t;e<n;e++)this.destroyBean(this.groupsRowCtrls[e]);this.groupsRowCtrls.length=t;return}for(let e=n;e<t;e++){let t=this.createBean(new m$(e,this.pinned,`group`));this.groupsRowCtrls.push(t)}}},s=()=>{let t=i++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new m$(t,this.pinned,`column`))):this.columnsRowCtrl.rowIndex!==t&&this.columnsRowCtrl.setRowIndex(t)},c=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;let t=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){t();return}e||t();let r=i++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==r&&this.filtersRowCtrl.setRowIndex(r):this.filtersRowCtrl=this.createBean(new m$(r,this.pinned,`filter`))},l=this.getAllCtrls();o(),s(),c();let u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(t,a),l.length!==u.length&&this.beans.eventSvc.dispatchEvent({type:`headerRowsChanged`})}getHeaderCtrlForColumn(e){let t=t=>t?.getHeaderCellCtrls().find(t=>t.column===e);if(xY(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let e=0;e<this.groupsRowCtrls.length;e++){let n=t(this.groupsRowCtrls[e]);if(n)return n}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){let r=this.getAllCtrls()[e];return r?r.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){let n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;let{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t,scroll:!1})}setupCenterWidth(){this.pinned??this.createManagedBean(new kQ(e=>this.comp.setCenterWidth(`${e}px`),!0))}},mEe=class extends J{constructor(){super(...arguments),this.beanName=`menuSvc`}postConstruct(){let{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,`columnMenu`)}showFilterMenu(e){this.showColumnMenuCommon(g$(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){g$(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){let{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(gY(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&xY(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get(`columnMenu`)===`new`}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!(OX()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!gY(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!gY(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){let e=this.gos,t=e.get(`suppressMenuHide`);return gY(e)?e.exists(`suppressMenuHide`)?t:!1:t}showColumnMenuCommon(e,t,n,r){let{positionBy:i,onClosedCallback:a}=t,o=t.column;if(i===`button`){let{buttonElement:i}=t;e?.showMenuAfterButtonClick(o,i,n,a,r)}else if(i===`mouse`){let{mouseEvent:i}=t;e?.showMenuAfterMouseEvent(o,i,n,a,r)}else if(o){let t=this.beans,i=t.ctrlsSvc;i.getScrollFeature().ensureColumnVisible(o,`auto`),Rq(t,()=>{let t=i.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);t&&e?.showMenuAfterButtonClick(o,t.getAnchorElementForMenu(r),n,a,r)})}}};function h$(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent(`menuVisibleChanged`,n))}function g$(e){let{enterpriseMenuFactory:t,filterMenuFactory:n,gos:r}=e;return t&&gY(r)?t:n}var _$=class extends _X{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},v$=class extends oX{constructor(){super()}},hEe={tag:`span`,cls:`ag-overlay-loading-center`},gEe=class extends v${init(){let e=LK(this.gos.get(`overlayLoadingTemplate`)?.trim());if(this.setTemplate(e??hEe),!e){let e=this.getLocaleTextFunc()(`loadingOoo`,`Loading...`);this.getGui().textContent=e,this.beans.ariaAnnounce.announceValue(e,`overlay`)}}},_Ee={tag:`span`,cls:`ag-overlay-no-rows-center`},vEe=class extends v${init(){let e=LK(this.gos.get(`overlayNoRowsTemplate`)?.trim());if(this.setTemplate(e??_Ee),!e){let e=this.getLocaleTextFunc()(`noRowsToShow`,`No Rows To Show`);this.getGui().textContent=e,this.beans.ariaAnnounce.announceValue(e,`overlay`)}}};function yEe(e,t,n){let r=y$(e,t,n);if(r){let{className:e}=r;if(typeof e==`string`&&e.includes(`ag-icon`)||typeof e==`object`&&e[`ag-icon`])return r}let i=aQ({tag:`span`});return i.appendChild(r),i}function y$(e,t,n){let r=null;e===`smallDown`?X(262):e===`smallLeft`?X(263):e===`smallRight`&&X(264);let i=n?.getColDef().icons;if(i&&(r=i[e]),t.gos&&!r){let n=t.gos.get(`icons`);n&&(r=n[e])}if(r){let t;if(typeof r==`function`)t=r();else if(typeof r==`string`)t=r;else{X(38,{iconName:e});return}if(typeof t==`string`)return Dq(t);if(Fq(t))return t;X(133,{iconName:e});return}else{let n=t.registry.getIcon(e);return n||t.validation?.validateIcon(e),aQ({tag:`span`,cls:`ag-icon ag-icon-${n??e}`,role:`presentation`,attrs:{unselectable:`on`}})}}var bEe=`.ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}.ag-dnd-ghost-not-allowed{border:var(--ag-drag-and-drop-image-not-allowed-border)}`,xEe={tag:`div`,children:[{tag:`div`,ref:`eGhost`,cls:`ag-dnd-ghost ag-unselectable`,children:[{tag:`span`,ref:`eIcon`,cls:`ag-dnd-ghost-icon ag-shake-left-to-right`},{tag:`div`,ref:`eLabel`,cls:`ag-dnd-ghost-label`}]}]},SEe=class extends oX{constructor(){super(),this.dragSource=null,this.eIcon=null,this.eLabel=null,this.eGhost=null,this.registerCSS(bEe)}postConstruct(){let e=e=>yEe(e,this.beans,null);this.dropIconMap={pinned:e(`columnMovePin`),hide:e(`columnMoveHide`),move:e(`columnMoveMove`),left:e(`columnMoveLeft`),right:e(`columnMoveRight`),group:e(`columnMoveGroup`),aggregate:e(`columnMoveValue`),pivot:e(`columnMovePivot`),notAllowed:e(`dropNotAllowed`)}}init(e){this.dragSource=e.dragSource,this.setTemplate(xEe),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){let{eGhost:n,eIcon:r,dragSource:i,dropIconMap:a,gos:o}=this;Cq(r);let s=null;e||=i?.getDefaultIconName?i.getDefaultIconName():`notAllowed`,s=a[e],n.classList.toggle(`ag-dnd-ghost-not-allowed`,e===`notAllowed`),r.classList.toggle(`ag-shake-left-to-right`,t),!(s===a.hide&&o.get(`suppressDragLeaveHidesColumns`))&&s&&r.appendChild(s)}setLabel(e){this.eLabel.textContent=e}},CEe=`.ag-checkbox-cell{height:100%}`,wEe={tag:`div`,cls:`ag-cell-wrapper ag-checkbox-cell`,role:`presentation`,children:[{tag:`ag-checkbox`,ref:`eCheckbox`,role:`presentation`}]},TEe=class extends oX{constructor(){super(wEe,[eZ]),this.eCheckbox=null,this.registerCSS(CEe)}init(e){this.refresh(e);let{eCheckbox:t,beans:n}=this,r=t.getInputElement();r.setAttribute(`tabindex`,`-1`),nq(r,`polite`),this.addManagedListeners(r,{click:e=>{if(_Q(e),t.isDisabled())return;let n=t.getValue();this.onCheckboxChanged(n)},dblclick:e=>{_Q(e)}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===Z.SPACE&&!t.isDisabled()){e.eGridCell===WK(n)&&t.toggle();let i=t.getValue();this.onCheckboxChanged(i),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0,{value:r,column:i,node:a}=e;if(a.group&&i)if(typeof r==`boolean`)t=r;else{let e=i.getColId();e.startsWith(`ag-Grid-AutoColumn`)?t=r==null||r===``?void 0:r===`true`:a.aggData&&a.aggData[e]!==void 0||a.sourceRowIndex>=0?t=r??void 0:n=!1}else t=r??void 0;let{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);let s=e.disabled??!i?.isCellEditable(a);o.setDisabled(s);let c=this.getLocaleTextFunc(),l=lq(c,t),u=s?l:`${c(`ariaToggleCellValue`,`Press SPACE to toggle cell value`)} (${l})`;o.setInputAriaLabel(u)}onCheckboxChanged(e){let{params:t}=this,{column:n,node:r,value:i}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:r.rowIndex,rowPinned:r.rowPinned,state:`changed`,oldValue:i,newValue:i}],{update:!0,forceRefreshOfEditCellsOnly:!0});let a=r.setDataValue(n,e,`renderer`);this.beans.editSvc?.stopEditing({rowNode:r,column:n},{source:this.beans.editSvc?.isBatchEditing()?`ui`:`api`}),a||this.updateCheckbox(t)}},b$=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){let{all:t,visible:n,order:r}=this;t.has(e)||(t.add(e),n.add(e),r.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),kY(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(let t of this.visible)if(t.id==e)return t}clear(){let{all:e,visible:t,order:n,queued:r}=this;e.clear(),r.clear(),t.clear(),n.length=0}sort(){let{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,r=e?.getSortOptions()??[],i=OEe(this.order);if(this.order.sort((e,t)=>(e.pinnedSibling?.rowIndex??0)-(t.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,r)??this.order,!i)return;let a=$J(n);a===`bottom`||a===`pinnedBottom`?this.order.push(i):this.order.unshift(i)}hide(e){let{all:t,visible:n}=this;t.forEach(t=>e(t)?n.delete(t):n.add(t)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function x$(e){if(e.level===-1)return!0;let t=e.parent;return t?.childrenAfterSort?.some(t=>t==e)?x$(t):!1}function S$(e,t){let{gos:n,rowModel:r,filterManager:i}=e;return BJ(n,r)?!r.getRowNode(t.id):i?.isAnyFilterPresent()?!x$(t):n.get(`pivotMode`)?!t.group:!1}function EEe(e){return!!e.footer&&e.level===-1}function DEe(e){return!!e.pinnedSibling&&EEe(e.pinnedSibling)}function OEe(e){let t=e.findIndex(DEe);if(t>-1)return e.splice(t,1)?.[0]}var C$=class extends J{postConstruct(){let{gos:e,beans:t}=this;this.top=new b$(t,`top`),this.bottom=new b$(t,`bottom`);let n=e=>S$(t,e.pinnedSibling),r=()=>{let n=e.get(`isRowPinned`);n&&e.get(`enableRowPinning`)&&t.rowModel.forEachNode(e=>this.pinRow(e,n(e)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:e})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(e=>e.hide(n));let t=this.refreshRowPositions();(!e||t)&&this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(AEe),this.refreshRowPositions()},rowNodeDataChanged:({node:t})=>{(e.get(`isRowPinnable`)?.(t)??!0)||this.pinRow(t,null)},firstDataRendered:r}),this.addManagedPropertyListener(`pivotMode`,()=>{this.forContainers(e=>e.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener(`grandTotalRow`,({currentValue:e})=>{this._grandTotalPinned=e===`pinnedBottom`?`bottom`:e===`pinnedTop`?`top`:null}),this.addManagedPropertyListener(`isRowPinned`,r)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(e=>{let t=[];e.forEach(e=>t.push(e)),t.forEach(e=>this.pinRow(e,null)),e.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,MEe(this.beans);return}let r=e.rowPinned??e.pinnedSibling?.rowPinned;if(r!=null&&t!=null&&t!=r){let r=e.rowPinned?e:e.pinnedSibling,i=e.rowPinned?e.pinnedSibling:e;this.pinRow(r,null,n),this.pinRow(i,t,n);return}let i=n&&jEe(this.beans,e,n);if(i){i.forEach(e=>this.pinRow(e,t));return}if(t==null){let n=e.rowPinned?e:e.pinnedSibling,r=this.findPinnedRowNode(n);if(!r)return;r.delete(n);let i=n.pinnedSibling;T$(n),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(i)}else{let n=w$(this.beans,e,t),r=this.getContainer(t);r.add(n),S$(this.beans,e)&&r.hide(e=>S$(this.beans,e.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0,n=n=>{if(n.rowHeightEstimated){let r=WJ(this.beans,n);n.setRowTop(t),n.setRowHeight(r.height),t+=r.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:`pinnedHeightChanged`}),e}getPinnedTopTotalHeight(){return E$(this.top)}getPinnedBottomTotalHeight(){return E$(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){let e=e=>{let t=[];return this.forEachPinnedRow(e,e=>t.push(e.pinnedSibling.id)),t};return{top:e(`top`),bottom:e(`bottom`)}}setPinnedState(e){this.forContainers((t,n)=>{for(let r of e[n]){let e=this.beans.rowModel.getRowNode(r);e?this.pinRow(e,n):t.queue(r)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{let n=new Set;e.forEachQueued(e=>{let t=this.beans.rowModel.getRowNode(e);t&&n.add(t)});for(let r of n)e.unqueue(r.id),this.pinRow(r,t)})}pinGrandTotalRow(){let{gos:e,beans:t,_grandTotalPinned:n}=this,r=t.rowModel;if(!zJ(e,r))return;let i=r.rootNode?.sibling;if(!i)return;let a=i.pinnedSibling,o=a&&this.findPinnedRowNode(a);if(n){if(o&&o.floating!==n&&(o.delete(a),T$(a)),!o||o.floating!==n){let e=w$(t,i,n);this.getContainer(n).add(e)}}else{if(!o)return;o.delete(a),T$(a)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(e=>e.forEach(e=>e.setRowHeight(e.rowHeight,!0)))}getContainer(e){return e===`top`?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){let t=e=>kEe(this.beans,e);if(e)return t(this.getContainer(e));let n=!1;return this.forContainers(e=>{let r=t(e);n||=r}),n}forContainers(e){e(this.top,`top`),e(this.bottom,`bottom`)}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:`pinnedRowsChanged`}),e?.dispatchRowEvent(`rowPinned`)}};function kEe(e,t){let n=0,r=!1;return t.forEach((t,i)=>{if(r||=t.rowTop!==n,t.setRowTop(n),t.rowHeightEstimated||t.rowHeight==null){let n=WJ(e,t).height;r||=t.rowHeight!==n,t.setRowHeight(n)}t.setRowIndex(i),n+=t.rowHeight}),r}function w$(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;let r=tTe(t,e);return r.setRowTop(null),r.setRowIndex(null),r.rowPinned=n,r.id=`${n===`top`?`t-`:`b-`}${n}-${t.id}`,r.pinnedSibling=t,t.pinnedSibling=r,r}function T$(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);let t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function AEe(e){let t=new Set;e.forEach(e=>{e.group&&t.add(e)}),t.forEach(t=>e.delete(t))}function jEe(e,t,n){let{rowSpanSvc:r}=e,i=(n&&r?.isCellSpanning(n,t))??!1;if(n&&i)return r?.getCellSpan(n,t)?.spannedNodes}function E$(e){let t=e.size();if(t===0)return 0;let n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function MEe({gos:e,rowModel:t}){zJ(e,t)&&t.refreshModel({step:`map`})}var D$=class extends J{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){let e=this.gos;this.setPinnedRowData(e.get(`pinnedTopRowData`),`top`),this.setPinnedRowData(e.get(`pinnedBottomRowData`),`bottom`),this.addManagedPropertyListener(`pinnedTopRowData`,e=>this.setPinnedRowData(e.currentValue,`top`)),this.addManagedPropertyListener(`pinnedBottomRowData`,e=>this.setPinnedRowData(e.currentValue,`bottom`)),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){let e=e=>{e.setRowHeight(e.rowHeight,!0)};j$(this.pinnedBottomRows,e),j$(this.pinnedTopRows,e)}}ensureRowHeightsValid(){let e=!1,t=0,n=n=>{if(n.rowHeightEstimated){let r=WJ(this.beans,n);n.setRowTop(t),n.setRowHeight(r.height),t+=r.height,e=!0}};return j$(this.pinnedBottomRows,n),t=0,j$(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:`pinnedHeightChanged`}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:`pinnedRowDataChanged`})}updateNodesFromRowData(e,t){let n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}let r=nY(this.gos),i=t===`top`?`t-`:`b-`,a=new Set(n.order),o=[],s=new Set,c=0,l=-1;for(let u of e){let e=r?.({data:u,level:0,rowPinned:t})??i+ this.nextId++;if(s.has(e)){X(96,{id:e,data:u});continue}l++,s.add(e),o.push(e);let d=k$(n,e);if(d!==void 0)d.data!==u&&d.updateData(u),c+=this.setRowTopAndRowIndex(d,c,l),a.delete(e);else{let r=new ZZ(this.beans);r.id=e,r.data=u,r.rowPinned=t,c+=this.setRowTopAndRowIndex(r,c,l),n.cache[e]=r,n.order.push(e)}}for(let e of a)k$(n,e)?.clearRowTopAndRowIndex(),delete n.cache[e];n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(WJ(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return O$(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return O$(this.pinnedBottomRows)}getPinnedTopRowCount(){return M$(this.pinnedTopRows)}getPinnedBottomRowCount(){return M$(this.pinnedBottomRows)}getPinnedTopRow(e){return A$(this.pinnedTopRows,e)}getPinnedBottomRow(e){return A$(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return k$(this.getCache(t),e)}forEachPinnedRow(e,t){return j$(this.getCache(e),t)}getCache(e){return e===`top`?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function O$(e){let t=M$(e);if(t===0)return 0;let n=A$(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function k$(e,t){return e.cache[t]}function A$(e,t){return k$(e,e.order[t])}function j$(e,t){e.order.forEach((n,r)=>{let i=k$(e,n);i&&t(i,r)})}function M$(e){return e.order.length}var NEe=class extends J{constructor(){super(...arguments),this.beanName=`pinnedRowModel`}postConstruct(){let{gos:e}=this,t=()=>{let t=e.get(`enableRowPinning`),n=$J(e),r=!!t||n===`pinnedBottom`||n===`pinnedTop`,i=r?this.inner instanceof D$:this.inner instanceof C$;this.inner&&i&&this.destroyBean(this.inner),(i||!this.inner)&&(this.inner=this.createManagedBean(r?new C$:new D$))};this.addManagedPropertyListeners([`enableRowPinning`,`grandTotalRow`],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}};function N$(e){return!!(e.rowPinned&&e.pinnedSibling)}function P$(e,t,n,r){let i=t===`top`;if(!n)return P$(e,t,i?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),r);if(!r){let r=i?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return P$(e,t,n,i?e.getPinnedTopRow(r-1):e.getPinnedBottomRow(r-1))}let a=!1,o=!1,s=[];return e.forEachPinnedRow(t,e=>{if(e===n&&!a){a=!0,s.push(e);return}if(a&&e===r){o=!0,s.push(e);return}a&&!o&&s.push(e)}),s}var PEe={tag:`div`,cls:`ag-selection-checkbox`,role:`presentation`,children:[{tag:`ag-checkbox`,ref:`eCheckbox`,role:`presentation`}]},FEe=class extends oX{constructor(){super(PEe,[eZ]),this.eCheckbox=null}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,r=t.isSelected(),i=lq(e,r),[a,o]=t.selectable?[`ariaRowToggleSelection`,`Press Space to toggle row selection`]:[`ariaRowSelectionDisabled`,`Row Selection is disabled for this row`],s=e(a,o);n.setValue(r,!0),n.setInputAriaLabel(`${s} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:_Q,click:e=>{_Q(e),this.beans.selectionSvc?.handleSelectionEvent(e,this.rowNode,`checkboxSelected`)}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener(`rowSelection`,({currentValue:e,previousValue:t})=>{(typeof e==`object`?oY(e):void 0)!==(typeof t==`object`?oY(t):void 0)&&this.onSelectableChanged()}),lY(this.gos)||typeof this.getIsVisible()==`function`){let e=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute(`tabindex`,`-1`)}showOrHideSelect(){let{column:e,rowNode:t,overrides:n,gos:r}=this,i=t.selectable,a=this.getIsVisible(),o;if(typeof a==`function`){let r=n?.callbackParams;if(!e)o=a({...r,node:t,data:t.data});else{let n=e.createColumnFunctionCallbackParams(t);o=a({...r,...n})}}else o=a??!1;let s=i&&!o||!i&&o,c=i||o,l=r.get(`rowSelection`),u=l&&typeof l!=`string`?!oY(l):!!e?.getColDef().showDisabledCheckboxes;this.setVisible(c&&(s?u:!0)),this.setDisplayed(c&&(s?u:!0)),c&&this.eCheckbox.setDisabled(s),n?.removeHidden&&this.setDisplayed(c)}getIsVisible(){let e=this.overrides;if(e)return e.isVisible;let t=this.gos.get(`rowSelection`);return t&&typeof t!=`string`?rY(t):this.column?.getColDef()?.checkboxSelection}},IEe=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){let e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t,{rowModel:n,pinnedRowModel:r}=this;return t??=n.getRowNode(e),r?.isManual()&&(t??=r.getPinnedRowById(e,`top`),t??=r.getPinnedRowById(e,`bottom`)),t}truncate(e){let t=this.getRange();if(t.length===0)return{keep:[],discard:[]};let n=t[0].id===this.rootId,r=t.findIndex(t=>t.id===e.id);if(r>-1){let i=t.slice(0,r),a=t.slice(r+1);return this.setEndRange(e),n?{keep:i,discard:a}:{keep:a,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){let n=this.getRoot();if(n==null){let n=this.getRange().slice();return t&&e.depthFirstSearch(e=>!e.group&&n.push(e)),n.push(e),this.setRoot(e),{keep:n,discard:[]}}let r=this.getNodesInRange(n,e);if(!r)return this.setRoot(e),{keep:[e],discard:[]};if(r.find(e=>e.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{let t=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:t}}}getNodesInRange(e,t){let{pinnedRowModel:n,rowModel:r}=this;if(!n?.isManual())return r.getNodesInRangeForSelection(e,t);if(e.rowPinned===`top`&&!t.rowPinned)return P$(n,`top`,e,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),t)??[]);if(e.rowPinned===`bottom`&&!t.rowPinned){let i=P$(n,`bottom`,void 0,e),a=r.getRowCount(),o=r.getRow(a-1);return(r.getNodesInRangeForSelection(t,o)??[]).concat(i)}if(!e.rowPinned&&!t.rowPinned)return r.getNodesInRangeForSelection(e,t);if(e.rowPinned===`top`&&t.rowPinned===`top`)return P$(n,`top`,e,t);if(e.rowPinned===`bottom`&&t.rowPinned===`top`){let i=P$(n,`top`,t,void 0),a=P$(n,`bottom`,void 0,e),o=r.getRow(0),s=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,s)??[]).concat(a)}if(!e.rowPinned&&t.rowPinned===`top`)return P$(n,`top`,t,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),e)??[]);if(e.rowPinned===`top`&&t.rowPinned===`bottom`){let i=P$(n,`top`,e,void 0),a=P$(n,`bottom`,void 0,t),o=r.getRow(0),s=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,s)??[]).concat(a)}if(e.rowPinned===`bottom`&&t.rowPinned===`bottom`)return P$(n,`bottom`,e,t);if(!e.rowPinned&&t.rowPinned===`bottom`){let i=P$(n,`bottom`,void 0,t),a=r.getRow(r.getRowCount());return(r.getNodesInRangeForSelection(e,a)??[]).concat(i)}return null}},LEe=class extends J{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){let t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(WK(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;let t=this.createManagedBean(new $X);this.cbSelectAll=t,t.addCss(`ag-header-select-all`),$K(t.getGui(),`presentation`),this.showOrHideSelectAll();let n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener(`rowSelection`,({currentValue:e,previousValue:t})=>{let n=e=>typeof e==`string`||!e||e.mode===`singleRow`?void 0:e.selectAll;n(e)!==n(t)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute(`tabindex`,`-1`),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source===`uiColumnMoved`)}showOrHideSelectAll(e=!1){let t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType(`selectAllCheckbox`),this.checkSelectionType(`selectAllCheckbox`),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,r=t.getSelectAllState(e);n.setValue(r);let i=t.hasNodesToSelect(e);n.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){let t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:r,cbSelectAllVisible:i}=this,a=lq(t,r.getValue()),o=t(`ariaRowSelectAll`,`Press Space to toggle all rows selection`);n.setAriaDescriptionProperty(`selectAll`,i?`${o} (${a})`:null),r.setInputAriaLabel(t(`ariaHeaderSelection`,`Column with Header Selection`)),e||n.announceAriaDescription()}checkSelectionType(e){return dY(this.gos)?!0:(X(128,{feature:e}),!1)}checkRightRowModelType(e){let{gos:t,rowModel:n}=this.beans;return zJ(t)||BJ(t)?!0:(X(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),t=this.getSelectAllMode(),n=`uiSelectAll`;t===`currentPage`?n=`uiSelectAllCurrentPage`:t===`filtered`&&(n=`uiSelectAllFiltered`);let r={source:n,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(r):i.deselectAllRowNodes(r)}isCheckboxSelection(){let{column:e,gos:t,beans:n}=this,r=typeof t.get(`rowSelection`)==`object`?`headerCheckbox`:`headerCheckboxSelection`;return F$(n,e)&&this.checkRightRowModelType(r)&&this.checkSelectionType(r)}getSelectAllMode(){let e=pY(this.gos,!1);if(e)return e;let{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?`currentPage`:n?`filtered`:`all`}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function F$({gos:e,selectionColSvc:t},n){let r=e.get(`rowSelection`),i=n.getColDef(),{headerCheckboxSelection:a}=i,o=!1;if(typeof r==`object`){let e=FY(n),i=PY(n);(aY(r)===`autoGroupColumn`&&i||e&&t?.isSelectionColumnEnabled())&&(o=iY(r))}else o=typeof a==`function`?a(_Y(e,{column:n,colDef:i})):!!a;return o}var REe=class extends J{postConstruct(){let{gos:e,beans:t}=this;this.selectionCtx=new IEe(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners([`isRowSelectable`,`rowSelection`],()=>{let t=lY(e);t!==this.isRowSelectable&&(this.isRowSelectable=t,this.updateSelectable())}),this.isRowSelectable=lY(e),this.addManagedEventListeners({cellValueChanged:e=>this.updateRowSelectable(e.node),rowNodeDataChanged:e=>this.updateRowSelectable(e.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new FEe}createSelectAllFeature(e){if(F$(this.beans,e))return new LEe(e)}isMultiSelect(){return dY(this.gos)}onRowCtrlSelected(e,t,n){let r=!!e.rowNode.isSelected();e.forEachGui(n,e=>{e.rowComp.toggleCss(`ag-row-selected`,r);let n=e.element;sq(n,r),n.contains(WK(this.beans))&&t(e)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;let t=e.isSelected(),n=this.beans.editSvc?.isEditing({rowNode:e});if(!e.selectable||n)return;let r=this.getLocaleTextFunc()(t?`ariaRowDeselect`:`ariaRowSelect`,`Press SPACE to ${t?`deselect`:`select`} this row`);this.beans.ariaAnnounce?.announceValue(r,`rowSelection`)}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!N$(e)||!HJ(this.gos)}updateRowSelectable(e,t){let n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent(`selectableChanged`),n)return;if(mY(this.gos)){let t=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:t??!1,source:`selectableChanged`});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:`selectableChanged`})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let r=0;r<e.childrenAfterGroup.length;r++){let i=e.childrenAfterGroup[r],a=i.isSelected();if(!i.selectable){let e=this.calculateSelectedFromChildren(i);if(e===null)continue;a=e}switch(a){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,r=`api`){let i=!e.selectable&&t,a=e.__selected===t;if(i||a)return!1;e.__selected=t,e.dispatchRowEvent(`rowSelected`);let o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent(`rowSelected`);let s=e.pinnedSibling;return s?.rowPinned&&s.__localEventService&&s.dispatchRowEvent(`rowSelected`),this.eventSvc.dispatchEvent({...$we(e,this.gos,`rowSelected`),event:n||null,source:r}),!0}isCellCheckboxSelection(e,t){let n=this.gos.get(`rowSelection`);if(n&&typeof n!=`string`){let r=FY(e)&&rY(n);return e.isColumnFunc(t,r)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,r){let{gos:i,selectionCtx:a}=this,o=e.isSelected(),s=mY(i),c=bSe(i),l=xSe(i),u=this.isMultiSelect(),d=r===`rowClicked`;if(d&&!(c||l))return null;if(t&&n&&u){let t=a.getRoot();if(t)if(t.isSelected()){let t=a.isInRange(e)?a.truncate(e):a.extend(e,s);return{deselect:t.discard,select:t.keep,reset:!1}}else return{select:[],deselect:a.extend(e,s).keep,reset:!1};else return null}else if(t&&u){let t=a.selectAll?this.beans.rowModel.getRow(0):void 0,n=a.getRoot(t),r=a.isInRange(e)?a.truncate(e):a.extend(e,s);return{select:r.keep,deselect:r.discard,reset:a.selectAll||!!(n&&!n.isSelected())}}else if(n){if(d){let t=!o;return t&&!c||!t&&!l?null:(a.setRoot(e),{node:e,newValue:t,clearSelection:!1})}return a.setRoot(e),{node:e,newValue:!o,clearSelection:!u}}else{a.setRoot(e);let t=SSe(i),n=fY(i)===`filteredDescendants`,r=d&&(!t||!c);if(n&&o===void 0&&zJ(i))return{node:e,newValue:!1,checkFilteredNodes:!0,clearSelection:!u||r};if(d){let n=o?!t:c;return n===o&&!r||n&&!c||!n&&!l?null:{node:e,newValue:n,clearSelection:!u||r,keepDescendants:e.group&&s}}return{node:e,newValue:!o,clearSelection:!u||r}}}},I$={TAB_GUARD:`ag-tab-guard`,TAB_GUARD_TOP:`ag-tab-guard-top`,TAB_GUARD_BOTTOM:`ag-tab-guard-bottom`},L$=class extends J{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:t,eTopGuard:n,eBottomGuard:r,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:a,isFocusableContainer:o,focusInnerElement:s,onFocusIn:c,onFocusOut:l,shouldStopEventPropagation:u,onTabKeyDown:d,handleKeyDown:f,isEmpty:p,eFocusableElement:m}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=r,this.providedFocusInnerElement=s,this.eFocusableElement=m,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!a,this.isFocusableContainer=!!o,this.providedFocusIn=c,this.providedFocusOut=l,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=f,this.providedIsEmpty=p}postConstruct(){this.createManagedBean(new yQ(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards();for(let e of[this.eTopGuard,this.eBottomGuard])this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute(`tabIndex`)}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get(`tabIndex`);this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():qX(this.eFocusableElement,`.ag-tab-guard`).length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){let t=qX(GK(this.beans).body,null,!0),n=t.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let r,i;e?(r=0,i=n):(r=n+1,i=t.length);let a=t.slice(r,i),o=this.gos.get(`tabIndex`);a.sort((e,t)=>{let n=Number.parseInt(e.getAttribute(`tabindex`)||`0`),r=Number.parseInt(t.getAttribute(`tabindex`)||`0`);return r===o?1:n===o?-1:n===0?1:r===0?-1:n-r}),a[e?a.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){let t=qX(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return YX(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},zEe=class extends J{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard(`top`),this.eBottomGuard=this.createTabGuard(`bottom`),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:t,eBottomGuard:n,eFocusableElement:r}=this,i=[t,n],a={setTabIndex:e=>{for(let t of i)e==null?t.removeAttribute(`tabindex`):t.setAttribute(`tabindex`,e)}};this.addTabGuards(t,n);let{focusTrapActive:o=!1,onFocusIn:s,onFocusOut:c,focusInnerElement:l,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:f,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:h}=e;this.tabGuardCtrl=this.createManagedBean(new L$({comp:a,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:r,onFocusIn:s,onFocusOut:c,focusInnerElement:l,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:f,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:h}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let t=GK(this.beans).createElement(`div`),n=e===`top`?I$.TAB_GUARD_TOP:I$.TAB_GUARD_BOTTOM;return t.classList.add(I$.TAB_GUARD,n),$K(t,`presentation`),t}addTabGuards(e,t){let n=this.eFocusableElement;n.insertAdjacentElement(`afterbegin`,e),n.insertAdjacentElement(`beforeend`,t)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];Cq(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){Fq(t)||(t=t.getGui());let{eBottomGuard:r}=this;r?r.insertAdjacentElement(`beforebegin`,t):e(t,n)}destroy(){let{eTopGuard:e,eBottomGuard:t}=this;wq(e),wq(t),super.destroy()}},BEe=class extends oX{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new zEe(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},VEe=500,HEe=550,R$,UEe=e=>{if(!R$)R$=new WeakSet;else if(R$.has(e))return!1;return R$.add(e),!0},z$=class{constructor(e,t=!1){this.eElement=e,this.preventClick=t,this.startListener=null,this.handlers=[],this.eventSvc=void 0,this.touchStart=null,this.lastTapTime=null,this.longPressTimer=0,this.moved=!1}addEventListener(e,t){let n=this.eventSvc;if(!n){if(n===null)return;this.eventSvc=n=new IK;let e=this.onTouchStart.bind(this);this.startListener=e,this.eElement.addEventListener(`touchstart`,e,{passive:!0})}n.addEventListener(e,t)}removeEventListener(e,t){this.eventSvc?.removeEventListener(e,t)}onTouchStart(e){if(this.touchStart||!UEe(e))return;let t=e.touches[0];this.touchStart=t;let n=this.handlers;if(!n.length){let e=this.eElement,t=e.ownerDocument,r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this),a=this.onTouchCancel.bind(this),o={passive:!0},s={passive:!1};Jq(n,[e,`touchmove`,r,o],[t,`touchcancel`,a,o],[t,`touchend`,i,s],[t,`contextmenu`,Xq,s])}this.clearLongPress(),this.longPressTimer=window.setTimeout(()=>{this.longPressTimer=0,this.touchStart===t&&!this.moved&&(this.moved=!0,this.eventSvc?.dispatchEvent({type:`longTap`,touchStart:t,touchEvent:e}))},HEe)}onTouchMove(e){let{moved:t,touchStart:n}=this;if(!t&&n){let t=Kq(n,e.touches);t&&!Gq(t,n,4)&&(this.clearLongPress(),this.moved=!0)}}onTouchEnd(e){let t=this.touchStart;!t||!Kq(t,e.changedTouches)||(this.moved||(this.eventSvc?.dispatchEvent({type:`tap`,touchStart:t}),this.checkDoubleTap(t)),this.preventClick&&Xq(e),this.cancel())}onTouchCancel(e){let t=this.touchStart;!t||!Kq(t,e.changedTouches)||(this.lastTapTime=null,this.cancel())}checkDoubleTap(e){let t=Date.now(),n=this.lastTapTime;n&&t-n>VEe&&(this.eventSvc?.dispatchEvent({type:`doubleTap`,touchStart:e}),t=null),this.lastTapTime=t}cancel(){this.clearLongPress(),Yq(this.handlers),this.touchStart=null}clearLongPress(){window.clearTimeout(this.longPressTimer),this.longPressTimer=0,this.moved=!1}destroy(){let e=this.startListener;e&&(this.startListener=null,this.eElement.removeEventListener(`touchstart`,e)),this.cancel(),this.eElement=null,this.eventSvc=null}},WEe=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.includes(`x`),this.scrollVertically=e.scrollAxis.includes(`y`),this.scrollByTick=e.scrollByTick==null?20:e.scrollByTick,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}get scrolling(){return this.tickingInterval!==null}check(e,t=!1){let n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;let r=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<r.left+i,this.tickRight=e.clientX>r.right-i,this.tickUp=e.clientY<r.top+i&&!n,this.tickDown=e.clientY>r.bottom-i&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){let t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&=(window.clearInterval(this.tickingInterval),null)}},B$=class{constructor(e=`javascript`){this.frameworkName=e,this.renderingEngine=`vanilla`,this.batchFrameworkComps=!1,this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e(),this.baseDocLink=`${dJ}/${this.frameworkName}-data-grid`,lSe(this.baseDocLink)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return this.baseDocLink+(e?`/`+e:``)}};function GEe(e){return{beanName:`gridApi`,bean:e.getBean(`apiFunctionSvc`).api}}var V$=Object.fromEntries(`licenseManager.environment.eventSvc.gos.paginationAutoPageSizeSvc.apiFunctionSvc.gridApi.registry.agCompUtils.userCompFactory.rowContainerHeight.horizontalResizeSvc.localeSvc.pinnedRowModel.dragSvc.colGroupSvc.visibleCols.popupSvc.selectionSvc.colFilter.quickFilter.filterManager.colModel.headerNavigation.pageBounds.pagination.pageBoundsListener.rowSpanSvc.stickyRowSvc.rowRenderer.expressionSvc.alignedGridsSvc.navigation.valueCache.valueSvc.autoWidthCalc.filterMenuFactory.dragAndDrop.focusSvc.cellNavigation.cellStyles.scrollVisibleSvc.sortSvc.colHover.colAnimation.autoColSvc.selectionColSvc.changeDetectionSvc.animationFrameSvc.undoRedo.colDefFactory.rowStyleSvc.rowNodeBlockLoader.rowNodeSorter.ctrlsSvc.pinnedCols.dataTypeSvc.syncSvc.overlays.stateSvc.expansionSvc.apiEventSvc.ariaAnnounce.menuSvc.colMoves.colAutosize.colFlex.colResize.pivotColsSvc.valueColsSvc.rowGroupColsSvc.colNames.colViewport.pivotResultCols.showRowGroupCols.validation`.split(`.`).map((e,t)=>[e,t]));function KEe(e,t){return((e.beanName?V$[e.beanName]:void 0)??2**53-1)-((t.beanName?V$[t.beanName]:void 0)??2**53-1)}function qEe(e,t){return e?.beanName===`gridDestroySvc`?-1:t?.beanName===`gridDestroySvc`?1:0}var JEe=class extends J{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute(`grid-id`,this.beans.context.getId());let{dragAndDrop:r,ctrlsSvc:i}=this.beans;r?.registerGridDropTarget(()=>this.eGui,this),this.createManagedBean(new CQ(this.view)),this.view.setRtlClass(this.gos.get(`enableRtl`)?`ag-rtl`:`ag-ltr`);let a=Lq(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>a()),i.register(`gridCtrl`,this)}isDetailGrid(){return XX(this.getGui())?.getAttribute(`row-id`)?.startsWith(`detail`)||!1}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector(`AG-GRID-HEADER-DROP-ZONES`),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector(`AG-STATUS-BAR`),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:`gridSizeChanged`,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){let{view:t}=this;if(e===!1)t.setCursor(null);else{let n=e===1?`ew-resize`:`ns-resize`;t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?`none`:null)}focusNextInnerContainer(e){let t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(r===0){if(n>0){let{visibleCols:e,focusSvc:t}=this.beans,n=e.allCols,r=EY(n);if(t.focusGridView({column:r,backwards:!0}))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){if(this.gos.getCallback(`focusGridInnerElement`)?.({fromBottom:!!e}))return!0;let t=this.getFocusableContainers(),{focusSvc:n,visibleCols:r}=this.beans,i=r.allCols;if(e){if(t.length>1)return this.focusContainer(EY(t),e);let r=EY(i);if(n.focusGridView({column:r,backwards:e}))return!0}if(this.gos.get(`headerHeight`)===0||t$(this.beans)){if(n.focusGridView({column:i[0],backwards:e}))return!0;for(let n=1;n<t.length;n++)if(JX(t[n].getGui(),e))return!0;return!1}return n.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){let t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:r}=this.getNextFocusableIndex(t,e);if(r===-1||n<0||n>=t.length)return;let i=t[n];i.setAllowFocus?.(!0),setTimeout(()=>{i.setAllowFocus?.(!1)})}isFocusable(){let e=this.beans;return!n$(e)||!t$(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){let n=WK(this.beans),r=e.findIndex(e=>e.getGui().contains(n));return{indexWithFocus:r,nextIndex:r+(t?-1:1)}}focusContainer(e,t){e.setAllowFocus?.(!0);let n=JX(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},H$=(e,t)=>{for(let n of Object.keys(t))t[n]=e;return t},U$={dispatchEvent:`CommunityCore`,...H$(`CommunityCore`,{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...H$(`GridState`,{getState:0,setState:0}),...H$(`SharedRowSelection`,{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...H$(`RowApi`,{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...H$(`ScrollApi`,{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...H$(`KeyboardNavigation`,{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...H$(`EventApi`,{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...H$(`ValueCache`,{expireValueCache:0}),...H$(`CellApi`,{getCellValue:0}),...H$(`SharedMenu`,{showColumnMenu:0,hidePopupMenu:0}),...H$(`Sort`,{onSortChanged:0}),...H$(`PinnedRow`,{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...H$(`Overlay`,{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...H$(`RenderApi`,{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...H$(`HighlightChanges`,{flashCells:0}),...H$(`RowDrag`,{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...H$(`ColumnApi`,{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...H$(`ColumnAutoSize`,{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...H$(`ColumnGroup`,{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...H$(`ColumnMove`,{moveColumnByIndex:0,moveColumns:0}),...H$(`ColumnResize`,{setColumnWidths:0}),...H$(`ColumnHover`,{isColumnHovered:0}),...H$(`EditCore`,{getCellEditorInstances:0,getEditingCells:0,getEditRowValues:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...H$(`BatchEdit`,{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...H$(`UndoRedoEdit`,{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...H$(`FilterCore`,{isAnyFilterPresent:0,onFilterChanged:0}),...H$(`ColumnFilter`,{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...H$(`QuickFilter`,{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...H$(`Find`,{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...H$(`Pagination`,{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...H$(`CsrmSsrmSharedApi`,{expandAll:0,collapseAll:0}),...H$(`SsrmInfiniteSharedApi`,{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...H$(`ClientSideRowModelApi`,{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0,onRowHeightChanged:0,resetRowHeights:0}),...H$(`CsvExport`,{getDataAsCsv:0,exportDataAsCsv:0}),...H$(`InfiniteRowModel`,{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...H$(`AdvancedFilter`,{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...H$(`IntegratedCharts`,{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...H$(`Clipboard`,{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...H$(`ExcelExport`,{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...H$(`SharedMasterDetail`,{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...H$(`ContextMenu`,{showContextMenu:0}),...H$(`ColumnMenu`,{showColumnChooser:0,hideColumnChooser:0}),...H$(`CellSelection`,{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...H$(`SharedRowGrouping`,{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...H$(`SharedAggregation`,{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...H$(`SharedPivot`,{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...H$(`ServerSideRowModelApi`,{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0,onRowHeightChanged:0,resetRowHeights:0}),...H$(`SideBar`,{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...H$(`StatusBar`,{getStatusPanel:0}),...H$(`AiToolkit`,{getStructuredSchema:0})},W$={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},YEe=(e,t)=>e.eventSvc.dispatchEvent(t),G$=class{};Reflect.defineProperty(G$,`name`,{value:`GridApi`});var XEe=class extends J{constructor(){super(),this.beanName=`apiFunctionSvc`,this.api=new G$,this.fns={...W$,dispatchEvent:YEe},this.preDestroyLink=``;let{api:e}=this;for(let t of Object.keys(U$))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink(`grid-lifecycle/#grid-pre-destroyed`)}addFunction(e,t){let{fns:n,beans:r}=this;n!==W$&&(n[e]=r?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{let{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){let{beans:t,gos:n,preDestroyLink:r}=this;if(!t)X(26,{fnName:e,preDestroyLink:r});else{let t=U$[e];n.assertModuleRegistered(t,`api.${e}`)&&X(27,{fnName:e,module:t})}}destroy(){super.destroy(),this.fns=W$,this.beans=null}};function ZEe(e){return e.context.getId()}function QEe(e){e.gridDestroySvc.destroy()}function $Ee(e){return e.gridDestroySvc.destroyCalled}function eDe(e,t){return e.gos.get(t)}function tDe(e,t,n){K$(e,{[t]:n})}function K$(e,t){e.gos.updateGridOptions({options:t})}function nDe(e,t){let n=t.replace(/Module$/,``);return e.gos.isModuleRegistered(n)}var rDe={tag:`div`,cls:`ag-drag-handle ag-row-drag`,attrs:{draggable:`true`}},iDe=class extends oX{constructor(e,t,n){super(rDe),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(y$(`rowDrag`,this.beans,null)),this.addGuiEventListener(`mousedown`,e=>{e.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener(`dragstart`,this.onDragStart.bind(this))}onDragStart(e){let{rowNode:t,column:n,eCell:r,gos:i}=this,a=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(r,0,0),a)a(_Y(i,{rowNode:t,dragEvent:e}));else try{let e=JSON.stringify(t.data);o.setData(`application/json`,e),o.setData(`text/plain`,e)}catch{}}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function aDe(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function oDe(e,t){let n=e.dragAndDrop?.findExternalZone(t.getContainer());n&&e.dragAndDrop?.removeDropTarget(n)}function sDe(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function cDe(e){let t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:`none`}}function lDe(e,t){let n=e.rowDropHighlightSvc;if(!n)return;let r=t?.row,i=t?.dropIndicatorPosition;i!==`above`&&i!==`below`&&i!==`inside`&&(i=`none`),r?.rowIndex==null||i===`none`?n.clear():n.set(r,i)}var uDe=class extends Jwe{shouldPreventMouseEvent(e){return this.gos.get(`enableCellTextSelection`)&&super.shouldPreventMouseEvent(e)}},dDe=class extends J{constructor(){super(...arguments),this.beanName=`horizontalResizeSvc`}addResizeBar(e){let t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();let n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){let e=this.beans.ctrlsSvc.get(`gridCtrl`);e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.beans.ctrlsSvc.get(`gridCtrl`);e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},fDe={tag:`div`,cls:`ag-drag-handle ag-row-drag`,attrs:{"aria-hidden":`true`}},pDe=class extends oX{constructor(e,t,n,r,i,a=!1){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=r,this.dragStartPixels=i,this.alwaysVisible=a,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){let{beans:e,customGui:t}=this;t?this.setDragElement(t,this.dragStartPixels):(this.setTemplate(fDe),this.getGui().appendChild(y$(`rowDrag`,e,null)),this.addDragSource()),this.alwaysVisible||this.initCellDrag()}initCellDrag(){let{beans:e,gos:t,rowNode:n}=this,r=this.refreshVisibility.bind(this);this.addManagedPropertyListener(`suppressRowDrag`,r),this.addManagedListeners(n,{dataChanged:r,cellChanged:r}),this.addManagedListeners(e.eventSvc,t.get(`rowDragManaged`)?{sortChanged:r,filterChanged:r,columnRowGroupChanged:r,newColumnsLoaded:r}:{newColumnsLoaded:r})}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}refreshVisibility(){if(this.alwaysVisible)return;let e={skipAriaHidden:!0};if(this.isNeverDisplayed()){this.setDisplayed(!1,e);return}let t=this.column,n=typeof t?.getColDef().rowDrag==`function`,r=!t||this.isCustomGui()||t.isRowDrag(this.rowNode);r&&this.rowNode.footer&&this.gos.get(`rowDragManaged`)&&(r=!1,n=!0),this.setDisplayed(n||r,e),this.setVisible(r,e)}isNeverDisplayed(){let{gos:e,beans:t}=this;return!!(e.get(`suppressRowDrag`)||e.get(`rowDragManaged`)&&t.rowDragSvc.rowDragFeature?.shouldPreventRowMove()&&!t.dragAndDrop?.hasExternalDropZones())}getSelectedNodes(){let e=this.rowNode;if(!this.gos.get(`rowDragMultiRow`))return[e];let t=this.beans.selectionSvc?.getSelectedNodes()??[];return t.indexOf(e)===-1?[e]:t}getDragItem(){let{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){let t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get(`rowDragText`)}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get(`rowDragManaged`)&&this.rowNode.footer)return;let t=this.getGui();this.gos.get(`enableCellTextSelection`)&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:e=>{e?.preventDefault()}})[0]);let n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:e=>{let t=e?.dragItem||this.getDragItem(),r=(e?.dropTarget?.rows.length??t.rowNodes?.length)||1,i=this.getRowDragText(this.column);return i?i(t,r):r===1?this.cellValueFn():`${r} ${n(`rowDragRows`,`rows`)}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&=(this.beans.dragAndDrop.removeDragSource(this.dragSource),null)}removeMouseDownListener(){this.mouseDownListener&&=(this.mouseDownListener(),void 0)}},q$=class{constructor(){this.reordered=!1,this.removals=new Set,this.updates=new Set,this.adds=new Set}};function mDe(e){let{rowIndex:t,rowPinned:n,column:r}=e;return`${t}.${n??`null`}.${r.getId()}`}function J$(e,t){let n=e.column===t.column,r=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&r&&i}function hDe(e,t){switch(e.rowPinned){case`top`:if(t.rowPinned!==`top`)return!0;break;case`bottom`:if(t.rowPinned!==`bottom`)return!1;break;default:if(q(t.rowPinned))return t.rowPinned!==`top`;break}return e.rowIndex<t.rowIndex}function gDe(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function _De(e){let t=0,n,{pinnedRowModel:r,rowModel:i,pageBounds:a}=e;return r?.getPinnedTopRowCount()?n=`top`:i.getRowCount()?(n=null,t=a.getFirstRow()):r?.getPinnedBottomRowCount()&&(n=`bottom`),n===void 0?null:{rowIndex:t,rowPinned:n}}function vDe(e){let t,n=null,{pinnedRowModel:r,pageBounds:i}=e,a=r?.getPinnedBottomRowCount(),o=r?.getPinnedTopRowCount();return a?(n=`bottom`,t=a-1):e.rowModel.getRowCount()?t=i.getLastRow():o&&(n=`top`,t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function Y$(e,t){switch(t.rowPinned){case`top`:return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case`bottom`:return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function X$(e,t){let n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;let r=e.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null}function yDe(e,t,n){let{rowModel:r,pinnedRowModel:i}=e,a;return a??=r?.getRowNode(t),n?a??=i?.getPinnedRowById(t,n):(a??=i?.getPinnedRowById(t,`top`),a??=i?.getPinnedRowById(t,`bottom`)),a}function Z$(e,t,n=!1){let{rowIndex:r,rowPinned:i}=t,{pageBounds:a,pinnedRowModel:o,rowModel:s}=e;return r===0?i===`top`?null:i===`bottom`&&s.isRowsToRender()?{rowIndex:a.getLastRow(),rowPinned:null}:o?.isRowsToRender(`top`)?{rowIndex:o.getPinnedTopRowCount()-1,rowPinned:`top`}:null:n?$$(e,i?void 0:s.getRow(r),!0)??{rowIndex:r-1,rowPinned:i}:{rowIndex:r-1,rowPinned:i}}function Q$(e,t,n=!1){let{rowIndex:r,rowPinned:i}=t,{pageBounds:a,pinnedRowModel:o,rowModel:s}=e;return bDe(e,t)?i===`bottom`?null:i===`top`&&s.isRowsToRender()?{rowIndex:a.getFirstRow(),rowPinned:null}:o?.isRowsToRender(`bottom`)?{rowIndex:0,rowPinned:`bottom`}:null:n?$$(e,i?void 0:s.getRow(r))??{rowIndex:r+1,rowPinned:i}:{rowIndex:r+1,rowPinned:i}}function $$(e,t,n=!1){let{gos:r,rowRenderer:i}=e;if(!t?.sticky||!XJ(r))return;let a=i.getStickyTopRowCtrls(),o=i.getStickyBottomRowCtrls(),s=!o.some(e=>e.rowNode.rowIndex===t.rowIndex),c=s?a:o,l=(n?-1:1)*(s?-1:1),u;for(let e=0;e<c.length;e++)if(c[e].rowNode.rowIndex===t.rowIndex){u=c[e+l];break}return u?{rowIndex:u.rowNode.rowIndex,rowPinned:null}:void 0}function bDe(e,t){let{rowPinned:n,rowIndex:r}=t,{pinnedRowModel:i,pageBounds:a}=e;return n===`top`?(i?.getPinnedTopRowCount()??0)-1<=r:n===`bottom`?(i?.getPinnedBottomRowCount()??0)-1<=r:a.getLastRow()<=r}var e1=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){let{rowNode:n,children:r}=e;if(r)for(let e=0;e<r.length;++e)this.depthFirstSearchChangedPath(r[e],t);t(n)}depthFirstSearchEverything(e,t,n){let r=e.childrenAfterGroup;if(r)for(let e=0,i=r.length;e<i;++e){let i=r[e];i.childrenAfterGroup?this.depthFirstSearchEverything(i,t,n):n&&t(i)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){let e={rowNode:t,children:null};this.mapToItems[t.id]=e,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;){this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={});for(let e of t)this.nodeIdsToColumns[n.id][e.getId()]=!0;n=n.parent}}linkPathItems(e,t){let n=e;for(let e=0;e<t;e++){let e=this.mapToItems[n.id],t=this.mapToItems[n.parent.id];t.children||=[],t.children.push(e),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;let n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let n=this.nodeIdsToColumns[e.id];return t.filter(e=>n[e.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let n=this.nodeIdsToColumns[e.id];return t.filter(e=>!n[e.getId()])}},xDe=class{constructor(e,t){this.beans=e,this.groupThrottled=!1,this.scrollChanged=!1,this.scrollChanging=!1,this.oldVScroll=null,this.groupTimer=null,this.groupTarget=null,this.onGroupThrottle=()=>{this.groupTimer=null,this.groupThrottled=!0,this.beans.dragAndDrop?.nudge()};let n=()=>t.scrollFeature.getVScrollPosition().top;this.autoScroll=new WEe({scrollContainer:t.eBodyViewport,scrollAxis:`y`,getVerticalPosition:n,setVerticalPosition:e=>t.scrollFeature.setVerticalScrollPosition(e),onScrollCallback:()=>{let e=n();if(this.oldVScroll!==e){this.oldVScroll=e,this.scrollChanging=!0;return}let t=this.scrollChanging;this.scrollChanged=t,this.scrollChanging=!1,t&&(this.beans.dragAndDrop?.nudge(),this.scrollChanged=!1)}})}updateGroup(e,t){this.groupTarget&&this.groupTarget!==e&&this.clearGroup(),e&&(t&&this.groupThrottled&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,void 0,!0),e.expanded&&e.childrenAfterSort?.length&&(this.groupThrottled=!0,this.groupTarget=e))}startGroup(e){this.groupTarget=e,this.groupTimer===null&&(this.groupTimer=window.setTimeout(this.onGroupThrottle,this.beans.gos.get(`rowDragInsertDelay`)))}clearGroup(){this.groupThrottled=!1,this.groupTarget=null;let e=this.groupTimer;e!==null&&(this.groupTimer=null,window.clearTimeout(e))}clear(){this.clearGroup(),this.autoScroll.ensureCleared(),this.oldVScroll=null,this.scrollChanged=!1,this.scrollChanging=!1}},SDe=class extends J{constructor(e){super(),this.eContainer=e,this.lastDraggingEvent=null,this.nudger=null}postConstruct(){let e=this.beans;e.ctrlsSvc.whenReady(this,t=>{this.nudger=new xDe(e,t.gridBodyCtrl)})}destroy(){super.destroy(),this.nudger?.clear(),this.nudger=null,this.lastDraggingEvent=null,this.eContainer=null}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(e){return e?.dropTarget?.allowed===!1||this.gos.get(`rowDragManaged`)&&this.shouldPreventRowMove()?`notAllowed`:`move`}shouldPreventRowMove(){let{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let t=e.dragItem.rowNode;if(this.gos.get(`rowDragMultiRow`)){let e=this.beans.selectionSvc?.getSelectedNodes();if(e&&e.indexOf(t)>=0)return e.slice().sort(TDe)}return[t]}onDragEnter(e){this.dragging(e,!0)}onDragging(e){this.dragging(e,!1)}dragging(e,t){let{lastDraggingEvent:n,beans:r}=this;if(t){let t=this.getRowNodes(e);e.dragItem.rowNodes=t,a1(t,!0)}this.lastDraggingEvent=e;let i=e.fromNudge,a=this.makeRowsDrop(n,e,i,!1);r.rowDropHighlightSvc?.fromDrag(e),t&&this.dispatchGridEvent(`rowDragEnter`,e),this.dispatchGridEvent(`rowDragMove`,e),a?.rowDragManaged&&a.moved&&a.allowed&&a.sameGrid&&!a.suppressMoveWhenRowDragging&&(!i&&!this.nudger?.autoScroll.scrolling||this.nudger?.scrollChanged)&&this.dropRows(a),this.nudger?.autoScroll.check(e.event)}isFromThisGrid(e){return e.dragSource.dragSourceDomDataKey===this.gos.getDomDataKey()}makeRowsDrop(e,t,n,r){let{beans:i,gos:a}=this,o=this.newRowsDrop(t,r),s=i.rowModel;if(t.dropTarget=o,t.changed=!1,!o)return null;let{sameGrid:c,rootNode:l,source:u,target:d,rows:f}=o;d??=s.getRow(s.getRowCount()-1)??null;let p=!!this.beans.groupStage?.treeData&&c,m=null;if(d?.footer){let e=t1(s,-1,d)??t1(s,1,d);m=d.sibling??l,d=e??null}d?.detail&&(d=d.parent),o.moved&&=u!==d;let h=.5;if(d&&(h=c&&o.moved&&(m||!p)?u.rowIndex>d.rowIndex?-.5:.5:(o.y-d.rowTop-d.rowHeight/2)/d.rowHeight||0),!p&&c&&d&&o.moved&&zJ(a)){let e=EDe(s,o);e&&(h=u.rowIndex>e.rowIndex?-.5:.5,d=e,o.moved&&=u!==d)}let g=this.nudger;g?.updateGroup(d,n),p&&!m&&g&&(!d||h>=.5&&d.rowIndex===i.pageBounds.getLastRow()?m=l:o.moved&&this.targetShouldBeParent(d,h,f)&&(g.groupThrottled&&(m=d),!n&&(!m||d&&!d.expanded&&d.childrenAfterSort?.length)&&g.startGroup(d)),m??=d?.parent??l);let _=!1;if(m){if(m===d&&m!==l){let e=m.expanded?t1(s,1,d):null;e?.parent===m?(d=e,h=-.5):_=!0}if(d&&!_){let e=d;for(;e&&e!==l&&e!==m;)d=e,e=e.parent}}o.target=d,o.newParent=m,o.moved&&=u!==d;let v=h<0?`above`:`below`;return o.position=o.moved?_?`inside`:v:`none`,this.validateRowsDrop(o,p,v,r),t.changed||=wDe(e?.dropTarget,o),o}newRowsDrop(e,t){let{beans:n,gos:r}=this,i=n.rowModel.rootNode,a=zJ(r)?r.get(`rowDragManaged`):!1,o=r.get(`suppressMoveWhenRowDragging`),s=this.isFromThisGrid(e),{rowNode:c,rowNodes:l}=e.dragItem;if(l||=c?[c]:[],c||=l[0],!c||!i)return null;let u=this.beans.dragAndDrop.isDropZoneWithinThisGrid(e),d=!0;a&&(!l.length||this.shouldPreventRowMove()||(o||!s)&&!u)&&(d=!1);let f=ZQ(n,e).y,p=this.getOverNode(f);return{api:n.gridApi,context:n.gridOptions.context,draggingEvent:e,rowDragManaged:a,suppressMoveWhenRowDragging:o,sameGrid:s,withinGrid:u,rootNode:i,moved:c!==p,y:f,overNode:p,overIndex:p?.rowIndex??-1,position:`none`,source:c,target:p??null,newParent:null,rows:l,allowed:d,highlight:!t&&a&&o&&(u||!s)}}validateRowsDrop(e,t,n,r){let{rowDragManaged:i,suppressMoveWhenRowDragging:a}=e;t||(e.newParent=null),a&&!e.moved&&(e.allowed=!1);let o=(!i||e.allowed)&&this.gos.get(`isRowValidDropPosition`);if(o){t&&e.newParent&&n1(e.rows,e.newParent)&&(e.newParent=null);let n=o(e);if(!n)e.allowed=!1;else if(typeof n==`object`){n.rows!==void 0&&(e.rows=n.rows??[]),t&&n.newParent!==void 0&&(e.newParent=n.newParent),n.target!==void 0&&(e.target=n.target),n.position&&(e.position=n.position),n.allowed===void 0?i||(e.allowed=!0):e.allowed=n.allowed;let a=e.draggingEvent;n.changed&&a&&(a.changed=!0),!r&&n.highlight!==void 0&&(e.highlight=n.highlight)}}i&&(e.rows=this.filterRows(e)),t&&e.newParent&&n1(e.rows,e.newParent)&&(e.newParent=null),a&&(!e.rows.length||e.position===`none`)&&(e.allowed=!1),(!e.allowed||!e.newParent)&&e.position===`inside`&&(e.position=n)}targetShouldBeParent(e,t,n){let r=e.rowIndex,i=.25;if(t<-.5+i)return!1;if(t<.5-i)return!0;let a,o=r+1,s=this.beans.rowModel;do a=s.getRow(o++);while(a?.footer);let c=e.childrenAfterGroup;if(a&&a.parent===e&&c?.length){let e=new Set(n);for(let t of c)if(t.rowIndex!==null&&!e.has(t))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){X(55);return}let t=this.beans.dragAndDrop;if(t.findExternalZone(e.getContainer())){X(56);return}let n={isInterestedIn:e=>e===2,getIconName:()=>`move`,external:!0,...e.fromGrid?e:{getContainer:e.getContainer,onDragEnter:e.onDragEnter&&(t=>e.onDragEnter(this.rowDragEvent(`rowDragEnter`,t))),onDragLeave:e.onDragLeave&&(t=>e.onDragLeave(this.rowDragEvent(`rowDragLeave`,t))),onDragging:e.onDragging&&(t=>e.onDragging(this.rowDragEvent(`rowDragMove`,t))),onDragStop:e.onDragStop&&(t=>e.onDragStop(this.rowDragEvent(`rowDragEnd`,t))),onDragCancel:e.onDragCancel&&(t=>e.onDragCancel(this.rowDragEvent(`rowDragCancel`,t)))}};t.addDropTarget(n),this.addDestroyFunc(()=>t.removeDropTarget(n))}getRowDropZone(e){return{getContainer:this.getContainer.bind(this),onDragEnter:t=>{this.onDragEnter(t),e?.onDragEnter?.(this.rowDragEvent(`rowDragEnter`,t))},onDragLeave:t=>{this.onDragLeave(t),e?.onDragLeave?.(this.rowDragEvent(`rowDragLeave`,t))},onDragging:t=>{this.onDragging(t),e?.onDragging?.(this.rowDragEvent(`rowDragMove`,t))},onDragStop:t=>{this.onDragStop(t),e?.onDragStop?.(this.rowDragEvent(`rowDragEnd`,t))},onDragCancel:t=>{this.onDragCancel(t),e?.onDragCancel?.(this.rowDragEvent(`rowDragCancel`,t))},fromGrid:!0}}getOverNode(e){let{pageBounds:t,rowModel:n}=this.beans,r=e>t.getCurrentPagePixelRange().pageLastPixel?-1:n.getRowIndexAtPixel(e);return r>=0?n.getRow(r):void 0}rowDragEvent(e,t){let n=this.beans,{dragItem:r,dropTarget:i,event:a,vDirection:o}=t,s=i?.rootNode===n.rowModel.rootNode,c=s?i.y:ZQ(n,t).y,l=s?i.overNode:this.getOverNode(c),u=s?i.overIndex:l?.rowIndex??-1;return{api:n.gridApi,context:n.gridOptions.context,type:e,event:a,node:r.rowNode,nodes:r.rowNodes,overIndex:u,overNode:l,y:c,vDirection:o,rowsDrop:i}}dispatchGridEvent(e,t){let n=this.rowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent(`rowDragLeave`,e),this.stopDragging(e)}onDragStop(e){let t=this.makeRowsDrop(this.lastDraggingEvent,e,!1,!0);this.dispatchGridEvent(`rowDragEnd`,e),t?.allowed&&t.rowDragManaged&&(t.suppressMoveWhenRowDragging||!t.sameGrid||this.nudger?.autoScroll.scrolling)&&this.dropRows(t),this.stopDragging(e)}onDragCancel(e){this.dispatchGridEvent(`rowDragCancel`,e),this.stopDragging(e)}stopDragging(e){this.nudger?.clear(),this.beans.rowDropHighlightSvc?.fromDrag(null),a1(e.dragItem.rowNodes,!1)}dropRows(e){return e.sameGrid?this.csrmMoveRows(e):this.csrmAddRows(e)}csrmAddRows({position:e,target:t,rows:n}){let r=nY(this.gos),i=this.beans.rowModel,a=n.filter(({data:e,rowPinned:t})=>!i.getRowNode(r?.({data:e,level:0,rowPinned:t})??e.id)).map(({data:e})=>e);if(a.length===0)return!1;let o=t?r1(t)+(e===`above`?0:1):void 0;return i.updateRowData({add:a,addIndex:o}),!0}filterRows({newParent:e,rows:t}){let n;for(let r=0,i=t.length;r<i;++r){let i=!0,a=t[r];(!a||a.footer||a.rowTop===null&&a!==this.beans.rowModel.getRowNode(a.id)||e&&a.parent!==e&&CDe(a,e)||!i1(a))&&(i=!1),i?n?.push(a):n??=t.slice(0,r)}return n??t}csrmMoveRows({position:e,target:t,rows:n,newParent:r,rootNode:i}){let a=!1,o=new Set;for(let e of n){r&&e.parent!==r&&(e.treeParent=r,a=!0);let t=i1(e);t&&o.add(t)}if(!a&&o.size===0)return!1;let s=this.beans.focusSvc,c=s.getFocusedCell(),l=c&&X$(this.beans,c);if(o.size&&this.reorderLeafChildren(o,...this.getMoveRowsBounds(o,t,e===`above`))&&(a=!0),!a)return!1;let u=this.beans.rowModel,d=new q$;return d.reordered=!0,u.refreshModel({step:`group`,keepRenderedRows:!0,animate:!this.gos.get(`suppressAnimationFrame`),changedPath:new e1(!1,i),changedRowNodes:d}),l?l.focusCell():s.clearFocusedCell(),!0}getMoveRowsBounds(e,t,n){let r=this.beans.rowModel.rootNode?._leafs?.length??0,i=t?r1(t):-1;i<0||i>=r?i=r:n||++i;let a=i,o=Math.min(i,r-1);for(let t of e){let e=t.sourceRowIndex;e<a&&(a=e),e>o&&(o=e)}return[a,i,o]}reorderLeafChildren(e,t,n,r){let i=!1,a=this.beans.rowModel.rootNode?._leafs;if(!e.size||!a)return!1;let o=t;for(let r=t;r<n;++r){let t=a[r];e.has(t)||(t.sourceRowIndex!==o&&(t.sourceRowIndex=o,a[o]=t,i=!0),++o)}let s=r;for(let t=r;t>=n;--t){let n=a[t];e.has(n)||(n.sourceRowIndex!==s&&(n.sourceRowIndex=s,a[s]=n,i=!0),--s)}for(let t of e)t.sourceRowIndex!==o&&(t.sourceRowIndex=o,a[o]=t,i=!0),++o;return i}},t1=(e,t,n)=>{if(n){let r=e.getRowCount(),i=n.rowIndex+t;for(;i>=0&&i<r;){let n=e.getRow(i);if(!n||!n.footer&&!n.detail)return n;i+=t}}},CDe=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},n1=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(e[n].parent!==t)return!1;return!0},r1=e=>{let t=i1(e);return t===void 0?-1:t.sourceRowIndex},i1=e=>e.data?e:QZ(e.childrenAfterGroup),wDe=(e,t)=>e!==t&&(!e||e.sameGrid!==t.sameGrid||e.allowed!==t.allowed||e.position!==t.position||e.target!==t.target||e.source!==t.source||e.newParent!==t.newParent||!DY(e.rows,t.rows)),TDe=({rowIndex:e},{rowIndex:t})=>e!==null&&t!==null?e-t:0,a1=(e,t)=>{for(let n=0,r=e?.length||0;n<r;++n){let r=e[n];r.dragging!==t&&(r.dragging=t,r.dispatchRowEvent(`draggingChanged`))}},EDe=(e,t)=>{let n=null,r=t.target;if(r&&t.rows.indexOf(r)<0)return null;let i=t.source;if(!r||!i)return null;let a=r.rowIndex-i.rowIndex,o=a<0?-1:1;a=t.suppressMoveWhenRowDragging?Math.abs(a):1;let s=new Set(t.rows);do{let t=t1(e,o,r);if(!t)break;s.has(t)||(n=t,--a),r=t}while(a>0);return n},DDe=class extends J{constructor(){super(...arguments),this.beanName=`rowDragSvc`}setupRowDrag(e,t){let n=t.createManagedBean(new SDe(e)),r=this.beans.dragAndDrop;r.addDropTarget(n),t.addDestroyFunc(()=>r.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,r,i,a){return new pDe(e,t,n,r,i,a)}createRowDragCompForRow(e,t){if(sY(this.gos))return;let n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n(`rowDragRow`,`row`)}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,r,i,a){let o=this.gos;if(!(o.get(`rowDragManaged`)&&(!zJ(o)||o.get(`pagination`))))return this.createRowDragComp(n,e,t,r,i,a)}},ODe=class extends J{constructor(){super(...arguments),this.beanName=`rowDropHighlightSvc`,this.uiLevel=0,this.dragging=!1,this.row=null,this.position=`none`}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){let e=this.row,t=this.dragging;!e||e?.rowIndex===null||this.position===`none`?this.clear():this.set(e,this.position),this.dragging=t}destroy(){this.clear(),super.destroy()}clear(){let e=this.row;this.dragging=!1,e&&(this.uiLevel=0,this.position=`none`,this.row=null,e.dispatchRowEvent(`rowHighlightChanged`))}set(e,t){let n=e!==this.row,r=e.uiLevel,i=t!==this.position,a=r!==this.uiLevel;this.dragging=!1,(n||i||a)&&(n&&this.clear(),this.uiLevel=r,this.position=t,this.row=e,e.dispatchRowEvent(`rowHighlightChanged`))}fromDrag(e){let t=e?.dropTarget;if(t){let{highlight:e,target:n,position:r}=t;if(e&&n&&r!==`none`){this.set(n,r),this.dragging=!0;return}}this.dragging&&this.clear()}},o1={moduleName:`Drag`,version:Y,beans:[uDe]},kDe={moduleName:`DragAndDrop`,version:Y,dynamicBeans:{dndSourceComp:iDe},icons:{rowDrag:`grip`}},s1={moduleName:`SharedDragAndDrop`,version:Y,beans:[Xwe],dependsOn:[o1],userComponents:{agDragAndDropImage:SEe},icons:{columnMovePin:`pin`,columnMoveHide:`eye-slash`,columnMoveMove:`arrows`,columnMoveLeft:`left`,columnMoveRight:`right`,columnMoveGroup:`group`,columnMoveValue:`aggregation`,columnMovePivot:`pivot`,dropNotAllowed:`not-allowed`,rowDrag:`grip`}},ADe={moduleName:`RowDrag`,version:Y,beans:[ODe,DDe],apiFunctions:{addRowDropZone:aDe,removeRowDropZone:oDe,getRowDropZoneParams:sDe,getRowDropPositionIndicator:cDe,setRowDropPositionIndicator:lDe},dependsOn:[s1]},jDe={moduleName:`HorizontalResize`,version:Y,beans:[dDe],dependsOn:[o1]},MDe=`:where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}`,NDe=class extends J{constructor(){super(...arguments),this.beanName=`colAnimation`,this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;let{gos:e}=this;e.get(`suppressColumnMoveAnimation`)||e.get(`enableRtl`)||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){let{executeNextFuncs:n,executeLaterFuncs:r}=this;if(n.length===0&&r.length===0){e(),t();return}let i=e=>{for(;e.length;){let t=e.pop();t&&t()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(r)},200)})}};function PDe(e,t,n){e.colMoves?.moveColumnByIndex(t,n,`api`)}function FDe(e,t,n){e.colMoves?.moveColumns(t,n,`api`)}var IDe=class extends J{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get(`functionsReadOnly`))return;let t=e.dragItem.columns;if(t)for(let e of t)e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?this.columnsToAggregate.push(e):e.isAllowRowGroup()?this.columnsToGroup.push(e):e.isAllowPivot()&&this.columnsToPivot.push(e)))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?`pinned`:`move`:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){let{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,`toolPanelDragAndDrop`),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,`toolPanelDragAndDrop`),this.columnsToPivot.length>0&&r?.addColumns(this.columnsToPivot,`toolPanelDragAndDrop`)}onDragCancel(){this.clearColumnsList()}};function LDe(e,t){!t||t.length<=1||t.filter(t=>e.indexOf(t)<0).length>0||t.sort((t,n)=>e.indexOf(t)-e.indexOf(n))}function RDe(e){let t=[...e];for(let n of e){let e=null,r=n.getParent();for(;r!=null&&r.getDisplayedLeafColumns().length===1;)e=r,r=r.getParent();if(e!=null){let n=e.getColGroupDef()?.marryChildren?e.getProvidedColumnGroup().getLeafColumns():e.getLeafColumns();for(let e of n)t.includes(e)||t.push(e)}}return t}function zDe(e,t,n,r){let i=r.allCols,a=null,o=null;for(let r=0;r<e.length;r++){let s=e[r],c=n.getProposedColumnOrder(t,s);if(!n.doesOrderPassRules(c))continue;let l=c.filter(e=>i.includes(e));if(o===null)o=l;else if(!DY(l,o))break;let u=VDe(c);(a===null||u<a.fragCount)&&(a={move:s,fragCount:u})}return a}function c1(e){let{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:i,fakeEvent:a,pinned:o,gos:s,colModel:c,colMoves:l,visibleCols:u}=e,{allMovingColumns:d}=e;t&&(d=RDe(d));let f=d.slice();LDe(c.getCols(),f);let p=UDe({movingCols:f,draggingRight:n,xPosition:r,pinned:o,gos:s,colModel:c,visibleCols:u}),m=BDe(f,c);if(p.length===0)return;let h=p[0];if(m!==null&&(t||!i)&&!a&&(!n&&h>=m||n&&h<=m))return;let g=zDe(p,f,l,u);if(!g)return;let _=g.move;if(!(_>c.getCols().length-f.length))return{columns:f,toIndex:_}}function l1(e){let{columns:t,toIndex:n}=c1(e)||{},{finished:r,colMoves:i}=e;return!t||n==null?null:(i.moveColumns(t,n,`uiColumnMoved`,r),r?null:{columns:t,toIndex:n})}function BDe(e,t){let n=t.getCols(),r=e.map(e=>n.indexOf(e)).sort((e,t)=>e-t),i=r[0];return EY(r)-i===r.length-1?i:null}function VDe(e){function t(e){let t=[],n=e.getOriginalParent();for(;n!=null;)t.push(n),n=n.getOriginalParent();return t}let n=0;for(let r=0;r<e.length-1;r++){let i=t(e[r]),a=t(e[r+1]);[i,a]=i.length>a.length?[i,a]:[a,i];for(let e of i)a.indexOf(e)===-1&&n++}return n}function HDe(e,t){switch(t){case`left`:return e.leftCols;case`right`:return e.rightCols;default:return e.centerCols}}function UDe(e){let{movingCols:t,draggingRight:n,xPosition:r,pinned:i,gos:a,colModel:o,visibleCols:s}=e;if(a.get(`suppressMovableColumns`)||t.some(e=>e.getColDef().suppressMovable))return[];let c=HDe(s,i),l=o.getCols(),u=c.filter(e=>t.includes(e)),d=c.filter(e=>!t.includes(e)),f=l.filter(e=>!t.includes(e)),p=0,m=r;if(n){let e=0;for(let t of u)e+=t.getActualWidth();m-=e}if(m>0){for(let e=0;e<d.length;e++){let t=d[e];if(m-=t.getActualWidth(),m<0)break;p++}n&&p++}let h;if(p>0){let e=d[p-1];h=f.indexOf(e)+1}else h=f.indexOf(d[0]),h===-1&&(h=0);let g=[h],_=(e,t)=>e-t;if(n){let e=h+1,t=l.length-1;for(;e<=t;)g.push(e),e++;g.sort(_)}else{let e=h,t=l.length-1,n=l[e];for(;e<=t&&c.indexOf(n)<0;)e++,g.push(e),n=l[e];for(e=h-1;e>=0;)g.push(e),e--;g.sort(_).reverse()}return g}function u1(e){let{pinned:t,fromKeyboard:n,gos:r,ctrlsSvc:i,useHeaderRow:a,skipScrollPadding:o}=e,s=i.getHeaderRowContainerCtrl(t)?.eViewport,{x:c}=e;return s?(n&&(c-=s.getBoundingClientRect().left),r.get(`enableRtl`)&&(a&&(s=s.querySelector(`.ag-header-row`)),c=s.clientWidth-c),t==null&&!o&&(c+=i.get(`center`).getCenterViewportScrollLeft()),c):0}function d1(e,t){for(let n of e)n.moving=t,n.dispatchColEvent(`movingChanged`,`uiColumnMoved`)}var f1=7,p1=100,m1=p1/2,WDe=5,GDe=100,KDe=class extends J{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!q(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){let{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},r=n?.columns??[];for(let t of r){let r=t.getPinned();if(t.getColDef().lockPinned){if(r==e)return`move`;continue}let i=n?.containerType;if(i===e||!e)return`move`;if(e&&(!r||i!==e))return`pinned`}return`notAllowed`}onDragEnter(e){let t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,`uiColumnDragged`);else{let e=t.visibleState,r=(n||[]).filter(t=>e[t.getId()]&&!t.isVisible());this.setColumnsVisible(r,!0,`uiColumnDragged`)}this.gos.get(`suppressMoveWhenColumnDragging`)||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){let{gos:i,ctrlsSvc:a}=this.beans,o=i.get(`suppressMoveWhenColumnDragging`);if(r&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!r&&RK(e.hDirection))return;let s=u1({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:a});t||this.checkCenterForScrolling(s),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,s,r):this.handleColumnDragWhileAllowingMovement(e,t,n,s,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;let r=e.filter(e=>!e.getColDef().lockVisible);r.length&&this.beans.colModel.setColsVisible(r,t,n)}finishColumnMoving(){this.clearHighlighted();let e=this.lastMovedInfo;if(!e)return;let{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,`uiColumnMoved`,!0)}updateDragItemContainerType(){let{lastDraggingEvent:e}=this;if(this.gos.get(`suppressMoveWhenColumnDragging`)||!e)return;let t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,r,i){let a=this.getAllMovingColumns(e,!0);if(i){let e=this.isAttemptingToPin(a);e&&this.attemptToPinColumns(a,void 0,!0);let{fromLeft:r,xPosition:i}=this.getNormalisedXPositionInfo(a,e)||{};if(r==null||i==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:a,xPosition:i,fromEnter:t,fakeEvent:n,fromLeft:r})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(a,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,i){let a=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)===`right`,s=e.dragSource.type===1,c=l1({...this.getMoveColumnParams({allMovingColumns:a,isFromHeader:s,xPosition:r,fromLeft:o,fromEnter:t,fakeEvent:n}),finished:i});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){let n=e.dragSource.getDragItem(),r=null;return t?(r=n.columnsInSplit,r||=n.columns):r=n.columns,r?r.filter(e=>e.getColDef().lockPinned?e.getPinned()==this.pinned:!0):[]}getMoveColumnParams(e){let{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:i,fromEnter:a,fakeEvent:o}=e,{gos:s,colModel:c,colMoves:l,visibleCols:u}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:r,pinned:this.pinned,fromEnter:a,fakeEvent:o,gos:s,colModel:c,colMoves:l,visibleCols:u}}highlightHoveredColumn(e,t){let{gos:n,colModel:r}=this.beans,i=n.get(`enableRtl`),a=r.getCols().filter(e=>e.isVisible()&&e.getPinned()===this.pinned),o=null,s=null,c=null;for(let e of a){if(s=e.getActualWidth(),o=this.getNormalisedColumnLeft(e,0,i),o!=null){let n=o+s;if(o<=t&&n>=t){c=e;break}}o=null,s=null}if(c)e.indexOf(c)!==-1&&(c=null);else{for(let e=a.length-1;e>=0;e--){let t=a[e],n=a[e].getParent();if(!n){c=t;break}let r=n?.getDisplayedLeafColumns();if(r.length){c=EY(r);break}}if(!c)return;o=this.getNormalisedColumnLeft(c,0,i),s=c.getActualWidth()}if(this.lastHighlightedColumn?.column!==c&&this.clearHighlighted(),c==null||o==null||s==null)return;let l;l=t-o<s/2===i?1:0,h1(c,l),this.lastHighlightedColumn={column:c,position:l}}getNormalisedXPositionInfo(e,t){let{gos:n,visibleCols:r}=this.beans,i=n.get(`enableRtl`),{firstMovingCol:a,column:o,position:s}=this.getColumnMoveAndTargetInfo(e,t,i);if(!a||!o||s==null)return;let c=r.allCols,l=c.indexOf(a),u=c.indexOf(o),d=s===0!==i,f=l<u||l===u&&!d,p=0;if(d?f&&--p:f||(p+=1),u+p===l)return;let m=c[u+p];if(m)return{fromLeft:f,xPosition:this.getNormalisedColumnLeft(m,20,i)}}getColumnMoveAndTargetInfo(e,t,n){let r=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:a}=qDe(e);if(!i||!a||r.column||!t)return{firstMovingCol:i,...r};let o=this.getPinDirection()===`left`;return{firstMovingCol:i,position:o?1:0,column:o===n?a:i}}normaliseDirection(e){if(this.gos.get(`enableRtl`))switch(e){case`left`:return`right`;case`right`:return`left`}return e}getNormalisedColumnLeft(e,t,n){let{gos:r,ctrlsSvc:i}=this.beans,a=e.getLeft();if(a==null)return null;let o=e.getActualWidth();return u1({x:n?a+o-t:a+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsSvc:i})}isAttemptingToPin(e){let t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>f1;return t&&n||e.some(e=>e.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){let{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:i,fromLeft:a}=e,{columns:o,toIndex:s}=c1(this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:a,fromEnter:r,fakeEvent:i}))||{};o&&s!=null&&(this.lastMovedInfo={columns:o,toIndex:s}),this.finishColumnMoving()}clearHighlighted(){let{lastHighlightedColumn:e}=this;e&&(h1(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;let t=this.beans.ctrlsSvc.get(`center`),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth(),i,a;this.gos.get(`enableRtl`)?(i=e<n+m1,a=e>r-m1):(a=e<n+m1,i=e>r-m1),this.needToMoveRight=i,this.needToMoveLeft=a,a||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),GDe),this.beans.dragAndDrop.setDragImageCompIcon(this.needToMoveLeft?`left`:`right`,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.setDragImageCompIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*WDe,e>p1&&(e=p1);let t=null,n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;let{pinnedCols:e,dragAndDrop:t,gos:n}=this.beans;if(this.failedMoveAttempts<=f1+1||!e)return;if(t.setDragImageCompIcon(`pinned`),!n.get(`suppressMoveWhenColumnDragging`)){let e=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(e,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned===`left`)return`left`;if(this.needToMoveRight||this.pinned===`right`)return`right`}attemptToPinColumns(e,t,n=!1){let r=(e||[]).filter(e=>!e.getColDef().lockPinned);if(!r.length)return 0;n&&(t=this.getPinDirection());let{pinnedCols:i,dragAndDrop:a}=this.beans;return i?.setColsPinned(r,t,`uiColumnDragged`),n&&a.nudge(),r.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function h1(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent(`headerHighlightChanged`,`uiColumnMoved`))}function qDe(e){let t=e.length,n,r;for(let i=0;i<t;i++){if(!n){let t=e[i];t.getLeft()!=null&&(n=t)}if(!r){let n=e[t-1-i];n.getLeft()!=null&&(r=n)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}var JDe=class extends J{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){let{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,e=>{let t,r=e.gridBodyCtrl.eBodyViewport;switch(n){case`left`:t=[[r,e.left.eContainer],[e.bottomLeft.eContainer],[e.topLeft.eContainer]];break;case`right`:t=[[r,e.right.eContainer],[e.bottomRight.eContainer],[e.topRight.eContainer]];break;default:t=[[r,e.center.eViewport],[e.bottomCenter.eViewport],[e.topCenter.eViewport]];break}this.eSecondaryContainers=t}),this.moveColumnFeature=this.createManagedBean(new KDe(n)),this.bodyDropPivotTarget=this.createManagedBean(new IDe(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get(`allowDragFromColumnsToolPanel`)}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},YDe=class extends J{constructor(){super(...arguments),this.beanName=`colMoves`}moveColumnByIndex(e,t,n){let r=this.beans.colModel.getCols();if(!r)return;let i=r[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,r=!0){let{colModel:i,colAnimation:a,visibleCols:o,eventSvc:s}=this.beans,c=i.getCols();if(!c)return;if(t>c.length-e.length){X(30,{toIndex:t});return}a?.start();let l=i.getColsForKeys(e);this.doesMovePassRules(l,t)&&(AY(i.getCols(),l,t),o.refresh(n),s.dispatchEvent({type:`columnMoved`,columns:l,column:l.length===1?l[0]:null,toIndex:t,finished:r,source:n})),a?.finish()}doesMovePassRules(e,t){let n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){let{colModel:t,gos:n}=this.beans;return!(!GY(e,t.getColTree())||!(e=>{let t=e=>e?e===`left`||e===!0?-1:1:0,r=n.get(`enableRtl`),i=r?1:-1,a=!0;for(let n of e){let e=t(n.getColDef().lockPosition);r?e>i&&(a=!1):e<i&&(a=!1),i=e}return a})(e))}getProposedColumnOrder(e,t){let n=this.beans.colModel.getCols().slice();return AY(n,e,t),n}createBodyDropTarget(e,t){return new JDe(e,t)}moveHeader(e,t,n,r,i){let{ctrlsSvc:a,gos:o,colModel:s,visibleCols:c,focusSvc:l}=this.beans,u=t.getBoundingClientRect(),d=u.left,f=YZ(n),p=f?u.width:n.getActualWidth(),m=e===`left`!==o.get(`enableRtl`),h=u1({x:m?d-20:d+p+20,pinned:r,fromKeyboard:!0,gos:o,ctrlsSvc:a}),g=l.focusedHeader;l1({allMovingColumns:f?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e===`right`,xPosition:h,pinned:r,fromEnter:!1,fakeEvent:!1,gos:o,colModel:s,colMoves:this,visibleCols:c,finished:!0});let _;if(f){let e=n.getDisplayedLeafColumns();_=m?e[0]:EY(e)}else _=n;if(a.getScrollFeature().ensureColumnVisible(_,`auto`),(!i.isAlive()||o.get(`ensureDomOrder`))&&g){let e;if(f){let t=n.getGroupId(),r=n.getLeafColumns();if(!r.length)return;let i=r[0].getParent();if(!i)return;e=XDe(i,t)}else e=n;e&&l.focusHeaderPosition({headerPosition:{...g,column:e}})}}setDragSourceForHeader(e,t,n){let{gos:r,colModel:i,dragAndDrop:a,visibleCols:o}=this.beans,s=!r.get(`suppressDragLeaveHidesColumns`),c=YZ(t),l=c?t.getProvidedColumnGroup().getLeafColumns():[t],u={type:1,eElement:e,getDefaultIconName:()=>s?`hide`:`notAllowed`,getDragItem:c?()=>QDe(t,o.allCols):()=>ZDe(t),dragItemName:n,onDragStarted:()=>{s=!r.get(`suppressDragLeaveHidesColumns`),d1(l,!0)},onDragStopped:()=>d1(l,!1),onDragCancelled:()=>d1(l,!1),onGridEnter:e=>{if(s){let{columns:t=[],visibleState:n}=e??{},r=c?e=>!n||n[e.getColId()]:()=>!0,a=t.filter(e=>!e.getColDef().lockVisible&&r(e));i.setColsVisible(a,!0,`uiColumnMoved`)}},onGridExit:e=>{if(s){let t=e?.columns?.filter(e=>!e.getColDef().lockVisible)||[];i.setColsVisible(t,!1,`uiColumnMoved`)}}};return a.addDragSource(u,!0),u}};function XDe(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function ZDe(e){let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function QDe(e,t){let n=e.getProvidedColumnGroup().getLeafColumns(),r={};for(let e of n)r[e.getId()]=e.isVisible();let i=[];for(let e of t)n.indexOf(e)>=0&&(i.push(e),kY(n,e));for(let e of n)i.push(e);let a=[],o=e.getLeafColumns();for(let e of i)o.indexOf(e)!==-1&&a.push(e);return{columns:i,columnsInSplit:a,visibleState:r,containerType:a[0]?.pinned}}var $De={moduleName:`ColumnMove`,version:Y,beans:[YDe,NDe],apiFunctions:{moveColumnByIndex:PDe,moveColumns:FDe},dependsOn:[s1],css:[MDe]},g1={moduleName:`AutoWidth`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`autoWidthCalc`}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){let n=this.getHeaderCellForColumn(e);if(!n)return-1;let r=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||r.push(n),this.getPreferredWidthForElements(r)}getPreferredWidthForColumnGroup(e){let t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){let n=document.createElement(`form`);n.style.position=`fixed`;let r=this.centerRowContainerCtrl.eContainer;for(let t of e)this.cloneItemIntoDummy(t,n);r.appendChild(n);let i=n.offsetWidth;return n.remove(),t??=this.gos.get(`autoSizePadding`),i+t}getHeaderCellForColumn(e){let t=null;for(let n of this.beans.ctrlsSvc.getHeaderRowContainerCtrls()){let r=n.getHtmlElementForColumnHeader(e);r!=null&&(t=r)}return t}cloneItemIntoDummy(e,t){let n=e.cloneNode(!0);n.style.width=``,n.style.position=`static`,n.style.left=``;let r=document.createElement(`div`),i=r.classList;[`ag-header-cell`,`ag-header-group-cell`].some(e=>n.classList.contains(e))?(i.add(`ag-header`,`ag-header-row`),r.style.position=`static`):i.add(`ag-row`);let a=e.parentElement;for(;a;){if([`ag-header-row`,`ag-row`].some(e=>a.classList.contains(e))){for(let e=0;e<a.classList.length;e++){let t=a.classList[e];t!=`ag-row-position-absolute`&&i.add(t)}break}a=a.parentElement}r.appendChild(n),t.appendChild(r)}}]};function eOe(e,t,n=!0,r=`api`){e.colResize?.setColumnWidths(t,!1,n,r)}var tOe=class extends J{constructor(e,t,n,r){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,r=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(r),!t.get(`suppressAutoSize`)&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit(`uiColumnResized`)))}onResizeStart(e){let{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:i,groupAfterStartWidth:a,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=a,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n=`uiColumnResized`){let r=this.normaliseDragChange(t),i=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){let t=e=>e.reduce((e,t)=>e+t.getActualWidth(),0),n=(e,t)=>e.map(e=>e.getActualWidth()/t),r=this.getColumnsToResize(),i=t(r),a={columnsToResize:r,resizeStartWidth:i,resizeRatios:n(r,i)},o=null;if(e&&(o=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,`After`)??null),o){let e=a.groupAfterColumns=o.getDisplayedLeafColumns().filter(e=>e.isResizable());a.groupAfterRatios=n(e,a.groupAfterStartWidth=t(e))}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a}resizeLeafColumnsToFit(e){let t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;let r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){let{columnsToResize:i,resizeStartWidth:a,resizeRatios:o,groupAfterColumns:s,groupAfterStartWidth:c,groupAfterRatios:l}=e,u=[];if(u.push({columns:i,ratios:o,width:t}),s){let e=t-a;u.push({columns:s,ratios:l,width:c-e})}this.beans.colResize?.resizeColumnSets({resizeSets:u,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss(`ag-column-resizing`,e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(e=>e.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get(`enableRtl`)?this.pinned!==`left`&&(t*=-1):this.pinned===`right`&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},nOe=class extends J{constructor(e,t,n,r,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=i}postConstruct(){let e=[],t,n,r=()=>{if(fq(this.eResize,t),!t)return;let{horizontalResizeSvc:r,colAutosize:i}=this.beans,a=r.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(a),n&&i&&e.push(i.addColumnAutosizeListeners(this.eResize,this.column))},i=()=>{for(let t of e)t();e.length=0},a=()=>{let e=this.column.isResizable(),a=!this.gos.get(`suppressAutoSize`)&&!this.column.getColDef().suppressAutoSize;(e!==t||a!==n)&&(t=e,n=a,i(),r())};a(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction(`resize`,a)}onResizing(e,t){let{column:n,lastResizeAmount:r,resizeStartWidth:i,beans:a}=this,o=this.normaliseResizeAmount(t),s=[{key:n,newWidth:i+o}],{pinnedCols:c,ctrlsSvc:l,colResize:u}=a;if(this.column.getPinned()){let e=c?.leftWidth??0,t=c?.rightWidth??0,n=_q(l.getGridBodyCtrl().eBodyViewport)-50;if(e+t+(o-r)>n)return}this.lastResizeAmount=o,u?.setColumnWidths(s,this.resizeWithShiftKey,e,`uiColumnResized`),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss(`ag-column-resizing`,e)}normaliseResizeAmount(e){let t=e,n=this.pinned!==`left`,r=this.pinned===`right`;return this.gos.get(`enableRtl`)?n&&(t*=-1):r&&(t*=-1),t}},rOe=class extends J{constructor(){super(...arguments),this.beanName=`colResize`}setColumnWidths(e,t,n,r){let i=[],{colModel:a,gos:o,visibleCols:s}=this.beans;for(let n of e){let e=a.getColDefCol(n.key)||a.getCol(n.key);if(e&&(i.push({width:n.newWidth,ratios:[1],columns:[e]}),o.get(`colResizeDefault`)===`shift`&&(t=!t),t)){let t=s.getColAfter(e);if(!t)continue;let r=e.getActualWidth()-n.newWidth,a=t.getActualWidth()+r;i.push({width:a,ratios:[1],columns:[t]})}}i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:r})}resizeColumnSets(e){let{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(e=>iOe(e)))){if(n){let e=t&&t.length>0?t[0].columns:null;JY(this.eventSvc,e,n,r)}return}let i=[],a=[];for(let e of t){let{width:t,columns:n,ratios:o}=e,s={},c={};for(let e of n)a.push(e);let l=!0,u=0;for(;l;){if(u++,u>1e3){FJ(31);break}l=!1;let e=[],r=0,i=t;n.forEach((t,n)=>{if(c[t.getId()])i-=s[t.getId()];else{e.push(t);let i=o[n];r+=i}});let a=1/r;e.forEach((n,r)=>{let u=r===e.length-1,d;u?d=i:(d=Math.round(o[r]*t*a),i-=d);let f=n.getMinWidth(),p=n.getMaxWidth();d<f?(d=f,c[n.getId()]=!0,l=!0):p>0&&d>p&&(d=p,c[n.getId()]=!0,l=!0),s[n.getId()]=d})}for(let e of n){let t=s[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,r),i.push(e))}}let o=i.length>0,s=[];if(o){let{colFlex:e,visibleCols:t,colViewport:n}=this.beans;s=e?.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0})??[],t.setLeftValues(r),t.updateBodyWidths(),n.checkViewportColumns()}let c=a.concat(s);(o||n)&&JY(this.eventSvc,c,n,r,s)}resizeHeader(e,t,n){if(!e.isResizable())return;let r=e.getActualWidth(),i=e.getMinWidth(),a=e.getMaxWidth(),o=Math.min(Math.max(r+t,i),a);this.setColumnWidths([{key:e,newWidth:o}],n,!0,`uiColumnResized`)}createResizeFeature(e,t,n,r,i){return new nOe(e,t,n,r,i)}createGroupResizeFeature(e,t,n,r){return new tOe(e,t,n,r)}};function iOe(e){let{columns:t,width:n}=e,r=0,i=0,a=!0;for(let e of t){let t=e.getMinWidth();r+=t||0;let n=e.getMaxWidth();n>0?i+=n:a=!1}return n>=r&&(!a||n<=i)}var aOe={moduleName:`ColumnResize`,version:Y,beans:[rOe],apiFunctions:{setColumnWidths:eOe},dependsOn:[jDe,g1]},oOe=class extends J{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);for(let t of this.columnGroup.getLeafColumns())t.__addEventListener(`widthChanged`,e),t.__addEventListener(`visibleChanged`,e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener(`widthChanged`,e),t.__removeEventListener(`visibleChanged`,e)})}removeListenersOnChildrenColumns(){for(let e of this.removeChildListenersFuncs)e();this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss(`ag-hidden`,e===0)}},sOe=class extends f${constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}wireComp(e,t,n,r,i){let{column:a,beans:o}=this,{context:s,colNames:c,colHover:l,rangeSvc:u,colResize:d}=o;this.comp=e,i=nX(this,s,i),this.setGui(t,i),this.displayName=c.getDisplayNameForColumnGroup(a,`header`),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:r,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener(`groupHeaderHeight`,this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();let f=this.rowCtrl.pinned,p=a.getProvidedColumnGroup().getLeafColumns();l?.createHoverFeature(i,p,t),u?.createRangeHighlightFeature(i,a,e),i.createManagedBean(new u$(a,t,o)),i.createManagedBean(new oOe(e,a)),d?this.resizeFeature=i.createManagedBean(d.createGroupResizeFeature(e,n,f,a)):e.setResizableDisplayed(!1),i.createManagedBean(new yQ(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>void 0,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,p),i.addManagedPropertyListener(`suppressMovableColumns`,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.getDefinition();return _Y(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){let{gos:e,comp:t}=this,n=e.get(`groupHeaderHeight`);n==null?(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null)):n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n)}addHighlightListeners(e,t){if(this.beans.gos.get(`suppressMoveWhenColumnDragging`))for(let n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){let t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=EY(t)===e;if(!n&&!r)return;let i=e.getHighlighted(),a=!!this.rowCtrl.getHeaderCellCtrls().find(e=>e.column.isMoving()),o=!1,s=!1;if(a){let e=this.beans.gos.get(`enableRtl`),t=i===1,a=i===0;n&&(e?s=t:o=a),r&&(e?o=a:s=t)}this.comp.toggleCss(`ag-header-highlight-before`,o),this.comp.toggleCss(`ag-header-highlight-after`,s)}resizeHeader(e,t){let{resizeFeature:n}=this;if(!n)return;let r=n.getInitialValues(t);n.resizeColumns(r,r.resizeStartWidth+e,`uiColumnResized`,!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){let{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:r}=this.beans,i=this.column,a=i.getProvidedColumnGroup(),o=TCe(t,_Y(n,{displayName:this.displayName,columnGroup:i,setExpanded:t=>{e.setColumnGroupOpened(a,t,`gridInitializing`)},setTooltip:(e,t)=>{n.assertModuleRegistered(`Tooltip`,3),this.setupTooltip(e,t)},showColumnMenu:(e,t)=>r?.showMenuAfterButtonClick(a,e,`columnMenu`,t),showColumnMenuAfterMouseClick:(e,t)=>r?.showMenuAfterMouseEvent(a,e,`columnMenu`,t),eGridHeader:this.eGui}));o&&this.comp.setUserCompDetails(o)}addHeaderMouseListeners(e){let t=e=>this.handleMouseOverChange(e.type===`mouseenter`);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:()=>this.dispatchColumnMouseEvent(`columnHeaderClicked`,this.column.getProvidedColumnGroup()),contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column.getProvidedColumnGroup())})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?`columnHeaderMouseOver`:`columnHeaderMouseLeave`,column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){let t=this.column.getProvidedColumnGroup();this.refreshExpanded();let n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?`true`:`false`):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){let{column:e}=this,t=e.getColGroupDef(),n=$Q(t,this.gos,null,e);e.isPadding()?(n.push(`ag-header-group-cell-no-group`),e.getLeafColumns().every(e=>e.isSpanHeaderHeight())&&n.push(`ag-header-span-height`)):(n.push(`ag-header-group-cell-with-group`),t?.wrapHeaderText&&n.push(`ag-header-cell-wrap-text`));for(let e of n)this.comp.toggleCss(e,!0)}setupMovingCss(e){let{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.toggleCss(`ag-header-cell-moving`,t.isMoving());for(let t of n)e.addManagedListeners(t,{movingChanged:r});r()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Z.ENTER){let e=this.column,t=!e.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(e.getProvidedColumnGroup(),t,`uiColumnExpanded`)}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get(`suppressMovableColumns`)||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function cOe(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,`api`)}function lOe(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function uOe(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function dOe(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||``}function fOe(e){return e.colGroupSvc?.getColumnGroupState()??[]}function pOe(e,t){e.colGroupSvc?.setColumnGroupState(t,`api`)}function mOe(e){e.colGroupSvc?.resetColumnGroupState(`api`)}function hOe(e){return e.visibleCols.treeLeft}function gOe(e){return e.visibleCols.treeCenter}function _Oe(e){return e.visibleCols.treeRight}function vOe(e){return e.visibleCols.getAllTrees()}function yOe(e,t){for(let n=0;n<t.length;n++){let r=e.indexOf(t[n]);r>=0&&(e[r]=e[e.length-1],e.pop())}}var bOe=class extends J{constructor(){super(...arguments),this.beanName=`visibleCols`,this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){let{colFlex:n,colModel:r,colGroupSvc:i,colViewport:a,selectionColSvc:o}=this.beans;t||this.buildTrees(r,i),i?.updateOpenClosedVisibility(),this.leftCols=v1(this.treeLeft),this.centerCols=v1(this.treeCenter),this.rightCols=v1(this.treeRight),o?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(r),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(e=>e.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(r,this.leftCols,this.rightCols,e),a.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:`displayedColumnsChanged`,source:e})}getHeaderRowCount(){if(!this.gos.get(`hidePaddedHeaderRows`))return this.beans.colModel.cols.treeDepth;let e=0;for(let t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){let t=n.getProvidedColumnGroup().getLevel()+1;t>e&&(e=t);break}n=n.getParent()}}return e}updateBodyWidths(){let e=MY(this.centerCols),t=MY(this.leftCols),n=MY(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:`columnContainerWidthChanged`}),this.eventSvc.dispatchEvent({type:`displayedColumnsWidthChanged`}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,r){let i,a;this.gos.get(`enableRtl`)?(i=t?t[0]:null,a=n?EY(n):null):(i=t?EY(t):null,a=n?n[0]:null);for(let t of e.getCols())t.setLastLeftPinned(t===i,r),t.setFirstRightPinned(t===a,r)}buildTrees(e,t){let n=e.getColsToShow(),r=n.filter(e=>e.getPinned()==`left`),i=n.filter(e=>e.getPinned()==`right`),a=n.filter(e=>e.getPinned()!=`left`&&e.getPinned()!=`right`),o=new eX,s=e=>t?t.createColumnGroups(e):e.columns;this.treeLeft=s({columns:r,idCreator:o,pinned:`left`,oldDisplayedGroups:this.treeLeft}),this.treeRight=s({columns:i,idCreator:o,pinned:`right`,oldDisplayedGroups:this.treeRight}),this.treeCenter=s({columns:a,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){let t=e.getCols(),n=[],r=[],i=[];for(let e of t){let t=e.getPinned();t?t===!0||t===`left`?n.push(e):i.push(e):r.push(e)}this.ariaOrderColumns=n.concat(r).concat(i)}getAriaColIndex(e){let t;return t=YZ(e)?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){for(let e of[this.treeLeft,this.treeRight,this.treeCenter])for(let t of e)YZ(t)&&t.checkLeft()}setLeftValuesOfCols(e){let{colModel:t}=this.beans;if(!t.getColDefCols())return;let n=t.getCols().slice(0),r=this.gos.get(`enableRtl`);for(let t of[this.leftCols,this.rightCols,this.centerCols]){if(r){let n=MY(t);for(let r of t)n-=r.getActualWidth(),r.setLeft(n,e)}else{let n=0;for(let r of t)r.setLeft(n,e),n+=r.getActualWidth()}yOe(n,t)}for(let t of n)t.setLeft(null,e)}joinCols(){this.gos.get(`enableRtl`)?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){let{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){let{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,r){let i=[],a=null;for(let o=0;o<t.length;o++){let s=t[o],c=t.length-o,l=Math.min(s.getColSpan(e),c),u=[s];if(l>1){let e=l-1;for(let n=1;n<=e;n++)u.push(t[o+n]);o+=e}let d;if(n){d=!1;for(let e of u)n(e)&&(d=!0)}else d=!0;d&&(i.length===0&&a&&r&&r(s)&&i.push(a),i.push(s)),a=s}return i}getContainerWidth(e){switch(e){case`left`:return this.leftWidth;case`right`:return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){let t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=e=>{this.colsAndGroupsMap[e.getUniqueId()]=e};_1(this.treeCenter,!1,e),_1(this.treeLeft,!1,e),_1(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){let e=this.gos.get(`enableRtl`),t=[`leftCols`,`centerCols`,`rightCols`];e&&t.reverse();for(let n=0;n<t.length;n++){let r=this[t[n]];if(r.length)return e?EY(r):r[0]}return null}getColAfter(e){let t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return MY(this.leftCols)}getDisplayedColumnsRightWidth(){return MY(this.rightCols)}isColAtEdge(e,t){let n=this.allCols;if(!n.length)return!1;let r=t===`first`,i;if(YZ(e)){let t=e.getDisplayedLeafColumns();if(!t.length)return!1;i=r?t[0]:EY(t)}else i=e;return(r?n[0]:EY(n))===i}};function _1(e,t,n){if(e)for(let r=0;r<e.length;r++){let i=e[r];YZ(i)&&_1(t?i.getDisplayedChildren():i.getChildren(),t,n),n(i)}}function v1(e){let t=[];return _1(e,!0,e=>{xY(e)&&t.push(e)}),t}var xOe={moduleName:`ColumnGroup`,version:Y,dynamicBeans:{headerGroupCellCtrl:sOe},beans:[class extends J{constructor(){super(...arguments),this.beanName=`colGroupSvc`}getColumnGroupState(){let e=[];return UY(null,this.beans.colModel.getColTree(),t=>{CY(t)&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}resetColumnGroupState(e){let t=this.beans.colModel.getColDefColTree();if(!t)return;let n=[];UY(null,t,e=>{if(CY(e)){let t=e.getColGroupDef(),r={groupId:e.getGroupId(),open:t?t.openByDefault:void 0};n.push(r)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){let{colModel:n,colAnimation:r,visibleCols:i,eventSvc:a}=this.beans;if(!n.getColTree().length)return;r?.start();let o=[];for(let t of e){let e=t.groupId,n=t.open,r=this.getProvidedColGroup(e);r&&r.isExpanded()!==n&&(r.setExpanded(n),o.push(r))}i.refresh(t,!0),o.length&&a.dispatchEvent({type:`columnGroupOpened`,columnGroup:o.length===1?o[0]:void 0,columnGroups:o}),r?.finish()}setColumnGroupOpened(e,t,n){let r;r=CY(e)?e.getId():e||``,this.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){let t=null;return UY(null,this.beans.colModel.getColTree(),n=>{CY(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){let n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),i=t===`After`?EY(r):r[0],a=`getCol${t}`;for(;;){let t=this.beans.visibleCols[a](i);if(!t)return null;let r=this.getColGroupAtLevel(t,n);if(r!==e)return r}}getColGroupAtLevel(e,t){let n=e.getParent(),r,i;for(;r=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(r+i<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){_1(this.beans.visibleCols.getAllTrees(),!1,e=>{YZ(e)&&e.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(YZ(e))return e;let n=this.beans.visibleCols.getAllTrees(),r=typeof t==`number`,i=null;return _1(n,!1,n=>{if(YZ(n)){let a=n,o;o=r?e===a.getGroupId()&&t===a.getPartId():e===a.getGroupId(),o&&(i=a)}}),i}createColumnGroups(e){let{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:i,isStandaloneStructure:a}=e,o=this.mapOldGroupsById(i),s=[],c=t;for(;c.length;){let e=c;c=[];let t=0,i=i=>{let l=t;t=i;let u=e[l],d=(YZ(u)?u.getProvidedColumnGroup():u).getOriginalParent();if(d==null){for(let t=l;t<i;t++)s.push(e[t]);return}let f=this.createColumnGroup(d,n,o,r,a);for(let t=l;t<i;t++)f.addChild(e[t]);c.push(f)};for(let n=1;n<e.length;n++){let r=e[n],a=(YZ(r)?r.getProvidedColumnGroup():r).getOriginalParent(),o=e[t];a!==(YZ(o)?o.getProvidedColumnGroup():o).getOriginalParent()&&i(n)}t<e.length&&i(e.length)}return a||this.setupParentsIntoCols(s,null),s}createProvidedColumnGroup(e,t,n,r,i,a,o){let s=i.getUniqueKey(t.groupId||null,null),c=TY(this.beans,t,s),l=new wY(c,s,!1,n);this.createBean(l);let u=this.findExistingGroup(t,a);u&&a.splice(u.idx,1);let d=u?.group;d&&l.setExpanded(d.isExpanded());let f=BY(this.beans,c.children,n+1,e,r,i,a,o);return l.setChildren(f),l}balanceColumnTree(e,t,n,r){let i=[];for(let a=0;a<e.length;a++){let o=e[a];if(CY(o)){let e=o,a=this.balanceColumnTree(e.getChildren(),t+1,n,r);e.setChildren(a),i.push(e)}else{let a,s;for(let e=t;e<n;e++){let t=r.getUniqueKey(null,null),n=new wY(TY(this.beans,null,t),t,!0,e);this.createBean(n),s&&s.setChildren([n]),s=n,a||=s}if(a&&s)if(i.push(a),e.some(e=>CY(e))){s.setChildren([o]);continue}else{s.setChildren(e);break}i.push(o)}}return i}findDepth(e){let t=0,n=e;for(;n?.[0]&&CY(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let r=0;r<e.length;r++){let i=e[r];if(CY(i)){let e=i,r=this.findMaxDepth(e.getChildren(),t+1);n<r&&(n=r)}}return n}balanceTreeForAutoCols(e,t){let n=[];for(let r of e){let e=r;for(let n=t-1;n>=0;n--){let t=new wY(null,`FAKE_PATH_${r.getId()}}_${n}`,!0,n);this.createBean(t),t.setChildren([e]),e.originalParent=t,e=t}t===0&&(r.originalParent=null),n.push(e)}return n}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){let r=t[n];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:n,group:r}}}createColumnGroup(e,t,n,r,i){let a=e.getGroupId(),o=t.getInstanceIdForKey(a),s=n[JZ(a,o)];return s&&s.getProvidedColumnGroup()!==e&&(s=null),q(s)?s.reset():(s=new XZ(e,a,o,r),i||this.createBean(s)),s}mapOldGroupsById(e){let t={},n=e=>{for(let r of e)if(YZ(r)){let e=r;t[r.getUniqueId()]=e,n(e.getChildren())}};return e&&n(e),t}setupParentsIntoCols(e,t){for(let n of e??[])if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=``),n.parent=t,YZ(n)){let e=n;this.setupParentsIntoCols(e.getChildren(),e)}}}],apiFunctions:{getAllDisplayedColumnGroups:vOe,getCenterDisplayedColumnGroups:gOe,getColumnGroup:lOe,getColumnGroupState:fOe,getDisplayNameForColumnGroup:dOe,getLeftDisplayedColumnGroups:hOe,getProvidedColumnGroup:uOe,getRightDisplayedColumnGroups:_Oe,resetColumnGroupState:mOe,setColumnGroupOpened:cOe,setColumnGroupState:pOe}},SOe={tag:`div`,cls:`ag-skeleton-container`},COe=class extends oX{constructor(){super(SOe)}init(e){let t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute(`id`,t),this.addDestroyFunc(()=>tq(e.eParentOfValue)),tq(e.eParentOfValue,t),e.deferRender?this.setupLoading(e):e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){let e=this.getLocaleTextFunc();this.getGui().textContent=e(`loadingError`,`ERR`);let t=e(`ariaSkeletonCellLoadingFailed`,`Row failed to load`);eq(this.getGui(),t)}setupLoading(e){let t=aQ({tag:`div`,cls:`ag-skeleton-effect`}),n=e.node.rowIndex;if(n!=null){let e=75+25*(n%2==0?Math.sin(n):Math.cos(n));t.style.width=`${e}%`}this.getGui().appendChild(t);let r=this.getLocaleTextFunc(),i=e.deferRender?r(`ariaDeferSkeletonCellLoading`,`Cell is loading`):r(`ariaSkeletonCellLoading`,`Row data is loading`);eq(this.getGui(),i)}refresh(e){return!1}},wOe={moduleName:`CheckboxCellRenderer`,version:Y,userComponents:{agCheckboxCellRenderer:TEe}},TOe={moduleName:`SkeletonCellRenderer`,version:Y,userComponents:{agSkeletonCellRenderer:COe}};function EOe(e,t){let n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function DOe(e){return e.colModel.getColumnDefs(!0)}function OOe(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||``}function kOe(e,t){return e.colModel.getColDefCol(t)}function AOe(e){return e.colModel.getColDefCols()}function jOe(e,t){return YY(e,t,`api`)}function MOe(e){return ZY(e)}function NOe(e){XSe(e,`api`)}function POe(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function FOe(e){return e.visibleCols.isPinningLeft()}function IOe(e){return e.visibleCols.isPinningRight()}function LOe(e,t){return e.visibleCols.getColAfter(t)}function ROe(e,t){return e.visibleCols.getColBefore(t)}function zOe(e,t,n){e.colModel.setColsVisible(t,n,`api`)}function BOe(e,t,n){e.pinnedCols?.setColsPinned(t,n,`api`)}function VOe(e){return e.colModel.getCols()}function HOe(e){return e.visibleCols.leftCols}function UOe(e){return e.visibleCols.centerCols}function WOe(e){return e.visibleCols.rightCols}function GOe(e){return e.visibleCols.allCols}function KOe(e){return e.colViewport.getViewportColumns()}function y1(e,t){if(!e)return;let n=e,r={};for(let e of Object.keys(n)){if(t&&t.indexOf(e)>=0||iJ.has(e))continue;let i=n[e];typeof i==`object`&&i&&i.constructor===Object?r[e]=y1(i):r[e]=i}return r}var qOe=class extends J{constructor(){super(...arguments),this.beanName=`colDefFactory`}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,r,i=!1){let a=e.slice();t?a.sort((e,t)=>n.indexOf(e)-n.indexOf(t)):(n||i)&&a.sort((e,t)=>r.indexOf(e)-r.indexOf(t));let o=this.rowGroupColsSvc?.columns,s=this.pivotColsSvc?.columns;return this.buildColumnDefs(a,o,s)}buildColumnDefs(e,t=[],n=[]){let r=[],i={};for(let a of e){let e=this.createDefFromColumn(a,t,n),o=!0,s=e,c=a.getOriginalParent(),l=null;for(;c;){let e=null;if(c.isPadding()){c=c.getOriginalParent();continue}let t=i[c.getGroupId()];if(t){t.children.push(s),o=!1;break}if(e=this.createDefFromGroup(c),e&&(e.children=[s],i[e.groupId]=e,s=e,c=c.getOriginalParent()),c!=null&&l===c){o=!1;break}l=c}o&&r.push(s)}return r}createDefFromGroup(e){let t=y1(e.getColGroupDef(),[`children`]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){let r=y1(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()==null?null:e.getSortIndex(),r}},JOe=class extends J{constructor(){super(...arguments),this.beanName=`colFlex`,this.columnsHidden=!1}refreshFlexedColumns(e={}){let t=e.source??`flex`;e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);let n=this.flexViewportWidth,{visibleCols:r,colDelayRenderSvc:i}=this.beans,a=r.centerCols,o=-1;if(e.resizingCols){let t=new Set(e.resizingCols);for(let e=a.length-1;e>=0;e--)if(t.has(a[e])){o=e;break}}let s=!1,c=a.map((e,t)=>{let n=e.getFlex(),r=n!=null&&n>0&&t>o;return s||=r,{col:e,isFlex:r,flex:Math.max(0,n??0),initialSize:e.getActualWidth(),min:e.getMinWidth(),max:e.getMaxWidth(),targetSize:0}});if(s?(i?.hideColumns(`colFlex`),this.columnsHidden=!0):this.columnsHidden&&this.revealColumns(i),!n||!s)return[];let l=c.length,u=c.reduce((e,t)=>e+t.flex,0),d=n,f=(e,n)=>{e.frozenSize=n,e.col.setActualWidth(n,t),d-=n,u-=e.flex,--l},p=e=>e.frozenSize!=null;for(let e of c)e.isFlex||f(e,e.initialSize);for(;l>0;){let e=Math.round(u<1?d*u:d),t,n=0,r=0;for(let i of c){if(p(i))continue;t=i,r+=e*(i.flex/u);let a=r-n,o=Math.round(a);i.targetSize=o,n+=o}t&&(t.targetSize+=e-n);let i=0;for(let e of c){if(p(e))continue;let t=e.targetSize,n=Math.min(Math.max(t,e.min),e.max);i+=n-t,e.violationType=n===t?void 0:n<t?`max`:`min`,e.targetSize=n}let a=i===0?`all`:i>0?`min`:`max`;for(let e of c)p(e)||(a===`all`||e.violationType===a)&&f(e,e.targetSize)}e.skipSetLeft||r.setLeftValues(t),e.updateBodyWidths&&r.updateBodyWidths();let m=c.filter(e=>e.isFlex&&!e.violationType).map(e=>e.col);if(e.fireResizedEvent){let e=c.filter(e=>e.initialSize!==e.frozenSize).map(e=>e.col),n=c.filter(e=>e.flex).map(e=>e.col);JY(this.eventSvc,e,!0,t,n)}return this.revealColumns(i),m}revealColumns(e){this.columnsHidden&&=(e?.revealColumns(`colFlex`),!1)}initCol(e){let{flex:t,initialFlex:n}=e.colDef;t===void 0?n!==void 0&&(e.flex=n):e.flex=t}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent(`flex`)}};function b1(e,t,n){if(!t||!e)return;if(!n)return e[t];let r=t.split(`.`),i=e;for(let e=0;e<r.length;e++){if(i==null)return;i=i[r[e]]}return i}var YOe=[`dateTimeString`,`dateString`,`text`,`number`,`boolean`,`date`],XOe=class extends J{constructor(){super(...arguments),this.beanName=`dataTypeSvc`,this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:`agNumberCellEditor`}},boolean(){return{cellEditor:`agCheckboxCellEditor`,cellRenderer:`agCheckboxCellRenderer`,getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===Z.SPACE}},date({formatValue:e}){return{cellEditor:`agDateCellEditor`,keyCreator:e}},dateString({formatValue:e}){return{cellEditor:`agDateStringCellEditor`,keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(r,i)=>{let a=t.getColDefCol(n),o=a?.getColDef();if(!a||!o)return 0;let s=r==null?``:e({column:a,node:null,value:r}),c=i==null?``:e({column:a,node:null,value:i});return s===c?0:s>c?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener(`dataTypeDefinitions`,e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes(),t={},n={},r=e=>t=>{let{column:n,node:r,value:i}=t,a=n.getColDef().valueFormatter;return a===e.groupSafeValueFormatter&&(a=e.valueFormatter),this.beans.valueSvc.formatValue(n,r,i,a)};for(let i of Object.keys(e)){let a=e[i],o={...a,groupSafeValueFormatter:C1(a,this.gos)};t[i]=o,n[i]=r(o)}let i=this.gos.get(`dataTypeDefinitions`)??{},a={};for(let o of Object.keys(i)){let s=i[o],c=this.processDataTypeDefinition(s,i,[o],e);c&&(t[o]=c,s.dataTypeMatcher&&(a[o]=s.dataTypeMatcher),n[o]=r(c))}let{valueParser:o,valueFormatter:s}=e.object,{valueParser:c,valueFormatter:l}=t.object;this.hasObjectValueParser=c!==o,this.hasObjectValueFormatter=l!==s,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(a,e)}sortKeysInMatchers(e,t){let n={...e};for(let r of YOe)delete n[r],n[r]=e[r]??t[r].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,r){let i,a=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let n=r[a],o=t[a];if(n&&o&&(n=o),!S1(e,n,a))return;i=x1(n,e)}else{if(n.includes(a)){X(44);return}let o=t[a];if(!S1(e,o,a))return;let s=this.processDataTypeDefinition(o,t,[...n,a],r);if(!s)return;i=x1(s,e)}return{...i,groupSafeValueFormatter:C1(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t,{field:i}=t;if(r===void 0&&(r=e.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),!r){e.cellDataType=!1;return}let a=this.dataTypeDefinitions[r];if(!a){X(47,{cellDataType:r});return}return e.cellDataType=r,a.groupSafeValueFormatter&&(e.valueFormatter=a.groupSafeValueFormatter),a.valueParser&&(e.valueParser=a.valueParser),a.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,a,n),a.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let n=e=>{t.add(e.key)};e.__addEventListener(`columnStateUpdated`,n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener(`columnStateUpdated`,n))}canInferCellDataType(e,t){let{gos:n}=this;if(!zJ(n))return!1;let r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(w1(t,r))return!1;let i=t.type===null?e.type:t.type;if(i){let e=n.get(`columnTypes`)??{};if(LY(i).some(t=>{let n=e[t.trim()];return n&&w1(n,r)}))return!1}return!w1(e,r)}inferCellDataType(e,t){if(!e)return;let n,r=this.getInitialData();if(r?n=b1(r,e,e.includes(`.`)&&!this.gos.get(`suppressFieldDotNotation`)):this.initWaitForRowData(t),n!=null)return Object.keys(this.dataTypeMatchers).find(e=>this.dataTypeMatchers[e](n))??`object`}getInitialData(){let e=this.gos.get(`rowData`);if(e?.length)return e[0];if(this.initialData)return this.initialData;{let e=this.beans.rowModel.rootNode?._leafs;if(e?.length)return e[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:r}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);let[i]=this.addManagedEventListeners({rowDataUpdateStarted:e=>{let{firstRowData:a}=e;a&&(i?.(),this.isPendingInference=!1,this.processColumnsPendingInference(a,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),r.dispatchEvent({type:`dataTypesInferred`}))}})}processColumnsPendingInference(e,t){this.initialData=e;let n=[];this.destroyColumnStateUpdateListeners();let r={},i={};for(let e of Object.keys(this.columnStateUpdatesPendingInference)){let a=this.columnStateUpdatesPendingInference[e],o=this.colModel.getCol(e);if(!o)return;let s=o.getColDef();if(!this.resetColDefIntoCol(o,`cellDataTypeInferred`))return;let c=o.getColDef();if(t&&c.type&&c.type!==s.type){let t=QOe(o,a);t.rowGroup&&t.rowGroupIndex==null&&(r[e]=t),t.pivot&&t.pivotIndex==null&&(i[e]=t),n.push(t)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(r,i)),n.length&&YY(this.beans,{state:n},`cellDataTypeInferred`),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){let n={},{rowGroupColsSvc:r,pivotColsSvc:i}=this.beans;return r?.restoreColumnOrder(n,e),i?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){let n=e.getUserProvidedColDef();if(!n)return!1;let r=HY(this.beans,n,e.getColId());return e.setColDef(r,n,t),!0}getDateStringTypeDefinition(e){let{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e===`dateTime`||e===`dateTimeString`}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;let n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){let t=e=>X(48,{property:e});if(e.cellDataType===`object`){let{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t(`Formatter`),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t(`Parser`)}}postProcess(e){let t=e.cellDataType;if(!t||typeof t!=`string`)return;let{dataTypeDefinitions:n,beans:r,formatValueFuncs:i}=this,a=n[t];a&&r.colFilter?.setColDefPropsForDataType(e,a,i[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,r){let i=this.formatValueFuncs[t],a=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:r,formatValue:i});Object.assign(e,a)}getDateObjectTypeDef(e){let t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:e=>VX(e.newValue&&String(e.newValue)),valueFormatter:e=>e.value==null?``:!(e.value instanceof Date)||isNaN(e.value.getTime())?t(`invalidDate`,`Invalid Date`):PX(e.value,n)??``,dataTypeMatcher:e=>e instanceof Date}}getDateStringTypeDef(e){let t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:e=>VX(e)??void 0,dateFormatter:e=>PX(e??null,t)??void 0,valueParser:e=>BX(String(e.newValue))?e.newValue:null,valueFormatter:e=>BX(String(e.value))?String(e.value):``,dataTypeMatcher:e=>typeof e==`string`&&BX(e)}}getDefaultDataTypes(){let e=this.getLocaleTextFunc();return{number:{baseDataType:`number`,valueParser:e=>e.newValue?.trim?.()===``?null:Number(e.newValue),valueFormatter:t=>t.value==null?``:typeof t.value!=`number`||isNaN(t.value)?e(`invalidNumber`,`Invalid Number`):String(t.value),dataTypeMatcher:e=>typeof e==`number`},text:{baseDataType:`text`,valueParser:e=>e.newValue===``?null:zK(e.newValue),dataTypeMatcher:e=>typeof e==`string`},boolean:{baseDataType:`boolean`,valueParser:e=>e.newValue==null?e.newValue:e.newValue?.trim?.()===``?null:String(e.newValue).toLowerCase()===`true`,valueFormatter:e=>e.value==null?``:String(e.value),dataTypeMatcher:e=>typeof e==`boolean`},date:this.getDateObjectTypeDef(`date`),dateString:this.getDateStringTypeDef(`dateString`),dateTime:this.getDateObjectTypeDef(`dateTime`),dateTimeString:{...this.getDateStringTypeDef(`dateTimeString`),dataTypeMatcher:e=>typeof e==`string`&&HCe(e)},object:{baseDataType:`object`,valueParser:()=>null,valueFormatter:e=>zK(e.value)??``}}}destroyColumnStateUpdateListeners(){for(let e of this.columnStateUpdateListenerDestroyFuncs)e();this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function x1(e,t){let n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...LY(e.columnTypes),...LY(t.columnTypes)]),n}function S1(e,t,n){return t?t.baseDataType===e.baseDataType?!0:(X(46),!1):(X(45,{parentCellDataType:n}),!1)}function C1(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){let t=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(t){if(t===`first`||t===`last`)return e.valueFormatter(n);if(e.baseDataType===`number`&&t!==`count`){if(typeof n.value==`number`)return e.valueFormatter(n);if(typeof n.value==`object`){if(!n.value)return;if(`toNumber`in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if(`value`in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get(`groupHideOpenParents`)&&n.column.isRowGroupActive()&&typeof n.value==`string`&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function ZOe(e,t,n,r){if(!t[n])return!1;let i=e[n];return i===null?(t[n]=!1,!1):r===void 0?!!i:i===r}function w1(e,t){return[[`cellRenderer`,`agSparklineCellRenderer`],[`valueGetter`,void 0],[`valueParser`,void 0],[`refData`,void 0]].some(([n,r])=>ZOe(e,t,n,r))}function QOe(e,t){let n=QY(e);for(let e of t)delete n[e],e===`rowGroup`?delete n.rowGroupIndex:e===`pivot`&&delete n.pivotIndex;return n}var $Oe={moduleName:`DataType`,version:Y,beans:[XOe],dependsOn:[wOe]},eke={moduleName:`ColumnFlex`,version:Y,beans:[JOe]},T1={moduleName:`ColumnApi`,version:Y,beans:[qOe],apiFunctions:{getColumnDef:EOe,getDisplayNameForColumn:OOe,getColumn:kOe,getColumns:AOe,applyColumnState:jOe,getColumnState:MOe,resetColumnState:NOe,isPinning:POe,isPinningLeft:FOe,isPinningRight:IOe,getDisplayedColAfter:LOe,getDisplayedColBefore:ROe,setColumnsVisible:zOe,setColumnsPinned:BOe,getAllGridColumns:VOe,getDisplayedLeftColumns:HOe,getDisplayedCenterColumns:UOe,getDisplayedRightColumns:WOe,getAllDisplayedColumns:GOe,getAllDisplayedVirtualColumns:KOe,getColumnDefs:DOe}};function tke(e){return!e||e==null?null:e.replace(/([a-z])([A-Z])/g,`$1 $2`).replace(/([A-Z]+)([A-Z])([a-z])/g,`$1 $2$3`).replace(/\./g,` `).split(` `).map(e=>e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):``)).join(` `)}var nke=class extends J{constructor(){super(...arguments),this.beanName=`colNames`}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;let r=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){let r=t?.getColGroupDef();return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,i){let a=e.headerValueGetter;if(a){let o=_Y(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:i});return typeof a==`function`?a(o):typeof a==`string`?this.beans.expressionSvc?.evaluate(a,o)??null:``}else if(e.headerName!=null)return e.headerName;else if(e.field)return tke(e.field);return``}},rke=class extends J{constructor(){super(...arguments),this.beanName=`colViewport`,this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash=``,this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get(`suppressColumnVirtualisation`)}setScrollPosition(e,t,n=!1){let{visibleCols:r}=this,i=r.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,r.isBodyWidthDirty=!0,this.gos.get(`enableRtl`)){let n=r.bodyWidth;this.viewportLeft=n-t-e,this.viewportRight=n-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case`left`:return this.columnsToRenderLeft;case`right`:return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case`left`:n=this.rowsOfHeadersToRenderLeft[t];break;case`right`:n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){let e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=``}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||ike(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200;return!(t<r&&n<r)&&!(t>i&&n>i)}getViewportColumns(){let{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;let t=e=>{let t=e.getLeft();return q(t)&&t>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:r}=this,i=r.centerCols;return r.getColsForRow(e,i,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:`virtualColumnsChanged`,afterScroll:e})}calculateHeaderRows(){let{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;let n=e=>{let t=new Set,n={};for(let r of e){let e=r.getParent(),i=r.isSpanHeaderHeight();for(;e&&!t.has(e);){if(i&&e.isPadding()){e=e.getParent();continue}let r=e.getProvidedColumnGroup().getLevel();n[r]??(n[r]=[]),n[r].push(e),t.add(e),e=e.getParent()}}return n};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){let e=e=>`${e.getId()}-${e.getPinned()||`normal`}`;this.extractViewportColumns();let t=this.getViewportColumns().map(e).join(`#`),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function ike(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var ake={moduleName:`CellRendererFunction`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`agCompUtils`}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(e){let n=t(e),r=typeof n;if(r===`string`||r===`number`||r===`boolean`){this.eGui=Dq(`<span>`+n+`</span>`);return}if(n==null){this.eGui=aQ({tag:`span`});return}this.eGui=n}}return n}}]},oke=class extends Iwe{constructor(){super(...arguments),this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){let e=this.gos.get(`components`);if(e!=null)for(let t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){let{icons:t,userComponents:n,dynamicBeans:r,selectors:i}=e;if(n){let e=(e,t,n,r)=>{this.agGridDefaults[e]=t,(n||r)&&(this.agGridDefaultOverrides[e]={params:n,processParams:r})};for(let t of Object.keys(n)){let r=n[t];if(LCe(r)&&(r=r.getComp(this.beans)),typeof r==`object`){let{classImp:n,params:i,processParams:a}=r;e(t,n,i,a)}else e(t,r)}}this.registerDynamicBeans(r);for(let e of i??[])this.selectors[e.selector]=e;if(t)for(let e of Object.keys(t))this.icons[e]=t[e]}getUserComponent(e,t){let n=(e,t,n,r)=>({componentFromFramework:t,component:e,params:n,processParams:r}),{frameworkOverrides:r}=this.beans,i=r.frameworkComponent(t,this.gos.get(`components`));if(i!=null)return n(i,!0);let a=this.jsComps[t];if(a)return n(a,r.isFrameworkComponent(a));let o=this.agGridDefaults[t];if(o){let e=this.agGridDefaultOverrides[t];return n(o,!1,e?.params,e?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}getDynamicError(e,t){return t?LJ(279,{name:e}):this.beans.validation?.missingDynamicBean(e)??LJ(256)}},ske=23,cke=class extends J{constructor(){super(...arguments),this.beanName=`ctrlsSvc`,this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener(`ready`,()=>{if(this.updateReady(),this.ready){for(let e of this.readyCallbacks)e(this.params);this.readyCallbacks.length=0}},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){let e=Object.values(this.params);this.ready=e.length===ske&&e.every(e=>e?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{let e=this.readyCallbacks.indexOf(t);e>=0&&this.readyCallbacks.splice(e,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:`ready`}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){let t=this.params;switch(e){case`left`:return t.leftHeader;case`right`:return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},lke=`.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value:not(.ag-allow-overflow),.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-data-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-data-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-data-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-body,.ag-floating-bottom,.ag-floating-top{background-color:var(--ag-data-background-color)}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-data-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-virtual-list-item{height:var(--ag-list-item-height);position:absolute;width:100%}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}`,uke={wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:`rowBorder`},columnBorder:{style:`solid`,width:1,color:`transparent`},headerColumnBorder:!1,headerColumnBorderHeight:`100%`,pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:`chromeBackgroundColor`},sideButtonBarBackgroundColor:{ref:`sideBarBackgroundColor`},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:`transparent`,sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:`transparent`,sideButtonTextColor:{ref:`textColor`},sideButtonHoverBackgroundColor:{ref:`sideButtonBackgroundColor`},sideButtonHoverTextColor:{ref:`sideButtonTextColor`},sideButtonSelectedBackgroundColor:bZ,sideButtonSelectedTextColor:{ref:`sideButtonTextColor`},sideButtonBorder:`solid 1px transparent`,sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:`spacing`},sideButtonRightPadding:{ref:`spacing`},sideButtonVerticalPadding:{calc:`spacing * 3`},headerBackgroundColor:{ref:`chromeBackgroundColor`},headerFontFamily:{ref:`fontFamily`},cellFontFamily:{ref:`fontFamily`},headerFontWeight:500,headerFontSize:{ref:`fontSize`},dataFontSize:{ref:`fontSize`},headerTextColor:{ref:`textColor`},headerCellHoverBackgroundColor:`transparent`,headerCellMovingBackgroundColor:{ref:`headerCellHoverBackgroundColor`},headerCellBackgroundTransitionDuration:`0.2s`,cellTextColor:{ref:`textColor`},rangeSelectionBorderStyle:`solid`,rangeSelectionBorderColor:SZ,rangeSelectionBackgroundColor:_Z(.2),rangeSelectionChartBackgroundColor:`#0058FF1A`,rangeSelectionChartCategoryBackgroundColor:`#00FF841A`,rangeSelectionHighlightColor:_Z(.5),rangeHeaderHighlightColor:_we(.08),rowNumbersSelectedColor:_Z(.5),rowHoverColor:_Z(.08),columnHoverColor:_Z(.05),selectedRowBackgroundColor:_Z(.12),modalOverlayBackgroundColor:{ref:`backgroundColor`,mix:.66},dataBackgroundColor:bZ,oddRowBackgroundColor:{ref:`dataBackgroundColor`},wrapperBorderRadius:8,cellHorizontalPadding:{calc:`spacing * 2 * cellHorizontalPaddingScale`},cellWidgetSpacing:{calc:`spacing * 1.5`},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:`cellWidgetSpacing + iconSize`},valueChangeDeltaUpColor:`#43a047`,valueChangeDeltaDownColor:`#e53935`,valueChangeValueHighlightBackgroundColor:`#16a08580`,rowHeight:{calc:`max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale`},rowVerticalPaddingScale:1,headerHeight:{calc:`max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale`},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:`rowHeight`,calc:`max(rowHeight, 22px)`},dragHandleColor:vZ(.7),headerColumnResizeHandleHeight:`30%`,headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:`borderColor`},widgetContainerHorizontalPadding:{calc:`spacing * 1.5`},widgetContainerVerticalPadding:{calc:`spacing * 1.5`},widgetHorizontalSpacing:{calc:`spacing * 1.5`},widgetVerticalSpacing:{ref:`spacing`},iconButtonColor:{ref:`iconColor`},iconButtonBackgroundColor:`transparent`,iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:`iconButtonColor`},iconButtonHoverBackgroundColor:vZ(.1),iconButtonActiveColor:SZ,iconButtonActiveBackgroundColor:_Z(.28),iconButtonActiveIndicatorColor:SZ,menuBorder:{color:vZ(.2)},menuBackgroundColor:yZ(.03),menuTextColor:yZ(.95),menuShadow:{ref:`popupShadow`},menuSeparatorColor:{ref:`borderColor`},setFilterIndentSize:{ref:`iconSize`},chartMenuPanelWidth:260,chartMenuLabelColor:vZ(.8),dialogShadow:{ref:`popupShadow`},cellEditingBorder:{color:SZ},cellEditingShadow:{ref:`cardShadow`},fullRowEditInvalidBackgroundColor:{ref:`invalidColor`,onto:`backgroundColor`,mix:.25},dialogBorder:{color:vZ(.2)},panelBackgroundColor:bZ,panelTitleBarHeight:{ref:`headerHeight`},panelTitleBarBackgroundColor:{ref:`headerBackgroundColor`},panelTitleBarIconColor:{ref:`headerTextColor`},panelTitleBarTextColor:{ref:`headerTextColor`},panelTitleBarFontWeight:{ref:`headerFontWeight`},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:`iconSize`},toolPanelSeparatorBorder:!0,columnDropCellBackgroundColor:vZ(.07),columnDropCellTextColor:{ref:`textColor`},columnDropCellDragHandleColor:{ref:`textColor`},columnDropCellBorder:{color:vZ(.13)},selectCellBackgroundColor:vZ(.07),selectCellBorder:{color:vZ(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:`spacing * 2 + iconSize`},advancedFilterBuilderJoinPillColor:`#f08e8d`,advancedFilterBuilderColumnPillColor:`#a6e194`,advancedFilterBuilderOptionPillColor:`#f3c08b`,advancedFilterBuilderValuePillColor:`#85c0e4`,filterPanelApplyButtonColor:bZ,filterPanelApplyButtonBackgroundColor:SZ,filterPanelCardSubtleColor:{ref:`textColor`,mix:.7},filterPanelCardSubtleHoverColor:{ref:`textColor`},findMatchColor:xZ,findMatchBackgroundColor:`#ffff00`,findActiveMatchColor:xZ,findActiveMatchBackgroundColor:`#ffa500`,filterToolPanelGroupIndent:{ref:`spacing`},rowLoadingSkeletonEffectColor:vZ(.15),statusBarLabelColor:xZ,statusBarLabelFontWeight:500,statusBarValueColor:xZ,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:`textColor`},pinnedSourceRowBackgroundColor:{ref:`dataBackgroundColor`},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:`dataBackgroundColor`},pinnedRowTextColor:{ref:`textColor`}},dke=`.ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}`,E1={cellBatchEditBackgroundColor:`rgba(220 181 139 / 16%)`,cellBatchEditTextColor:`#422f00`,rowBatchEditBackgroundColor:{ref:`cellBatchEditBackgroundColor`},rowBatchEditTextColor:{ref:`cellBatchEditTextColor`}},fke={...E1,cellBatchEditTextColor:`#f3d0b3`},pke=(()=>fZ({feature:`batchEditStyle`,params:E1,css:dke}))(),D1=`:where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}`,O1={buttonTextColor:`inherit`,buttonFontWeight:`normal`,buttonBackgroundColor:`transparent`,buttonBorder:!1,buttonBorderRadius:{ref:`borderRadius`},buttonHorizontalPadding:{calc:`spacing * 2`},buttonVerticalPadding:{ref:`spacing`},buttonHoverTextColor:{ref:`buttonTextColor`},buttonHoverBackgroundColor:{ref:`buttonBackgroundColor`},buttonHoverBorder:{ref:`buttonBorder`},buttonActiveTextColor:{ref:`buttonHoverTextColor`},buttonActiveBackgroundColor:{ref:`buttonHoverBackgroundColor`},buttonActiveBorder:{ref:`buttonHoverBorder`},buttonDisabledTextColor:{ref:`inputDisabledTextColor`},buttonDisabledBackgroundColor:{ref:`inputDisabledBackgroundColor`},buttonDisabledBorder:{ref:`inputDisabledBorder`}},mke=(()=>fZ({feature:`buttonStyle`,params:O1,css:D1}))(),hke=(()=>fZ({feature:`buttonStyle`,params:{...O1,buttonBackgroundColor:bZ,buttonBorder:!0,buttonHoverBackgroundColor:{ref:`rowHoverColor`},buttonActiveBorder:{color:SZ}},css:D1}))(),gke=`.ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}`,_ke=`.ag-column-drop-vertical-empty-message{color:var(--ag-subtle-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600;padding-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-empty-message{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing));padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-empty-message{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing))}`,k1=(()=>fZ({feature:`columnDropStyle`,css:gke}))(),vke=(()=>fZ({feature:`columnDropStyle`,css:_ke}))(),yke={warn:(...e)=>{X(e[0],e[1])},error:(...e)=>{FJ(e[0],e[1])},preInitErr:(...e)=>{IJ(e[0],e[2],e[1])}},A1=()=>Dwe(yke).withParams(uke).withPart(hke).withPart(k1).withPart(pke),bke=`.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}`,j1=(()=>fZ({feature:`checkboxStyle`,params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:`borderRadius`},checkboxUncheckedBackgroundColor:bZ,checkboxUncheckedBorderColor:yZ(.3),checkboxCheckedBackgroundColor:SZ,checkboxCheckedBorderColor:{ref:`checkboxCheckedBackgroundColor`},checkboxCheckedShapeImage:{svg:`<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>`},checkboxCheckedShapeColor:bZ,checkboxIndeterminateBackgroundColor:yZ(.3),checkboxIndeterminateBorderColor:{ref:`checkboxIndeterminateBackgroundColor`},checkboxIndeterminateShapeImage:{svg:`<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>`},checkboxIndeterminateShapeColor:bZ,radioCheckedShapeImage:{svg:`<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>`}},css:bke}))(),M1=()=>({...CZ,...fke,backgroundColor:`hsl(217, 0%, 17%)`,foregroundColor:`#FFF`,chromeBackgroundColor:yZ(.05),rowHoverColor:_Z(.15),selectedRowBackgroundColor:_Z(.2),menuBackgroundColor:yZ(.1),browserColorScheme:`dark`,popupShadow:`0 0px 20px #000A`,cardShadow:`0 1px 4px 1px #000A`,advancedFilterBuilderJoinPillColor:`#7a3a37`,advancedFilterBuilderColumnPillColor:`#355f2d`,advancedFilterBuilderOptionPillColor:`#5a3168`,advancedFilterBuilderValuePillColor:`#374c86`,filterPanelApplyButtonColor:xZ,findMatchColor:bZ,findActiveMatchColor:bZ,checkboxUncheckedBorderColor:yZ(.4),toggleButtonOffBackgroundColor:yZ(.4),rowBatchEditBackgroundColor:yZ(.1)}),xke=()=>({...M1(),backgroundColor:`#1f2836`}),N1=(()=>fZ({feature:`colorScheme`,params:CZ,modeParams:{light:CZ,dark:M1(),"dark-blue":xke()}}))(),Ske=fZ({feature:`iconSet`,css:`.ag-icon-aggregation:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M24 5.333H8V8l8.667 8L8 24v2.667h16v-4h-9.333L21.334 16l-6.667-6.667H24z'/%3E%3C/svg%3E")}.ag-icon-arrows:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='M13.333 11.556h5.333V8h3.556L16 1.778 9.778 8h3.556zm-1.777 1.777H8V9.777l-6.222 6.222L8 22.221v-3.556h3.556zM30.222 16 24 9.778v3.556h-3.556v5.333H24v3.556l6.222-6.222zm-11.555 4.444h-5.333V24H9.778L16 30.222 22.222 24h-3.556z'/%3E%3C/svg%3E")}.ag-icon-asc:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-cancel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 2.667C8.627 2.667 2.667 8.627 2.667 16S8.627 29.333 16 29.333 29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-chart:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E")}.ag-icon-color-picker:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E")}.ag-icon-columns:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M5.333 10.667h5.333V5.334H5.333zm8 16h5.333v-5.333h-5.333zm-8 0h5.333v-5.333H5.333zm0-8h5.333v-5.333H5.333zm8 0h5.333v-5.333h-5.333zm8-13.334v5.333h5.333V5.333zm-8 5.334h5.333V5.334h-5.333zm8 8h5.333v-5.333h-5.333zm0 8h5.333v-5.333h-5.333z'/%3E%3C/svg%3E")}.ag-icon-contracted:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-copy:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z'/%3E%3C/svg%3E")}.ag-icon-cross:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m25.333 8.547-1.88-1.88L16 14.12 8.547 6.667l-1.88 1.88L14.12 16l-7.453 7.453 1.88 1.88L16 17.88l7.453 7.453 1.88-1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-csv:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='translate(3.934 -.054)scale(.06285)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m19 3-6 6 2 2 7-7V3m-10 9.5a.503.503 0 0 1-.5-.5c0-.274.226-.5.5-.5s.5.226.5.5-.226.5-.5.5M6 20c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2M6 8c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2m3.64-.36c.23-.5.36-1.05.36-1.64 0-2.194-1.806-4-4-4S2 3.806 2 6s1.806 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.194 0-4 1.806-4 4s1.806 4 4 4 4-1.806 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1z' style='fill-rule:nonzero' transform='translate(4 4)'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667L26.668 16z'/%3E%3C/svg%3E")}.ag-icon-excel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='translate(3.934 -.054)scale(.06285)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M21.106 15.088A5.19 5.19 0 0 0 16 10.814a5.17 5.17 0 0 0-3.668 1.522L9.866 9.868a12.2 12.2 0 0 1 6.133-1.646c5.186 0 9.614 3.225 11.408 7.778a12.34 12.34 0 0 1-5.276 6.133l-2.468-2.466a5.17 5.17 0 0 0 1.449-2.802h-2.123c-.148.508-.42.964-.782 1.33l-1.33-1.33h-2.514l2.196 2.196q-.272.049-.56.05a3.11 3.11 0 0 1-2.99-2.245h-2.123a5.19 5.19 0 0 0 7.3 3.836l2.247 2.247a12.2 12.2 0 0 1-4.434.828c-5.186 0-9.614-3.225-11.408-7.778a12.3 12.3 0 0 1 3.781-5.111l2.924 2.924a5.1 5.1 0 0 0-.404 1.275h4.206l-1.296-1.296a3.1 3.1 0 0 1 2.196-.903c1.404 0 2.587.924 2.976 2.199h2.13z'/%3E%3C/svg%3E")}.ag-icon-eye:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16 8.222c-5.186 0-9.614 3.225-11.408 7.778 1.794 4.553 6.222 7.778 11.408 7.778S25.614 20.553 27.408 16C25.614 11.447 21.186 8.222 16 8.222m0 12.964c-2.862 0-5.186-2.324-5.186-5.186s2.324-5.186 5.186-5.186 5.186 2.324 5.186 5.186-2.324 5.186-5.186 5.186m0-8.297c-1.721 0-3.111 1.39-3.111 3.111s1.39 3.111 3.111 3.111 3.111-1.39 3.111-3.111-1.39-3.111-3.111-3.111'/%3E%3C/svg%3E")}.ag-icon-filter:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M13.333 24h5.333v-2.667h-5.333zM4 8v2.667h24V8zm4 9.333h16v-2.667H8z'/%3E%3C/svg%3E")}.ag-icon-first:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z'/%3E%3C/svg%3E")}.ag-icon-group:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M18.667 21.333h8.889A3.555 3.555 0 0 1 24 24.889h-5.333zm8.888-7.111v3.556h-8.889v-3.556zM24 7.111a3.555 3.555 0 0 1 3.556 3.556h-16V7.111zm-8.889 17.778h-3.556v-3.556h3.556zm0-7.111h-3.556v-3.556h3.556zM8 10.667H4.444A3.555 3.555 0 0 1 8 7.111z'/%3E%3C/svg%3E")}.ag-icon-last:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z'/%3E%3C/svg%3E")}.ag-icon-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227v-2.667z'/%3E%3C/svg%3E")}.ag-icon-linked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333c-3.68 0-6.667 2.987-6.667 6.667s2.987 6.667 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333c2.28 0 4.133 1.853 4.133 4.133s-1.853 4.133-4.133 4.133h-5.333v2.533h5.333c3.68 0 6.667-2.987 6.667-6.667s-2.987-6.667-6.667-6.667z'/%3E%3C/svg%3E")}.ag-icon-loading:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='m17.778 11.708 3.25-3.251 2.516 2.516-3.251 3.25h4.597v3.556h-4.597l3.251 3.25-2.516 2.516-3.25-3.251v4.597h-3.556v-4.597l-3.25 3.251-2.516-2.516 3.251-3.25H7.11v-3.556h4.597l-3.251-3.25 2.516-2.516 3.25 3.251V7.111h3.556zm-3.251 7.847h2.944l2.084-2.084v-2.944l-2.084-2.084h-2.944l-2.084 2.084v2.944z'/%3E%3C/svg%3E")}.ag-icon-maximize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='M4 4h24v2.667H4z'/%3E%3C/svg%3E")}.ag-icon-menu:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M4 24h24v-2.667H4zm0-6.667h24v-2.667H4zM4 8v2.667h24V8z'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 26.667a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 24q0-1.1.784-1.883A2.57 2.57 0 0 1 16 21.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 16q0-1.1.784-1.883A2.57 2.57 0 0 1 16 13.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 8q0-1.1.784-1.883A2.57 2.57 0 0 1 16 5.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784'/%3E%3C/svg%3E")}.ag-icon-minimize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='M8 25.333h16V28H8z'/%3E%3C/svg%3E")}.ag-icon-minus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-none:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='M4 24h16v-2.667H4zM4 8v2.667h24V8zm0 9.333h24v-2.667H4z'/%3E%3C/svg%3E")}.ag-icon-not-allowed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667'/%3E%3C/svg%3E")}.ag-icon-paste:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M25.333 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4zM16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z'/%3E%3C/svg%3E")}.ag-icon-pin:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m11.106 22.093-4.444 4.444-1.259-1.259 4.444-4.444zm5.872-16.63 9.618 9.62-.962.962-.962-.962-7.694 3.847 1.924 1.924-2.74 2.74-7.696-7.696 2.741-2.74 1.924 1.925 3.847-7.696-.962-.962z'/%3E%3C/svg%3E")}.ag-icon-pivot:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M26.667 30.223H5.334a3.556 3.556 0 0 1-3.556-3.556V5.334a3.556 3.556 0 0 1 3.556-3.556h21.333a3.556 3.556 0 0 1 3.556 3.556v21.333a3.556 3.556 0 0 1-3.556 3.556m-16-8.89H5.334v5.333h5.333zm16-7.11H12.444v12.444h14.223zm-9.15 6.85-2.039 2.037 2.039 2.039-1.257 1.257-3.295-3.296 3.295-3.295q.63.628 1.257 1.257zm-6.85-6.85H5.334v5.333h5.333zm15.74 3.816-1.257 1.256-2.039-2.037-2.037 2.037-1.257-1.256 3.295-3.296zM10.667 5.333H5.334v5.333h5.333zm8.889 0h-7.112v5.333h7.112zm7.111 0h-5.333v5.333h5.333z'/%3E%3C/svg%3E")}.ag-icon-plus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z'/%3E%3C/svg%3E")}.ag-icon-save:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M9.333 12.667 16 19.334l6.667-6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-small-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M19.333 9.333 12.666 16l6.667 6.667V9.334z'/%3E%3C/svg%3E")}.ag-icon-small-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='M12.667 22.667 19.334 16l-6.667-6.667v13.333z'/%3E%3C/svg%3E")}.ag-icon-small-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='M9.333 19.333 16 12.666l6.667 6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-tick:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='m11.727 21.167-5.56-5.56-1.893 1.88 7.453 7.453 16-16-1.88-1.88z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6.667 14.667h18.667v2.667H6.667z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M22.12 11.06 16 17.167 9.88 11.06 8 12.94l8 8 8-8z'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z'/%3E%3C/svg%3E")}.ag-icon-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-grip:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M26.667 12H5.334v2.667h21.333zM5.333 20h21.333v-2.667H5.333z'/%3E%3C/svg%3E")}.ag-icon-settings:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}.ag-icon-column-arrow:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M11 4a1 1 0 0 1 1 1v22a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 13a1 1 0 0 1 1-1h23.5a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 4h18v24H2zm2 2v20h14V6zM26.793 13 23 9.207l1.414-1.414L29.621 13l-5.207 5.207L23 16.793z' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-un-pin:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' d='M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11'/%3E%3Cpath fill='currentColor' d='M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28zM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972z'/%3E%3C/svg%3E")}.ag-icon-pinned-top:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' d='M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22M3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536'/%3E%3C/svg%3E")}.ag-icon-pinned-bottom:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' d='M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22M12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536'/%3E%3C/svg%3E")}.ag-icon-chevron-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M3.479 10.521a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1-1.06 1.06l-3.47-3.47-3.47 3.47a.75.75 0 0 1-1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-chevron-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M12.521 5.461a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 1.06-1.06l3.47 3.47 3.47-3.47a.75.75 0 0 1 1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-chevron-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M10.53 12.512a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 1.06l-3.47 3.47 3.47 3.47a.75.75 0 0 1 0 1.06' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-chevron-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M5.47 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L8.94 8 5.47 4.53a.75.75 0 0 1 0-1.06' clip-rule='evenodd'/%3E%3C/svg%3E")}.ag-icon-filter-add:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M18.666 24h-5.333v-2.667h5.333zM24 17.333H8v-2.667h16zm3.59-9.344h3.221v2.657h-3.22v3.22h-2.656v-3.22h-3.221V7.989h3.22V4.77h2.657zm-8.582 2.678H4V8h15.008z'/%3E%3C/svg%3E")}.ag-icon-edit:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M6.222 25.778h1.611l14.834-14.811-1.611-1.611-14.834 14.81zM4 28v-4.733L22.644 4.656a2.26 2.26 0 0 1 1.567-.634q.423 0 .833.167.412.166.734.478l1.589 1.6q.333.322.483.733t.15.822q0 .423-.161.839-.162.416-.472.728L8.733 28zm17.856-17.833-.8-.811 1.61 1.61z'/%3E%3C/svg%3E")}`}),P1={aggregation:`<path d="M18 7V4H6l6 8-6 8h12v-3"/>`,arrows:`<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>`,asc:`<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>`,cancel:`<path d="m18 6-12 12"/><path d="m6 6 12 12"/>`,chart:`<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>`,"color-picker":`<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>`,columns:`<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>`,contracted:`<path d="m9 18 6-6-6-6"/>`,copy:`<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>`,cross:`<path d="M18 6 6 18"/><path d="m6 6 12 12"/>`,csv:`<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>`,cut:`<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>`,desc:`<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>`,down:`<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>`,excel:`<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>`,expanded:`<path d="m15 18-6-6 6-6"/>`,"eye-slash":`<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>`,eye:`<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>`,filter:`<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>`,first:`<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>`,group:`<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>`,last:`<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>`,left:`<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>`,linked:`<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>`,loading:`<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>`,maximize:`<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>`,menu:`<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>`,"menu-alt":`<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>`,minimize:`<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>`,minus:`<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>`,next:`<path d="m9 18 6-6-6-6"/>`,none:`<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>`,"not-allowed":`<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>`,paste:`<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>`,pin:`<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>`,pivot:`<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>`,plus:`<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>`,previous:`<path d="m15 18-6-6 6-6"/>`,right:`<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>`,save:`<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>`,"small-left":`<path d="m15 18-6-6 6-6"/>`,"small-right":`<path d="m9 18 6-6-6-6"/>`,tick:`<path d="M20 6 9 17l-5-5"/>`,"tree-closed":`<path d="m9 18 6-6-6-6"/>`,"tree-indeterminate":`<path d="M5 12h14"/>`,"tree-open":`<path d="m6 9 6 6 6-6"/>`,unlinked:`<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>`,up:`<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>`,grip:`<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>`,settings:`<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>`},F1={"column-arrow":`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>`,"small-down":`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>`,"small-up":`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>`,"pinned-top":`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>`,"pinned-bottom":`<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>`,"un-pin":`<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>`,"chevron-down":`<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>`,"chevron-up":`<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>`,"chevron-left":`<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>`,"chevron-right":`<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>`,"filter-add":`<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>`,edit:`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>`},Cke=(e={})=>{let t=``;for(let n of[...Object.keys(P1),...Object.keys(F1)]){let r=wke(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(r)}'); }
`}return t},wke=(e,t=1.5)=>{let n=F1[e];if(n)return n;let r=P1[e];if(!r)throw Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+r+`</svg>`},Tke=((e={})=>fZ({feature:`iconSet`,css:()=>Cke(e)}))(),I1=`:where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}`,Eke=`.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}`,Dke=`.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){border-left:none;border-right:none;border-top:none}`,L1={inputBackgroundColor:`transparent`,inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:`textColor`},inputPlaceholderTextColor:{ref:`inputTextColor`,mix:.5},inputPaddingStart:0,inputHeight:{calc:`max(iconSize, fontSize) + spacing * 2`},inputFocusBackgroundColor:{ref:`inputBackgroundColor`},inputFocusBorder:{ref:`inputBorder`},inputFocusShadow:`none`,inputFocusTextColor:{ref:`inputTextColor`},inputDisabledBackgroundColor:{ref:`inputBackgroundColor`},inputDisabledBorder:{ref:`inputBorder`},inputDisabledTextColor:{ref:`inputTextColor`},inputInvalidBackgroundColor:{ref:`inputBackgroundColor`},inputInvalidBorder:{ref:`inputBorder`},inputInvalidTextColor:{ref:`inputTextColor`},inputIconColor:{ref:`inputTextColor`},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:`inputFocusBorder`},pickerButtonBackgroundColor:{ref:`backgroundColor`},pickerButtonFocusBackgroundColor:{ref:`backgroundColor`},pickerListBorder:!1,pickerListBackgroundColor:{ref:`backgroundColor`},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},Oke=(()=>fZ({feature:`inputStyle`,params:{...L1,inputBackgroundColor:bZ,inputBorder:!0,inputBorderRadius:{ref:`borderRadius`},inputPaddingStart:{ref:`spacing`},inputFocusBorder:{color:SZ},inputFocusShadow:{ref:`focusShadow`},inputDisabledBackgroundColor:yZ(.06),inputDisabledTextColor:{ref:`textColor`,mix:.5},inputInvalidBorder:{color:{ref:`invalidColor`}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>I1+Eke}))(),kke=(()=>fZ({feature:`inputStyle`,params:{...L1,inputBackgroundColor:`transparent`,inputBorder:{width:2,color:vZ(.3)},inputPaddingStart:{ref:`spacing`},inputFocusBorder:`solid 2px var(--ag-accent-color)`,inputDisabledTextColor:{ref:`textColor`,mix:.5},inputDisabledBorder:`solid 1px var(--ag-border-color)`,inputInvalidBorder:{width:2,color:{ref:`invalidColor`,mix:.3}}},css:()=>I1+Dke}))(),R1=`.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}`,z1={tabBarBackgroundColor:`transparent`,tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:`transparent`,tabTextColor:{ref:`textColor`},tabHorizontalPadding:{ref:`spacing`},tabTopPadding:{ref:`spacing`},tabBottomPadding:{ref:`spacing`},tabSpacing:`0`,tabHoverBackgroundColor:{ref:`tabBackgroundColor`},tabHoverTextColor:{ref:`tabTextColor`},tabSelectedBackgroundColor:{ref:`tabBackgroundColor`},tabSelectedTextColor:{ref:`tabTextColor`},tabSelectedBorderWidth:{ref:`borderWidth`},tabSelectedBorderColor:`transparent`,tabSelectedUnderlineColor:`transparent`,tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},Ake=(()=>fZ({feature:`tabStyle`,params:{...z1,tabBarBorder:!0,tabBarBackgroundColor:vZ(.05),tabTextColor:{ref:`textColor`,mix:.7},tabSelectedTextColor:{ref:`textColor`},tabHoverTextColor:{ref:`textColor`},tabSelectedBorderColor:{ref:`borderColor`},tabSelectedBackgroundColor:bZ},css:R1}))(),jke=(()=>fZ({feature:`tabStyle`,params:{...z1,tabBarBackgroundColor:{ref:`chromeBackgroundColor`},tabSelectedUnderlineColor:{ref:`primaryColor`},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:0},css:R1}))(),Mke=`.ag-dnd-ghost,.ag-filter-toolpanel-header,.ag-filter-toolpanel-search,.ag-multi-filter-group-title-bar,.ag-panel-title-bar-title,.ag-status-bar{color:var(--ag-header-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600}.ag-column-drop-horizontal{background-color:color-mix(in srgb,var(--ag-background-color),var(--ag-foreground-color) 8%)}.ag-cell.ag-cell-inline-editing{background-color:var(--ag-background-color);background-image:linear-gradient(0deg,var(--ag-input-background-color),var(--ag-input-background-color));border:var(--ag-input-border)!important;border-width:1px!important;height:calc(var(--ag-row-height) + var(--ag-spacing)*3);padding:var(--ag-spacing);:where(.ag-row-last:not(.ag-row-first)) &{bottom:0}:where(.ag-has-focus) &{border:var(--ag-input-focus-border)!important;border-width:1px!important}}.ag-advanced-filter-builder-button,.ag-standard-button{text-transform:uppercase}.ag-status-bar{border:solid var(--ag-border-width) var(--ag-border-color)}.ag-list-item-hovered:after{background-color:var(--ag-primary-color)}.ag-pill-button:hover{color:var(--ag-primary-color)}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-primary-color)}.ag-filter-add-button,.ag-filter-add-button:hover{border-bottom:2px solid var(--ag-primary-color)}`,Nke=(()=>A1().withPart(j1).withPart(N1).withPart(Tke).withPart(Ake).withPart(Oke).withPart(k1).withParams({fontFamily:[{googleFont:`IBM Plex Sans`},`-apple-system`,`BlinkMacSystemFont`,`Segoe UI`,`Roboto`,`Oxygen-Sans`,`Ubuntu`]}))(),Pke=(()=>{let e={tabSelectedUnderlineColor:{ref:`primaryColor`},sideButtonSelectedUnderlineColor:{ref:`primaryColor`},buttonTextColor:{ref:`primaryColor`},rangeSelectionBackgroundColor:{ref:`primaryColor`,mix:.2},rangeSelectionBorderColor:{ref:`primaryColor`},rangeSelectionHighlightColor:{ref:`primaryColor`,mix:.5},rangeHeaderHighlightColor:{ref:`foregroundColor`,mix:.08},rowNumbersSelectedColor:{ref:`primaryColor`,mix:.5},inputFocusBorder:{width:2,color:{ref:`primaryColor`}},pickerButtonFocusBorder:{width:1,color:{ref:`primaryColor`}},cellEditingBorder:{color:{ref:`primaryColor`}},menuBackgroundColor:{ref:`backgroundColor`},sideButtonBarBackgroundColor:bZ,sideButtonSelectedBackgroundColor:`transparent`,sideButtonBarTopPadding:{calc:`spacing * 4`},headerColumnResizeHandleColor:`none`,headerBackgroundColor:{ref:`backgroundColor`},rowHoverColor:vZ(.08),columnHoverColor:vZ(.08),headerCellHoverBackgroundColor:vZ(.05),statusBarLabelColor:vZ(.63),statusBarLabelFontWeight:600,statusBarValueFontWeight:600,valueChangeValueHighlightBackgroundColor:`#00acc1`,panelTitleBarIconColor:xZ,advancedFilterBuilderButtonBarBorder:!1,filterPanelApplyButtonColor:{ref:`buttonTextColor`},filterPanelApplyButtonBackgroundColor:{ref:`buttonBackgroundColor`},colorPickerThumbSize:13,colorPickerTrackSize:11,colorPickerThumbBorderWidth:2,colorPickerTrackBorderRadius:2,colorPickerColorBorderRadius:2},t={...e,primaryColor:`#3f51b5`,foregroundColor:`#000D`,headerTextColor:`#0008`,accentColor:`#ff4081`,checkboxUncheckedBorderColor:xZ,checkboxIndeterminateBackgroundColor:xZ,toggleButtonOffBackgroundColor:xZ,selectedRowBackgroundColor:`rgba(33, 150, 243, 0.3)`},n={...e,primaryColor:`#3f51b5`,foregroundColor:`#fffD`,headerTextColor:`#fff8`,accentColor:`#bb86fc`,checkboxUncheckedBorderColor:yZ(.5),checkboxIndeterminateBackgroundColor:yZ(.5),toggleButtonOffBackgroundColor:yZ(.5),selectedRowBackgroundColor:`#bb86fc33`};return fZ({feature:`styleMaterial`,css:Mke,params:t,modeParams:{light:t,dark:n,"dark-blue":n}})})(),Fke=(()=>A1().withPart(mke).withPart(j1).withPart(N1).withPart(Ske).withPart(jke).withPart(kke).withPart(vke).withPart(Pke).withParams({rowHeight:{calc:`max(iconSize, dataFontSize) + spacing * 3.75 * rowVerticalPaddingScale`},headerHeight:{calc:`max(iconSize, dataFontSize) + spacing * 4.75 * headerVerticalPaddingScale`},widgetVerticalSpacing:{calc:`spacing * 1.75`},cellHorizontalPadding:{calc:`spacing * 3`},buttonHorizontalPadding:{ref:`spacing`},widgetContainerHorizontalPadding:{calc:`spacing * 1.5`},widgetContainerVerticalPadding:{calc:`spacing * 2`},fontSize:13,iconSize:18,borderRadius:0,wrapperBorderRadius:0,wrapperBorder:!1,menuBorder:!1,dialogBorder:!1,panelTitleBarBorder:!1,tabSelectedBorderWidth:0,tabSelectedUnderlineTransitionDuration:.3,sidePanelBorder:!1,sideButtonSelectedBorder:!1,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineTransitionDuration:.3,sideButtonBorder:!1,buttonBorder:!1,buttonDisabledBorder:!1,focusShadow:{spread:4,color:vZ(.16)},fontFamily:[{googleFont:`Roboto`},`-apple-system`,`BlinkMacSystemFont`,`Segoe UI`,`Oxygen-Sans`,`Ubuntu`,`Cantarell`,`Helvetica Neue`,`sans-serif`],inputHeight:{calc:`max(iconSize, fontSize) + spacing * 3`},pickerButtonBorder:{width:1,color:`transparent`},headerFontWeight:600,headerFontSize:{calc:`fontSize - 1px`},checkboxBorderWidth:2,checkboxBorderRadius:2,toggleButtonWidth:34,toggleButtonSwitchInset:1,cardShadow:`0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)`,popupShadow:`5px 5px 10px rgba(0, 0, 0, 0.3)`}))(),Ike={cssName:`--ag-cell-horizontal-padding`,changeKey:`cellHorizontalPaddingChanged`,defaultValue:16},Lke={cssName:`--ag-indentation-level`,changeKey:`indentationLevelChanged`,defaultValue:0,noWarn:!0,cacheDefault:!0},Rke={cssName:`--ag-row-group-indent-size`,changeKey:`rowGroupIndentSizeChanged`,defaultValue:0},B1={cssName:`--ag-row-height`,changeKey:`rowHeightChanged`,defaultValue:42},V1={cssName:`--ag-header-height`,changeKey:`headerHeightChanged`,defaultValue:48},H1={cssName:`--ag-list-item-height`,changeKey:`listItemHeightChanged`,defaultValue:24},U1={cssName:`--ag-row-border`,changeKey:`rowBorderWidthChanged`,defaultValue:1,border:!0},W1={cssName:`--ag-pinned-row-border`,changeKey:`pinnedRowBorderWidthChanged`,defaultValue:1,border:!0};function zke(e,t){for(let n of t.sort((e,t)=>e.moduleName.localeCompare(t.moduleName))){let t=n.css;t&&e.set(`module-${n.moduleName}`,t)}}var Bke=class extends Fwe{constructor(){super(...arguments),this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1}initVariables(){this.addManagedPropertyListener(`rowHeight`,()=>this.refreshRowHeightVariable()),this.getSizeEl(B1),this.getSizeEl(V1),this.getSizeEl(H1),this.getSizeEl(U1),this.getSizeEl(W1),this.refreshRowBorderWidthVariable()}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(W1)}getRowBorderWidth(){return this.getCSSVariablePixelValue(U1)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(B1)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(V1)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(Ike)}getCellPaddingLeft(){let e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(Lke),n=this.getCSSVariablePixelValue(Rke);return e-1+n*t}getCellPadding(){let e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(H1)}refreshRowHeightVariable(){let{eRootDiv:e}=this,t=e.style.getPropertyValue(`--ag-line-height`).trim(),n=this.gos.get(`rowHeight`);if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty(`--ag-line-height`,null),-1;let r=`${n}px`;return t==r?t==``?-1:Number.parseFloat(t):(e.style.setProperty(`--ag-line-height`,r),n)}getCSSVariablePixelValue(e){let t=this.lastKnownValues.get(e);if(t!=null)return t;let n=this.measureSizeEl(e);return n===`detached`||n===`no-styles`?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){let t=this.getSizeEl(e);if(t.offsetParent==null)return`detached`;let n=t.offsetWidth;return n===G1?`no-styles`:(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=aQ({tag:`div`,cls:`ag-measurement-container`}),this.eRootDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let n=this.getMeasurementContainer();t=aQ({tag:`div`});let{border:r,noWarn:i}=e;r?(t.className=`ag-measurement-element-border`,t.style.setProperty(`--ag-internal-measurement-border`,`var(${e.cssName}, solid ${G1}px)`)):t.style.width=`var(${e.cssName}, ${G1}px)`,n.appendChild(t),this.sizeEls.set(e,t);let a=this.measureSizeEl(e);a===`no-styles`&&!i&&X(9,{variable:e});let o=Lq(this.beans,t,()=>{let t=this.measureSizeEl(e);t===`detached`||t===`no-styles`||(this.lastKnownValues.set(e,t),t!==a&&(a=t,this.fireStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireStylesChangedEvent(e){e===`rowBorderWidthChanged`&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:`gridStylesChanged`,[e]:!0})}refreshRowBorderWidthVariable(){let e=this.getCSSVariablePixelValue(U1);this.eRootDiv.style.setProperty(`--ag-internal-row-border-width`,`${e}px`)}postProcessThemeChange(e,t){e&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue(`--ag-legacy-styles-loaded`)&&FJ(t?106:239)}getAdditionalCss(){let e=new Map;return e.set(`core`,[lke]),zke(e,Array.from(iSe())),e}getDefaultTheme(){return Nke}themeError(e){FJ(240,{theme:e})}},G1=15538,Vke=class extends Lwe{postConstruct(){let{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}};function K1(e,t,n){let r=e.visibleCols.headerGroupRowCount;if(n>=r)return{column:t,headerRowIndex:n};let i=t.getParent();for(;i&&i.getProvidedColumnGroup().getLevel()>n;)i=i.getParent();let a=t.isSpanHeaderHeight();return!i||a&&i.isPadding()?{column:t,headerRowIndex:r}:{column:i,headerRowIndex:i.getProvidedColumnGroup().getLevel()}}var Hke=class extends J{constructor(){super(...arguments),this.beanName=`headerNavigation`,this.currentHeaderRowWithoutSpan=-1}postConstruct(){let e=this.beans;e.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl});let t=GK(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n,{colModel:r,colGroupSvc:i,ctrlsSvc:a}=this.beans;if(typeof e==`string`?(n=r.getCol(e),n||=i?.getColumnGroup(e)??null):n=e,!n)return null;let o=a.getHeaderRowContainerCtrl()?.getAllCtrls(),s=EY(o||[]).type===`filter`,c=i$(this.beans)-1,l=-1,u=n;for(;u;)l++,u=u.getParent();let d=l;return t&&s&&d===c-1&&d++,d===-1?null:{headerRowIndex:d,column:n}}navigateVertically(e,t){let{focusSvc:n,visibleCols:r}=this.beans,{focusedHeader:i}=n;if(!i)return!1;let{headerRowIndex:a}=i,o=i.column,s=i$(this.beans),c=this.getHeaderRowType(a),l=r.headerGroupRowCount,{headerRowIndex:u,column:d,headerRowIndexWithoutSpan:f}=e===`UP`?Uke(c,o,a):Wke(o,a,l),p=!1;return u<0&&(u=0,d=o,p=!0),u>=s?(u=-1,this.currentHeaderRowWithoutSpan=-1):f!==void 0&&(this.currentHeaderRowWithoutSpan=f),!p&&!d?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:d},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){let{focusSvc:r,gos:i}=this.beans,a={...r.focusedHeader},o,s;this.currentHeaderRowWithoutSpan===-1?this.currentHeaderRowWithoutSpan=a.headerRowIndex:a.headerRowIndex=this.currentHeaderRowWithoutSpan,e===`LEFT`===i.get(`enableRtl`)?(s=`After`,o=this.findHeader(a,s)):(s=`Before`,o=this.findHeader(a,s));let c=i.getCallback(`tabToNextHeader`);if(t&&c){let e=r.focusHeaderPositionFromUserFunc({userFunc:c,headerPosition:o,direction:s});if(e){let{headerRowIndex:e}=r.focusedHeader||{};e!=null&&e!=a.headerRowIndex&&(this.currentHeaderRowWithoutSpan=e)}return e}return o||!t?r.focusHeaderPosition({headerPosition:o,direction:s,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(a,s,n)}focusNextHeaderRow(e,t,n){let r=this.beans,i=e.headerRowIndex,a=null,o,s=i$(r),c=this.beans.visibleCols.allCols;if(t===`Before`){if(i<=0)return!1;a=EY(c),o=i-1,--this.currentHeaderRowWithoutSpan}else a=c[0],o=i+1,this.currentHeaderRowWithoutSpan<s?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:l,headerRowIndex:u}=K1(this.beans,a,o);return u>=s&&(u=-1),r.focusSvc.focusHeaderPosition({headerPosition:{column:l,headerRowIndex:u},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t=`After`){if(e.getPinned())return;let n;if(YZ(e)){let r=e.getDisplayedLeafColumns();n=t===`Before`?EY(r):r[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){let{colGroupSvc:n,visibleCols:r}=this.beans,i=e.column;if(i instanceof XZ){let e=i.getDisplayedLeafColumns();i=t===`Before`?e[0]:e[e.length-1]}let a=t===`Before`?r.getColBefore(i):r.getColAfter(i);if(!a)return;let o=r.headerGroupRowCount;if(e.headerRowIndex>=o)return{headerRowIndex:e.headerRowIndex,column:a};let s=n?.getColGroupAtLevel(a,e.headerRowIndex);return s?s.isPadding()&&a.isSpanHeaderHeight()?{headerRowIndex:r.headerGroupRowCount,column:a}:{headerRowIndex:e.headerRowIndex,column:s??a}:{headerRowIndex:a instanceof SY&&a.isSpanHeaderHeight()?r.headerGroupRowCount:e.headerRowIndex,column:a}}getHeaderRowType(e){let t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function Uke(e,t,n){let r=n-1;if(e!==`filter`){let e=t instanceof SY&&t.isSpanHeaderHeight(),n=t.getParent();for(;n&&(n.getProvidedColumnGroup().getLevel()>r||e&&n.isPadding());)n=n.getParent();if(n)return e?{column:n,headerRowIndex:n.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:r}:{column:n,headerRowIndex:r,headerRowIndexWithoutSpan:r}}return{column:t,headerRowIndex:r,headerRowIndexWithoutSpan:r}}function Wke(e,t,n){let r=t+1,i={column:e,headerRowIndex:r,headerRowIndexWithoutSpan:r};if(e instanceof XZ){if(r>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:r};let t=e.getDisplayedChildren()[0];if(t instanceof XZ&&t.isPadding()){let e=t.getDisplayedLeafColumns()[0];e.isSpanHeaderHeight()&&(t=e)}i.column=t,t instanceof SY&&t.isSpanHeaderHeight()&&(i.headerRowIndex=n,i.headerRowIndexWithoutSpan=r)}return i}var Gke=class extends J{constructor(){super(...arguments),this.beanName=`focusSvc`,this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){let e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(KCe(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get(`suppressFocusAfterRefresh`)?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;let e=this.focusedCell.column;e!==this.colModel.getCol(e.getId())&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){let{gos:e,focusedCell:t}=this;return e.get(`suppressFocusAfterRefresh`)||e.get(`suppressCellFocus`)||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get(`suppressFocusAfterRefresh`)||!this.focusedHeader||!this.isDomDataPresentInHierarchy(WK(this.beans),d$)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){let e=WK(this.beans);return this.isDomDataPresentInHierarchy(e,NQ)?!0:this.isDomDataPresentInHierarchy(e,FQ)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(qJ(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){let{rowIndex:t,rowPinned:n,column:r}=e,i={rowIndex:t,rowPinned:n,column:r,isFullWidthCell:!1},a=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return a&&(i.isFullWidthCell=a.isFullWidth()),i}clearFocusedCell(){if(this.focusedCell==null)return;let e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:`cellFocusCleared`,...e})}setFocusedCell(e){this.setFocusRecovered();let{column:t,rowIndex:n,rowPinned:r,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:a=!1,sourceEvent:o}=e,s=this.colModel.getCol(t);if(!s){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:LK(r),column:s};let c=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:`cellFocused`,...c,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:i,preventScrollOnBrowserFocus:a,sourceEvent:o}),this.previousCellFocusParams=c}isCellFocused(e){return this.focusedCell==null?!1:J$(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;let{column:t,rowCtrl:{rowIndex:n,pinned:r}}=e,{column:i,headerRowIndex:a}=this.focusedHeader;return t===i&&n===a&&r==i.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),t$(this.beans))return!1;let{direction:t,fromTab:n,allowUserOverride:r,event:i,fromCell:a,rowWithoutSpanValue:o,scroll:s=!0}=e,{headerPosition:c}=e;if(a&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(c);if(r){let e=this.focusedHeader,r=i$(this.beans);if(n){let n=this.gos.getCallback(`tabToNextHeader`);n&&(c=this.getHeaderPositionFromUserFunc({userFunc:n,direction:t,currentPosition:e,headerPosition:c,headerRowCount:r}))}else{let t=this.gos.getCallback(`navigateToNextHeader`);t&&i&&(c=t({key:i.key,previousHeaderPosition:e,nextHeaderPosition:c,headerRowCount:r,event:i}))}}return c?this.focusProvidedHeaderPosition({headerPosition:c,direction:t,event:i,fromCell:a,rowWithoutSpanValue:o,scroll:s}):!1}focusHeaderPositionFromUserFunc(e){if(t$(this.beans))return!1;let{userFunc:t,headerPosition:n,direction:r,event:i}=e,a=this.focusedHeader,o=i$(this.beans),s=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:a,headerPosition:n,headerRowCount:o});return!!s&&this.focusProvidedHeaderPosition({headerPosition:s,direction:r,event:i})}getHeaderPositionFromUserFunc(e){let{userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:a}=e,o=t({backwards:n===`Before`,previousHeaderPosition:r,nextHeaderPosition:i,headerRowCount:a});return o===!0?r:o===!1?null:o}focusProvidedHeaderPosition(e){let{headerPosition:t,direction:n,fromCell:r,rowWithoutSpanValue:i,event:a,scroll:o=!0}=e,{column:s,headerRowIndex:c}=t,{filterManager:l,ctrlsSvc:u,headerNavigation:d}=this.beans;if(this.focusedHeader&&cEe(e.headerPosition,this.focusedHeader))return!1;if(c===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:s,event:a});o&&d?.scrollToColumn(s,n);let f=u.getHeaderRowContainerCtrl(s.getPinned())?.focusHeader(t.headerRowIndex,s,a)||!1;return d&&f&&(i!=null||r)&&(d.currentHeaderRowWithoutSpan=i??-1),f}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;let t=K1(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;let t=i$(this.beans)-1,n=EY(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===LK(t)}focusOverlay(e){let t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&JX(t,e)}focusGridView(e){let{backwards:t=!1,canFocusOverlay:n=!0,event:r}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(n$(this.beans))return t&&!t$(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:r$(this.beans,t);let i=t?vDe(this.beans):_De(this.beans);if(i){let n=e.column??this.focusedHeader?.column,{rowIndex:a,rowPinned:o}=i,s=Y$(this.beans,i);if(!n||!s||a==null)return!1;if(n.isSuppressNavigable(s)){let e=this.gos.get(`enableRtl`),t;return t=!r||r.key===Z.TAB?e?Z.LEFT:Z.RIGHT:r.key,this.beans.navigation?.navigateToNextCell(null,t,{rowIndex:a,column:n,rowPinned:o||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:a,column:n,rowPinned:o}),t&&this.rowRenderer.getRowByPosition(i)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(i,t)?!0:(this.setFocusedCell({rowIndex:a,column:n,rowPinned:LK(o),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:a,rowPinned:o,column:n}),!0)}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){let n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:i$(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},Kke=class extends J{constructor(){super(...arguments),this.beanName=`scrollVisibleSvc`}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.horizontalScrollShowing=this.gos.get(`alwaysShowHorizontalScroll`)===!0,this.verticalScrollShowing=this.gos.get(`alwaysShowVerticalScroll`)===!0,this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){let{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){let e=this.ctrlsSvc.get(`center`);if(!e||this.colAnimation?.isActive())return;let t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){let e=this.ctrlsSvc.get(`center`),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:`scrollGapChanged`}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:`scrollVisibilityChanged`}))}getScrollbarWidth(){if(this.scrollbarWidth==null){let e=this.gos.get(`scrollbarWidth`),t=typeof e==`number`&&e>=0?e:zCe();t!=null&&(this.scrollbarWidth=t,this.eventSvc.dispatchEvent({type:`scrollbarWidthChanged`}))}return this.scrollbarWidth}},qke=class extends J{constructor(){super(...arguments),this.beanName=`gridDestroySvc`,this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;let{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:`gridPreDestroyed`,state:e?.getState()??{}}),this.destroyCalled=!0,t.get(`gridCtrl`)?.destroyGridUi(),n.destroy(),super.destroy()}},q1=new Set([`gridPreDestroyed`,`fillStart`,`pasteStart`]),J1=`columnEverythingChanged.newColumnsLoaded.columnPivotModeChanged.pivotMaxColumnsExceeded.columnRowGroupChanged.expandOrCollapseAll.columnPivotChanged.gridColumnsChanged.columnValueChanged.columnMoved.columnVisible.columnPinned.columnGroupOpened.columnResized.displayedColumnsChanged.virtualColumnsChanged.columnHeaderMouseOver.columnHeaderMouseLeave.columnHeaderClicked.columnHeaderContextMenu.asyncTransactionsFlushed.rowGroupOpened.rowDataUpdated.pinnedRowDataChanged.pinnedRowsChanged.rangeSelectionChanged.cellSelectionChanged.chartCreated.chartRangeSelectionChanged.chartOptionsChanged.chartDestroyed.toolPanelVisibleChanged.toolPanelSizeChanged.modelUpdated.cutStart.cutEnd.pasteStart.pasteEnd.fillStart.fillEnd.cellSelectionDeleteStart.cellSelectionDeleteEnd.rangeDeleteStart.rangeDeleteEnd.undoStarted.undoEnded.redoStarted.redoEnded.cellClicked.cellDoubleClicked.cellMouseDown.cellContextMenu.cellValueChanged.cellEditRequest.rowValueChanged.headerFocused.cellFocused.rowSelected.selectionChanged.tooltipShow.tooltipHide.cellKeyDown.cellMouseOver.cellMouseOut.filterChanged.filterModified.filterUiChanged.filterOpened.floatingFilterUiChanged.advancedFilterBuilderVisibleChanged.sortChanged.virtualRowRemoved.rowClicked.rowDoubleClicked.gridReady.gridPreDestroyed.gridSizeChanged.viewportChanged.firstDataRendered.dragStarted.dragStopped.dragCancelled.rowEditingStarted.rowEditingStopped.cellEditingStarted.cellEditingStopped.bodyScroll.bodyScrollEnd.paginationChanged.componentStateChanged.storeRefreshed.stateUpdated.columnMenuVisibleChanged.contextMenuVisibleChanged.rowDragEnter.rowDragMove.rowDragLeave.rowDragEnd.rowDragCancel.findChanged.rowResizeStarted.rowResizeEnded.columnsReset.bulkEditingStarted.bulkEditingStopped.batchEditingStarted.batchEditingStopped`.split(`.`).reduce((e,t)=>(e[t]=ESe(t),e),{}),Y1=(e,t)=>({tag:`span`,ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":`true`}}),Jke={tag:`span`,cls:`ag-sort-indicator-container`,children:[Y1(`Order`,`order`),Y1(`Asc`,`ascending-icon`),Y1(`Desc`,`descending-icon`),Y1(`Mixed`,`mixed-icon`),Y1(`None`,`none-icon`)]},X1=class extends oX{constructor(e){super(),this.eSortOrder=null,this.eSortAsc=null,this.eSortDesc=null,this.eSortMixed=null,this.eSortNone=null,e||this.setTemplate(Jke)}attachCustomElements(e,t,n,r,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon(`sortAscending`,this.eSortAsc,e),this.addInIcon(`sortDescending`,this.eSortDesc,e),this.addInIcon(`sortUnSort`,this.eSortNone,e);let n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener(`unSortIcon`,n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;let r=y$(e,this.beans,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let{eSortAsc:e,eSortDesc:t,eSortNone:n,column:r,gos:i,beans:a}=this,o=a.sortSvc.getDisplaySortForColumn(r);e&&fq(e,o===`asc`,{skipAriaHidden:!0}),t&&fq(t,o===`desc`,{skipAriaHidden:!0}),n&&fq(n,!(!r.getColDef().unSortIcon&&!i.get(`unSortIcon`))&&o==null,{skipAriaHidden:!0})}setupMultiSortIndicator(){let{eSortMixed:e,column:t,gos:n}=this;this.addInIcon(`sortUnSort`,e,t);let r=t.getColDef().showRowGroup;ZJ(n)&&r&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){let{eSortMixed:e,beans:t,column:n}=this;e&&fq(e,t.sortSvc.getDisplaySortForColumn(n)===`mixed`,{skipAriaHidden:!0})}updateSortOrder(){let{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;let r=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,a=r.some(e=>n.getDisplaySortIndexForColumn(e)??!1);fq(e,i>=0&&a,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():Cq(e)}},Yke={selector:`AG-SORT-INDICATOR`,component:X1},Z1=[`asc`,`desc`,null],Xke=class extends J{constructor(){super(...arguments),this.beanName=`sortSvc`}progressSort(e,t,n){let r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}progressSortFromEvent(e,t){let n=this.gos.get(`multiSortKey`)===`ctrl`?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,`uiColumnSorted`)}setSortForColumn(e,t,n,r){t!==`asc`&&t!==`desc`&&(t=null);let{gos:i,showRowGroupCols:a}=this.beans,o=ZJ(i),s=[e];if(o&&e.getColDef().showRowGroup){let t=(a?.getSourceColumnsForGroupColumn?.(e))?.filter(e=>e.isSortable());t&&(s=[e,...t])}for(let e of s)this.setColSort(e,t,r);let c=(n||i.get(`alwaysMultiSort`))&&!i.get(`suppressMultiSort`),l=[];if(!c){let e=this.clearSortBarTheseColumns(s,r);l.push(...e)}this.updateSortIndex(e),l.push(...s),this.dispatchSortChangedEvents(r,l)}updateSortIndex(e){let{gos:t,colModel:n,showRowGroupCols:r}=this.beans,i=ZJ(t),a=r?.getShowRowGroupCol(e.getId()),o=i&&a||e,s=this.getColumnsWithSortingOrdered();n.forAllCols(e=>this.setColSortIndex(e,null));let c=s.filter(e=>i&&e.getColDef().showRowGroup?!1:e!==o);(o.getSort()?[...c,o]:c).forEach((e,t)=>this.setColSortIndex(e,t))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){let n={type:`sortChanged`,source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){let n=[];return this.beans.colModel.forAllCols(r=>{e.includes(r)||(r.getSort()&&n.push(r),this.setColSort(r,void 0,t))}),n}getNextSortDirection(e){let t=e.getColDef().sortingOrder??this.gos.get(`sortingOrder`)??Z1,n=t.indexOf(e.getSort()),r=n<0,i=n==t.length-1;return r||i?t[0]:t[n+1]}getIndexedSortMap(){let{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:r}=this.beans,i=[];if(t.forAllCols(e=>{e.getSort()&&i.push(e)}),t.isPivotMode()){let t=ZJ(e);i=i.filter(e=>{let r=!!e.getAggFunc(),i=!e.isPrimary(),a=t?n?.getShowRowGroupCol(e.getId()):e.getColDef().showRowGroup;return r||i||a})}let a=r?.columns.filter(e=>!!e.getSort())??[],o={};i.forEach((e,t)=>o[e.getId()]=t),i.sort((e,t)=>{let n=e.getSortIndex(),r=t.getSortIndex();return n!=null&&r!=null?n-r:n==null&&r==null?o[e.getId()]>o[t.getId()]?1:-1:r==null?-1:1});let s=ZJ(e)&&!!a.length;s&&(i=[...new Set(i.map(e=>n?.getShowRowGroupCol(e.getId())??e))]);let c=new Map;if(i.forEach((e,t)=>c.set(e,t)),s)for(let e of a){let t=n.getShowRowGroupCol(e.getId());c.set(e,c.get(t))}return c}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){let t=ZJ(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){let t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();let n=e.getColDef().field!=null||e.getColDef().valueGetter?[e,...t]:t,r=n[0].getSort();return n.every(e=>e.getSort()==r)?r:`mixed`}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let r=0;e.addManagedListeners(t,{movingChanged:()=>{r=Date.now()}}),n&&e.addManagedElementListeners(n,{click:e=>{let n=t.isMoving(),i=Date.now()-r<50;n||i||this.progressSortFromEvent(t,e)}});let i=()=>{let n=t.getSort();if(e.toggleCss(`ag-header-cell-sorted-asc`,n===`asc`),e.toggleCss(`ag-header-cell-sorted-desc`,n===`desc`),e.toggleCss(`ag-header-cell-sorted-none`,!n),t.getColDef().showRowGroup){let n=!(this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t))?.every(e=>t.getSort()==e.getSort());e.toggleCss(`ag-header-cell-sorted-mixed`,n)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){let{sort:t,initialSort:n,sortIndex:r,initialSortIndex:i}=e.colDef;t===void 0?(n===`asc`||n===`desc`)&&(e.sort=n):(t===`asc`||t===`desc`)&&(e.sort=t),r===void 0?i!==null&&(e.sortIndex=i):r!==null&&(e.sortIndex=r)}updateColSort(e,t,n){t!==void 0&&(t===`desc`||t===`asc`?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent(`sortChanged`,n)),e.dispatchStateUpdatedEvent(`sort`)}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent(`sortIndex`)}createSortIndicator(e){return new X1(e)}getSortIndicatorSelector(){return Yke}},Q1={agSetColumnFilter:`SetFilter`,agSetColumnFloatingFilter:`SetFilter`,agMultiColumnFilter:`MultiFilter`,agMultiColumnFloatingFilter:`MultiFilter`,agGroupColumnFilter:`GroupFilter`,agGroupColumnFloatingFilter:`GroupFilter`,agGroupCellRenderer:`GroupCellRenderer`,agGroupRowRenderer:`GroupCellRenderer`,agRichSelect:`RichSelect`,agRichSelectCellEditor:`RichSelect`,agDetailCellRenderer:`SharedMasterDetail`,agSparklineCellRenderer:`Sparklines`,agDragAndDropImage:`SharedDragAndDrop`,agColumnHeader:`ColumnHeaderComp`,agColumnGroupHeader:`ColumnGroupHeaderComp`,agSortIndicator:`Sort`,agAnimateShowChangeCellRenderer:`HighlightChanges`,agAnimateSlideCellRenderer:`HighlightChanges`,agLoadingCellRenderer:`LoadingCellRenderer`,agSkeletonCellRenderer:`SkeletonCellRenderer`,agCheckboxCellRenderer:`CheckboxCellRenderer`,agLoadingOverlay:`Overlay`,agNoRowsOverlay:`Overlay`,agTooltipComponent:`Tooltip`,agReadOnlyFloatingFilter:`CustomFilter`,agTextColumnFilter:`TextFilter`,agNumberColumnFilter:`NumberFilter`,agDateColumnFilter:`DateFilter`,agDateInput:`DateFilter`,agTextColumnFloatingFilter:`TextFilter`,agNumberColumnFloatingFilter:`NumberFilter`,agDateColumnFloatingFilter:`DateFilter`,agCellEditor:`TextEditor`,agSelectCellEditor:`SelectEditor`,agTextCellEditor:`TextEditor`,agNumberCellEditor:`NumberEditor`,agDateCellEditor:`DateEditor`,agDateStringCellEditor:`DateEditor`,agCheckboxCellEditor:`CheckboxEditor`,agLargeTextCellEditor:`LargeTextEditor`,agMenuItem:`MenuItem`,agColumnsToolPanel:`ColumnsToolPanel`,agFiltersToolPanel:`FiltersToolPanel`,agNewFiltersToolPanel:`NewFiltersToolPanel`,agAggregationComponent:`StatusBar`,agSelectedRowCountComponent:`StatusBar`,agTotalRowCountComponent:`StatusBar`,agFilteredRowCountComponent:`StatusBar`,agTotalAndFilteredRowCountComponent:`StatusBar`,agFindCellRenderer:`Find`};function $1(e){return`"${e}"`}var Zke=()=>({checkboxSelection:{version:`32.2`,message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:`32.2`,message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:`32.2`,message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:`32.2`,message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:`32.2`,message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."},rowGroupingHierarchy:{version:`34.3`,message:"Use `colDef.groupHierarchy` instead."}}),Qke={aggFunc:`SharedAggregation`,autoHeight:`RowAutoHeight`,cellClass:`CellStyle`,cellClassRules:`CellStyle`,cellEditor:({cellEditor:e,editable:t})=>t?typeof e==`string`?Q1[e]??`CustomEditor`:`CustomEditor`:null,cellRenderer:({cellRenderer:e})=>typeof e==`string`?Q1[e]:null,cellStyle:`CellStyle`,columnChooserParams:`ColumnMenu`,contextMenuItems:`ContextMenu`,dndSource:`DragAndDrop`,dndSourceOnRowDrag:`DragAndDrop`,editable:({editable:e,cellEditor:t})=>e&&!t?`TextEditor`:null,enableCellChangeFlash:`HighlightChanges`,enablePivot:`SharedPivot`,enableRowGroup:`SharedRowGrouping`,enableValue:`SharedAggregation`,filter:({filter:e})=>e&&typeof e!=`string`&&typeof e!=`boolean`?`CustomFilter`:typeof e==`string`?Q1[e]??`ColumnFilter`:`ColumnFilter`,floatingFilter:`ColumnFilter`,getQuickFilterText:`QuickFilter`,headerTooltip:`Tooltip`,headerTooltipValueGetter:`Tooltip`,mainMenuItems:`ColumnMenu`,menuTabs:e=>{let t=[`columnsMenuTab`,`generalMenuTab`];return e.menuTabs?.some(e=>t.includes(e))?`ColumnMenu`:null},pivot:`SharedPivot`,pivotIndex:`SharedPivot`,rowDrag:`RowDrag`,rowGroup:`SharedRowGrouping`,rowGroupIndex:`SharedRowGrouping`,tooltipField:`Tooltip`,tooltipValueGetter:`Tooltip`,tooltipComponentSelector:`Tooltip`,spanRows:`CellSpan`,groupHierarchy:`SharedRowGrouping`},$ke=()=>({autoHeight:{supportedRowModels:[`clientSide`,`serverSide`],validate:(e,{paginationAutoPageSize:t})=>t?`colDef.autoHeight is not supported with paginationAutoPageSize.`:null},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer===`agGroupCellRenderer`)&&`checkbox`in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(e,t)=>t.autoSizeStrategy?`colDef.flex is not supported with gridOptions.autoSizeStrategy`:null},headerCheckboxSelection:{supportedRowModels:[`clientSide`,`serverSide`],validate:(e,{rowSelection:t})=>t===`multiple`?null:`headerCheckboxSelection is only supported with rowSelection=multiple`},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:[`clientSide`],validate:(e,{rowSelection:t})=>t===`multiple`?null:`headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple`},headerCheckboxSelectionFilteredOnly:{supportedRowModels:[`clientSide`],validate:(e,{rowSelection:t})=>t===`multiple`?null:`headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple`},headerValueGetter:{validate:e=>{let t=e.headerValueGetter;return typeof t==`function`||typeof t==`string`?null:`headerValueGetter must be a function or a valid string expression`}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return LJ(262);if(e.smallLeft)return LJ(263);if(e.smallRight)return LJ(264)}return null}},sortingOrder:{validate:e=>{let t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){let e=t.filter(e=>!Z1.includes(e));if(e.length>0)return`sortingOrder must be an array with elements from [${Z1.map(MJ).join()}], currently it includes [${e.map(MJ).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},type:{validate:e=>{let t=e.type;return t instanceof Array?t.some(e=>typeof e!=`string`)?`if colDef.type is supplied an array it should be of type 'string[]'`:null:typeof t==`string`?null:`colDef.type should be of type 'string' | 'string[]'`}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:`colDef.rowSpan requires suppressRowTransform to be enabled.`},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(e,{rowSelection:t,cellSelection:n,suppressRowTransform:r,enableCellSpan:i,rowDragEntireRow:a,enableCellTextSelection:o})=>typeof t==`object`&&t?.mode===`singleRow`&&t?.enableClickSelection?`colDef.spanRows is not supported with rowSelection.clickSelection`:n?`colDef.spanRows is not supported with cellSelection.`:r?`colDef.spanRows is not supported with suppressRowTransform.`:i?a?`colDef.spanRows is not supported with rowDragEntireRow.`:o?`colDef.spanRows is not supported with enableCellTextSelection.`:null:`colDef.spanRows requires enableCellSpan to be enabled.`},groupHierarchy:{validate(e,{groupHierarchyConfig:t={}},n){let r=new Set([`year`,`quarter`,`month`,`formattedMonth`,`day`,`hour`,`minute`,`second`]),i=[];for(let a of e.groupHierarchy??[]){if(typeof a==`object`){n.validation?.validateColDef(a);continue}!r.has(a)&&!(a in t)&&i.push($1(a))}return i.length>0?`${`The following parts of colDef.groupHierarchy are not recognised: ${i.join(`, `)}.`}
${`Choose one of ${[...r].map($1).join(`, `)}, or define your own parts in gridOptions.groupHierarchyConfig.`}`:null}}}),eAe={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,headerTooltipValueGetter:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,tooltipComponentSelector:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0,rowGroupingHierarchy:void 0,groupHierarchy:void 0},tAe=()=>Object.keys(eAe),nAe=()=>({objectName:`colDef`,allProperties:tAe(),docsUrl:`column-properties/`,deprecations:Zke(),validations:$ke()}),rAe=`overlayLoadingTemplate.overlayNoRowsTemplate.gridId.quickFilterText.rowModelType.editType.domLayout.clipboardDelimiter.rowGroupPanelShow.multiSortKey.pivotColumnGroupTotals.pivotRowTotals.pivotPanelShow.fillHandleDirection.groupDisplayType.treeDataDisplayType.treeDataChildrenField.treeDataParentIdField.colResizeDefault.tooltipTrigger.serverSidePivotResultFieldSeparator.columnMenu.tooltipShowMode.invalidEditValueMode.grandTotalRow.themeCssLayer.findSearchValue.styleNonce.renderingMode`.split(`.`),iAe=`components.rowStyle.context.autoGroupColumnDef.localeText.icons.datasource.dragAndDropImageComponentParams.serverSideDatasource.viewportDatasource.groupRowRendererParams.aggFuncs.fullWidthCellRendererParams.defaultColGroupDef.defaultColDef.defaultCsvExportParams.defaultExcelExportParams.columnTypes.rowClassRules.detailCellRendererParams.loadingCellRendererParams.loadingOverlayComponentParams.noRowsOverlayComponentParams.popupParent.themeStyleContainer.statusBar.chartThemeOverrides.customChartThemes.chartToolPanelsDef.dataTypeDefinitions.advancedFilterParent.advancedFilterBuilderParams.advancedFilterParams.initialState.autoSizeStrategy.selectionColumnDef.findOptions.filterHandlers.groupHierarchyConfig`.split(`.`),aAe=[`sortingOrder`,`alignedGrids`,`rowData`,`columnDefs`,`excelStyles`,`pinnedTopRowData`,`pinnedBottomRowData`,`chartThemes`,`rowClass`,`paginationPageSizeSelector`],e0=`rowHeight.detailRowHeight.rowBuffer.headerHeight.groupHeaderHeight.groupLockGroupColumns.floatingFiltersHeight.pivotHeaderHeight.pivotGroupHeaderHeight.groupDefaultExpanded.pivotDefaultExpanded.viewportRowModelPageSize.viewportRowModelBufferSize.autoSizePadding.maxBlocksInCache.maxConcurrentDatasourceRequests.tooltipShowDelay.tooltipHideDelay.cacheOverflowSize.paginationPageSize.cacheBlockSize.infiniteInitialRowCount.serverSideInitialRowCount.scrollbarWidth.asyncTransactionWaitMillis.blockLoadDebounceMillis.keepDetailRowsCount.undoRedoCellEditingLimit.cellFlashDuration.cellFadeDuration.tabIndex.pivotMaxGeneratedColumns.rowDragInsertDelay`.split(`.`),oAe=[`theme`,`rowSelection`],sAe=[`cellSelection`,`sideBar`,`rowNumbers`,`suppressGroupChangesColumnVisibility`,`groupAggFiltering`,`suppressStickyTotalRow`,`groupHideParentOfSingleChild`,`enableRowPinning`],t0=`loadThemeGoogleFonts.suppressMakeColumnVisibleAfterUnGroup.suppressRowClickSelection.suppressCellFocus.suppressHeaderFocus.suppressHorizontalScroll.groupSelectsChildren.alwaysShowHorizontalScroll.alwaysShowVerticalScroll.debug.enableBrowserTooltips.enableCellExpressions.groupSuppressBlankHeader.suppressMenuHide.suppressRowDeselection.unSortIcon.suppressMultiSort.alwaysMultiSort.singleClickEdit.suppressLoadingOverlay.suppressNoRowsOverlay.suppressAutoSize.skipHeaderOnAutoSize.suppressColumnMoveAnimation.suppressMoveWhenColumnDragging.suppressMovableColumns.suppressFieldDotNotation.enableRangeSelection.enableRangeHandle.enableFillHandle.suppressClearOnFillReduction.deltaSort.suppressTouch.allowContextMenuWithControlKey.suppressContextMenu.suppressDragLeaveHidesColumns.suppressRowGroupHidesColumns.suppressMiddleClickScrolls.suppressPreventDefaultOnMouseWheel.suppressCopyRowsToClipboard.copyHeadersToClipboard.copyGroupHeadersToClipboard.pivotMode.suppressAggFuncInHeader.suppressColumnVirtualisation.alwaysAggregateAtRootLevel.suppressFocusAfterRefresh.functionsReadOnly.animateRows.groupSelectsFiltered.groupRemoveSingleChildren.groupRemoveLowestSingleChildren.enableRtl.enableCellSpan.suppressClickEdit.rowDragEntireRow.rowDragManaged.suppressRowDrag.suppressMoveWhenRowDragging.rowDragMultiRow.enableGroupEdit.embedFullWidthRows.suppressPaginationPanel.groupHideOpenParents.groupAllowUnbalanced.pagination.paginationAutoPageSize.suppressScrollOnNewData.suppressScrollWhenPopupsAreOpen.purgeClosedRowNodes.cacheQuickFilter.includeHiddenColumnsInQuickFilter.ensureDomOrder.accentedSort.suppressChangeDetection.valueCache.valueCacheNeverExpires.aggregateOnlyChangedColumns.suppressAnimationFrame.suppressExcelExport.suppressCsvExport.includeHiddenColumnsInAdvancedFilter.suppressMultiRangeSelection.enterNavigatesVerticallyAfterEdit.enterNavigatesVertically.suppressPropertyNamesCheck.rowMultiSelectWithClick.suppressRowHoverHighlight.suppressRowTransform.suppressClipboardPaste.suppressLastEmptyLineOnPaste.enableCharts.suppressMaintainUnsortedOrder.enableCellTextSelection.suppressBrowserResizeObserver.suppressMaxRenderedRowRestriction.excludeChildrenWhenTreeDataFiltering.tooltipMouseTrack.tooltipInteraction.keepDetailRows.paginateChildRows.preventDefaultOnContextMenu.undoRedoCellEditing.allowDragFromColumnsToolPanel.pivotSuppressAutoColumn.suppressExpandablePivotGroups.debounceVerticalScrollbar.detailRowAutoHeight.serverSideSortAllLevels.serverSideEnableClientSideSort.serverSideOnlyRefreshFilteredGroups.suppressAggFilteredOnly.showOpenedGroup.suppressClipboardApi.suppressModelUpdateAfterUpdateTransaction.stopEditingWhenCellsLoseFocus.groupMaintainOrder.columnHoverHighlight.readOnlyEdit.suppressRowVirtualisation.enableCellEditingOnBackspace.resetRowDataOnUpdate.removePivotHeaderRowWhenSingleValueColumn.suppressCopySingleCellRanges.suppressGroupRowsSticky.suppressCutToClipboard.rowGroupPanelSuppressSort.allowShowChangeAfterFilter.enableAdvancedFilter.masterDetail.treeData.reactiveCustomComponents.applyQuickFilterBeforePivotOrAgg.suppressServerSideFullWidthLoadingRow.suppressAdvancedFilterEval.loading.maintainColumnOrder.enableStrictPivotColumnOrder.suppressSetFilterByDefault.enableFilterHandlers.suppressStartEditOnTab.hidePaddedHeaderRows.ssrmExpandAllAffectsAllRows`.split(`.`),cAe=`doesExternalFilterPass.processPivotResultColDef.processPivotResultColGroupDef.getBusinessKeyForNode.isRowSelectable.rowDragText.groupRowRenderer.dragAndDropImageComponent.fullWidthCellRenderer.loadingCellRenderer.loadingOverlayComponent.noRowsOverlayComponent.detailCellRenderer.quickFilterParser.quickFilterMatcher.getLocaleText.isExternalFilterPresent.getRowHeight.getRowClass.getRowStyle.getFullRowEditValidationErrors.getContextMenuItems.getMainMenuItems.processRowPostCreate.processCellForClipboard.getGroupRowAgg.isFullWidthRow.sendToClipboard.focusGridInnerElement.navigateToNextHeader.tabToNextHeader.navigateToNextCell.tabToNextCell.processCellFromClipboard.getDocument.postProcessPopup.getChildCount.getDataPath.isRowMaster.postSortRows.processHeaderForClipboard.processUnpinnedColumns.processGroupHeaderForClipboard.paginationNumberFormatter.processDataFromClipboard.getServerSideGroupKey.isServerSideGroup.createChartContainer.getChartToolbarItems.fillOperation.isApplyServerSideTransaction.getServerSideGroupLevelParams.isServerSideGroupOpenByDefault.isGroupOpenByDefault.initialGroupOrderComparator.loadingCellRendererSelector.getRowId.chartMenuItems.groupTotalRow.alwaysPassFilter.isRowPinnable.isRowPinned.isRowValidDropPosition`.split(`.`),lAe=()=>[...aAe,...iAe,...rAe,...e0,...cAe,...t0,...sAe,...oAe],uAe=()=>({suppressLoadingOverlay:{version:`32`,message:"Use `loading`=false instead."},enableFillHandle:{version:`32.2`,message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:`32.2`,message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:`32.2`,message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:`32.2`,message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:`32.2`,message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:`32.2`,message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:`32.2`,message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:`32.2`,message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:`32.2`,message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:`32.2`,message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:`32.2`,message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:`32.2`,message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:`32.2`,message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:`32.2`,message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:`32.2`,message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:`32.2`,message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:`32.2`,message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:`32.2`,message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:`32.2`,message:`The grid always uses the browser's ResizeObserver, this grid option has no effect.`},onColumnEverythingChanged:{version:`32.2`,message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:`33`,message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:`33`,message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:`33`,message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:`33`,message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:`33`,message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:`33`,message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:`33`,message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:`34`,message:`Advanced filter no longer uses function evaluation, so this option has no effect.`}});function n0(e,t,n){return typeof t==`number`||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var dAe={alignedGrids:`AlignedGrids`,allowContextMenuWithControlKey:`ContextMenu`,autoSizeStrategy:`ColumnAutoSize`,cellSelection:`CellSelection`,columnHoverHighlight:`ColumnHover`,datasource:`InfiniteRowModel`,doesExternalFilterPass:`ExternalFilter`,editType:`EditCore`,invalidEditValueMode:`EditCore`,enableAdvancedFilter:`AdvancedFilter`,enableCellSpan:`CellSpan`,enableCharts:`IntegratedCharts`,enableRangeSelection:`CellSelection`,enableRowPinning:`PinnedRow`,findSearchValue:`Find`,getFullRowEditValidationErrors:`EditCore`,getContextMenuItems:`ContextMenu`,getLocaleText:`Locale`,getMainMenuItems:`ColumnMenu`,getRowClass:`RowStyle`,getRowStyle:`RowStyle`,groupTotalRow:`SharedRowGrouping`,grandTotalRow:`ClientSideRowModelHierarchy`,initialState:`GridState`,isExternalFilterPresent:`ExternalFilter`,isRowPinnable:`PinnedRow`,isRowPinned:`PinnedRow`,localeText:`Locale`,masterDetail:`SharedMasterDetail`,pagination:`Pagination`,pinnedBottomRowData:`PinnedRow`,pinnedTopRowData:`PinnedRow`,pivotMode:`SharedPivot`,pivotPanelShow:`RowGroupingPanel`,quickFilterText:`QuickFilter`,rowClass:`RowStyle`,rowClassRules:`RowStyle`,rowData:`ClientSideRowModel`,rowDragManaged:`RowDrag`,rowGroupPanelShow:`RowGroupingPanel`,rowNumbers:`RowNumbers`,rowSelection:`SharedRowSelection`,rowStyle:`RowStyle`,serverSideDatasource:`ServerSideRowModel`,sideBar:`SideBar`,statusBar:`StatusBar`,treeData:`SharedTreeData`,undoRedoCellEditing:`UndoRedoEdit`,valueCache:`ValueCache`,viewportDatasource:`ViewportRowModel`},fAe=()=>{let e={autoSizePadding:{validate({autoSizePadding:e}){return n0(`autoSizePadding`,e,0)}},cacheBlockSize:{supportedRowModels:[`serverSide`,`infinite`],validate({cacheBlockSize:e}){return n0(`cacheBlockSize`,e,1)}},cacheOverflowSize:{validate({cacheOverflowSize:e}){return n0(`cacheOverflowSize`,e,1)}},datasource:{supportedRowModels:[`infinite`]},domLayout:{validate:e=>{let t=e.domLayout,n=[`autoHeight`,`normal`,`print`];return t&&!n.includes(t)?`domLayout must be one of [${n.join()}], currently it's ${t}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:[`clientSide`],validate({enableRowPinning:e,pinnedTopRowData:t,pinnedBottomRowData:n}){return e&&(t||n)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:[`clientSide`],validate({enableRowPinning:e,isRowPinnable:t,pinnedTopRowData:n,pinnedBottomRowData:r}){return t&&(n||r)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!e&&t?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:[`clientSide`],validate({enableRowPinning:e,isRowPinned:t,pinnedTopRowData:n,pinnedBottomRowData:r}){return t&&(n||r)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!e&&t?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:[`clientSide`]},groupHideOpenParents:{supportedRowModels:[`clientSide`,`serverSide`],dependencies:{groupTotalRow:{required:[void 0,`bottom`]},treeData:{required:[void 0,!1],reason:`Tree Data has values at the group level so it doesn't make sense to hide them.`}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:[`multiple`]}}},groupHierarchyConfig:{validate({groupHierarchyConfig:e={}},t,n){for(let t of Object.keys(e))n.validation?.validateColDef(e[t]);return null}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return LJ(262);if(e.smallLeft)return LJ(263);if(e.smallRight)return LJ(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:e}){return n0(`infiniteInitialRowCount`,e,1)}},initialGroupOrderComparator:{supportedRowModels:[`clientSide`]},ssrmExpandAllAffectsAllRows:{validate:e=>{if(typeof e.ssrmExpandAllAffectsAllRows==`boolean`){if(e.rowModelType!==`serverSide`)return`'ssrmExpandAllAffectsAllRows' is only supported with the Server Side Row Model.`;if(e.ssrmExpandAllAffectsAllRows&&typeof e.getRowId!=`function`)return`'getRowId' callback must be provided for Server Side Row Model grouping to work correctly.`}return null}},keepDetailRowsCount:{validate({keepDetailRowsCount:e}){return n0(`keepDetailRowsCount`,e,1)}},paginationPageSize:{validate({paginationPageSize:e}){return n0(`paginationPageSize`,e,1)}},paginationPageSizeSelector:{validate:e=>{let t=e.paginationPageSizeSelector;return typeof t==`boolean`||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:`Pivot Mode is not supported with Tree Data.`}}},quickFilterText:{supportedRowModels:[`clientSide`]},rowBuffer:{validate({rowBuffer:e}){return n0(`rowBuffer`,e,0)}},rowClass:{validate:e=>typeof e.rowClass==`function`?`rowClass should not be a function, please use getRowClass instead`:null},rowData:{supportedRowModels:[`clientSide`]},rowDragManaged:{supportedRowModels:[`clientSide`],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:e}){return e&&typeof e==`string`?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!=`object`?"Expected `RowSelectionOptions` object for the `rowSelection` property.":e&&e.mode!==`multiRow`&&e.mode!==`singleRow`?`Selection mode "${e.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:e=>{let t=e.rowStyle;return t&&typeof t==`function`?`rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead`:null}},serverSideDatasource:{supportedRowModels:[`serverSide`]},serverSideInitialRowCount:{supportedRowModels:[`serverSide`],validate({serverSideInitialRowCount:e}){return n0(`serverSideInitialRowCount`,e,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:[`serverSide`]},serverSideSortAllLevels:{supportedRowModels:[`serverSide`]},sortingOrder:{validate:e=>{let t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){let e=t.filter(e=>!Z1.includes(e));if(e.length>0)return`sortingOrder must be an array with elements from [${Z1.map(MJ).join()}], currently it includes [${e.map(MJ).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipHideDelay:{validate:e=>e.tooltipHideDelay&&e.tooltipHideDelay<0?`tooltipHideDelay should not be lower than 0`:null},tooltipShowDelay:{validate:e=>e.tooltipShowDelay&&e.tooltipShowDelay<0?`tooltipShowDelay should not be lower than 0`:null},treeData:{supportedRowModels:[`clientSide`,`serverSide`],validate:e=>{let t=e.rowModelType??`clientSide`;switch(t){case`clientSide`:{let{treeDataChildrenField:t,treeDataParentIdField:n,getDataPath:r,getRowId:i}=e;if(!t&&!n&&!r)return`treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.`;if(t){if(r)return`Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.`;if(n)return`Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time.`}if(n){if(!i)return`getRowId callback not provided, tree data with parent id cannot be built.`;if(r)return`Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time.`}return null}case`serverSide`:{let n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:n}}return null}},viewportDatasource:{supportedRowModels:[`viewport`]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:e}){return n0(`viewportRowModelBufferSize`,e,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:e}){return n0(`viewportRowModelPageSize`,e,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:e,showOpenedGroup:t}){return e?.field&&t?`autoGroupColumnDef.field and showOpenedGroup are not supported when used together.`:e?.valueGetter&&t?`autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.`:null}},renderingMode:{validate:e=>{let t=e.renderingMode,n=[`default`,`legacy`];return t&&!n.includes(t)?`renderingMode must be one of [${n.join()}], currently it's ${t}`:null}},autoSizeStrategy:{validate:({autoSizeStrategy:e})=>{if(!e)return null;let t=[`fitCellContents`,`fitGridWidth`,`fitProvidedWidth`],n=e.type;return n!==`fitCellContents`&&n!==`fitGridWidth`&&n!==`fitProvidedWidth`?`Invalid Auto-size strategy. \`autoSizeStrategy\` must be one of ${t.map(e=>`"`+e+`"`).join(`, `)}, currently it's ${n}`:n===`fitProvidedWidth`&&typeof e.width!=`number`?`When using the 'fitProvidedWidth' auto-size strategy, must provide a numeric \`width\`. You provided ${e.width}`:null}}},t={};for(let e of t0)t[e]={expectedType:`boolean`};for(let e of e0)t[e]={expectedType:`number`};return aJ(t,e),t},pAe=()=>({objectName:`gridOptions`,allProperties:[...lAe(),...Object.values(J1)],propertyExceptions:[`api`],docsUrl:`grid-options/`,deprecations:uAe(),validations:fAe()}),mAe=0,hAe=0,r0=`__ag_grid_instance`,gAe=class extends J{constructor(){super(...arguments),this.beanName=`gos`,this.domDataKey=`__AG_`+Math.random().toString(),this.instanceId=hAe++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new IK,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;let r=q1.has(t);if(r&&!e||!r&&e||!_Ae(t))return;let i=(e,t)=>{let n=J1[e],r=this.gridOptions[n];typeof r==`function`&&this.beans.frameworkOverrides.wrapOutgoing(()=>r(t))};if(this.gridReadyFired)i(t,n);else if(t===`gridReady`){i(t,n),this.gridReadyFired=!0;for(let e of this.queueEvents)i(e.eventName,e.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:`optionsUpdated`})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??uJ[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return q(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(t=>e(this.addCommon(t)))}updateGridOptions({options:e,force:t,source:n=`api`}){let r={id:mAe++,properties:[]},i=[],{gridOptions:a,validation:o}=this;for(let s of Object.keys(e)){let c=cJ.applyGlobalGridOption(s,e[s]);o?.warnOnInitialPropertyUpdate(n,s);let l=t||typeof c==`object`&&n===`api`,u=a[s];if(l||u!==c){a[s]=c;let e={type:s,currentValue:c,previousValue:u,changeSet:r,source:n};i.push(e)}}this.validateGridOptions(this.gridOptions),r.properties=i.map(e=>e.type);for(let e of i)fJ(this,`Updated property ${e.type} from`,e.previousValue,` to `,e.currentValue),this.propEventSvc.dispatchEvent(e)}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addCommon(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(let n of Object.keys(e)){let r=e[n];if(r==null||r===!1)continue;let i=t[n];typeof i==`function`&&(i=i(e,this.gridOptions,this.beans)),i&&this.assertModuleRegistered(i,n)}}validateGridOptions(e){this.validateOptions(e,dAe),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,Qke),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){let n=Array.isArray(e)?e.some(e=>this.isModuleRegistered(e)):this.isModuleRegistered(e);return n||FJ(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:CJ(),rowModelType:this.get(`rowModelType`),isUmd:wJ()}}isModuleRegistered(e){return SJ(e,this.gridId,this.get(`rowModelType`))}setInstanceDomData(e){e[r0]=this.instanceId}isElementInThisInstance(e){let t=e;for(;t;){let e=t[r0];if(q(e))return e===this.instanceId;t=t.parentElement}return!1}};function _Ae(e){return!!J1[e]}function i0(e){let t={"aria-hidden":`true`};return{tag:`div`,cls:`ag-cell-label-container`,role:`presentation`,children:[{tag:`span`,ref:`eMenu`,cls:`ag-header-icon ag-header-cell-menu-button`,attrs:t},{tag:`span`,ref:`eFilterButton`,cls:`ag-header-icon ag-header-cell-filter-button`,attrs:t},{tag:`div`,ref:`eLabel`,cls:`ag-header-cell-label`,role:`presentation`,children:[{tag:`span`,ref:`eText`,cls:`ag-header-cell-text`},{tag:`span`,ref:`eFilter`,cls:`ag-header-icon ag-header-label-icon ag-filter-icon`,attrs:t},e?{tag:`ag-sort-indicator`,ref:`eSortIndicator`}:null]}]}}var vAe=i0(!0),yAe=i0(!1),bAe=class extends oX{constructor(){super(...arguments),this.eFilter=null,this.eFilterButton=null,this.eSortIndicator=null,this.eMenu=null,this.eLabel=null,this.eText=null,this.eSortOrder=null,this.eSortAsc=null,this.eSortDesc=null,this.eSortMixed=null,this.eSortNone=null,this.isLoadingInnerComponent=!1}refresh(e){let t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){let t={...e};aJ(t,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(t)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){let n=e.template;return n?n?.trim?n.trim():n:t?vAe:yAe}init(e){this.params=e;let{sortSvc:t,touchSvc:n,rowNumbersSvc:r,userCompFactory:i}=this.beans,a=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!a),this.setTemplate(this.currentTemplate,a?[a]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),r?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){let n=wCe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(e=>{this.isLoadingInnerComponent=!1,e&&(this.isAlive()?(this.innerHeaderComponent=e,this.eText&&this.eText.appendChild(e.getGui())):this.destroyBean(e))}))}setDisplayName(e){let{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=VK(t))}addInIcon(e,t,n){let r=y$(e,this.beans,n);r&&t.appendChild(r)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){wq(this.eMenu),this.eMenu=void 0;return}let{gos:e,eMenu:t,params:n}=this,r=gY(e);this.addInIcon(r?`menu`:`menuAlt`,t,n.column),t.classList.toggle(`ag-header-menu-icon`,!r);let i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle(`ag-header-menu-always-show`,e)}showColumnMenu(e){let{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){let{params:t,gos:n,beans:r,eMenu:i,eFilterButton:a}=this,o=t.column,s=gY(n);if(e&&!s){if(r.menuSvc?.isFilterMenuInHeaderEnabled(o))return t.showFilter(a??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??a??this.getGui()),!0;return!1}setupSort(){let{sortSvc:e}=this.beans;if(!e)return;let{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));let{eSortIndicator:t,eSortOrder:n,eSortAsc:r,eSortDesc:i,eSortMixed:a,eSortNone:o}=this;t.attachCustomElements(n,r,i,a,o)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){let{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,()=>{fq(e,t.column.isFilterActive(),{skipAriaHidden:!0})},`filterActive`)}setupFilterButton(){let{eFilterButton:e,params:t}=this;e&&(this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),`filter`)?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0)}configureFilter(e,t,n,r){if(!e)return wq(t),!1;let i=this.params.column;return this.addInIcon(r,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle(`ag-filter-active`,e)}getAnchorElementForMenu(e){let{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&=(this.destroyBean(this.innerHeaderComponent),void 0)}},xAe={tag:`div`,cls:`ag-header-group-cell-label`,role:`presentation`,children:[{tag:`span`,ref:`agLabel`,cls:`ag-header-group-text`,role:`presentation`},{tag:`span`,ref:`agOpened`,cls:`ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded`},{tag:`span`,ref:`agClosed`,cls:`ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed`}]},SAe=class extends oX{constructor(){super(xAe),this.agOpened=null,this.agClosed=null,this.agLabel=null,this.isLoadingInnerComponent=!1}init(e){let{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&X(89)}workOutInnerHeaderGroupComponent(e,t){let n=ECe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(e=>{this.isLoadingInnerComponent=!1,e&&(this.isAlive()?(this.innerHeaderGroupComponent=e,this.agLabel.appendChild(e.getGui())):this.destroyBean(e))}))}setupExpandIcons(){let{agOpened:e,agClosed:t,params:{columnGroup:n},beans:r}=this;this.addInIcon(`columnGroupOpened`,e),this.addInIcon(`columnGroupClosed`,t);let i=e=>{if(vQ(e))return;let t=!n.isExpanded();r.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),t,`uiColumnExpanded`)};this.addTouchAndClickListeners(r,t,i),this.addTouchAndClickListeners(r,e,i);let a=e=>{_Q(e)};this.addManagedElementListeners(t,{dblclick:a}),this.addManagedElementListeners(e,{dblclick:a}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();let o=n.getProvidedColumnGroup(),s=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:s,expandableChanged:s})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){let{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){let r=n.isExpanded();fq(e,r),fq(t,!r)}else fq(e,!1),fq(t,!1)}addInIcon(e,t){let n=y$(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){let{agOpened:e,agClosed:t}=this;fq(e,!1),fq(t,!1)}}setupLabel(e){let{displayName:t,columnGroup:n}=e,r=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;q(t)&&!r&&(this.agLabel.textContent=VK(t)),this.toggleCss(`ag-sticky-label`,!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&=(this.destroyBean(this.innerHeaderGroupComponent),void 0)}},CAe={moduleName:`ColumnHeaderComp`,version:Y,userComponents:{agColumnHeader:bAe},icons:{menu:`menu`,menuAlt:`menu-alt`}},wAe={moduleName:`ColumnGroupHeaderComp`,version:Y,userComponents:{agColumnGroupHeader:SAe},icons:{columnGroupOpened:`expanded`,columnGroupClosed:`contracted`}},TAe={moduleName:`AnimationFrame`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`animationFrameSvc`,this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get(`suppressAnimationFrame`),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&X(92)}createTask(e,t,n,r,i=!1){this.verify();let a=n;r&&this.batchFrameworkComps&&(a=`f1`);let o={task:e,index:t,createOrder:++this.taskCount,deferred:i};this.addTaskToList(this[a],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let t=this.scrollGoingDown?1:-1;e.list.sort((e,n)=>e.deferred===n.deferred?e.index===n.index?n.createOrder-e.createOrder:t*(n.index-e.index):e.deferred?-1:1),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){let{p1:t,p2:n,f1:r,destroyTasks:i,beans:a}=this,{ctrlsSvc:o,frameworkOverrides:s}=a,c=t.list,l=n.list,u=r.list,d=Date.now(),f=0,p=e<=0,m=o.getScrollFeature();for(;p||f<e;){if(!m.scrollGridIfNeeded()){let a;if(c.length)this.sortTaskList(t),a=c.pop().task;else if(l.length)this.sortTaskList(n),a=l.pop().task;else if(u.length)s.wrapOutgoing(()=>{for(;(p||f<e)&&!m.scrollGridIfNeeded()&&u.length;)this.sortTaskList(r),a=u.pop().task,a(),f=Date.now()-d}),a=()=>{};else if(i.length)a=i.pop();else break;a()}f=Date.now()-d}c.length||l.length||u.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);Rq(this.beans,e)}isQueueEmpty(){return!this.ticking}}]},EAe=class extends J{constructor(){super(...arguments),this.beanName=`iconSvc`}createIconNoSpan(e,t){return y$(e,this.beans,t?.column)}},DAe={moduleName:`Touch`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`touchSvc`}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){OX()&&this.mockContextMenu(e,e.element,(t,n,r)=>{let{rowCtrl:i,cellCtrl:a}=e.getControlsForEventTarget(r?.target??null);a?.column&&a.dispatchCellContextMenuEvent(r??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,r,i,a)})}handleCellDoubleClick(e,t){return(()=>{if(!OX()||Wq(`dblclick`))return!1;let t=Date.now(),n=t-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=t,n})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){let{gos:t,sortSvc:n,menuSvc:r}=this.beans;if(t.get(`suppressTouch`))return;let{params:i,eMenu:a,eFilterButton:o}=e,s=new z$(e.getGui(),!0);e.addDestroyFunc(()=>s.destroy());let c=e.shouldSuppressMenuHide(),l=c&&q(a)&&i.enableMenu,u=s;if(l&&(u=new z$(a,!0),e.addDestroyFunc(()=>u.destroy())),i.enableMenu||r?.isHeaderContextMenuEnabled(i.column)){let t=l?`tap`:`longTap`,n=e=>i.showColumnMenuAfterMouseClick(e.touchStart);e.addManagedListeners(u,{[t]:n}),e.addManagedListeners(s,{longTap:n})}if(i.enableSorting&&e.addManagedListeners(s,{tap:e=>{let t=e.touchStart.target;c&&(a?.contains(t)||o?.contains(t))||n?.progressSort(i.column,!1,`uiColumnSorted`)}}),i.enableFilterButton&&o){let t=new z$(o,!0);e.addManagedListeners(t,{tap:()=>i.showFilter(o)}),e.addDestroyFunc(()=>t.destroy())}}setupForHeaderGroup(e){let t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){let n=new z$(t.eGridHeader,!0);e.addManagedListeners(n,{longTap:e=>t.showColumnMenuAfterMouseClick(e.touchStart)}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){let r=new z$(t,!0);e.addManagedListeners(r,{tap:n}),e.addDestroyFunc(()=>r.destroy())}mockContextMenu(e,t,n){if(!OX())return;let r=new z$(t);e.addManagedListeners(r,{longTap:e=>{qq(this.beans,e.touchEvent)&&n(void 0,e.touchStart,e.touchEvent)}}),e.addDestroyFunc(()=>r.destroy())}}]},OAe=class extends J{constructor(){super(...arguments),this.beanName=`cellNavigation`}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){let n=e===Z.UP,r=e===Z.DOWN,i=e===Z.LEFT,a,o,{pageBounds:s,gos:c,visibleCols:l,pinnedRowModel:u}=this.beans,{rowPinned:d}=t;if(n||r)o=d&&u?n?0:d===`top`?u.getPinnedTopRowCount()-1:u.getPinnedBottomRowCount()-1:n?s.getFirstRow():s.getLastRow(),a=t.column;else{let e=c.get(`enableRtl`);o=t.rowIndex,a=(i===e?[...l.allCols].reverse():l.allCols).find(e=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:e}))}return a?{rowIndex:o,rowPinned:d,column:a}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case Z.UP:n=this.getCellAbove(n);break;case Z.DOWN:n=this.getCellBelow(n);break;case Z.RIGHT:n=this.gos.get(`enableRtl`)?this.getCellToLeft(n):this.getCellToRight(n);break;case Z.LEFT:n=this.gos.get(`enableRtl`)?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,X(8,{key:e});break}r=n?this.isCellGoodToFocusOn(n):!0}return n}isCellGoodToFocusOn(e){let t=e.column,n,{pinnedRowModel:r,rowModel:i}=this.beans;switch(e.rowPinned){case`top`:n=r?.getPinnedTopRow(e.rowIndex);break;case`bottom`:n=r?.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;let t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;let t=this.rowSpanSvc?.getCellEnd(e)??e,n=Q$(this.beans,t,!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;let t=this.rowSpanSvc?.getCellStart(e)??e,n=Z$(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned},!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let{visibleCols:t,pagination:n}=this.beans,r=t.allCols,i=e.rowIndex,a=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=r[0];let t=Q$(this.beans,e,!0);if(RK(t)||!t.rowPinned&&!(n?.isRowInPage(t.rowIndex)??!0))return null;i=t?t.rowIndex:null,a=t?t.rowPinned:null}return{rowIndex:i,column:o,rowPinned:a}}getNextTabbedCellBackwards(e){let{beans:t}=this,{visibleCols:n,pagination:r}=t,i=n.allCols,a=e.rowIndex,o=e.rowPinned,s=n.getColBefore(e.column);if(!s){s=EY(i);let n=Z$(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned},!0);if(RK(n)||!n.rowPinned&&!(r?.isRowInPage(n.rowIndex)??!0))return null;a=n?n.rowIndex:null,o=n?n.rowPinned:null}return{rowIndex:a,column:s,rowPinned:o}}isSuppressNavigable(e,t){let{suppressNavigable:n}=e.colDef;return typeof n==`boolean`?n:typeof n==`function`?n(e.createColumnFunctionCallbackParams(t)):!1}};function kAe(e){return e.focusSvc.getFocusedCell()}function AAe(e){return e.focusSvc.clearFocusedCell()}function jAe(e,t,n,r){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})}function MAe(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function NAe(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function PAe(e,t,n=!1){let r=e.headerNavigation?.getHeaderPositionForColumn(t,n);r&&e.focusSvc.focusHeaderPosition({headerPosition:r})}var FAe=class extends J{constructor(){super(...arguments),this.beanName=`editModelSvc`,this.edits=new Map,this.cellValidations=new a0,this.rowValidations=new o0,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;let n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;let n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){let t=e.pinnedSibling;if(t)return this.getEditRow(t)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(!e||this.edits.size===0)return;let n=this.getEditRow(e),r=e.pinnedSibling,i=t&&r&&this.getEditRow(r);if(!n&&!i)return;let a=Object.assign({},e.data),o=(e,t)=>e.forEach(({pendingValue:e},n)=>{e!==d0&&(t[n.getColId()]=e)});return n&&o(n,a),i&&o(i,a),a}getEdit(e,t){let n=this._getEdit(e);return t&&n?{...n}:n}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;let t=new Map;return this.edits.forEach((e,n)=>{let r=new Map;e.forEach(({editorState:e,...t},n)=>r.set(n,{...t})),t.set(n,r)}),t}setEditMap(e){this.edits.clear(),e.forEach((e,t)=>{let n=new Map;e.forEach((e,t)=>n.set(t,{...e})),this.edits.set(t,n)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);let n=this._getEdit(e),r=Object.assign({editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0},...n,...t});return this.getEditRow(e.rowNode).set(e.column,r),r}clearEditValue(e){let{rowNode:t,column:n}=e;if(t)if(n){let t=this._getEdit(e);t&&(t.editorValue=void 0,t.pendingValue=t.sourceValue,t.state=`changed`)}else this.getEditRow(t)?.forEach(e=>{e.editorValue=void 0,e.pendingValue=e.sourceValue,e.state=`changed`})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];let t=[];return(e??this.edits).forEach((e,n)=>{for(let r of e.keys()){let{editorState:i,...a}=e.get(r);t.push({rowNode:n,column:r,...a})}}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;let{rowNode:n,column:r}=e,{withOpenEditor:i}=t;if(n){let a=this.getEditRow(n,t);return a?r?i?this.getEdit(e)?.state===`editing`:a.has(r)??!1:a.size===0?!1:i?Array.from(a.values()).some(({state:e})=>e===`editing`):!0:!1}return i?this.getEditPositions().some(({state:e})=>e===`editing`):this.edits.size>0}start(e){let t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:r}=e;r&&!t.has(r)&&t.set(r,{editorValue:void 0,pendingValue:d0,sourceValue:this.beans.valueSvc.getValue(r,n,!1,`api`),state:`editing`,editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(let e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},a0=class{constructor(){this.cellValidations=new Map}getCellValidation(e){let{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e?.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){let{rowNode:n,column:r}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(r,t)}clearCellValidation(e){let{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},o0=class{constructor(){this.rowValidations=new Map}getRowValidation(e){let{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return e?.rowNode?!!this.getRowValidation(e):this.rowValidations.size>0}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function s0(e,t={}){let{rowIndex:n,rowId:r,rowCtrl:i,rowPinned:a}=t;if(i)return i;let{rowModel:o,rowRenderer:s}=e,{rowNode:c}=t;return c||(r?c=yDe(e,r,a):n!=null&&(c=o.getRow(n))),s.getRowCtrls(c?[c]:[])?.[0]}function c0(e,t={}){let{cellCtrl:n,colId:r,columnId:i,column:a}=t;if(n)return n;let o=e.colModel.getCol(r??i??u0(a)),s=t.rowCtrl??s0(e,t),c=s?.getCellCtrl(o)??void 0;if(c)return c;let l=t.rowNode??s?.rowNode;if(l)return e.rowRenderer.getCellCtrls([l],[o])?.[0]}function l0(e){let{editSvc:t}=e;t?.isBatchEditing()?x0(e):t?.stopEditing(void 0,{source:`api`})}function IAe(e,t,n){let{gos:r,popupSvc:i}=t;if(!r.get(`stopEditingWhenCellsLoseFocus`))return;let a=e=>{let a=e.relatedTarget;if(kX(a)===null){l0(t);return}let o=n.some(e=>e.contains(a))&&r.isElementInThisInstance(a);o||=!!i&&(i.getActivePopups().some(e=>e.contains(a))||i.isElementWithinCustomPopup(a)),o||l0(t)};for(let t of n)e.addManagedElementListeners(t,{focusout:a})}function u0(e){if(e)return typeof e==`string`?e:e.getColId()}var d0=Symbol(`unedited`);function f0(e,t={}){let n=[],r=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(let e of r){let t=e.comp?.getCellEditor();t&&n.push({ctrl:e,editor:gX(t)})}return n}var LAe=(e,t={})=>f0(e,t).map(e=>e.editor);function RAe(e,t,n,r,i,a){t.length===0&&n?.rowNode&&n?.column&&m0(e,n,{key:r,event:i,cellStartedEdit:a});let{valueSvc:o,editSvc:s,editModelSvc:c}=e,{rowNode:l,column:u}=n??{};for(let d of t){let{rowNode:t,column:f}=d,p=c0(e,d);if(!p){if(t&&f){let e=o.getValue(f,t,void 0,`api`),i=(n?.rowNode===t&&n?.column===f&&r||void 0)??s?.getCellDataValue(d,!1)??o.getValueForDisplay(f,t)?.value??e??d0;c?.setEdit(d,{pendingValue:i,sourceValue:e,state:`editing`})}continue}let m=a&&l===p.rowNode&&p.column===u;m0(e,{rowNode:l,column:p.column},{key:m?r:null,event:m?i:null,cellStartedEdit:m&&a})}}function p0({pendingValue:e,sourceValue:t}){return e===d0&&(e=t),e!==t}function m0(e,t,n){let r=e.gos.get(`enableGroupEdit`),{key:i,event:a,cellStartedEdit:o,silent:s}=n??{},c=c0(e,t),l=c?.comp?.getCellEditor(),u=g0(e,t,i,o&&!s),d=e.editModelSvc?.getEdit(t),f=u.value;if(f===void 0&&(f=d?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:f,state:`editing`}),l){l.refresh?.(u);return}let p=t.column.getColDef(),m=pX(e.userCompFactory,p,u),h=m?.popupFromSelector==null?!!p.cellEditorPopup:m.popupFromSelector,g=m?.popupPositionFromSelector==null?p.cellEditorPopupPosition:m.popupPositionFromSelector;if(v0(m.params,a),c){c.editCompDetails=m,c.onEditorAttachedFuncs.push(()=>c.rangeFeature?.unsetComp()),c.comp?.setEditDetails(m,h,g,e.gos.get(`reactiveCustomComponents`)),c?.rowCtrl?.refreshRow({suppressFlash:!0});let n=e.editModelSvc?.getEdit(t,!0);!s&&!n?.editorState?.cellStartedEditing&&(e.editSvc?.dispatchCellEvent(t,a,`cellEditingStarted`,r?{value:f}:{}),e.editModelSvc?.setEdit(t,{editorState:{cellStartedEditing:!0}}))}}function h0(e,t,n){let r={editorValueExists:!1};if(T0(e)&&(t.getValidationErrors?.()?.length??0)>0||n?.isCancelling)return r;if(n?.isStopping){let e=t?.isCancelAfterEnd?.();if(e)return{...r,isCancelAfterEnd:e}}return{editorValue:t.getValue(),editorValueExists:!0}}function g0(e,t,n,r){let{valueSvc:i,gos:a,editSvc:o}=e,s=e.gos.get(`enableGroupEdit`),c=c0(e,t),l=t.rowNode?.rowIndex??void 0,u=o?.isBatchEditing(),d=e.colModel.getCol(t.column.getId()),{rowNode:f,column:p}=t,m=c.comp?.getCellEditor(),h=o?.getCellDataValue(t,!1),g=h===void 0?m?h0(e,m)?.editorValue:void 0:h,_=g===d0?i.getValueForDisplay(d,f)?.value:g;return _Y(a,{value:s?g:_,eventKey:n??null,column:p,colDef:p.getColDef(),rowIndex:l,node:f,data:f.data,cellStartedEdit:r??!1,onKeyDown:c?.onKeyDown.bind(c),stopEditing:n=>{o.stopEditing(t,{source:u?`ui`:`api`,suppressNavigateAfterEdit:n}),S0(e,t)},eGridCell:c?.eGui,parseValue:e=>i.parseValue(d,f,e,c?.value),formatValue:c?.formatValue.bind(c),validate:()=>{o?.validateEdit()}})}function _0(e,t){let{editModelSvc:n}=e;n?.getEditMap().forEach((e,r)=>{e.forEach((e,i)=>{!t&&(e.state===`editing`||e.pendingValue===d0)||!p0(e)&&(e.state!==`editing`||t)&&n?.removeEdits({rowNode:r,column:i})})})}function zAe(e,t){let n=t.comp?.getCellEditor();if(!n?.refresh)return;let{eventKey:r,cellStartedEdit:i}=t.editCompDetails.params,{column:a}=t,o=g0(e,t,r,i),s=a.getColDef(),c=pX(e.userCompFactory,s,o);n.refresh(v0(c.params,r))}function v0(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor===`agNumberCellEditor`?e.suppressPreventDefault=[`-`,`+`,`.`,`e`].includes(t?.key??``)||e.suppressPreventDefault:t?.preventDefault?.(),e}function y0(e,t){for(let n of e.editModelSvc?.getEditPositions()??[]){let r=c0(e,n);if(!r)continue;let i=r.comp?.getCellEditor();if(!i)continue;let{editorValue:a,editorValueExists:o,isCancelAfterEnd:s}=h0(e,i,t);s&&e.editModelSvc?.setEdit(n,{editorState:{isCancelAfterEnd:s}}),b0(e,n,a,void 0,!o,t)}}function b0(e,t,n,r,i,a){let{editModelSvc:o,valueSvc:s}=e;if(!o)return;let{rowNode:c,column:l}=t;if(!(c&&l))return;let u=o.getEdit(t,!0);u?.sourceValue||(u=o.setEdit(t,{sourceValue:s.getValue(l,c,void 0,`api`),pendingValue:u?u.editorValue:d0})),o.setEdit(t,{editorValue:i?u.sourceValue:n}),a?.persist&&BAe(e,t)}function BAe(e,t){let{editModelSvc:n}=e,r=n?.getEdit(t,!0);n?.setEdit(t,{pendingValue:r?.editorValue})}function x0(e,t,n){t||=e.editModelSvc?.getEditPositions();for(let r of t??[])S0(e,r,n)}function S0(e,t,n){let r=e.gos.get(`enableGroupEdit`),{editModelSvc:i}=e,a=c0(e,t),o=i?.getEdit(t,!0);if(!a){o&&i?.setEdit(t,{state:`changed`});return}let{comp:s}=a;if(s&&!s.getCellEditor()){a?.refreshCell(),o&&(i?.setEdit(t,{state:`changed`}),w0(e,t,r?C0(n,o):{valueChanged:!1,newValue:void 0,oldValue:o.sourceValue},n));return}if(T0(e)){let e=s?.getCellEditor()?.getValidationErrors?.(),n=i?.getCellValidationModel();e?.length?n?.setCellValidation(t,{errorMessages:e}):n?.clearCellValidation(t)}i?.setEdit(t,{state:`changed`}),s?.setEditDetails(),s?.refreshEditStyles(!1,!1),a?.refreshCell({force:!0,suppressFlash:!0});let c=i?.getEdit(t);c&&c.state===`changed`&&w0(e,t,r?C0(n,c):{valueChanged:p0(c)&&!n?.cancel,newValue:n?.cancel||c.editorState.isCancelAfterEnd?void 0:c?.editorValue??o?.pendingValue,oldValue:c?.sourceValue},n)}function C0(e,t){return e?.cancel?{valueChanged:!1,oldValue:t.sourceValue,newValue:void 0,value:t.sourceValue}:{valueChanged:!1,oldValue:t.sourceValue,newValue:t.pendingValue,value:t.sourceValue}}function w0(e,t,n,{silent:r,event:i}={}){let{editSvc:a,editModelSvc:o}=e,{editorState:s}=o?.getEdit(t)||{},{isCancelBeforeStart:c}=s||{};!r&&!c&&(a?.dispatchCellEvent(t,i,`cellEditingStopped`,n),o?.setEdit(t,{editorState:{cellStoppedEditing:!0}}))}function T0(e){let{gos:t,colModel:n}=e,r=!!t.get(`getFullRowEditValidationErrors`),i=n.getColumnDefs()?.filter(e=>e.editable).some(({cellEditorParams:e})=>{let{minLength:t,maxLength:n,getValidationErrors:r,min:i,max:a}=e||{};return t!==void 0||n!==void 0||r!==void 0||i!==void 0||a!==void 0}),a=e.gridApi.getCellEditorInstances().some(e=>e.getValidationElement||e.getValidationErrors);return i||r||a}function E0(e,t){if(!(t||T0(e)))return;let n=f0(e),r=new a0,{ariaAnnounce:i,localeSvc:a,editModelSvc:o,gos:s}=e,c=s.get(`editType`)===`fullRow`,l=Zq(a)(`ariaValidationErrorPrefix`,`Cell Editor Validation`);for(let e of n){let{ctrl:t,editor:n}=e,{rowNode:a,column:o}=t,s=n.getValidationErrors?.()??[],c=n.getValidationElement?.(!1)||!n.isPopup?.()&&t.eGui;if(c){let e=s!=null&&s.length>0,t=e?s.join(`. `):``;xxe(c,e),e&&i.announceValue(`${l} ${s}`,`editorValidation`),c instanceof HTMLInputElement?c.setCustomValidity(t):c.classList.toggle(`invalid`,e)}s?.length>0&&r.setCellValidation({rowNode:a,column:o},{errorMessages:s})}y0(e,{persist:!1}),o?.setCellValidationModel(r);let u=new Set;for(let{ctrl:e}of n)u.add(e.rowCtrl);if(c){let t=VAe(e);o?.setRowValidationModel(t)}for(let e of u.values()){e.rowEditStyleFeature?.applyRowStyles();for(let t of e.getAllCellCtrls())t.tooltipFeature?.refreshTooltip(!0),t.editorTooltipFeature?.refreshTooltip(!0),t.editStyleFeature?.applyCellStyles?.()}}var VAe=e=>{let t=new o0,n=e.gos.get(`getFullRowEditValidationErrors`),r=e.editModelSvc?.getEditMap();if(!r)return t;for(let e of r.keys()){let i=r.get(e);if(!i)continue;let a=[],{rowIndex:o,rowPinned:s}=e;for(let e of i.keys()){let t=i.get(e);if(!t)continue;let{editorValue:n,pendingValue:r,sourceValue:c}=t,l=n??(r===d0?void 0:r)??c;a.push({column:e,colId:e.getColId(),rowIndex:o,rowPinned:s,oldValue:c,newValue:l})}let c=n?.({editorsState:a})??[];c.length>0&&t.setRowValidation({rowNode:e},{errorMessages:c})}return t};function HAe(e){E0(e,!0);let t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;let n=[];return t.forEach((e,t)=>{e.forEach(({errorMessages:e},r)=>{n.push({column:r,rowIndex:t.rowIndex,rowPinned:t.rowPinned,messages:e??null})})}),n}function UAe(e,t,n,{rowNode:r,column:i},a){return _Y(e.gos,{type:n,node:r,data:r.data,value:a,column:i,colDef:i.getColDef(),rowPinned:r.rowPinned,event:t,rowIndex:r.rowIndex})}function WAe(e,t=!1){return e===Z.DELETE?!0:!t&&e===Z.BACKSPACE?DX():!1}var GAe=class extends J{constructor(e,t,n,r){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=r,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){let t=e.key;switch(t){case Z.ENTER:this.onEnterKeyDown(e);break;case Z.F2:this.onF2KeyDown(e);break;case Z.ESCAPE:this.onEscapeKeyDown(e);break;case Z.TAB:this.onTabKeyDown(e);break;case Z.BACKSPACE:case Z.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Z.DOWN:case Z.UP:case Z.RIGHT:case Z.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){let{cellCtrl:n,beans:r}=this;if(!r.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{let i=n.getFocusedCellPosition();r.navigation?.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){let{rangeSvc:t,navigation:n}=this.beans;if(!t)return;let r=t.extendLatestRangeInDirection(e);r&&(e.key===Z.LEFT||e.key===Z.RIGHT?n?.ensureColumnVisible(r.column):n?.ensureRowVisible(r.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){let{cellCtrl:n,beans:r,rowNode:i}=this,{gos:a,rangeSvc:o,eventSvc:s,editSvc:c}=r;if(s.dispatchEvent({type:`keyShortcutChangedCellStart`}),WAe(e,a.get(`enableCellEditingOnBackspace`))&&!c?.isEditing(n,{withOpenEditor:!0})){if(o&&sY(a))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:`deleteKey`});else if(n.isCellEditable()){let{column:e}=n,t=this.beans.valueSvc.getDeleteValue(e,i);i.setDataValue(e,t,`cellClear`)}}else c?.isEditing(n,{withOpenEditor:!0})||r.editSvc?.startEditing(n,{startedEdit:!0,event:t});s.dispatchEvent({type:`keyShortcutChangedCellEnd`})}onEnterKeyDown(e){let{cellCtrl:t,beans:n}=this,{editSvc:r,navigation:i}=n,a=r?.isEditing(t,{withOpenEditor:!0}),o=t.rowNode,s=r?.isRowEditing(o,{withOpenEditor:!0}),c=t=>{r?.startEditing(t,{startedEdit:!0,event:e,source:`edit`})&&e.preventDefault()};if(a||s){if(this.isCtrlEnter(e)){r?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(E0(n),r?.checkNavWithValidation(void 0,e)===`block-stop`)return;r?.isEditing(t,{withOpenEditor:!0})?r?.stopEditing(t,{event:e,source:`edit`}):s&&!t.isCellEditable()?r?.stopEditing({rowNode:o},{event:e,source:`edit`}):c(t)}else if(n.gos.get(`enterNavigatesVertically`)){let n=e.shiftKey?Z.UP:Z.DOWN;i?.navigateToNextCell(null,n,t.cellPosition,!1)}else{if(r?.hasValidationErrors())return;r?.hasValidationErrors(t)&&r.revertSingleCellEdit(t,!0),c(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===Z.ENTER}onF2KeyDown(e){let{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(E0(this.beans),n?.checkNavWithValidation(void 0,e)===`block-stop`)||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){let{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)===`block-stop`&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){let t=e.target!==this.eGui,{beans:{editSvc:n},cellCtrl:r}=this;if(!t&&!n?.isEditing(r,{withOpenEditor:!0})){if(e.key===Z.SPACE)this.onSpaceKeyDown(e);else if(n?.isCellEditable(r,`ui`)){if(n?.hasValidationErrors()&&!n?.hasValidationErrors(r))return;n?.startEditing(r,{startedEdit:!0,event:e,source:`api`}),r.editCompDetails?.params?.suppressPreventDefault||e.preventDefault()}}}onSpaceKeyDown(e){let{gos:t,editSvc:n}=this.beans,{rowNode:r}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&HJ(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,r,`spaceKey`),e.preventDefault()}},KAe=class extends J{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!vQ(t))switch(e){case`click`:this.onCellClicked(t);break;case`mousedown`:case`touchstart`:this.onMouseDown(t);break;case`dblclick`:this.onCellDoubleClicked(t);break;case`mouseout`:this.onMouseOut(t);break;case`mouseover`:this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;let{eventSvc:t,rangeSvc:n,editSvc:r,editModelSvc:i,frameworkOverrides:a,gos:o}=this.beans,s=e.ctrlKey||e.metaKey,{cellCtrl:c}=this,{column:l,cellPosition:u,rowNode:d}=c,f=AQ(o,l,d,e);n&&s&&!f&&n.getCellRangeCount(u)>1&&n.intersectLastRange(!0);let p=c.createEvent(e,`cellClicked`);p.isEventHandlingSuppressed=f,t.dispatchEvent(p);let m=l.getColDef();if(m.onCellClicked&&window.setTimeout(()=>{a.wrapOutgoing(()=>{m.onCellClicked(p)})},0),!f&&i?.getState(c)!==`editing`){let t=r?.isEditing(),n=i?.getCellValidationModel().getCellValidationMap().size??0,a=i?.getRowValidationModel().getRowValidationMap().size??0;if(t&&(n>0||a>0))return;r?.shouldStartEditing(c,e)?r?.startEditing(c,{event:e}):r?.shouldStopEditing(c,e)&&(this.beans.gos.get(`editType`)===`fullRow`?r?.stopEditing(c,{event:e,source:`edit`}):r?.stopEditing(void 0,{event:e,source:`edit`}))}}onCellDoubleClicked(e){let{column:t,beans:n,cellCtrl:r}=this,{eventSvc:i,frameworkOverrides:a,editSvc:o,editModelSvc:s,gos:c}=n,l=AQ(c,r.column,r.rowNode,e),u=t.getColDef(),d=r.createEvent(e,`cellDoubleClicked`);if(d.isEventHandlingSuppressed=l,i.dispatchEvent(d),typeof u.onCellDoubleClicked==`function`&&window.setTimeout(()=>{a.wrapOutgoing(()=>{u.onCellDoubleClicked(d)})},0),!l&&o?.shouldStartEditing(r,e)&&s?.getState(r)!==`editing`){let t=o?.isEditing(),n=s?.getCellValidationModel().getCellValidationMap().size??0,i=s?.getRowValidationModel().getRowValidationMap().size??0;if(t&&(n>0||i>0))return;o?.startEditing(r,{event:e})}}onMouseDown(e){let{ctrlKey:t,metaKey:n,shiftKey:r}=e,i=e.target,{cellCtrl:a,beans:o}=this,{eventSvc:s,rangeSvc:c,rowNumbersSvc:l,focusSvc:u,gos:d,editSvc:f}=o,{column:p,rowNode:m,cellPosition:h}=a,g=AQ(d,p,m,e),_=()=>{let t=a.createEvent(e,`cellMouseDown`);t.isEventHandlingSuppressed=g,s.dispatchEvent(t)};if(g){_();return}if(this.isRightClickInExistingRange(e))return;let v=c&&!c.isEmpty(),y=this.containsWidget(i),b=IY(p);if(l&&b&&!l.handleMouseDownOnCell(h,e)){c&&e.preventDefault(),e.stopImmediatePropagation();return}if(!r||!v){let t=f?.isEditing(a),n=d.get(`enableCellTextSelection`)&&e.defaultPrevented,r=(TX()||n)&&!t&&!dq(i)&&!y;a.focusCell(r,e)}if(r&&v&&!u.isCellFocused(h)){e.preventDefault();let t=u.getFocusedCell();if(t){let{column:n,rowIndex:r,rowPinned:i}=t;f?.isEditing(t)&&f?.stopEditing(t),u.setFocusedCell({column:n,rowIndex:r,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!y){if(c){b&&e.preventDefault();let i=yY(o,e)&&b;if(r)c.extendLatestRangeToCell(h);else if(!i){let e=t||n;c.setRangeToCell(h,e)}}_()}}isRightClickInExistingRange(e){let{rangeSvc:t}=this.beans;if(t){let n=t.isCellInAnyRange(this.cellCtrl.cellPosition),r=yY(this.beans,e);if(n&&r)return!0}return!1}containsWidget(e){return mq(e,`ag-selection-checkbox`,3)||mq(e,`ag-drag-handle`,3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,`cellMouseOut`)),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,`cellMouseOver`)),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let t=this.cellCtrl.eGui,n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}},qAe=class extends J{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;let e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){let t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){let t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();DY(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;let e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let{column:e,rowNode:t}=this,n=e.getColSpan(t),r=[];if(n===1)r.push(e);else{let t=e,i=e.getPinned();for(let e=0;t&&e<n&&(r.push(t),t=this.beans.visibleCols.getColAfter(t),!(!t||RK(t)||i!==t.getPinned()));e++);}return r}onLeftChanged(){if(!this.eSetLeft)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+`px`}getCellLeft(){let e;return e=this.beans.gos.get(`enableRtl`)&&this.colsSpanning?EY(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()===`left`)return e;let{visibleCols:t}=this.beans,n=t.getColsLeftWidth();return this.column.getPinned()===`right`?n+t.bodyWidth+(e||0):n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;let t=GJ(this.beans)*this.rowSpan;this.eContent.style.height=`${t}px`,this.eContent.style.zIndex=`1`}destroy(){super.destroy()}},JAe=`ag-cell`,YAe=`ag-cell-auto-height`,XAe=`ag-cell-normal-height`,ZAe=`ag-cell-focus`,QAe=`ag-cell-first-right-pinned`,$Ae=`ag-cell-last-left-pinned`,eje=`ag-cell-not-inline-editing`,tje=`ag-cell-wrap-text`,nje=0,D0=class extends J{constructor(e,t,n,r){super(),this.column=e,this.rowNode=t,this.rowCtrl=r,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;let{colId:i}=e;this.instanceId=i+`-`+ nje++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){let{beans:e}=this;this.positionFeature=new qAe(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new KAe(this,e,this.column),this.keyboardListener=new GAe(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();let{rangeSvc:t}=e;t&&sY(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),IY(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){let e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),E0(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,r,i,a,o){if(this.comp=e,this.eGui=t,this.printLayout=i,o??=this,this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get(`suppressCellFocus`)),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),a&&this.isCellEditable()||this.hasEdit&&this.editSvc?.isEditing(this,{withOpenEditor:!0})?this.editSvc?.startEditing(this,{startedEdit:!1,source:`api`,silent:!0,continueEditing:!0}):this.showValue(!1,!0),this.onCompAttachedFuncs.length){for(let e of this.onCompAttachedFuncs)e();this.onCompAttachedFuncs=[]}}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??`gridcell`}isCellRenderer(){let e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){let{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:r,eventSvc:i}=e,a=t.getColDef(),o=this.createCellRendererParams();o.deferRender=!0;let s=fX(n,a,o);if(r.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let e,t=new cX(t=>{e=t}),[n]=this.addManagedListeners(i,{bodyScrollEnd:()=>{e(),n()}});return{loadingComp:s,onReady:t}}return{loadingComp:s,onReady:cX.resolve()}}showValue(e,t){let{beans:n,column:r,rowNode:i,rangeFeature:a}=this,{userCompFactory:o}=n,s=this.getValueToDisplay(),c,l=i.stub&&i.groupData?.[r.getId()]==null,u=r.getColDef();if(l||this.isCellRenderer()){let e=this.createCellRendererParams();c=!l||IY(r)?dX(o,u,e):fX(o,u,e)}if(!c&&!l&&n.findSvc?.isMatch(i,r)){let e=this.createCellRendererParams();c=dX(o,{...r.getColDef(),cellRenderer:`agFindCellRenderer`},e)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(i,{checkSiblings:!0})){let e=this.editSvc.prepDetailsDuringBatch(this,{compDetails:c,valueToDisplay:s});e&&(e.compDetails?c=e.compDetails:e.valueToDisplay&&(s=e.valueToDisplay))}this.comp.setRenderDetails(c,s,e),this.customRowDragComp?.refreshVisibility(),!t&&a&&Rq(n,()=>a?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){let e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get(`enableCellTextSelection`)||this.column.isAutoHeight()}getCellValueClass(){let e=this.column.getColDef().cellRenderer===`agCheckboxCellRenderer`,t=``;return e&&(t=` ag-allow-overflow`),`ag-cell-value${t}`}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&N$(this.rowNode))&&!!e}isCheckboxSelection(e){let{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,r=aY(t),i=FY(this.column);return n===`custom`&&r!==`selectionColumn`&&i?!1:e.checkboxSelection||i&&typeof t==`object`&&rY(t)}refreshShouldDestroy(){let e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||r||i}onPopupEditorClosed(){let{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?`ui`:`api`})}stopEditing(e=!1){let{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?`ui`:`api`})??!1}createCellRendererParams(){let{value:e,valueFormatted:t,column:n,rowNode:r,comp:i,eGui:a,beans:{valueSvc:o,gos:s,editSvc:c}}=this;return _Y(s,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,r).value,setValue:e=>c?.setDataValue({rowNode:r,column:n},e)||r.setDataValue(n,e),formatValue:this.formatValue.bind(this),data:r.data,node:r,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:a,eParentOfValue:i.getParentOfValue(),registerRowDragger:(e,t,n,r)=>this.registerRowDragger(e,t,r),setTooltip:(e,t)=>{s.assertModuleRegistered(`Tooltip`,3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(e,t),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){if(this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e),this.hasEdit&&this.editCompDetails){let{editSvc:e,comp:t}=this;!t?.getCellEditor()&&e.isEditing(this,{withOpenEditor:!0})&&e.startEditing(this,{startedEdit:!1,source:`api`,silent:!0})}}refreshCell({force:e,suppressFlash:t,newData:n}={}){let{editStyleFeature:r,customStyleFeature:i,rowCtrl:{rowEditStyleFeature:a},beans:{cellFlashSvc:o,filterManager:s},column:c,comp:l,suppressRefreshCell:u,tooltipFeature:d}=this;if(u)return;let{field:f,valueGetter:p,showRowGroup:m,enableCellChangeFlash:h}=c.getColDef(),g=e||f==null&&p==null&&m==null||n,_=!!l,v=this.updateAndFormatValue(_),y=g||v;if(_){if(y){this.showValue(!!n,!1);let e=s?.isSuppressFlashingCellsBecauseFiltering();!t&&!e&&h&&o?.flashCell(this),r?.applyCellStyles?.(),i?.applyUserStyles(),i?.applyClassesFromColDef(),a?.applyRowStyles()}d?.refreshTooltip(),i?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){let t=this.value,n=this.valueFormatted,{value:r,valueFormatted:i}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=r,this.valueFormatted=i,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){let n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){let t=this.eGui;JJ(this.beans.gos,t,NQ,this),e.addDestroyFunc(()=>JJ(this.beans.gos,t,NQ,null))}createEvent(e,t){let{rowNode:n,column:r,value:i,beans:a}=this;return UAe(a,e,t,{rowNode:n,column:r},i)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{comp:e,column:t,beans:n}=this;e$(e,t,n.visibleCols)}refreshAriaColIndex(){let e=this.beans.visibleCols.getAriaColIndex(this.column);oq(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){let{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){let n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){let{beans:{editSvc:t,focusSvc:n},comp:r}=this;if(!r||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;let i=()=>{if(!this.isAlive())return;let e=r.getFocusableElement();this.isCellFocused()&&e.focus({preventScroll:!0})};if(e){setTimeout(i,0);return}i()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){let t=this.eGui;t&&(IY(this.column)&&(e=!0),Iq(t,`tabindex`,e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;let e=this.column.isFirstRightPinned();this.comp.toggleCss(QAe,e)}onLastLeftPinnedChanged(){if(!this.comp)return;let e=this.column.isLastLeftPinned();this.comp.toggleCss($Ae,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){let e=this.checkCellFocused();return this.hasBeenFocused||=e,e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){let{beans:t}=this;if(n$(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}let n=this.isCellFocused(),r=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(ZAe,n),n&&e?.forceBrowserFocus){let t=this.comp.getFocusableElement();if(r){let e=qX(t,null,!0);e.length&&(t=e[0])}t.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&e&&this.rowCtrl.announceDescription()}createCellPosition(){let{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:LK(t),column:this.column}}applyStaticCssClasses(){let{comp:e}=this;e.toggleCss(JAe,!0),e.toggleCss(eje,!0);let t=this.column.isAutoHeight()==1;e.toggleCss(YAe,t),e.toggleCss(XAe,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){let e=this.column.getColDef().wrapText==1;this.comp.toggleCss(tje,e)}dispatchCellContextMenuEvent(e){let t=this.column.getColDef(),n=this.createEvent(e,`cellContextMenu`),{beans:r}=this;r.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{r.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(WK(this.beans))??!1}createSelectionCheckbox(){let e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){let e=this.beans.registry.createDynamicBean(`dndSourceComp`,!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}let r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}),r.refreshVisibility())}createRowDragComp(e,t,n){let r=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(r)return this.beans.context.createBean(r),r}cellEditorAttached(){for(let e of this.onEditorAttachedFuncs)e();this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}};function O0(e,t,n,r,i,a){if(n==null&&t==null)return;let o={},s={},c=(e,t)=>{for(let n of e.split(` `))n.trim()!=``&&t(n)};if(n){let t=Object.keys(n);for(let i=0;i<t.length;i++){let a=t[i],l=n[a],u;typeof l==`string`?u=e?e.evaluate(l,r):!0:typeof l==`function`&&(u=l(r)),c(a,e=>{u?o[e]=!0:s[e]=!0})}}if(t&&a)for(let e of Object.keys(t))c(e,e=>{o[e]||(s[e]=!0)});a&&Object.keys(s).forEach(a),Object.keys(o).forEach(i)}function k0(e){if(e.group)return e.level;let t=e.parent;return t?t.level+1:0}var rje=class extends J{constructor(){super(...arguments),this.beanName=`rowStyleSvc`}processClassesFromGridOptions(e,t){let n=this.gos,r=t=>{if(typeof t==`string`)e.push(t);else if(Array.isArray(t))for(let n of t)e.push(n)},i=n.get(`rowClass`);i&&r(i);let a=n.getCallback(`getRowClass`);a&&r(a({data:t.data,node:t,rowIndex:t.rowIndex}))}preProcessRowClassRules(e,t){this.processRowClassRules(t,t=>{e.push(t)},()=>{})}processRowClassRules(e,t,n){let{gos:r,expressionSvc:i}=this.beans,a=_Y(r,{data:e.data,node:e,rowIndex:e.rowIndex});O0(i,void 0,r.get(`rowClassRules`),a,t,n)}processStylesFromGridOptions(e){let t=this.gos,n=t.get(`rowStyle`),r=t.getCallback(`getRowStyle`),i;if(r&&(i=r({data:e.data,node:e,rowIndex:e.rowIndex})),i||n)return Object.assign({},n,i)}},ije=0,A0=class extends J{constructor(e,t,n,r,i){super(),this.rowNode=e,this.useAnimationFrameForCreate=r,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get(`suppressRowTransform`),this.instanceId=e.id+`-`+ ije++,this.rowId=HK(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=k0(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get(`getBusinessKeyForNode`),this.updateRowBusinessKey()}updateRowBusinessKey(){typeof this.businessKeyForNodeFunc==`function`&&(this.businessKey=HK(this.businessKeyForNodeFunc(this.rowNode)))}updateGui(e,t){e===`left`?this.leftGui=t:e===`right`?this.rightGui=t:e===`fullWidth`?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,r){let{context:i,focusSvc:a}=this.beans;r=nX(this,i,r);let o={rowComp:e,element:t,containerType:n,compBean:r};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o);let s=this.rowNode,c=this.rowType===`FullWidthLoading`||s.stub,l=!s.data&&this.beans.rowModel.getType()===`infinite`;!c&&!l&&!s.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();let u=this.fullWidthGui?.element;u&&!this.beans.editSvc?.isEditing(this)&&a.isRowFocused(s.rowIndex,s.rowPinned)&&a.shouldTakeFocus()&&setTimeout(()=>u.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType===`FullWidthDetail`&&this.gos.get(`keepDetailRows`)}setCached(e){let t=e?`none`:``;for(let e of this.allRowGuis)e.element.style.display=t}initialiseRowComp(e){let t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get(`suppressCellFocus`)),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),HJ(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);let n=e.rowComp,r=this.getInitialRowClasses(e.containerType);for(let e of r)n.toggleCss(e,!0);this.executeSlideAndFadeAnimations(e),this.rowNode.group&&iq(e.element,this.rowNode.expanded==1),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),JJ(t,e.element,FQ,this),e.compBean.addDestroyFunc(()=>JJ(t,e.element,FQ,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,`p2`,!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get(`rowDragEntireRow`)&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss(`ag-after-created`,!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){let t=HK(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){let{containerType:t}=e;this.slideInAnimation[t]&&(tJ(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(tJ(()=>{e.rowComp.toggleCss(`ag-opacity-zero`,!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){let t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;let n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(e=>e!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){let t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get(`embedFullWidthRows`)?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){let e=this.gos.getCallback(`processRowPostCreate`);!e||!this.areAllContainersReady()||e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){let{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:r}}=this,i=!!e||!r.isPinningLeft(),a=!!t,o=!!n||!r.isPinningRight();return i&&a&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;let e=this.beans.gos.getCallback(`isFullWidthRow`);return e?e({rowNode:this.rowNode}):!1}setRowType(){let e=this.rowNode.stub&&!this.gos.get(`suppressServerSideFullWidthLoadingRow`)&&!this.gos.get(`groupHideOpenParents`),t=this.isNodeFullWidthCell(),n=this.gos.get(`masterDetail`)&&this.rowNode.detail,r=this.beans.colModel.isPivotMode(),i=tY(this.gos,this.rowNode,r);e?this.rowType=`FullWidthLoading`:n?this.rowType=`FullWidthDetail`:t?this.rowType=`FullWidth`:i?this.rowType=`FullWidthGroup`:this.rowType=`Normal`}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;let{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||=(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,`p1`,!1),!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new D0(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){let r={list:[],map:{}},i=(e,t,n)=>{n==null?r.list.push(t):r.list.splice(n,0,t),r.map[e]=t},a=[];for(let n of t){let t=n.getInstanceId(),r=e.map[t];r&&!this.isCorrectCtrlForSpan(r)&&(r.destroy(),r=void 0),r||=this.getNewCellCtrl(n),r&&i(t,r)}for(let t of e.list){let e=t.column.getInstanceId();r.map[e]??(this.isCellEligibleToBeRemoved(t,n)?t.destroy():a.push([e,t]))}if(a.length)for(let[e,t]of a){let n=r.list.findIndex(e=>e.column.getLeft()>t.column.getLeft());i(e,t,n===-1?void 0:Math.max(n-1,0))}let{focusSvc:o,visibleCols:s}=this.beans,c=o.getFocusedCell();if(c&&c.column.getPinned()==n){let e=c.column.getInstanceId();if(!r.map[e]&&s.allCols.includes(c.column)){let t=this.createFocusedCellCtrl();if(t){let n=r.list.findIndex(e=>e.column.getLeft()>t.column.getLeft());i(e,t,n===-1?void 0:Math.max(n-1,0))}}}return r}createFocusedCellCtrl(){let{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;let r=t?.getCellSpan(n.column,this.rowNode);if(r){if(r.firstNode!==this.rowNode||!r.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){for(let t of this.allRowGuis){let n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)}}getCellCtrlsForContainer(e){switch(e){case`left`:return this.leftCellCtrls.list;case`right`:return this.rightCellCtrls.list;case`fullWidth`:return[];case`center`:return this.centerCellCtrls.list}}createAllCellCtrls(){let e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);let r=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,`left`);let i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,`right`)}}isCellEligibleToBeRemoved(e,t){let{column:n}=e;if(n.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;let{visibleCols:r,editSvc:i}=this.beans,a=i?.isEditing(e),o=e.isCellFocused();return a||o?!(r.allCols.indexOf(n)>=0):!0}getDomOrder(){return this.gos.get(`ensureDomOrder`)||VJ(this.gos,`print`)}listenOnDomOrder(e){e.compBean.addManagedPropertyListeners([`domLayout`,`ensureDomOrder`],()=>{e.rowComp.setDomOrder(this.getDomOrder())})}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;let t=q(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,r=n.isPinningLeft(),i=n.isPinningRight();if(t){let{slideInAnimation:e}=this;if(this.isFullWidth()&&!this.gos.get(`embedFullWidthRows`)){e.fullWidth=!0;return}e.center=!0,e.left=r,e.right=i}else{let{fadeInAnimation:e}=this;if(this.isFullWidth()&&!this.gos.get(`embedFullWidthRows`)){e.fullWidth=!0;return}e.center=!0,e.left=r,e.right=i}}isFullWidth(){return this.rowType!==`Normal`}refreshFullWidth(){let e=(e,t)=>e?e.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(e.element,t).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,`left`),i=e(this.rightGui,`right`);return t&&n&&r&&i}addListeners(){let{beans:e,gos:t,rowNode:n}=this,{expansionSvc:r,eventSvc:i,context:a,rowSpanSvc:o}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...r?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(i,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),o&&this.addManagedListeners(o,{spannedCellsUpdated:({pinned:e})=>{e&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,a),this.tooltipFeature=this.destroyBean(this.tooltipFeature,a),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,a)}),this.addManagedPropertyListeners([`rowStyle`,`getRowStyle`,`rowClass`,`getRowClass`,`rowClassRules`],this.postProcessCss.bind(this)),this.addManagedPropertyListener(`rowDragEntireRow`,()=>{if(t.get(`rowDragEntireRow`)){for(let e of this.allRowGuis)this.addRowDraggerToRow(e);return}this.rowDragComps=this.destroyBeans(this.rowDragComps,a)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{for(let e of this.getAllCellCtrls())e.onRowIndexChanged()},cellChanged:e=>{for(let t of this.getAllCellCtrls())t.onCellChanged(e)}})}onRowPinned(){for(let e of this.allRowGuis)e.rowComp.toggleCss(`ag-row-pinned-source`,!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}for(let t of this.getAllCellCtrls())t.refreshCell(e);for(let e of this.allRowGuis)this.setRowCompRowId(e.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(e.rowComp);this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:`none`,n=t===`above`,r=t===`inside`,i=t===`below`,a=this.gos.get(`treeData`)&&(i||n),o=this.rowNode.uiLevel.toString();for(let e of this.allRowGuis){let t=e.rowComp;t.toggleCss(`ag-row-highlight-above`,n),t.toggleCss(`ag-row-highlight-inside`,r),t.toggleCss(`ag-row-highlight-below`,i),t.toggleCss(`ag-row-highlight-indent`,a),a?e.element.style.setProperty(`--ag-row-highlight-level`,o):e.element.style.removeProperty(`--ag-row-highlight-level`)}}postProcessRowDragging(){let e=this.rowNode.dragging;for(let t of this.allRowGuis)t.rowComp.toggleCss(`ag-row-dragging`,e)}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:LK(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){let t=this.findFullWidthInfoForEvent(e);if(!t)return;let{rowGui:n,column:r}=t;if(n.element!==e.target)return;let i=this.rowNode,{focusSvc:a,navigation:o}=this.beans,s=a.getFocusedCell(),c={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:s?.column??r};o?.navigateToNextCell(e,e.key,c,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||vQ(e))return;let t=this.allRowGuis.find(t=>t.element.contains(e.target)),n=t?t.element:null,r=n===e.target,i=WK(this.beans),a=!1;n&&i&&(a=n.contains(i)&&i.classList.contains(`ag-cell`));let o=null;!r&&!a&&(o=YX(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&r||!o)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let e=this.allRowGuis.find(e=>Eq(e.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){let t=this.isFullWidth()&&e?void 0:this.gos.get(`tabIndex`);for(let e of this.allRowGuis)Iq(e.element,`tabindex`,t)}onFullWidthRowFocused(e){let t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,r;if(this.fullWidthGui)r=this.fullWidthGui.element;else{let t=this.beans.colModel.getCol(e?.column)?.pinned;r=t?t===`right`?this.rightGui?.element:this.leftGui?.element:this.centerGui?.element}r&&(r.classList.toggle(`ag-full-width-focus`,n),n&&e?.forceBrowserFocus&&r.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){let n={list:[],map:{}};for(let r of e.list)r!==t&&(n.list.push(r),n.map[r.column.getInstanceId()]=r);return n}onMouseEvent(e,t){switch(e){case`dblclick`:this.onRowDblClick(t);break;case`click`:this.onRowClick(t);break;case`touchstart`:case`mousedown`:this.onRowMouseDown(t);break}}createRowEvent(e,t){let{rowNode:n}=this;return _Y(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){let n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){if(vQ(e))return;let t=this.createRowEventWithSource(`rowDoubleClicked`,e);t.isEventHandlingSuppressed=this.isSuppressMouseEvent(e),this.beans.eventSvc.dispatchEvent(t)}findFullWidthInfoForEvent(e){if(!e)return;let t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){let{visibleCols:t}=this.beans;switch(e?.containerType){case`center`:return t.centerCols[0];case`left`:return t.leftCols[0];case`right`:return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=mq(e.target,`ag-row-drag`,3),!this.isFullWidth()||this.isSuppressMouseEvent(e))return;let{rangeSvc:t,focusSvc:n}=this.beans;t?.removeAllCellRanges();let r=this.findFullWidthInfoForEvent(e);if(!r)return;let{rowGui:i,column:a}=r,o=i.element,s=e.target,c=this.rowNode,l=e.defaultPrevented||TX();o&&o.contains(s)&&dq(s)&&(l=!1),n.setFocusedCell({rowIndex:c.rowIndex,column:a,rowPinned:c.rowPinned,forceBrowserFocus:l})}isSuppressMouseEvent(e){let{gos:t,rowNode:n}=this;if(this.isFullWidth())return xTe(t,this.findFullWidthRowGui(e.target)?.rowComp.getFullWidthCellRendererParams(),n,e);let r=PQ(t,e.target);return r!=null&&AQ(t,r.column,n,e)}onRowClick(e){if(vQ(e)||this.lastMouseDownOnDragger)return;let t=this.isSuppressMouseEvent(e),{eventSvc:n,selectionSvc:r}=this.beans,i=this.createRowEventWithSource(`rowClicked`,e);i.isEventHandlingSuppressed=t,n.dispatchEvent(i),!t&&r?.handleSelectionEvent(e,this.rowNode,`rowClicked`)}setupDetailRowAutoHeight(e){this.rowType===`FullWidthDetail`&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){let{gos:n,rowNode:r}=this,i=_Y(n,{fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(e,t,n,r)=>this.addFullWidthRowDragging(e,t,n,r),setTooltip:(e,t)=>{n.assertModuleRegistered(`Tooltip`,3),this.setupFullWidthRowTooltip(e,t)}}),a=this.beans.userCompFactory;switch(this.rowType){case`FullWidthDetail`:return ACe(a,i);case`FullWidthGroup`:{let{value:e,valueFormatted:t}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return i.value=e,i.valueFormatted=t,kCe(a,i)}case`FullWidthLoading`:return OCe(a,i);default:return DCe(a,i)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n=``,r){let{rowDragSvc:i,context:a}=this.beans;if(!i||!this.isFullWidth())return;let o=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,r);this.createBean(o,a),this.addDestroyFunc(()=>{this.destroyBean(o,a)})}onUiLevelChanged(){let e=k0(this.rowNode);if(this.rowLevel!=e){let t=`ag-row-level-`+e,n=`ag-row-level-`+this.rowLevel;for(let e of this.allRowGuis)e.rowComp.toggleCss(t,!0),e.rowComp.toggleCss(n,!1)}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){let e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();if(this.firstRowOnPage!==e){this.firstRowOnPage=e;for(let t of this.allRowGuis)t.rowComp.toggleCss(`ag-row-first`,e)}if(this.lastRowOnPage!==t){this.lastRowOnPage=t;for(let e of this.allRowGuis)e.rowComp.toggleCss(`ag-row-last`,t)}}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let e=[];if(this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length)for(let t of e)for(let e of this.allRowGuis)e.rowComp.toggleCss(t,!0)}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{for(let t of this.allRowGuis)t.rowComp.toggleCss(e,!0)},e=>{for(let t of this.allRowGuis)t.rowComp.toggleCss(e,!1)})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,e=>e.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e===`left`||e===`right`?e:null}getInitialRowClasses(e){let t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:r,beans:i}=this,a=[];a.push(`ag-row`),a.push(this.rowFocused?`ag-row-focus`:`ag-row-no-focus`),this.fadeInAnimation[e]&&a.push(`ag-opacity-zero`),a.push(r.rowIndex%2==0?`ag-row-even`:`ag-row-odd`),r.isRowPinned()&&(a.push(`ag-row-pinned`),i.pinnedRowModel?.isManual()&&a.push(`ag-row-pinned-manual`)),!r.isRowPinned()&&r.pinnedSibling&&a.push(`ag-row-pinned-source`),r.isSelected()&&a.push(`ag-row-selected`),r.footer&&a.push(`ag-row-footer`),a.push(`ag-row-level-`+this.rowLevel),r.stub&&a.push(`ag-row-loading`),n&&a.push(`ag-full-width-row`),i.expansionSvc?.addExpandedCss(a,r),r.dragging&&a.push(`ag-row-dragging`);let{rowStyleSvc:o}=i;return o&&(o.processClassesFromGridOptions(a,r),o.preProcessRowClassRules(a,r)),a.push(this.printLayout?`ag-row-position-relative`:`ag-row-position-absolute`),this.isFirstRowOnPage()&&a.push(`ag-row-first`),this.isLastRowOnPage()&&a.push(`ag-row-last`),n&&(t===`left`&&a.push(`ag-cell-last-left-pinned`),t===`right`&&a.push(`ag-cell-first-right-pinned`)),a}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,e=>{(e===this.centerGui||e===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;let{element:t,compBean:n}=e,{rowNode:r,beans:i,gos:a}=this;n.addManagedListeners(t,{pointerenter:e=>{e.pointerType===`mouse`&&r.dispatchRowEvent(`mouseEnter`)},pointerleave:e=>{e.pointerType===`mouse`&&r.dispatchRowEvent(`mouseLeave`)}}),n.addManagedListeners(r,{mouseEnter:()=>{!i.dragSvc?.dragging&&!a.get(`suppressRowHoverHighlight`)&&(t.classList.add(`ag-row-hover`),r.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){let t=e?[e]:this.allRowGuis.map(e=>e.element);for(let e of t)e.classList.remove(`ag-row-hover`);this.rowNode.setHovered(!1)}roundRowTopToBounds(e){let t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)}forEachGui(e,t){if(e)t(e);else for(let e of this.allRowGuis)t(e)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;let t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=UJ(this.gos)?WJ(this.beans,this.rowNode).height:void 0,i=r?`${Math.min(n,r)-2}px`:void 0;this.forEachGui(e,e=>{e.element.style.height=`${t}px`,i&&e.element.style.setProperty(`--ag-line-height`,i)})}destroyFirstPass(e=!1){this.active=!1;let{rowNode:t}=this;if(!e&&YJ(this.gos)&&!t.sticky)if(t.rowTop!=null){let e=this.roundRowTopToBounds(t.rowTop);this.setRowTop(e)}else for(let e of this.allRowGuis)e.rowComp.toggleCss(`ag-opacity-zero`,!0);this.fullWidthGui?.element.contains(WK(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);let n=this.createRowEvent(`virtualRowRemoved`);this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;let e=e=>{for(let t of e.list)t.destroy();return{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,e=>{e.rowComp.toggleCss(`ag-row-focus`,this.rowFocused),e.rowComp.toggleCss(`ag-row-no-focus`,!this.rowFocused)})}onCellFocusChanged(){let{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){let e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){return this.rowNode.isRowPinned()||this.rowNode.sticky?e:e+this.beans.pageBounds.getPixelOffset()*(t?1:-1)}setRowTop(e){if(!this.printLayout&&q(e)){let t=this.applyPaginationOffset(e),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(n)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return``;let t=this.rowNode,n;if(t.sticky)n=t.stickyRowTop;else{let r=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(r);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+`px`}setRowTopStyle(e){for(let t of this.allRowGuis)this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)}getCellCtrl(e,t=!1){let n=null;for(let t of this.getAllCellCtrls())t.column==e&&(n=t);if(n!=null||t)return n;for(let t of this.getAllCellCtrls())t?.getColSpanningList().indexOf(e)>=0&&(n=t);return n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){let t=this.rowNode.getRowIndexString();if(t===null)return;let n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),r=this.rowNode.rowIndex%2==0,i=n+this.rowNode.rowIndex+1;this.forEachGui(e,e=>{e.rowComp.setRowIndex(t),e.rowComp.toggleCss(`ag-row-even`,r),e.rowComp.toggleCss(`ag-row-odd`,!r),aq(e.element,i)})}},aje=class extends J{constructor(){super(),this.beanName=`navigation`,this.onPageDown=rJ(this.onPageDown,100),this.onPageUp=rJ(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){let n=e.key,r=e.altKey,i=e.ctrlKey||e.metaKey,a=!!this.beans.rangeSvc&&e.shiftKey,o=JTe(this.gos,e),s=!1;switch(n){case Z.PAGE_HOME:case Z.PAGE_END:!i&&!r&&(this.onHomeOrEndKey(n),s=!0);break;case Z.LEFT:case Z.RIGHT:case Z.UP:case Z.DOWN:if(!o)return!1;i&&!r&&!a&&(this.onCtrlUpDownLeftRight(n,o),s=!0);break;case Z.PAGE_DOWN:case Z.PAGE_UP:!i&&!r&&(s=this.handlePageUpDown(n,o,t));break}return s&&e.preventDefault(),s}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===Z.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:r,focusColumn:i,isAsync:a,rowPinned:o}){let{scrollFeature:s}=this.gridBodyCon;q(n)&&!n.isPinned()&&s.ensureColumnVisible(n),q(e)&&s.ensureIndexVisible(e,t),a||s.ensureIndexVisible(r);let{focusSvc:c,rangeSvc:l}=this.beans;c.setFocusedCell({rowIndex:r,column:i,rowPinned:o,forceBrowserFocus:!0}),l?.setRangeToCell({rowIndex:r,rowPinned:o,column:i})}onPageDown(e){let t=this.beans,n=j0(t),r=this.getViewportHeight(),{pageBounds:i,rowModel:a,rowAutoHeight:o}=t,s=i.getPixelOffset(),c=n.top+r,l=a.getRowIndexAtPixel(c+s);o?.active?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)}onPageUp(e){let t=this.beans,n=j0(t),{pageBounds:r,rowModel:i,rowAutoHeight:a}=t,o=r.getPixelOffset(),s=n.top,c=i.getRowIndexAtPixel(s+o);a?.active?this.navigateToNextPageWithAutoHeight(e,c,!0):this.navigateToNextPage(e,c,!0)}navigateToNextPage(e,t,n=!1){let{pageBounds:r,rowModel:i}=this.beans,a=this.getViewportHeight(),o=r.getFirstRow(),s=r.getLastRow(),c=r.getPixelOffset(),l=i.getRow(e.rowIndex),u=n?l?.rowHeight-a-c:a-c,d=l?.rowTop+u,f=i.getRowIndexAtPixel(d+c);if(f===e.rowIndex){let r=n?-1:1;t=f=e.rowIndex+r}let p;n?(p=`bottom`,f<o&&(f=o),t<o&&(t=o)):(p=`top`,f>s&&(f=s),t>s&&(t=s)),this.isRowTallerThanView(i.getRow(f))&&(t=f,p=`top`),this.navigateTo({scrollIndex:t,scrollType:p,scrollColumn:null,focusIndex:f,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?`bottom`:`top`,scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{let r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?`bottom`:`top`,scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){let n=t?-1:1,r=this.getViewportHeight(),{pageBounds:i,rowModel:a}=this.beans,o=i.getLastRow(),s=0,c=e.rowIndex;for(;c>=0&&c<=o;){let e=a.getRow(c);if(e){let t=e.rowHeight??0;if(s+t>r)break;s+=t}c+=n}return Math.max(0,Math.min(c,o))}getViewportHeight(){let e=this.beans,t=j0(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth(),r=t.bottom-t.top;return e.ctrlsSvc.get(`center`).isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){if(!e)return!1;let t=e.rowHeight;return typeof t==`number`?t>this.getViewportHeight():!1}onCtrlUpDownLeftRight(e,t){let n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:r,rowPinned:i,column:a}=this.getNormalisedPosition(n)??n,o=a;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:o,focusIndex:r,focusColumn:o,rowPinned:i})}onHomeOrEndKey(e){let t=e===Z.PAGE_HOME,{visibleCols:n,pageBounds:r,rowModel:i}=this.beans,a=n.allCols,o=t?r.getFirstRow():r.getLastRow(),s=i.getRow(o);if(!s)return;let c=(t?a:[...a].reverse()).find(e=>!e.isSuppressNavigable(s));c&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:c,focusIndex:o,focusColumn:c})}onTabKeyDown(e,t){let n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:a,pageBounds:o,focusSvc:s,gos:c}=i;if(r!==!1){r?t.preventDefault():r===null&&a.get(`gridCtrl`).allowFocusForNextCoreContainer(n);return}if(n){let{rowIndex:n,rowPinned:r}=e.getRowPosition();(r?n===0:n===o.getFirstRow())&&(c.get(`headerHeight`)===0||t$(i)?r$(i,!0,!0):(t.preventDefault(),s.focusPreviousFromFirstCell(t)))}else e instanceof D0&&e.focusCell(!0),(s.focusOverlay(!1)||r$(i,n))&&t.preventDefault()}tabToNextCell(e,t){let n=this.beans,{focusSvc:r,rowRenderer:i}=n,a=r.getFocusedCell();if(!a)return!1;let o=X$(n,a);return!o&&(o=i.getRowByPosition(a),!o?.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t,`api`)}tabToNextCellCommon(e,t,n,r=`ui`){let{editSvc:i,focusSvc:a}=this.beans,o,s=e instanceof D0?e:e.getAllCellCtrls()?.[0];return o=i?.isEditing()?i?.moveToNextCell(s,t,n,r):this.moveToNextCellNotEditing(e,t,n),o===null?o:o||!!a.focusedHeader}moveToNextCellNotEditing(e,t,n){let r=this.beans.visibleCols.allCols,i;if(e instanceof A0){if(i={...e.getRowPosition(),column:t?r[0]:EY(r)},this.gos.get(`embedFullWidthRows`)&&n){let t=e.findFullWidthInfoForEvent(n);t&&(i.column=t.column)}}else i=e.getFocusedCellPosition();let a=this.findNextCellToFocusOn(i,{backwards:t,startEditing:!1});if(a===!1)return null;if(a instanceof D0)a.focusCell(!0);else if(a)return this.tryToFocusFullWidthRow(a,t);return q(a)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:r}){let i=e,a=this.beans,{cellNavigation:o,gos:s,focusSvc:c,rowRenderer:l,rangeSvc:u}=a;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=o.getNextTabbedCell(i,t);let d=s.getCallback(`tabToNextCell`);if(q(d)){let r=d({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(r===!0)i=e;else if(r===!1)return!1;else i={rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned}}if(!i)return null;if(i.rowIndex<0){let e=i$(a);return c.focusHeaderPosition({headerPosition:{headerRowIndex:e+i.rowIndex,column:i.column},fromCell:!0}),null}let f=s.get(`editType`)===`fullRow`;if(n&&(!f||r)&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);let p=X$(a,i);if(!p){let e=l.getRowByPosition(i);if(!e||!e.isFullWidth()||n)continue;return{...e.getRowPosition(),column:i?.column}}if(!o.isSuppressNavigable(p.column,p.rowNode))return p.setFocusedCellPosition(i),u?.setRangeToCell(i),p}}isCellEditable(e){let t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){let{pinnedRowModel:n,rowModel:r}=this.beans;return t===`top`?n?.getPinnedTopRow(e):t===`bottom`?n?.getPinnedBottomRow(e):r.getRow(e)}navigateToNextCell(e,t,n,r){let i=n,a=!1,o=this.beans,{cellNavigation:s,focusSvc:c,gos:l}=o;for(;i&&(i===n||!this.isValidNavigateCell(i));)l.get(`enableRtl`)?t===Z.LEFT&&(i=this.getLastCellOfColSpan(i)):t===Z.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=s.getNextCellToFocus(t,i),a=RK(i);if(a&&e&&e.key===Z.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),r){let r=l.getCallback(`navigateToNextCell`);if(q(r)){let a=r({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});i=q(a)?{rowPinned:a.rowPinned,rowIndex:a.rowIndex,column:a.column}:null}}if(!i)return;if(i.rowIndex<0){let t=i$(o);c.focusHeaderPosition({headerPosition:{headerRowIndex:t+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}let u=this.getNormalisedPosition(i);u?this.focusPosition(u):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){if(this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);let t=X$(this.beans,e);return t?(e=t.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){let{visibleCols:n,rowRenderer:r,focusSvc:i,eventSvc:a}=this.beans,o=n.allCols;if(!r.getRowByPosition(e)?.isFullWidth())return!1;let s=i.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?EY(o):o[0])};this.focusPosition(c);let l=t??(s!=null&&hDe(c,s));return a.dispatchEvent({type:`fullWidthRowFocused`,rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:l}),!0}focusPosition(e){let{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!Y$(this.beans,e)}getLastCellOfColSpan(e){let t=X$(this.beans,e);if(!t)return e;let n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:EY(n),rowPinned:e.rowPinned}}ensureCellVisible(e){let t=XJ(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),r=t&&n?.sticky,{scrollFeature:i}=this.gridBodyCon;!r&&RK(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}ensureColumnVisible(e){let t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function j0(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var oje={moduleName:`KeyboardNavigation`,version:Y,beans:[aje,OAe,Hke],apiFunctions:{getFocusedCell:kAe,clearFocusedCell:AAe,setFocusedCell:jAe,setFocusedHeader:PAe,tabToNextCell:MAe,tabToPreviousCell:NAe}},sje=class extends J{constructor(){super(...arguments),this.beanName=`pageBoundsListener`}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:`paginationChanged`,animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){let{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},cje=class extends J{constructor(){super(...arguments),this.beanName=`pageBounds`,this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){let{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){let{topRowBounds:e,bottomRowBounds:t}=this;return{pageFirstPixel:e?.rowTop??0,pageLastPixel:t?t.rowTop+t.rowHeight:0}}calculateBounds(e,t){let{rowModel:n}=this.beans,r=n.getRowBounds(e);r&&(r.rowIndex=e),this.topRowBounds=r;let i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:`paginationPixelOffsetChanged`}))}},lje=`.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}`,uje=class extends J{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?`left`:`right`}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){let e=this.getWidth(),t=e>0;for(let n of this.elements)n&&(fq(n,t),Mq(n,e))}},dje={moduleName:`PinnedColumn`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`pinnedCols`}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl});let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener(`domLayout`,e)}checkContainerWidths(){let{gos:e,visibleCols:t,eventSvc:n}=this.beans,r=VJ(e,`print`),i=r?0:t.getColsLeftWidth(),a=r?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:`leftPinnedWidthChanged`})),a!=this.rightWidth&&(this.rightWidth=a,n.dispatchEvent({type:`rightPinnedWidthChanged`}))}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.eBodyViewport,t=_q(e);if(t<=50)return;let n=this.getPinnedColumnsOverflowingViewport(t-50),r=this.gos.getCallback(`processUnpinnedColumns`),{columns:i,hasLockedPinned:a}=n,o=i;!o.length&&!a||(r&&(o=r({columns:o,viewportWidth:t})),o?.length&&(o=o.filter(e=>!IY(e)),this.setColsPinned(o,null,`viewportSizeFeature`)))}createPinnedWidthFeature(e,...t){return new uje(e,t)}setColsPinned(e,t,n){let{colModel:r,colAnimation:i,visibleCols:a,gos:o}=this.beans;if(!r.cols||!e?.length)return;if(VJ(o,`print`)){X(37);return}i?.start();let s;s=t===!0||t===`left`?`left`:t===`right`?`right`:null;let c=[];for(let t of e){if(!t)continue;let e=r.getCol(t);e&&e.getPinned()!==s&&(this.setColPinned(e,s),c.push(e))}c.length&&(a.refresh(n),qY(this.eventSvc,c,n)),i?.finish()}initCol(e){let{pinned:t,initialPinned:n}=e.colDef;t===void 0?this.setColPinned(e,n):this.setColPinned(e,t)}setColPinned(e,t){t===!0||t===`left`?e.pinned=`left`:t===`right`?e.pinned=`right`:e.pinned=null,e.dispatchStateUpdatedEvent(`pinned`)}setupHeaderPinnedWidth(e){let{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;let n=e.pinned===`left`,r=e.pinned===`right`;e.hidden=!0;let i=()=>{let i=n?this.leftWidth:this.rightWidth;if(i==null)return;let a=i==0,o=e.hidden!==a,s=this.gos.get(`enableRtl`),c=t.getScrollbarWidth(),l=t.verticalScrollShowing&&(s&&n||!s&&r)?i+c:i;e.comp.setPinnedContainerWidth(`${l}px`),e.comp.setDisplayed(!a),o&&(e.hidden=a,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){let{leftWidth:t,rightWidth:n}=this,r=_q(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(t+n+e>r)if(r>t+n)e=r-t-n;else return 0}return e}getPinnedColumnsOverflowingViewport(e){let t=(this.rightWidth??0)+(this.leftWidth??0),n=!1;if(t<e)return{columns:[],hasLockedPinned:n};let{visibleCols:r}=this.beans,i=[...r.leftCols],a=[...r.rightCols],o=0,s=0,c=[],l=t-0-e;for(;(s<i.length||o<a.length)&&l>0;){if(o<a.length){let e=a[o++];if(e.colDef.lockPinned){n=!0;continue}l-=e.getActualWidth(),c.push(e)}if(s<i.length&&l>0){let e=i[s++];if(e.colDef.lockPinned){n=!0;continue}l-=e.getActualWidth(),c.push(e)}}return{columns:c,hasLockedPinned:n}}}],css:[lje]},fje={moduleName:`Aria`,version:Y,beans:[class extends J{constructor(){super(),this.beanName=`ariaAnnounce`,this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement=``,this.updateAnnouncement=nJ(this,this.updateAnnouncement.bind(this),200)}postConstruct(){let e=this.beans,t=this.descriptionContainer=GK(e).createElement(`div`);t.classList.add(`ag-aria-description-container`),nq(t,`polite`),bxe(t,`additions text`),yxe(t,!0),e.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;let e=Array.from(this.pendingAnnouncements.values()).join(`. `);this.pendingAnnouncements.clear(),this.descriptionContainer.textContent=``,setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,``)==``){this.lastAnnouncement=``;return}this.lastAnnouncement===t&&(t=`${t}\u200B`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(Cq(e),e.remove()),this.descriptionContainer=null,this.pendingAnnouncements.clear()}}]},pje=`:where(.ag-delay-render){.ag-cell,.ag-header-cell,.ag-header-group-cell,.ag-row,.ag-spanned-cell-wrapper{visibility:hidden}}`,M0=`ag-delay-render`,mje={moduleName:`ColumnDelayRender`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`colDelayRenderSvc`,this.hideRequested=!1,this.alreadyRevealed=!1,this.timesRetried=0,this.requesters=new Set}hideColumns(e){this.alreadyRevealed||this.requesters.has(e)||(this.requesters.add(e),this.hideRequested||=(this.beans.ctrlsSvc.whenReady(this,e=>{e.gridBodyCtrl.eGridBody.classList.add(M0)}),!0))}revealColumns(e){if(this.alreadyRevealed||!this.isAlive()||(this.requesters.delete(e),this.requesters.size>0))return;let{renderStatus:t,ctrlsSvc:n}=this.beans;if(t){if(!t.areHeaderCellsRendered()&&this.timesRetried<5){this.timesRetried++,setTimeout(()=>this.revealColumns(e));return}this.timesRetried=0}n.getGridBodyCtrl().eGridBody.classList.remove(M0),this.alreadyRevealed=!0}}],css:[pje]};function hje(e){e.overlays?.showLoadingOverlay()}function gje(e){e.overlays?.showNoRowsOverlay()}function _je(e){e.overlays?.hideOverlay()}var vje=`.ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}`,yje={tag:`div`,cls:`ag-overlay`,role:`presentation`,children:[{tag:`div`,cls:`ag-overlay-panel`,role:`presentation`,children:[{tag:`div`,ref:`eOverlayWrapper`,cls:`ag-overlay-wrapper`,role:`presentation`}]}]},N0=class extends oX{constructor(){super(yje),this.eOverlayWrapper=null,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(vje)}handleKeyDown(e){if(e.key!==Z.TAB||e.defaultPrevented||vQ(e))return;let t=this.beans;if(YX(t,this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;n=e.shiftKey?t.focusSvc.focusGridView({column:EY(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):r$(t,!1),n&&e.preventDefault()}updateLayoutClasses(e,t){let n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:r,NORMAL:i,PRINT:a}=SQ;n.toggle(r,t.autoHeight),n.toggle(i,t.normal),n.toggle(a,t.print)}postConstruct(){this.createManagedBean(new CQ(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){let t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,r){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){let e=WK(this.beans);e&&!KK(this.beans)&&(this.elToFocusAfter=e)}e.then(t=>{if(this.activePromise!==e){this.activeOverlay!==t&&(this.destroyBean(t),t=null);return}if(this.activePromise=null,t){if(this.activeOverlay!==t&&(this.eOverlayWrapper.appendChild(t.getGui()),this.activeOverlay=t,r)){let e=t;this.updateListenerDestroyFunc=this.addManagedPropertyListener(r,({currentValue:t})=>{e.refresh?.(_Y(this.gos,{...t??{}}))})}n&&this.isGridFocused()&&JX(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty(`padding-top`,`${e}px`)}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);let n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Cq(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){let e=WK(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},bje={selector:`AG-OVERLAY-WRAPPER`,component:N0},xje={moduleName:`Overlay`,version:Y,userComponents:{agLoadingOverlay:gEe,agNoRowsOverlay:vEe},apiFunctions:{showLoadingOverlay:hje,showNoRowsOverlay:gje,hideOverlay:_je},beans:[class extends J{constructor(){super(...arguments),this.beanName=`overlays`,this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=zJ(this.gos),this.isServerSide=!this.isClientSide&&BJ(this.gos);let e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener(`loading`,e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos,t=e.get(`loading`);!t&&(t!==void 0||e.get(`suppressLoadingOverlay`))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;let e=this.gos;e.get(`loading`)||e.get(`suppressNoRowsOverlay`)||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get(`loading`)){X(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return bje}getOverlayWrapperCompClass(){return N0}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}let{state:e,isClientSide:t,isServerSide:n,beans:{gos:r,colModel:i,rowModel:a}}=this,o=this.gos.get(`loading`);o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!r.get(`suppressLoadingOverlay`)&&(o=!r.get(`columnDefs`)||!i.ready||!r.get(`rowData`)&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&a.isEmpty()&&!r.get(`suppressNoRowsOverlay`)?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(NCe(this.beans.userCompFactory,_Y(this.gos,{})),`ag-overlay-loading-wrapper`,`loadingOverlayComponentParams`),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(PCe(this.beans.userCompFactory,_Y(this.gos,{})),`ag-overlay-no-rows-wrapper`,`noRowsOverlayComponentParams`),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){let r=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(r,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){let e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:`overlayExclusiveChanged`})}refreshWrapperPadding(){let e=this.eWrapper;if(!e)return;let t=0;this.state===2&&(t=this.beans.ctrlsSvc.get(`gridHeaderCtrl`)?.headerHeight||0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}}]},Sje=class extends J{constructor(){super(...arguments),this.beanName=`rowContainerHeight`,this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=RCe(),fJ(this.gos,`RowContainerHeightService - maxDivHeight = `+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;fJ(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:`rowContainerHeightChanged`}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let t=typeof e==`number`?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:`heightScaleChanged`}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let t=e/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*t}},Cje=400,wje=class extends J{constructor(){super(...arguments),this.beanName=`rowRenderer`,this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{for(let e of this.getAllCellCtrls())e.onCellSelectionChanged()},t=()=>{for(let e of this.getAllCellCtrls())e.updateRangeBordersIfRangeCount()},n=()=>{this.eventSvc.addListener(`cellSelectionChanged`,e),this.eventSvc.addListener(`columnMoved`,t),this.eventSvc.addListener(`columnPinned`,t),this.eventSvc.addListener(`columnVisible`,t)},r=()=>{this.eventSvc.removeListener(`cellSelectionChanged`,e),this.eventSvc.removeListener(`columnMoved`,t),this.eventSvc.removeListener(`columnPinned`,t),this.eventSvc.removeListener(`columnVisible`,t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners([`enableRangeSelection`,`cellSelection`],()=>{sY(this.gos)?n():r()}),sY(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners([`domLayout`,`embedFullWidthRows`],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners([`suppressMaxRenderedRowRestriction`,`rowBuffer`],()=>this.redraw()),this.addManagedPropertyListener(`suppressCellFocus`,e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners([`groupSuppressBlankHeader`,`getBusinessKeyForNode`,`fullWidthCellRenderer`,`fullWidthCellRendererParams`,`suppressStickyTotalRow`,`groupRowRenderer`,`groupRowRendererParams`,`loadingCellRenderer`,`loadingCellRendererParams`,`detailCellRenderer`,`detailCellRendererParams`,`enableRangeSelection`,`enableCellTextSelection`],()=>this.redrawRows()),this.addManagedPropertyListener(`cellSelection`,({currentValue:e,previousValue:t})=>{(!t&&e||t&&!e)&&this.redrawRows()});let{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener(`showOpenedGroup`,()=>{let e=n.getShowRowGroupCols();e.length&&this.refreshCells({columns:e,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{let e=this.gridBodyCtrl;e.setStickyTopHeight(0),e.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=VJ(t,`print`),this.embedFullWidthRows=this.printLayout||t.get(`embedFullWidthRows`),this.redrawAfterModelUpdate()}initialiseCache(){this.gos.get(`keepDetailRows`)&&(this.cachedRowCtrls=new Tje(this.getKeepDetailRowsCount()??3))}getKeepDetailRowsCount(){return this.gos.get(`keepDetailRowsCount`)}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){let e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){let n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){for(let t of this.getAllCellCtrls())t.onCellFocused(e);for(let t of this.getFullWidthRowCtrls())t.onFullWidthRowFocused(e)}onCellFocusChanged(e){if(e?.rowIndex!=null&&!e.rowPinned){let t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){for(let t of this.getAllCellCtrls())t.onSuppressCellFocusChanged(e);for(let t of this.getFullWidthRowCtrls())t.onSuppressCellFocusChanged(e)}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{let{cellFlashSvc:t}=this.beans;if(t)for(let n of this.getAllCellCtrls())t.onFlashCells(n,e)},columnHoverChanged:()=>{for(let e of this.getAllCellCtrls())e.onColumnHover()},displayedColumnsChanged:()=>{for(let e of this.getAllCellCtrls())e.onDisplayedColumnsChanged()},displayedColumnsWidthChanged:()=>{if(this.printLayout)for(let e of this.getAllCellCtrls())e.onLeftChanged()}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){for(let e of this.destroyFuncsForColumnListeners)e();this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();let e=this.colModel.getCols();for(let t of e){let e=e=>{for(let n of this.getAllCellCtrls())n.column===t&&e(n)},n=()=>{e(e=>e.onLeftChanged())},r=()=>{e(e=>e.onWidthChanged())},i=()=>{e(e=>e.onFirstRightPinnedChanged())},a=()=>{e(e=>e.onLastLeftPinnedChanged())},o=()=>{e(e=>e.onColDefChanged())};t.__addEventListener(`leftChanged`,n),t.__addEventListener(`widthChanged`,r),t.__addEventListener(`firstRightPinnedChanged`,i),t.__addEventListener(`lastLeftPinnedChanged`,a),t.__addEventListener(`colDefChanged`,o),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener(`leftChanged`,n),t.__removeEventListener(`widthChanged`,r),t.__removeEventListener(`firstRightPinnedChanged`,i),t.__removeEventListener(`lastLeftPinnedChanged`,a),t.__removeEventListener(`colDefChanged`,o)})}}onDomLayoutChanged(){let e=VJ(this.gos,`print`),t=e||this.gos.get(`embedFullWidthRows`),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){let t=[];for(let n of this.getAllRowCtrls()){let r=n.getCellCtrl(e,!0)?.eGui;r&&t.push(r)}return t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,`top`,e),this.refreshFloatingRows(this.bottomRowCtrls,`bottom`,e)}refreshFloatingRows(e,t,n){let{pinnedRowModel:r,beans:i,printLayout:a}=this,o=Object.fromEntries(e.map(e=>[e.rowNode.id,e]));r?.forEachPinnedRow(t,(s,c)=>{let l=e[c];l&&r.getPinnedRowById(l.rowNode.id,t)===void 0&&(l.destroyFirstPass(),l.destroySecondPass()),s.id in o&&n?(e[c]=o[s.id],delete o[s.id]):e[c]=new A0(s,i,!1,!1,a)}),e.length=(t===`top`?r?.getPinnedTopRowCount():r?.getPinnedBottomRowCount())??0}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{let t=t=>{let n=t[e.rowIndex];n&&n.rowNode===e&&(n.destroyFirstPass(),n.destroySecondPass(),t[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case`top`:t(this.topRowCtrls);break;case`bottom`:t(this.bottomRowCtrls);break;default:t(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){let{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:`api`})),e!=null){for(let t of e??[])this.redrawRow(t,!0);this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);let n=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&YJ(this.gos),i=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();let{stickyRowFeature:a,gos:o}=this;if(a){a.checkStickyRows();let e=a.extraTopHeight+a.extraBottomHeight;e&&this.updateContainerHeights(e)}this.recycleRows(i,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get(`enableRowPinning`)?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let t=e.newData||e.newPage,n=this.gos.get(`suppressScrollOnNewData`);t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){let{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw Error(LJ(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;let t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:i$(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(_Y(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:`cellFocused`}))}findPositionToFocus(e){let{pagination:t,pageBounds:n}=this.beans,r=e;for(r.rowPinned==null&&t&&n&&!t.isRowInPage(r.rowIndex)&&(r={rowPinned:null,rowIndex:n.getFirstRow()});r;){if(r.rowPinned==null&&n)if(r.rowIndex<n.getFirstRow()){if(r=Z$(this.beans,{rowPinned:null,rowIndex:0}),!r)return null}else r.rowIndex>n.getLastRow()&&(r={rowPinned:null,rowIndex:n.getLastRow()});let t=this.getRowByPosition(r);if(t?.isAlive())return{...t.getRowPosition(),column:e.column};r=Z$(this.beans,r)}return null}getAllCellCtrls(){let e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){let n=t[r].getAllCellCtrls(),i=n.length;for(let t=0;t<i;t++)e.push(n[t])}return e}getAllRowCtrls(){let{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls(`top`)??[],...e?.getCtrls(`bottom`)??[],...e?.getCtrls(`center`)??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){let r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:r}={}){let i={force:n,newData:!1,suppressFlash:r};for(let n of this.getCellCtrls(e,t))n.refreshOrDestroyCell(i);this.refreshFullWidth(e)}refreshRows(e={}){for(let t of this.getRowCtrls(e.rowNodes))t.refreshRow(e);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(let n of this.getRowCtrls(e))n.isFullWidth()&&(n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0)));t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){let t=P0(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(e=>{let n=e.rowNode;return F0(n,t)})}getCellCtrls(e,t){let n;q(t)&&(n={},t.forEach(e=>{let t=this.colModel.getCol(e);q(t)&&(n[t.getId()]=!0)}));let r=[];for(let t of this.getRowCtrls(e))for(let e of t.getAllCellCtrls()){let t=e.column.getId();n&&!n[t]||r.push(e)}return r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){let t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){let e=[];for(let t of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[t].rowNode.id??e.push(t);this.removeRowCtrls(e);let t={};for(let e of Object.values(this.rowCtrlsByRowIndex)){let n=e.rowNode;t[n.id]=e}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){for(let n of e){let e=this.rowCtrlsByRowIndex[n];e&&(e.destroyFirstPass(t),e.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]}}onBodyScroll(e){e.direction===`vertical`&&this.redraw({afterScroll:!0})}redraw(e={}){let{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:r}=e,i,a=this.stickyRowFeature;a&&(i=t?.getFocusCellToUseAfterRefresh()||void 0);let o=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let c=!1;if(a){c=a.checkStickyRows();let e=a.extraTopHeight+a.extraBottomHeight;e&&this.updateContainerHeights(e)}let l=this.firstRenderedRow!==o||this.lastRenderedRow!==s;if(!(r&&!c&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!c),i!=null)){let e=t?.getFocusCellToUseAfterRefresh();i!=null&&e==null&&(n?.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){let n={};for(let t of e)n[t]=!0;let r=Object.keys(this.rowCtrlsByRowIndex).filter(e=>!n[e]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){let t=[];for(let e=this.firstRenderedRow;e<=this.lastRenderedRow;e++)t.push(e);let n=this.beans.pagination,r=this.beans.focusSvc?.getFocusedCell()?.rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&(!n||n.isRowInPage(r))&&r<this.rowModel.getRowCount()&&t.push(r);let i=e=>{let n=e.rowNode.rowIndex;n==null||n===r||(n<this.firstRenderedRow||n>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(e)&&t.push(n)};for(let e of Object.values(this.rowCtrlsByRowIndex))i(e);if(e)for(let t of Object.values(e))i(t);t.sort((e,t)=>e-t);let a=[];for(let e=0;e<t.length;e++){let n=t[e],r=this.rowModel.getRow(n);r&&!r.sticky&&a.push(n)}return a}recycleRows(e,t=!1,n=!1){let r=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t);for(let i of r)this.createOrUpdateRowCtrl(i,e,t,n);if(e){let{animationFrameSvc:r}=this.beans;r?.active&&n&&!this.printLayout?r.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:`displayedRowsChanged`,afterScroll:e})}onDisplayedColumnsChanged(){let{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];for(let t of this.getFullWidthRowCtrls()){let n=t.rowNode.rowIndex;e.push(n.toString())}this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let t=P0(e);return this.getAllRowCtrls().filter(e=>{if(!e.isFullWidth())return!1;let n=e.rowNode;return!(t!=null&&!F0(n,t))})}createOrUpdateRowCtrl(e,t,n,r){let i,a=this.rowCtrlsByRowIndex[e];if(a||(i=this.rowModel.getRow(e),q(i)&&q(t)&&t[i.id]&&i.alreadyRendered&&(a=t[i.id],t[i.id]=null)),!a)if(i||=this.rowModel.getRow(e),q(i))a=this.createRowCon(i,n,r);else return;i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=a}destroyRowCtrls(e,t){let n=[];if(e){for(let r of Object.values(e))if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);continue}if(r.destroyFirstPass(!t),t){let e=r.instanceId;this.zombieRowCtrls[e]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[e]})}else r.destroySecondPass()}}t&&(n.push(()=>{this.isAlive()&&(this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged())}),window.setTimeout(()=>{for(let e of n)e()},Cje))}getRowBuffer(){return this.gos.get(`rowBuffer`)}getRowBufferInPixels(){return this.getRowBuffer()*GJ(this.beans)}workOutFirstAndLastRowsToRender(){let{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let r,i;if(!n.isRowsToRender())r=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),r=t.getFirstRow(),i=t.getLastRow();else{let a=this.getRowBufferInPixels(),o=this.ctrlsSvc.getScrollFeature(),s=this.gos.get(`suppressRowVirtualisation`),c=!1,l,u;do{let n=t.getPixelOffset(),{pageFirstPixel:r,pageLastPixel:i}=t.getCurrentPagePixelRange(),d=e.divStretchOffset,f=o.getVScrollPosition(),p=f.top,m=f.bottom;s?(l=r+d,u=i+d):(l=Math.max(p+n-a,r)+d,u=Math.min(m+n+a,i)+d),this.firstVisibleVPixel=Math.max(p+n,r)+d,this.lastVisibleVPixel=Math.min(m+n,i)+d,c=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(c);let d=n.getRowIndexAtPixel(l),f=n.getRowIndexAtPixel(u),p=t.getFirstRow(),m=t.getLastRow();d<p&&(d=p),f>m&&(f=m),r=d,i=f}let a=VJ(this.gos,`normal`),o=this.gos.get(`suppressMaxRenderedRowRestriction`),s=Math.max(this.getRowBuffer(),500);a&&!o&&i-r>s&&(i=r+s);let c=r!==this.firstRenderedRow,l=i!==this.lastRenderedRow;(c||l)&&(this.firstRenderedRow=r,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:`viewportChanged`,firstRow:r,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,Rq(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:`firstDataRendered`,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){let n=this.pinnedRowModel?.ensureRowHeightsValid(),r=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:i,rowModel:a}=this,o=a.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(o||r)&&this.eventSvc.dispatchEvent({type:`recalculateRowBounds`}),r||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){let t=e.rowNode,n=this.focusSvc.isRowFocused(t.rowIndex,t.rowPinned),r=this.editSvc?.isEditing(e),i=t.detail;return n||r||i?!!this.isRowPresent(t):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){let r=this.cachedRowCtrls?.getRow(e)??null;if(r)return r;let i=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new A0(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){let e=Object.values(this.rowCtrlsByRowIndex).map(e=>e.rowNode),t=this.getStickyTopRowCtrls().map(e=>e.rowNode),n=this.getStickyBottomRowCtrls().map(e=>e.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t,{rowIndex:n}=e;switch(e.rowPinned){case`top`:t=this.topRowCtrls[n];break;case`bottom`:t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(e=>e.rowNode.rowIndex===n)||null,t||=this.getStickyBottomRowCtrls().find(e=>e.rowNode.rowIndex===n)||null);break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;let n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},Tje=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(e){if(e?.id==null)return null;let t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode==e?t:null):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){let t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],kY(this.entriesList,n)}removeFromCache(e){let t=e.rowNode.id;delete this.entriesMap[t],kY(this.entriesList,e)}getEntries(){return this.entriesList}};function P0(e){if(!e)return;let t={top:{},bottom:{},normal:{}};for(let n of e){let e=n.id;switch(n.rowPinned){case`top`:t.top[e]=n;break;case`bottom`:t.bottom[e]=n;break;default:t.normal[e]=n;break}}return t}function F0(e,t){let n=e.id;switch(e.rowPinned){case`top`:return t.top[n]!=null;case`bottom`:return t.bottom[n]!=null;default:return t.normal[n]!=null}}var Eje=class extends J{constructor(){super(...arguments),this.beanName=`rowNodeSorter`}postConstruct(){let{gos:e}=this;this.isAccentedSort=e.get(`accentedSort`),this.primaryColumnsSortGroups=ZJ(e),this.addManagedPropertyListener(`accentedSort`,e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener(`autoGroupColumnDef`,()=>this.primaryColumnsSortGroups=ZJ(e))}doFullSort(e,t){let n=e.map((e,t)=>({currentPos:t,rowNode:e}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(e=>e.rowNode)}compareRowNodes(e,t,n){let r=t.rowNode,i=n.rowNode;for(let t=0,n=e.length;t<n;t++){let n=e[t],a=n.sort===`desc`,o=this.getValue(r,n.column),s=this.getValue(i,n.column),c,l=this.getComparator(n,r);if(c=l?l(o,s,r,i,a):fxe(o,s,this.isAccentedSort),!isNaN(c)&&c!==0)return n.sort===`asc`?c:c*-1}return t.currentPos-n.currentPos}getComparator(e,t){let n=e.column,r=n.getColDef().comparator;if(r!=null)return r;if(!n.getColDef().showRowGroup)return;let i=!t.group&&n.getColDef().field;if(!i)return;let a=this.beans.colModel.getColDefCol(i);if(a)return a.getColDef().comparator}getValue(e,t){let{valueSvc:n,colModel:r,showRowGroupCols:i,gos:a}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(eY(a,r.isPivotActive())){let r=e.data?e:QZ(e.childrenAfterGroup);return r&&n.getValue(t,r,!1)}let o=i?.getShowRowGroupCol(t.getId());return o?e.groupData?.[o.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function Dje(e){e.sortSvc?.onSortChanged(`api`)}var I0={moduleName:`Sort`,version:Y,beans:[Xke,Eje],apiFunctions:{onSortChanged:Dje},userComponents:{agSortIndicator:X1},icons:{sortAscending:`asc`,sortDescending:`desc`,sortUnSort:`none`}},Oje=class extends J{constructor(){super(...arguments),this.beanName=`syncSvc`,this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener(`columnDefs`,e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{let e=this.gos.get(`columnDefs`);e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){let{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],`gridInitializing`),n.start()}gridReady(){let{eventSvc:e,gos:t}=this;e.dispatchEvent({type:`gridReady`}),fJ(t,`initialised successfully, enterprise = ${t.isModuleRegistered(`EnterpriseCore`)}`)}setColumnDefs(e){let t=this.gos.get(`columnDefs`);if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,RY(e.source))}}};function kje(e){e.valueCache?.expire()}function Aje(e,t){let{colKey:n,rowNode:r,useFormatter:i}=t,a=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(RK(a))return null;let o=e.valueSvc.getValueForDisplay(a,r,i);return i?o.valueFormatted??VK(o.value):o.value}var jje=`paste`,Mje=class extends J{constructor(){super(...arguments),this.beanName=`changeDetectionSvc`,this.clientSideRowModel=null}postConstruct(){let{gos:e,rowModel:t}=this.beans;zJ(e,t)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){let{gos:t,rowRenderer:n}=this.beans;if(e.source===jje||t.get(`suppressChangeDetection`))return;let r=e.node,i=[r],a=this.clientSideRowModel,o=a?.rootNode;if(o&&!r.isRowPinned()){let n=new e1(t.get(`aggregateOnlyChangedColumns`),o);n.addParentNode(r.parent,[e.column]),a.doAggregate(n),n.forEachChangedNodeDepthFirst(e=>{i.push(e),e.sibling&&i.push(e.sibling)})}n.refreshCells({rowNodes:i})}},Nje=class extends J{constructor(){super(...arguments),this.beanName=`expressionSvc`,this.cache={}}evaluate(e,t){if(typeof e==`string`)return this.evaluateExpression(e,t);FJ(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return FJ(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){let t=this.cache;if(t[e])return t[e];let n=this.createFunctionBody(e),r=Function(`x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup`,n);return t[e]=r,r}createFunctionBody(e){return e.includes(`return`)?e:`return `+e+`;`}},Pje={moduleName:`ValueCache`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`valueCache`,this.cacheVersion=0}postConstruct(){let e=this.gos;this.active=e.get(`valueCache`),this.neverExpires=e.get(`valueCacheNeverExpires`)}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){let r=this.cacheVersion;e.__cacheVersion!==r&&(e.__cacheVersion=r,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}}],apiFunctions:{expireValueCache:kje}},Fje={moduleName:`Expression`,version:Y,beans:[Nje]},Ije={moduleName:`ChangeDetection`,version:Y,beans:[Mje]},Lje={moduleName:`CellApi`,version:Y,apiFunctions:{getCellValue:Aje}},Rje={moduleName:`CommunityCore`,version:Y,beans:[qke,XEe,oke,iCe,Sje,bOe,Vke,gAe,eCe,cje,sje,wje,class extends J{constructor(){super(...arguments),this.beanName=`valueSvc`,this.hasEditSvc=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEditSvc=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=BJ(this.gos),this.cellExpressions=this.gos.get(`enableCellExpressions`),this.isTreeData=this.gos.get(`treeData`),this.initialised=!0;let e=e=>this.callColumnCellValueChangedHandler(e);this.eventSvc.addListener(`cellValueChanged`,e,!0),this.addDestroyFunc(()=>this.eventSvc.removeListener(`cellValueChanged`,e,!0)),this.addManagedPropertyListener(`treeData`,e=>this.isTreeData=e.currentValue)}getValueForDisplay(e,t,n=!1,r=!1,i=`ui`){let{showRowGroupColValueSvc:a}=this.beans,o=!e&&t.group,s=e?.colDef.showRowGroup,c=!this.isTreeData||t.footer;if(a&&c&&(o||s)){let i=a.getGroupValue(t,e);if(i==null)return{value:null,valueFormatted:null};if(!n)return{value:i.value,valueFormatted:null};let o=a.formatAndPrefixGroupColValue(i,e,r);return{value:i.value,valueFormatted:o}}if(!e)return{value:t.key,valueFormatted:null};let l=t.leafGroup&&this.colModel.isPivotMode(),u=t.group&&t.expanded&&!t.footer&&!l,d=this.gos.get(`groupSuppressBlankHeader`)||!t.sibling,f=u&&!d,p=this.getValue(e,t,f,i);return{value:p,valueFormatted:n&&!(r&&e.colDef.useValueFormatterForExport===!1)?this.formatValue(e,t,p):null}}getValue(e,t,n=!1,r=`ui`){if(this.initialised||this.init(),!t)return;let i=e.getColDef(),a=i.field,o=e.getColId(),s=t.data;if(this.hasEditSvc&&r===`ui`){let n=this.editSvc;if(n.isEditing()){let r=n.getCellDataValue({rowNode:t,column:e},!0);if(r!==void 0)return r}}let c,l=i.showRowGroup;if(typeof l==`string`&&(this.beans.rowGroupColsSvc?.getColumnIndex(l)??-1)>t.level)return null;let u=typeof l!=`string`||!t.group,d=t.groupData&&o in t.groupData,f=!n&&t.aggData&&t.aggData[o]!==void 0,p=this.isSsrm&&n&&!!i.aggFunc,m=this.isSsrm&&t.footer&&t.field&&(i.showRowGroup===!0||i.showRowGroup===t.field);if(this.isTreeData&&f)c=t.aggData[o];else if(this.isTreeData&&i.valueGetter)c=this.executeValueGetter(i.valueGetter,s,e,t);else if(this.isTreeData&&a&&s)c=b1(s,a,e.isFieldContainsDots());else if(d)c=t.groupData[o];else if(f)c=t.aggData[o];else if(i.valueGetter&&!p){if(!u)return c;c=this.executeValueGetter(i.valueGetter,s,e,t)}else if(m)c=b1(s,t.field,e.isFieldContainsDots());else if(a&&s&&!p){if(!u)return c;c=b1(s,a,e.isFieldContainsDots())}if(this.cellExpressions&&typeof c==`string`&&c.indexOf(`=`)===0){let n=c.substring(1);c=this.executeValueGetter(n,s,e,t)}return c}parseValue(e,t,n,r){let i=e.getColDef(),a=i.valueParser;if(q(a)){let o=_Y(this.gos,{node:t,data:t?.data,oldValue:r,newValue:n,colDef:i,column:e});return typeof a==`function`?a(o):this.expressionSvc?.evaluate(a,o)}return n}getDeleteValue(e,t){return q(e.getColDef().valueParser)?this.parseValue(e,t,``,this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,r,i=!0){let{expressionSvc:a}=this.beans,o=null,s,c=e.getColDef();if(r?s=r:i&&(s=c.valueFormatter),s){let r=t?t.data:null,i=_Y(this.gos,{value:n,node:t,data:r,colDef:c,column:e});o=typeof s==`function`?s(i):a?a.evaluate(s,i):null}else if(c.refData)return c.refData[n]||``;return o==null&&Array.isArray(n)&&(o=n.join(`, `)),o}setValue(e,t,n,r){let i=this.colModel.getColDefCol(t);if(!e||!i)return!1;RK(e.data)&&(e.data={});let{field:a,valueSetter:o}=i.getColDef();if(RK(a)&&RK(o))return X(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,n))return X(135),!1;let s=_Y(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e,void 0,r),newValue:n,colDef:i.getColDef(),column:i});s.newValue=n;let c;if(c=q(o)?typeof o==`function`?o(s):this.expressionSvc?.evaluate(o,s):this.setValueUsingField(e.data,a,n,i.isFieldContainsDots()),c===void 0&&(c=!0),!c)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();let l=this.getValue(i,e);return this.dispatchCellValueChangedEvent(e,s,l,r),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,s,l,r),!0}dispatchCellValueChangedEvent(e,t,n,r){this.eventSvc.dispatchEvent({type:`cellValueChanged`,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:r})}callColumnCellValueChangedHandler(e){let t=e.colDef.onCellValueChanged;typeof t==`function`&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let i=!1;if(!r)i=e[t]===n,i||(e[t]=n);else{let r=t.split(`.`),a=e;for(;r.length>0&&a;){let e=r.shift();r.length===0?(i=a[e]===n,i||(a[e]=n)):a=a[e]}}return!i}executeValueGetterWithValueCache(e,t,n,r){let i=n.getColId(),a=this.valueCache.getValue(r,i);if(a!==void 0)return a;let o=this.executeValueGetterWithoutValueCache(e,t,n,r);return this.valueCache.setValue(r,i,o),o}executeValueGetterWithoutValueCache(e,t,n,r){let i=_Y(this.gos,{data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)}),a;return a=typeof e==`function`?e(i):this.expressionSvc?.evaluate(e,i),a}getValueCallback(e,t){let n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){let n=this.getValue(e,t),r=e.getColDef().keyCreator,i=n;return r&&(i=r(_Y(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data}))),typeof i==`string`||i==null?i:(i=String(i),i===`[object Object]`&&X(121),i)}},Gke,Bke,Kke,cke,Oje,nke,rke,EAe],icons:{selectOpen:`small-down`,smallDown:`small-down`,colorPicker:`color-picker`,smallUp:`small-up`,checkboxChecked:`small-up`,checkboxIndeterminate:`checkbox-indeterminate`,checkboxUnchecked:`checkbox-unchecked`,radioButtonOn:`radio-button-on`,radioButtonOff:`radio-button-off`,smallLeft:`small-left`,smallRight:`small-right`},apiFunctions:{getGridId:ZEe,destroy:QEe,isDestroyed:$Ee,getGridOption:eDe,setGridOption:tDe,updateGridOptions:K$,isModuleRegistered:nDe},dependsOn:[$Oe,$De,aOe,I0,CAe,xOe,wAe,xje,Ije,TAe,oje,dje,fje,DAe,ake,eke,Fje,TOe,mje]},L0={AdvancedFilter:1,AiToolkit:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},R0=[`TextFilter`,`NumberFilter`,`DateFilter`,`SetFilter`,`MultiFilter`,`GroupFilter`,`CustomFilter`],zje={EditCore:[`TextEditor`,`NumberEditor`,`DateEditor`,`CheckboxEditor`,`LargeTextEditor`,`SelectEditor`,`RichSelect`,`CustomEditor`],CheckboxCellRenderer:[`AllCommunity`],ClientSideRowModelHierarchy:[`RowGrouping`,`Pivot`,`TreeData`],ColumnFilter:R0,ColumnGroupHeaderComp:[`AllCommunity`],ColumnGroup:[`AllCommunity`],ColumnHeaderComp:[`AllCommunity`],ColumnMove:[`AllCommunity`],ColumnResize:[`AllCommunity`],CommunityCore:[`AllCommunity`],CsrmSsrmSharedApi:[`ClientSideRowModelApi`,`ServerSideRowModelApi`],RowModelSharedApi:[`ClientSideRowModelApi`,`ServerSideRowModelApi`],EnterpriseCore:[`AllEnterprise`],FilterCore:[...R0,`QuickFilter`,`ExternalFilter`,`AdvancedFilter`],GroupCellRenderer:[`RowGrouping`,`Pivot`,`TreeData`,`MasterDetail`,`ServerSideRowModel`],KeyboardNavigation:[`AllCommunity`],LoadingCellRenderer:[`ServerSideRowModel`],MenuCore:[`ColumnMenu`,`ContextMenu`],MenuItem:[`ColumnMenu`,`ContextMenu`,`MultiFilter`,`IntegratedCharts`,`ColumnsToolPanel`],Overlay:[`AllCommunity`],PinnedColumn:[`AllCommunity`],SharedAggregation:[`RowGrouping`,`Pivot`,`TreeData`,`ServerSideRowModel`],SharedDragAndDrop:[`AllCommunity`],SharedMasterDetail:[`MasterDetail`,`ServerSideRowModel`],SharedMenu:[...R0,`ColumnMenu`,`ContextMenu`],SharedPivot:[`Pivot`,`ServerSideRowModel`],SharedRowGrouping:[`RowGrouping`,`ServerSideRowModel`],SharedRowSelection:[`RowSelection`,`ServerSideRowModel`],SkeletonCellRenderer:[`ServerSideRowModel`],Sort:[`AllCommunity`],SsrmInfiniteSharedApi:[`InfiniteRowModel`,`ServerSideRowModelApi`],SharedTreeData:[`TreeData`,`ServerSideRowModel`]},Bje={InfiniteRowModel:`infinite`,ClientSideRowModelApi:`clientSide`,ClientSideRowModel:`clientSide`,ServerSideRowModelApi:`serverSide`,ServerSideRowModel:`serverSide`,ViewportRowModel:`viewport`};function Vje(e,t){let n=[];for(let r of Array.isArray(e)?e:[e]){let e=zje[r];if(e)for(let r of e){let e=Bje[r];(!e||e===t)&&n.push(r)}else n.push(r)}return n}var z0=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,Hje=e=>{let t=e.map(e=>`import { ${B0(e)} } from '${L0[e]?`ag-grid-enterprise`:`ag-grid-community`}';`);return e.some(e=>e===`IntegratedCharts`||e===`Sparklines`)&&t.push(`import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';`),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(e=>B0(e,!0)).join(`, `)} ]); 

For more info see: ${kJ}/modules/`};function B0(e,t=!1){return t&&(e===`IntegratedCharts`||e===`Sparklines`)?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function Uje(e,t){let n=t.filter(e=>e===`IntegratedCharts`||e===`Sparklines`),r=``;return!globalThis?.agCharts&&n.length>0?r=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(e=>L0[e])&&(r+=`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),r}function V0({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var H0=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:r,rowModelType:i,additionalText:a,isUmd:o})=>{let s=Vje(t,i),c=typeof e==`string`?e:qje[e];if(o)return Uje(c,s);let l=s.filter(e=>e===`IntegratedCharts`||e===`Sparklines`),u=l.length>0?`${l.map(e=>B0(e)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:``;return`${`Unable to use ${c} as ${s.length>1?`one of `+s.map(e=>B0(e)).join(`, `):B0(s[0])} is not registered${n?` for gridId: `+r:``}. ${u} Check if you have registered the module:
`}
${Hje(s)}`+(a?` 

${a}`:``)},U0=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,Wje=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,Gje={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>`Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.`,4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>[`Could not find data item as object was not found.`,e,` Consider using getRowId to help the Grid find matching row data`],6:()=>`'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'`,7:()=>`Pivoting is not supported with aligned grids as it may produce different columns in each grid.`,8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>`No gridOptions provided to createGrid`,12:({colKey:e})=>[`column `,e,` not found`],13:()=>`Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.`,14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>[`value should be either a string or a function`,e],16:({expression:e,params:t,e:n})=>[`Processing of the expression failed`,`Expression = `,e,`Params = `,t,`Exception = `,n],17:()=>`you need either field or valueSetter set on colDef for editing to work`,18:()=>`alignedGrids contains an undefined option.`,19:()=>`alignedGrids - No api found on the linked grid.`,20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>`pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.`,22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>`row height must be a number if not using standard row model`,25:({id:e})=>[`The getRowId callback must return a string. The ID `,e,` is being cast to a string.`],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>`setRowCount cannot be used while using row grouping.`,29:()=>`tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?`,30:({toIndex:e})=>[`tried to insert columns in invalid location, toIndex = `,e,`remember that you should not count the moving columns when calculating the new index`],31:()=>`infinite loop in resizeColumnSets`,32:()=>`applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.`,33:()=>`stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.`,34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>`Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.`,36:({t:e})=>`colDef.type '`+e+`' does not correspond to defined gridOptions.columnTypes`,37:()=>`Changing the column pinning status is not allowed with domLayout='print'`,38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>`Applying column order broke a group where columns should be married together. Applying new order has been discarded.`,40:({e,method:t})=>`${e}
${Wje(t)}`,41:()=>`Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.`,42:()=>`Browser does not support document.execCommand('copy') for clipboard operations`,43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>`Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.`,45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>`The "baseDataType" property of a data type definition must match that of its parent.`,47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>`Export cancelled. Export is not allowed as per your configuration.`,52:()=>"There is no `window` associated with the current `document`",53:()=>`unknown value type during csv conversion`,54:()=>`Could not find document body, it is needed for drag and drop and context menu.`,55:()=>`addRowDropZone - A container target needs to be provided`,56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>`unable to show popup filter, filter instantiation failed`,58:()=>`no values found for select cellEditor`,59:()=>`cannot select pinned rows`,60:()=>`cannot select node until it has finished loading`,61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>`filter missing setModel method, which is needed for setFilterModel`,66:()=>`filter API missing getModel method, which is needed for getFilterModel`,67:()=>`Filter is missing isFilterActive() method`,68:()=>`Column Filter API methods have been disabled as Advanced Filters are enabled.`,69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>`debounceMs is ignored when apply button is present`,72:({keys:e})=>[`ignoring FilterOptionDef as it doesn't contain one of `,e],73:()=>`invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'`,74:()=>`no filter options for filter`,75:()=>`Unknown button type specified`,76:({filterModelType:e})=>[`Unexpected type of filter "`,e,`", it looks like the filter was configured with incorrect Filter Options`],77:()=>`Filter model is missing 'conditions'`,78:()=>`Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.`,79:()=>`"filterParams.maxNumConditions" must be greater than or equal to zero.`,80:()=>`"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.`,81:()=>`"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".`,82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>`DateFilter minValidYear should be <= maxValidYear`,84:()=>`DateFilter minValidDate should be <= maxValidDate`,85:()=>`DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.`,86:()=>`DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.`,87:()=>`DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.`,88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>`A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)`,90:()=>`datasource is missing getRows method`,91:()=>`Filter is missing method doesFilterPass`,92:()=>`AnimationFrameService called but animation frames are off`,93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:r})=>`'paginationPageSize=${e}'${t?``:` (default value)`}, but ${e} is not included in${n?``:` the default`} paginationPageSizeSelector=[${r?.join(`, `)}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>[`Duplicate ID`,e,`found for pinned row with data`,t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>`popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.`,99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})=>{let i=[],a=HX({inputValue:t,allSuggestions:[...Object.keys(n??[]).filter(e=>![`agCellEditor`,`agGroupRowRenderer`,`agSortIndicator`].includes(e)),...Object.keys(r??[]).filter(e=>!!r[e])],hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),a.length>0&&i.push(`         Did you mean: [${a.slice(0,3)}]?
`),i.push(`If using a custom component check it has been registered correctly.`),i},102:()=>`selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'`,103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>[`chart rendering failed`,e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${kJ}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>[`chart update failed`,e],109:({inputValue:e,allSuggestions:t})=>{let n=HX({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:``,`If using a custom aggregation function check it has been registered correctly.`].join(`
`)},110:()=>`groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup`,111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>`Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values`,114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>`selectAll must be of boolean type.`,118:()=>`Infinite scrolling must be enabled in order to set the row count.`,119:()=>`Unable to instantiate filter`,120:()=>`MultiFloatingFilterComp expects MultiFilter as its parent`,121:()=>`a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key`,122:()=>`could not find the document, document is empty`,123:()=>`Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.`,124:()=>`No active charts to update.`,125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>`unable to restore chart as no chart model is provided`,127:({allRange:e})=>`unable to create chart as ${e?`there are no columns in the grid`:`no range is selected`}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>`cannot multi select unless selection mode is "multiRow"`,132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>`Data type of the new value does not match the cell data type of the column`,136:()=>`Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.`,137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>`cross filtering with row grouping is not supported.`,142:()=>`cross filtering is only supported in the client side row model.`,143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>`'seriesChartTypes' are required when the 'customCombo' chart type is specified.`,151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>[`unable to find group(s) for supplied groupIds:`,e],158:()=>`can not expand a column item that does not represent a column group header`,159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>`Export cancelled. Export is not allowed as per your configuration.`,161:()=>`The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'`,162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>`Unable to add data table to Excel sheet: A table already exists.`,165:()=>`Unable to add data table to Excel sheet: Missing required parameters.`,166:({unrecognisedGroupIds:e})=>[`unable to find groups for these supplied groupIds:`,e],167:({unrecognisedColIds:e})=>[`unable to find columns for these supplied colIds:`,e],168:()=>`detailCellRendererParams.template should be function or string`,169:()=>`Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.`,170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>`could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions`,172:()=>`could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData`,173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>`valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.`,178:({colId:e})=>`column ${e} is not visible`,179:()=>`totalValueGetter should be either a function or a string (expression)`,180:()=>`agRichSelectCellEditor requires cellEditorParams.values to be set`,181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>`you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data`,183:()=>`Group Column Filter only works on group columns. Please use a different filter.`,184:({parentGroupData:e,childNodeData:t})=>[`duplicate group keys for row data, keys should be unique`,[e,t]],185:({data:e})=>[`getDataPath() should not return an empty path`,[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>[`duplicate group keys for row data, keys should be unique`,e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,`first instance`,t,`second instance`,n],188:e=>`getRowId callback must be provided for Server Side Row Model ${e?.feature||`selection`} to work correctly.`,189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>[`null and undefined values are not allowed for server side row model keys`,e?`column = ${e}`:``,`data is `,t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?`current page`:`filtered`} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:H0,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>`Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.`,204:()=>`Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.`,205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>`getRowId callback must be implemented for transactions to work. Transaction was ignored.`,207:()=>`The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.`,208:()=>`Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.`,209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${kJ}/filter-set-filter-list/#filter-value-types`,210:()=>`Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?`,211:()=>`property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.`,212:()=>`please review all your toolPanel components, it seems like at least one of them doesn't have an id`,213:()=>`Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.`,214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(`,`)}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>[`unable to find grid columns for the supplied colDef(s):`,e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>`agAggregationComponent should only be used with the client and server side row model.`,222:()=>`agFilteredRowCountComponent should only be used with the client side row model.`,223:()=>`agSelectedRowCountComponent should only be used with the client and server side row model.`,224:()=>`agTotalAndFilteredRowCountComponent should only be used with the client side row model.`,225:()=>`agTotalRowCountComponent should only be used with the client side row model.`,226:()=>`viewport is missing init method.`,227:()=>`menu item icon must be DOM node or string`,228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>[`invalid row index for ensureIndexVisible: `,e],230:()=>`detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/`,231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>`Using both rowData and v-model. rowData will be ignored.`,233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>`Group Column Filter does not work with the colDef property "field". This property will be ignored.`,235:()=>`Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.`,236:()=>`Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.`,237:()=>`Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.`,238:()=>`setRowCount can only accept a positive row count.`,239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>`Failed to deserialize state - each provided state object must be an object.`,244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>`SetFloatingFilter expects SetFilter as its parent`,249:()=>`Must supply a Value Formatter in Set Filter params when using a Key Creator`,250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>[`Illegal version string: `,e],254:()=>`Cannot create chart: no chart themes available.`,255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>`Unable to initialise. See validation error, or load ValidationModule if missing.`,257:()=>U0(`IntegratedChartsModule`),258:()=>U0(`SparklinesModule`),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:r,rowModelType:i})=>H0({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:Q1[t],gridId:r,gridScoped:n,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>`As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.`,263:()=>`As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.`,264:()=>`As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.`,265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${kJ}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>`As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.`,267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>`Transactions aren't supported with tree data when using treeDataChildrenField`,269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>z0(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case`maxComponentCreationTimeMs`:t+=` This property is no longer required and so will be removed in a future version.`;break;case`setGridApi`:t+=` This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api `;break;case`children`:t+=` For multiple versions AgGridReact does not support children.`;break}return t},275:V0,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`,291:()=>`License Key being set multiple times with different values. This can result in an incorrect license key being used,`,292:({colId:e})=>`The Multi Filter for column '${e}' has buttons configured against the child filters. When 'enableFilterHandlers=true', buttons must instead be provided against the parent Multi Filter params. The child filter buttons will be ignored.`};function Kje(e,t){let n=Gje[e];if(!n)return[`Missing error text for error id ${e}!`];let r=n(t),i=`
See ${PJ(e,t)}`;return Array.isArray(r)?r.concat(i):[r,i]}var qje={1:`Charting Aggregation`,2:`pivotResultFields`,3:`setTooltip`},W0=new WeakMap,G0=new WeakMap,Jje=1,Yje=class{create(e,t,n,r,i,a){let o=cJ.applyGlobalGridOptions(t),s=o.gridId??String(Jje++),c=this.getRegisteredModules(i,s,o.rowModelType),l=this.createBeansList(o.rowModelType,c,s),u=this.createProvidedBeans(e,o,i);if(!l)return;let d=new Nwe({providedBeanInstances:u,beanClasses:l,id:s,beanInitComparator:KEe,beanDestroyComparator:qEe,derivedBeans:[GEe],destroyCallback:()=>{G0.delete(f),W0.delete(e),nSe(s),a?.()}});this.registerModuleFeatures(d,c),n(d),d.getBean(`syncSvc`).start(),r?.(d);let f=d.getBean(`gridApi`);return W0.set(e,f),G0.set(f,e),f}getRegisteredModules(e,t,n){return xJ(Rje,void 0,!0),e?.modules?.forEach(e=>xJ(e,t)),rSe(t,K0(n))}registerModuleFeatures(e,t){let n=e.getBean(`registry`),r=e.getBean(`apiFunctionSvc`);for(let e of t){n.registerModule(e);let t=e.apiFunctions;if(t){let e=Object.keys(t);for(let n of e)r?.addFunction(n,t[n])}}}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;RK(r)&&(r=new B$);let i={gridOptions:t,eGridDiv:e,eRootDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:r};return n?.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){let r={clientSide:`ClientSideRowModel`,infinite:`InfiniteRowModel`,serverSide:`ServerSideRowModel`,viewport:`ViewportRowModel`},i=K0(e),a=r[i];if(!a){IJ(201,{rowModelType:i},`Unknown rowModelType ${i}.`);return}if(!oSe()){IJ(272,void 0,z0());return}if(!e){let e=Object.entries(r).filter(([e,t])=>SJ(t,n,e));if(e.length==1){let[t,n]=e[0];if(t!==i){let e={moduleName:n,rowModelType:t};IJ(275,e,V0(e));return}}}if(!SJ(a,n,i)){IJ(200,{reasonOrId:`rowModelType = '${i}'`,moduleName:a,gridScoped:CJ(),gridId:n,rowModelType:i},`Missing module ${a}Module for rowModelType ${i}.`);return}let o=new Set;for(let e of t)for(let t of e.beans??[])o.add(t);return Array.from(o)}};function K0(e){return e??`clientSide`}function q0(e){let t=e.rowModel;return t.getType()===`clientSide`?t:void 0}function J0(e){let t=e.rowModel;return t.getType()===`infinite`?t:void 0}function Xje(e){let t=e.rowModel;return t.getType()===`serverSide`?t:void 0}var Zje=class extends J{constructor(){super(...arguments),this.beanName=`localeSvc`}getLocaleTextFunc(){let e=this.gos,t=e.getCallback(`getLocaleText`);return t?Gxe(t):Kxe(e.get(`localeText`))}};function Qje(e,t=!1){let n=[],r=[],i=[],a=[],o=[],s=[],c=[],l=[],u=[],d=0;for(let t=0;t<e.length;t++){let{colId:f,sort:p,sortIndex:m,rowGroup:h,rowGroupIndex:g,aggFunc:_,pivot:v,pivotIndex:y,pinned:b,hide:x,width:S,flex:C}=e[t];u.push(f),p&&(n[m??d++]={colId:f,sort:p}),h&&(r[g??0]=f),typeof _==`string`&&i.push({colId:f,aggFunc:_}),v&&(a[y??0]=f),b&&(b===`right`?s:o).push(f),x&&c.push(f),(C!=null||S)&&l.push({colId:f,flex:C??void 0,width:S})}return{sort:n.length?{sortModel:Y0(n)}:void 0,rowGroup:r.length?{groupColIds:Y0(r)}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:a.length||t?{pivotMode:t,pivotColIds:Y0(a)}:void 0,columnPinning:o.length||s.length?{leftColIds:o,rightColIds:s}:void 0,columnVisibility:c.length?{hiddenColIds:c}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}function Y0(e){return e.filter(e=>e!=null)}function $je(e){let t=[];for(let{groupId:n,open:r}of e)r&&t.push(n);return t.length?{openColumnGroupIds:t}:void 0}var eMe=class{wrap(e,t,n,r){let i=this.createWrapper(e,r);for(let e of t??[])this.createMethod(i,e,!0);for(let e of n??[])this.createMethod(i,e,!1);return i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&X(49,{methodName:t}),null)}}};function X0(e){return e.get(`tooltipShowMode`)===`whenTruncated`}function tMe(e,t){if(typeof e!=`number`)return``;let n=t(),r=n(`thousandSeparator`,`,`),i=n(`decimalSeparator`,`.`);return e.toString().replace(`.`,i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${r}`)}var nMe=class extends J{getFileName(e){let t=this.getDefaultFileExtension();return e?.length||(e=this.getDefaultFileName()),e.includes(`.`)?e:`${e}.${t}`}getData(e){let t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},rMe=class{constructor(e){let{colModel:t,rowGroupColsSvc:n,colNames:r,valueSvc:i,gos:a,processCellCallback:o,processHeaderCallback:s,processGroupHeaderCallback:c,processRowGroupCallback:l}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=r,this.valueSvc=i,this.gos=a,this.processCellCallback=o,this.processHeaderCallback=s,this.processGroupHeaderCallback=c,this.processRowGroupCallback=l}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??``}extractRowCellValue(e,t,n,r,i){let a=t===0&&tY(this.gos,i,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get(`treeData`)||i.group)&&(e.isRowGroupDisplayed(i.rowGroupColumn?.getColId()??``)||a))return{value:this.processRowGroupCallback(_Y(this.gos,{column:e,node:i}))??``};if(this.processCellCallback)return{value:this.processCellCallback(_Y(this.gos,{accumulatedRowIndex:n,column:e,node:i,value:this.valueSvc.getValueForDisplay(e,i,void 0,void 0).value,type:r,parseValue:t=>this.valueSvc.parseValue(e,i,t,this.valueSvc.getValue(e,i,void 0)),formatValue:t=>this.valueSvc.formatValue(e,i,t)??t}))??``};let o=this.gos.get(`treeData`),s=this.valueSvc,c=i.level===-1&&i.footer,l=e.colDef.showRowGroup===!0&&(i.group||o);if(!c&&(a||l)){let t=``,n=i;for(;n&&n.level!==-1;){let{value:r,valueFormatted:i}=s.getValueForDisplay(a?void 0:e,n,!0,!0);t=` -> ${i??r??``}${t}`,n=n.parent}return{value:t,valueFormatted:t}}let{value:u,valueFormatted:d}=s.getValueForDisplay(e,i,!0,!0);return{value:u??``,valueFormatted:d}}getHeaderName(e,t){return e?e(_Y(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,`csv`,!0)}};function iMe(e,t){let n=document.defaultView||window;if(!n){X(52);return}let r=document.createElement(`a`),i=n.URL.createObjectURL(t);r.setAttribute(`href`,i),r.setAttribute(`download`,e),r.style.display=`none`,document.body.appendChild(r),r.dispatchEvent(new MouseEvent(`click`,{bubbles:!1,cancelable:!0,view:n})),r.remove(),n.setTimeout(()=>{n.URL.revokeObjectURL(i)},0)}var aMe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Z0=`clientSide`,Q0=`serverSide`,$0=`infinite`,oMe={onGroupExpandedOrCollapsed:[Z0],refreshClientSideRowModel:[Z0],isRowDataEmpty:[Z0],forEachLeafNode:[Z0],forEachNodeAfterFilter:[Z0],forEachNodeAfterFilterAndSort:[Z0],resetRowHeights:[Z0,Q0],applyTransaction:[Z0],applyTransactionAsync:[Z0],flushAsyncTransactions:[Z0],getBestCostNodeSelection:[Z0],getServerSideSelectionState:[Q0],setServerSideSelectionState:[Q0],applyServerSideTransaction:[Q0],applyServerSideTransactionAsync:[Q0],applyServerSideRowData:[Q0],retryServerSideLoads:[Q0],flushServerSideAsyncTransactions:[Q0],refreshServerSide:[Q0],getServerSideGroupLevelState:[Q0],refreshInfiniteCache:[$0],purgeInfiniteCache:[$0],getInfiniteRowCount:[$0],isLastRowIndexKnown:[$0,Q0],expandAll:[Z0,Q0],collapseAll:[Z0,Q0],onRowHeightChanged:[Z0,Q0],setRowCount:[$0,Q0],getCacheBlockState:[$0,Q0]},sMe={showLoadingOverlay:{version:`v32`,message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:`v32.2`,message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:`v32.2`,old:`getInfiniteRowCount()`,new:`getDisplayedRowCount()`},selectAllFiltered:{version:`v33`,old:`selectAllFiltered()`,new:`selectAll("filtered")`},deselectAllFiltered:{version:`v33`,old:`deselectAllFiltered()`,new:`deselectAll("filtered")`},selectAllOnCurrentPage:{version:`v33`,old:`selectAllOnCurrentPage()`,new:`selectAll("currentPage")`},deselectAllOnCurrentPage:{version:`v33`,old:`deselectAllOnCurrentPage()`,new:`deselectAll("currentPage")`}};function cMe(e,t,n){let r=sMe[e];if(r){let{version:n,new:i,old:a,message:o}=r,s=a??e;return(...e)=>(pJ(`Since ${n} api.${s} is deprecated. ${i?`Please use ${i} instead. `:``}${o??``}`),t.apply(t,e))}let i=oMe[e];return i?(...r)=>{let a=n.rowModel.getType();if(!i.includes(a)){mJ(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(` or `)}`);return}return t.apply(t,r)}:t}var lMe={detailCellRendererCtrl:`SharedMasterDetail`,dndSourceComp:`DragAndDrop`,fillHandle:`CellSelection`,groupCellRendererCtrl:`GroupCellRenderer`,headerFilterCellCtrl:`ColumnFilter`,headerGroupCellCtrl:`ColumnGroup`,rangeHandle:`CellSelection`,tooltipFeature:`Tooltip`,highlightTooltipFeature:`Tooltip`,tooltipStateManager:`Tooltip`,groupStrategy:`RowGrouping`,treeGroupStrategy:`TreeData`,rowNumberRowResizer:`RowNumbers`,singleCell:`EditCore`,fullRow:`EditCore`,agSetColumnFilterHandler:`SetFilter`,agMultiColumnFilterHandler:`MultiFilter`,agGroupColumnFilterHandler:`GroupFilter`,agNumberColumnFilterHandler:`NumberFilter`,agDateColumnFilterHandler:`DateFilter`,agTextColumnFilterHandler:`TextFilter`},uMe={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},dMe={chart:`MenuCore`,cancel:`EnterpriseCore`,first:`Pagination`,previous:`Pagination`,next:`Pagination`,last:`Pagination`,linked:`IntegratedCharts`,loadingMenuItems:`MenuCore`,unlinked:`IntegratedCharts`,menu:`ColumnHeaderComp`,legacyMenu:`ColumnMenu`,filter:`ColumnFilter`,filterActive:`ColumnFilter`,filterAdd:`NewFiltersToolPanel`,filterCardCollapse:`NewFiltersToolPanel`,filterCardExpand:`NewFiltersToolPanel`,filterCardEditing:`NewFiltersToolPanel`,filterTab:`ColumnMenu`,filtersToolPanel:`FiltersToolPanel`,columns:[`MenuCore`],columnsToolPanel:[`ColumnsToolPanel`],maximize:`EnterpriseCore`,minimize:`EnterpriseCore`,save:`MenuCore`,columnGroupOpened:`ColumnGroupHeaderComp`,columnGroupClosed:`ColumnGroupHeaderComp`,accordionOpen:`EnterpriseCore`,accordionClosed:`EnterpriseCore`,accordionIndeterminate:`EnterpriseCore`,columnSelectClosed:[`ColumnsToolPanel`,`ColumnMenu`],columnSelectOpen:[`ColumnsToolPanel`,`ColumnMenu`],columnSelectIndeterminate:[`ColumnsToolPanel`,`ColumnMenu`],columnMovePin:`SharedDragAndDrop`,columnMoveHide:`SharedDragAndDrop`,columnMoveMove:`SharedDragAndDrop`,columnMoveLeft:`SharedDragAndDrop`,columnMoveRight:`SharedDragAndDrop`,columnMoveGroup:`SharedDragAndDrop`,columnMoveValue:`SharedDragAndDrop`,columnMovePivot:`SharedDragAndDrop`,dropNotAllowed:`SharedDragAndDrop`,ensureColumnVisible:[`ColumnsToolPanel`,`ColumnMenu`],groupContracted:`GroupCellRenderer`,groupExpanded:`GroupCellRenderer`,setFilterGroupClosed:`SetFilter`,setFilterGroupOpen:`SetFilter`,setFilterGroupIndeterminate:`SetFilter`,setFilterLoading:`SetFilter`,close:`EnterpriseCore`,check:`MenuItem`,colorPicker:`CommunityCore`,groupLoading:`LoadingCellRenderer`,menuAlt:`ColumnHeaderComp`,menuPin:`MenuCore`,menuValue:`MenuCore`,menuAddRowGroup:[`MenuCore`,`ColumnsToolPanel`],menuRemoveRowGroup:[`MenuCore`,`ColumnsToolPanel`],clipboardCopy:`MenuCore`,clipboardCut:`MenuCore`,clipboardPaste:`MenuCore`,pivotPanel:[`ColumnsToolPanel`,`RowGroupingPanel`],rowGroupPanel:[`ColumnsToolPanel`,`RowGroupingPanel`],valuePanel:`ColumnsToolPanel`,columnDrag:`EnterpriseCore`,rowDrag:[`RowDrag`,`DragAndDrop`],csvExport:`MenuCore`,excelExport:`MenuCore`,smallDown:`CommunityCore`,selectOpen:`CommunityCore`,richSelectOpen:`RichSelect`,richSelectRemove:`RichSelect`,smallLeft:`CommunityCore`,smallRight:`CommunityCore`,subMenuOpen:`MenuItem`,subMenuOpenRtl:`MenuItem`,panelDelimiter:`RowGroupingPanel`,panelDelimiterRtl:`RowGroupingPanel`,smallUp:`CommunityCore`,sortAscending:[`MenuCore`,`Sort`],sortDescending:[`MenuCore`,`Sort`],sortUnSort:[`MenuCore`,`Sort`],advancedFilterBuilder:`AdvancedFilter`,advancedFilterBuilderDrag:`AdvancedFilter`,advancedFilterBuilderInvalid:`AdvancedFilter`,advancedFilterBuilderMoveUp:`AdvancedFilter`,advancedFilterBuilderMoveDown:`AdvancedFilter`,advancedFilterBuilderAdd:`AdvancedFilter`,advancedFilterBuilderRemove:`AdvancedFilter`,advancedFilterBuilderSelectOpen:`AdvancedFilter`,chartsMenu:`IntegratedCharts`,chartsMenuEdit:`IntegratedCharts`,chartsMenuAdvancedSettings:`IntegratedCharts`,chartsMenuAdd:`IntegratedCharts`,chartsColorPicker:`IntegratedCharts`,chartsThemePrevious:`IntegratedCharts`,chartsThemeNext:`IntegratedCharts`,chartsDownload:`IntegratedCharts`,checkboxChecked:`CommunityCore`,checkboxIndeterminate:`CommunityCore`,checkboxUnchecked:`CommunityCore`,radioButtonOn:`CommunityCore`,radioButtonOff:`CommunityCore`,rowPin:`PinnedRow`,rowUnpin:`PinnedRow`,rowPinBottom:`PinnedRow`,rowPinTop:`PinnedRow`},fMe=new Set([`colorPicker`,`smallUp`,`checkboxChecked`,`checkboxIndeterminate`,`checkboxUnchecked`,`radioButtonOn`,`radioButtonOff`,`smallDown`,`smallLeft`,`smallRight`]),pMe=class extends J{constructor(){super(...arguments),this.beanName=`validation`}wireBeans(e){this.gridOptions=e.gridOptions,cSe(Kje)}warnOnInitialPropertyUpdate(e,t){e===`api`&&aMe[t]&&X(22,{key:t})}processGridOptions(e){this.processOptions(e,pAe())}validateApiFunction(e,t){return cMe(e,t,this.beans)}missingUserComponent(e,t,n,r){let i=Q1[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):X(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})}missingDynamicBean(e){let t=lMe[e];return t?LJ(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){hMe.has(e)&&X(10,{eventType:e})}validateIcon(e){if(fMe.has(e)&&X(43,{iconName:e}),uMe[e])return;let t=dMe[e];if(t){FJ(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:CJ(),gridId:this.beans.context.getId(),rowModelType:this.gos.get(`rowModelType`),additionalText:`Alternatively, use the CSS icon name directly.`});return}X(134,{iconName:e})}isProvidedUserComp(e){return!!Q1[e]}validateColDef(e){this.processOptions(e,nAe())}processOptions(e,t){let{validations:n,deprecations:r,allProperties:i,propertyExceptions:a,objectName:o,docsUrl:s}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...a??[],...Object.keys(r)],i,o,s);let c=new Set;if(Object.keys(e).forEach(t=>{let i=r[t];if(i){let{message:e,version:n}=i;c.add(`As of v${n}, ${String(t)} is deprecated. ${e??``}`)}let a=e[t];if(a==null||a===!1)return;let o=n[t];if(!o)return;let{dependencies:s,validate:l,supportedRowModels:u,expectedType:d}=o;if(d){let e=typeof a;if(e!==d){c.add(`${String(t)} should be of type '${d}' but received '${e}' (${a}).`);return}}if(u){let e=this.gridOptions.rowModelType??`clientSide`;if(!u.includes(e)){c.add(`${String(t)} is not supported with the '${e}' row model. It is only valid with: ${u.join(`, `)}.`);return}}if(s){let n=this.checkForRequiredDependencies(t,s,e);if(n){c.add(n);return}}if(l){let t=l(e,this.gridOptions,this.beans);if(t){c.add(t);return}}}),c.size>0)for(let e of c)pJ(e)}checkForRequiredDependencies(e,t,n){let r=Object.entries(t).filter(([e,t])=>{let r=n[e];return!t.required.includes(r)});return r.length===0?null:r.map(([t,n])=>`'${String(e)}' requires '${t}' to be one of [${n.required.map(e=>e===null?`null`:e===void 0?`undefined`:e).join(`, `)}]. ${n.reason??``}`).join(`
           `)}checkProperties(e,t,n,r,i){let a=mMe(Object.getOwnPropertyNames(e),[...[`__ob__`,`__v_skip`,`__metadata__`],...t,...n],n),o=Object.keys(a);for(let e of o){let t=`invalid ${r} property '${e}' did you mean any of these: ${a[e].slice(0,8).join(`, `)}.`;n.includes(`context`)&&(t+=`
If you are trying to annotate ${r} with application data, use the '${r}.context' property instead.`),pJ(t)}o.length>0&&i&&pJ(`to see all the valid ${r} properties please check: ${this.beans.frameworkOverrides.getDocLink(i)}`)}};function mMe(e,t,n){let r={},i=e.filter(e=>!t.some(t=>t===e));if(i.length>0)for(let e of i)r[e]=HX({inputValue:e,allSuggestions:n}).values;return r}var hMe=new Set([`firstChildChanged`,`lastChildChanged`,`childIndexChanged`]),gMe={moduleName:`Validation`,version:Y,beans:[pMe]};function e2(e){let t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter)}var _Me=class extends J{constructor(){super(...arguments),this.beanName=`filterStage`,this.step=`filter`,this.refreshProps=[`excludeChildrenWhenTreeDataFiltering`]}wireBeans(e){this.filterManager=e.filterManager}execute(e){let{changedPath:t}=e;this.filter(t)}filter(e){let t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){let n=(t,n)=>{t.hasChildren()&&e&&!n?t.childrenAfterFilter=t.childrenAfterGroup.filter(e=>{let t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,n=e.data&&this.filterManager.doesRowPassFilter({rowNode:e});return t||n}):t.childrenAfterFilter=t.childrenAfterGroup,e2(t)};if(this.doingTreeDataFiltering()){let e=(t,r)=>{if(t.childrenAfterGroup)for(let i=0;i<t.childrenAfterGroup.length;i++){let a=t.childrenAfterGroup[i],o=r||this.filterManager.doesRowPassFilter({rowNode:a});a.childrenAfterGroup?e(t.childrenAfterGroup[i],o):n(a,o)}n(t,r)};t.executeFromRootNode(t=>e(t,!1))}else t.forEachChangedNodeDepthFirst(e=>n(e,!1),!0)}doingTreeDataFiltering(){return this.gos.get(`treeData`)&&!this.gos.get(`excludeChildrenWhenTreeDataFiltering`)}},vMe=class extends f${constructor(){super(...arguments),this.iconCreated=!1}wireComp(e,t,n,r,i){this.comp=e;let a=nX(this,this.beans.context,i);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=r,this.setGui(t,a),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(a),this.setupLeft(a),this.setupHover(a),this.setupFocus(a),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(a),this.setupUi(),a.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(a);let o=()=>this.onColDefChanged(a);a.addManagedListeners(this.column,{colDefChanged:o}),a.addManagedEventListeners({filterSwitched:({column:e})=>{e===this.column&&o()}}),a.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.colDef;return _Y(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){let e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass(`ag-floating-filter-full-body`,this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass(`ag-floating-filter-body`,!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=y$(`filter`,this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new yQ(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.getLocaleTextFunc();eq(this.eButtonShowMainFilter,e(`ariaFilterMenuOpen`,`Open Filter Menu`))}onTabKeyDown(e){let{beans:t}=this;if(WK(t)===this.eGui)return;let n=YX(t,this.eGui,null,e.shiftKey);if(n){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),n.focus();return}let r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let t=this.beans.visibleCols,n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();switch(e.key){case Z.UP:case Z.DOWN:case Z.LEFT:case Z.RIGHT:if(t)return;_Q(e);case Z.ENTER:t&&JX(this.eGui)&&e.preventDefault();break;case Z.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let t=!!e.relatedTarget&&!e.relatedTarget.classList.contains(`ag-floating-filter`),n=!!e.relatedTarget&&mq(e.relatedTarget,`ag-floating-filter`);if(t&&n&&e.target===this.eGui){let e=this.lastFocusEvent,t=!!(e&&e.key===Z.TAB);if(e&&t){let t=e.shiftKey;JX(this.eGui,t)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){let t=new u$(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!gY(this.gos)}setupUserComp(){if(!this.active)return;let e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:`floatingFilter`,positionBy:`button`})}setupSyncWithFilter(e){if(!this.active)return;let{beans:{colFilter:t},column:n,gos:r}=this,i=e=>{if(e?.source===`filterDestroyed`&&(!this.isAlive()||!t?.isAlive()))return;let i=this.comp.getFloatingFilterComp();i&&i.then(i=>{if(i){if(r.get(`enableFilterHandlers`)){let t=e,n=`filter`;t?.afterFloatingFilter?n=`ui`:t?.afterDataChange?n=`dataChanged`:e?.source===`api`&&(n=`api`),this.updateFloatingFilterParams(this.userCompDetails,n);return}let a=t?.getCurrentFloatingFilterParentModel(n),o=e?{...e,columns:e.columns??[],source:e.source===`api`?`api`:`columnFilter`}:null;i.onParentModelChanged(a,o)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:i}),t?.isFilterActive(n)&&i(null)}setupWidth(e){let t=()=>{let e=`${this.column.getActualWidth()}px`;this.comp.setWidth(e)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle(`ag-filter-active`,this.column.isFilterActive())}}onColDefChanged(e){let t=this.active;this.setupActive();let n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let r=this.beans.colFilter,i=this.active?r?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,a=this.comp.getFloatingFilterComp();!a||!i?this.updateCompDetails(e,i,n):a.then(t=>{!t||r?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i,`colDef`)})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(e=>{typeof e?.refresh==`function`&&(this.gos.get(`enableFilterHandlers`)&&(n={...n,model:iQ(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),e.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function yMe(e,t){let n=e.colModel.getCol(t);if(!n){FJ(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:`auto`})}function bMe(e){e.menuSvc?.hidePopupMenu()}var xMe={moduleName:`SharedMenu`,version:Y,beans:[mEe],apiFunctions:{showColumnMenu:yMe,hidePopupMenu:bMe}},t2={moduleName:`Popup`,version:Y,beans:[class extends Uwe{postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getDefaultPopupParent(){return this.gridCtrl.getGui()}positionPopupForMenu(e){let{eventSource:t,ePopup:n,event:r}=e,i=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let o=!1;this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:()=>{let e=this.keepXYWithinBounds(n,i.top-a.top,0),t=n.clientWidth>0?n.clientWidth:200;o||=(n.style.minWidth=`${t}px`,!0);let r=a.right-a.left-t,s;return this.gos.get(`enableRtl`)?(s=l(),s<0&&(s=c(),this.setAlignedStyles(n,`left`)),s>r&&(s=0,this.setAlignedStyles(n,`right`))):(s=c(),s>r&&(s=l(),this.setAlignedStyles(n,`right`)),s<0&&(s=0,this.setAlignedStyles(n,`left`))),{x:s,y:e};function c(){return i.right-a.left-2}function l(){return i.left-a.left-t}},postProcessCallback:()=>this.callPostProcessPopup(e,`subMenu`,n,t,r instanceof MouseEvent?r:void 0)})}callPostProcessPopup(e,t,n,r,i){let a=this.gos.getCallback(`postProcessPopup`);if(a){let{column:o,rowNode:s}=e;a({column:o,rowNode:s,ePopup:n,type:t,eventSource:r,mouseEvent:i})}}getActivePopups(){return this.popupList.map(e=>e.element)}handleThemeChange(e){if(e.themeChanged){let e=this.beans.environment;for(let t of this.popupList)e.applyThemeClasses(t.wrapper)}}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isStopPropagation(e){return vQ(e)}}]},SMe=`.ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}`;function CMe(e){let t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function wMe(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function TMe(e,t){let n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,`api`)}function EMe(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function DMe(e){return e.filterManager?.getFilterModel()??{}}function OMe(e,t,n){let{gos:r,colModel:i,colFilter:a}=e;n&&!r.get(`enableFilterHandlers`)&&(X(288),n=!1);let o=i.getColDefCol(t);return o?a?.getModelForColumn(o,n)??null:null}function kMe(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function AMe(e,t){let n=e.colModel.getCol(t);if(!n){FJ(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:`columnFilter`,positionBy:`auto`})}function jMe(e){e.menuSvc?.hideFilterMenu()}function MMe(e,t){let n=e.colModel.getCol(t);if(!n){FJ(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function NMe(e,t){let{colModel:n,colFilter:r,gos:i}=e;if(!i.get(`enableFilterHandlers`)){X(287);return}let{colId:a,action:o}=t;if(a){let e=n.getColById(a);e&&r?.updateModel(e,o)}else r?.updateAllModels(o)}var PMe={filterHandler:()=>({doesFilterPass:()=>!0})},FMe=class extends J{constructor(){super(...arguments),this.beanName=`colFilter`,this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...$Z},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});let e=this.gos,t={...e.get(`initialState`)?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get(`enableFilterHandlers`)||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded(`rowDataUpdated`)}setModel(e,t=`api`,n){let{colModel:r,dataTypeSvc:i,filterManager:a}=this.beans;if(i?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}let o=[],s=this.getModel(!0);if(e){let t=new Set(Object.keys(e));this.allColumnFilters.forEach((n,r)=>{let i=e[r];o.push(this.setModelOnFilterWrapper(n,i)),t.delete(r)}),t.forEach(t=>{let n=r.getColDefCol(t)||r.getCol(t);if(!n){X(62,{colId:t});return}if(!n.isFilterAllowed()){X(63,{colId:t});return}let i=this.getOrCreateFilterWrapper(n,!0);if(!i){X(64,{colId:t});return}o.push(this.setModelOnFilterWrapper(i,e[t],!0))})}else this.model={},this.allColumnFilters.forEach(e=>{o.push(this.setModelOnFilterWrapper(e,null))});cX.all(o).then(()=>{let e=this.getModel(!0),r=[];this.allColumnFilters.forEach((t,n)=>{BK(s?s[n]:null,e?e[n]:null)||r.push(t.column)}),r.length>0?a?.onFilterChanged({columns:r,source:t}):n&&this.updateActive(`filterChanged`)})}getModel(e){let t={},{allColumnFilters:n,initialModel:r,beans:{colModel:i}}=this;if(n.forEach((e,n)=>{let r=this.getModelFromFilterWrapper(e);q(r)&&(t[n]=r)}),!e)for(let e of Object.keys(r)){let a=r[e];q(a)&&!n.has(e)&&i.getCol(e)?.isFilterAllowed()&&(t[e]=a)}return t}setState(e,t,n=`api`){if(this.state.clear(),t)for(let e of Object.keys(t)){let n=t[e];this.state.set(e,{model:iQ(this.model,e),state:n})}this.setModel(e,n,!0)}getState(){let e=this.state;if(!e.size)return;let t={},n=!1;return e.forEach((e,r)=>{let i=e.state;i!=null&&(n=!0,t[r]=i)}),n?t:void 0}getModelFromFilterWrapper(e){let t=e.column.getColId();if(e.isHandler)return iQ(this.model,t);let n=e.filter;return n?typeof n.getModel==`function`?n.getModel():(X(66),null):iQ(this.initialModel,t)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};let{allColumnFilters:e}=this;return e.size?(e.forEach(e=>this.disposeFilterWrapper(e,`advancedFilterEnabled`)),!0):!1}updateActiveFilters(){let e=e=>e?e.isFilterActive?e.isFilterActive():(X(67),!1):!1,{colModel:t,gos:n}=this.beans,r=!!QJ(n),i=e=>{if(!e.isPrimary())return!0;let n=!t.isPivotActive();return!e.isValueActive()||!n?!1:t.isPivotMode()?!0:r},a=[],o=[],s=(e,t,n)=>{t&&(i(e)?a.push(n):o.push(n))},c=[];return this.allColumnFilters.forEach(t=>{let n=t.column,r=n.getColId();if(t.isHandler)c.push(cX.resolve().then(()=>{s(n,this.isHandlerActive(n),{colId:r,isHandler:!0,handler:t.handler,handlerParams:t.handlerParams})}));else{let i=eQ(t);i&&c.push(i.then(t=>{s(n,e(t),{colId:r,isHandler:!1,comp:t})}))}}),cX.all(c).then(()=>{this.activeAggregateFilters=a,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){let n=[];return this.allColumnFilters.forEach(r=>{let i=r.column;if(r.isHandler)n.push(cX.resolve().then(()=>{this.setColFilterActive(i,this.isHandlerActive(i),e,t)}));else{let a=eQ(r);a&&n.push(a.then(n=>{this.setColFilterActive(i,n.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),cX.all(n)}doFiltersPass(e,t,n){let{data:r,aggData:i}=e,a=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?i:r,s=this.model;for(let n=0;n<a.length;n++){let r=a[n],{colId:i,isHandler:c}=r;if(i!==t)if(c){let{handler:t,handlerParams:n}=r;if(!t.doesFilterPass({node:e,data:o,model:iQ(s,i),handlerParams:n}))return!1}else{let t=r.comp;if(typeof t.doesFilterPass!=`function`){FJ(91);continue}if(!t.doesFilterPass({node:e,data:o}))return!1}}return!0}getHandlerParams(e){let t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){let{rowRenderer:t,filterManager:n}=this.beans,r=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(r,0):r()}updateBeforeFilterChanged(e={}){let{column:t,additionalEventAttributes:n}=e,r=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns(`filterChanged`,n).then(()=>{this.allColumnFilters.forEach(e=>{let{column:t,isHandler:n}=e;r!==t.getColId()&&(n&&e.handler.onAnyFilterChanged?.(),eQ(e,n)?.then(e=>{typeof e?.onAnyFilterChanged==`function`&&e.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get(`allowShowChangeAfterFilter`)??!1)&&this.processingFilterChange}onNewRowsLoaded(e){let t=[];this.allColumnFilters.forEach(e=>{let n=e.isHandler;n&&e.handler.onNewRowsLoaded?.();let r=eQ(e,n);r&&t.push(r.then(e=>{e.onNewRowsLoaded?.()}))}),cX.all(t).then(()=>this.updateActive(e,{afterDataChange:!0}))}updateActive(e,t){this.updateFilterFlagInColumns(e,t).then(()=>this.updateActiveFilters())}createGetValue(e,t){let{filterValueSvc:n,colModel:r}=this.beans;return(i,a)=>{let o=a?r.getCol(a):e;return o?n.getValue(o,i,t):void 0}}isFilterActive(e){let t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);let n=t?.filter;return n?n.isFilterActive():iQ(this.initialModel,e.getColId())!=null}isHandlerActive(e){let t=q(iQ(this.model,e.getColId()));if(t)return t;let n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){let t=this.getOrCreateFilterWrapper(e,!0);return t?eQ(t):null}getFilterUiForDisplay(e){let t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;let n=eQ(t);return n?n.then(e=>({comp:e,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){let n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return wSe(this.gos)?t?`agSetColumnFloatingFilter`:`agSetColumnFilter`:mTe(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,r,i,a){let o=()=>{let o=r(this.createFilterCompParams(e,i,a),i);return jCe(this.beans.userCompFactory,t,o,n)},s=o();return s?{compDetails:s,createFilterUi:e=>(e?o():s).newAgStackInstance()}:null}createFilterInstance(e,t,n,r){let i=this.beans.selectableFilter;i?.isSelectable(t)&&(t=i.getFilterDef(e,t));let{handler:a,handlerParams:o,handlerGenerator:s}=this.createHandler(e,t,n)??{},c=this.createFilterComp(e,t,n,r,!!a,`init`);if(!c)return{compDetails:null,createFilterUi:null,handler:a,handlerGenerator:s,handlerParams:o};let{compDetails:l,createFilterUi:u}=c;return this.isGlobalButtons&&(l.params?.buttons?.length||X(281,{colId:e.getColId()})),{compDetails:l,handler:a,handlerGenerator:s,handlerParams:o,createFilterUi:u}}createBaseFilterParams(e,t){let{filterManager:n,rowModel:r}=this.beans;return _Y(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:t=>n?.doesRowPassOtherFilters(e.getColId(),t)??!0,rowModel:r})}createFilterCompParams(e,t,n,r){let i=this.filterChangedCallbackFactory(e),a=this.createBaseFilterParams(e,r);if(a.filterChangedCallback=i,a.filterModifiedCallback=r?()=>{}:t=>this.filterModified(e,t),t){let t=a,r=e.getColId(),o=iQ(this.model,r);t.model=o,t.state=this.state.get(r)??{model:o},t.onModelChange=(t,n)=>{this.updateStoredModel(r,t),this.refreshHandlerAndUi(e,t,`ui`,!1,n).then(()=>{i({...n,source:`columnFilter`})})},t.onStateChange=t=>{this.updateState(e,t),this.updateOrRefreshFilterUi(e)},t.onAction=(t,n,r)=>{this.updateModel(e,t,n),this.dispatchLocalEvent({type:`filterAction`,column:e,action:t,event:r})},t.getHandler=()=>this.getHandler(e,!0),t.onUiChange=t=>this.filterUiChanged(e,t),t.source=n}return a}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){let r=t(),i={created:!0,create:t,filterParams:e.params,compDetails:e,promise:r};return r.then(n),i}createFilterWrapper(e){let{compDetails:t,handler:n,handlerGenerator:r,handlerParams:i,createFilterUi:a}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),e=>e),o=e.getColId();if(n)return delete this.initialModel[o],n.init?.({...i,source:`init`,model:iQ(this.model,o)}),{column:e,isHandler:!0,handler:n,handlerGenerator:r,handlerParams:i,filterUi:this.createFilterUiForHandler(t,a)};if(a){let n={column:e,filterUi:null,isHandler:!1};return n.filterUi=this.createFilterUiLegacy(t,a,e=>{n.filter=e??void 0}),n}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t,n){let{gos:r,frameworkOverrides:i,registry:a}=this.beans,o,s=e=>{let t=e.filter;return sX(t)?t.handler||(o=t.doesFilterPass,o?()=>({doesFilterPass:o}):void 0):typeof t==`string`?t:void 0},c=r.get(`enableFilterHandlers`),l=c?s(t):void 0,u=e=>()=>this.createBean(a.createDynamicBean(e,!0)),d,f;if(typeof l==`string`){let e=r.get(`filterHandlers`)?.[l];e==null?nTe.has(l)&&(d=u(l),f=l):d=e}else d=l;if(!d){let e,{compName:r,jsComp:a,fwComp:o}=mX(i,t);r?e=r:a==null&&o==null&&t.filter===!0&&(e=n),f=this.handlerMap[e],f&&(d=u(f))}return d?{filterHandler:d,handlerNameOrCallback:o??f}:c?(zJ(r)&&X(277,{colId:e.getColId()}),PMe):void 0}createHandler(e,t,n){let r=this.createHandlerFunc(e,t,n);if(!r)return;let i=hX(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,`init`)),{handlerNameOrCallback:a,filterHandler:o}=r,{handler:s,handlerParams:c}=this.createHandlerFromFunc(e,o,i);return{handler:s,handlerParams:c,handlerGenerator:a??o}}createHandlerFromFunc(e,t,n){let r=e.getColDef();return{handler:t(_Y(this.gos,{column:e,colDef:r})),handlerParams:this.createHandlerParams(e,n)}}createHandlerParams(e,t){let n=e.getColDef(),r=e.getColId(),i=this.filterChangedCallbackFactory(e);return _Y(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:e=>this.beans.filterManager?.doesRowPassOtherFilters(r,e)??!0,onModelChange:(t,n)=>{this.updateStoredModel(r,t),this.refreshHandlerAndUi(e,t,`handler`,!1,n).then(()=>{i({...n,source:`columnFilter`})})},filterParams:t})}onColumnsChanged(){let e=[],{colModel:t,filterManager:n,groupFilter:r}=this.beans;this.allColumnFilters.forEach((n,r)=>{let i;i=n.column.isPrimary()?t.getColDefCol(r):t.getCol(r),!(i&&i===n.column)&&(e.push(n.column),this.disposeFilterWrapper(n,`columnChanged`),this.disposeColumnListener(r))});let i=r&&e.every(e=>r.isGroupFilter(e));e.length>0&&!i&&n?.onFilterChanged({columns:e,source:`api`})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let t=this.beans.groupFilter;return t?.isGroupFilter(e)?t.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){let{userCompFactory:n,frameworkOverrides:r,selectableFilter:i}=this.beans,a=t=>{this.getOrCreateFilterUi(e)?.then(e=>{t(gX(e))})},o=e.getColDef(),s=i?.isSelectable(o)?i.getFilterDef(e,o):o,c=vTe(r,s,()=>this.getDefaultFloatingFilter(e))??`agReadOnlyFloatingFilter`,l=this.gos.get(`enableFilterHandlers`),u=hX(n,s,this.createFilterCompParams(e,l,`init`,!0)),d=_Y(this.gos,{column:e,filterParams:u,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:a,showParentFilter:t});if(l){let t=d,n=e.getColId(),r=this.filterChangedCallbackFactory(e);t.onUiChange=t=>this.floatingFilterUiChanged(e,t),t.model=iQ(this.model,n),t.onModelChange=(t,i)=>{this.updateStoredModel(n,t),this.refreshHandlerAndUi(e,t,`floating`,!0,i).then(()=>{r({...i,source:`columnFilter`})})},t.getHandler=()=>this.getHandler(e,!0),t.source=`init`}return ICe(n,o,d,c)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,r){let i=`paramsUpdated`;if(e.isHandler){let a=t.getColId();delete this.initialModel[a],this.state.delete(a);let o=e.filterUi;e.filterUi=this.createFilterUiForHandler(n,r);let s=this.eventSvc;o?.created?o.promise.then(e=>{this.destroyBean(e),s.dispatchEvent({type:`filterDestroyed`,source:i,column:t})}):s.dispatchEvent({type:`filterHandlerDestroyed`,source:i,column:t})}else this.destroyFilter(t,i)}destroyFilter(e,t=`api`){let n=e.getColId(),r=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],r&&this.disposeFilterWrapper(r,t).then(t=>{t&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:`api`})})}disposeColumnListener(e){let t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1,{column:r,isHandler:i,filterUi:a}=e,o=r.getColId();i&&(n=this.isHandlerActive(r),this.destroyBean(e.handler),delete this.model[o],this.state.delete(o));let s=()=>{this.setColFilterActive(r,!1,`filterDestroyed`),this.allColumnFilters.delete(o),this.eventSvc.dispatchEvent({type:`filterDestroyed`,source:t,column:r})};if(a){if(a.created)return a.promise.then(e=>(n=i?n:!!e?.isFilterActive(),this.destroyBean(e),s(),n));s()}return cX.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??`columnFilter`})}}filterParamsChanged(e,t=`api`){let n=this.allColumnFilters.get(e);if(!n)return;let r=this.beans,i=n.column,a=i.getColDef(),o=i.isFilterAllowed(),s=this.getDefaultFilter(i),c=r.selectableFilter,l=c?.isSelectable(a)?c.getFilterDef(i,a):a,u=o?this.createHandlerFunc(i,l,this.getDefaultFilter(i)):void 0,d=!!u,f=n.isHandler;if(f!=d){this.destroyFilter(i,`paramsUpdated`);return}let{compDetails:p,createFilterUi:m}=(o?this.createFilterComp(i,l,s,e=>e,d,`colDef`):null)??{compDetails:null,createFilterUi:null},h=p?.params??hX(r.userCompFactory,l,this.createFilterCompParams(i,d,`colDef`));if(f){let r=u?.handlerNameOrCallback??u?.filterHandler,a=iQ(this.model,e);if(n.handlerGenerator!=r){let o=n.handler,{handler:s,handlerParams:c}=this.createHandlerFromFunc(i,u.filterHandler,h);n.handler=s,n.handlerParams=c,n.handlerGenerator=r,delete this.model[e],s.init?.({...c,source:`init`,model:null}),this.destroyBean(o),a!=null&&this.beans.filterManager?.onFilterChanged({columns:[i],source:t})}else{let e=this.createHandlerParams(i,p?.params);n.handlerParams=e,n.handler.refresh?.({...e,source:`colDef`,model:a})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,p)||!n.filterUi||!p){this.destroyFilterUi(n,i,p,m);return}n.filterUi.filterParams=h,eQ(n,f)?.then(e=>{(e?.refresh?e.refresh(h):!0)===!1?this.destroyFilterUi(n,i,p,m):this.dispatchLocalEvent({type:`filterParamsChanged`,column:i,params:h})})}refreshHandlerAndUi(e,t,n,r,i){let a=this.cachedFilter(e);if(!a)return r&&this.getOrCreateFilterWrapper(e,!0),cX.resolve();if(!a.isHandler)return cX.resolve();let{filterUi:o,handler:s,handlerParams:c}=a;return rTe(()=>{if(o){let{created:e,filterParams:t}=o;if(e)return o.promise.then(e=>e?{filter:e,filterParams:t}:void 0);o.refreshed=!0}return cX.resolve(void 0)},s,c,t,this.state.get(e.getColId())??{model:t},n,i)}setColumnFilterWrapper(e,t){let n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;let{componentClass:n}=e,{componentClass:r}=t;return!(n===r||n?.render&&r?.render&&n.render===r.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(e=>e.getColDef().floatingFilter)}getFilterInstance(e){let t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);let n=this.getOrCreateFilterUi(t);return n?new Promise(e=>{n.then(t=>{e(gX(t))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){let{state:t,model:n}=this,r=e.getColId(),i=t.get(r);return i?i.model??null:iQ(n,r)}let n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{},r=new Promise(e=>{n=e});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),r}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(e=>n(e))})}getStateForColumn(e){return this.state.get(e)??{model:iQ(this.model,e)}}setModelForColumnLegacy(e,t){let n=this.beans.colModel.getColDefCol(e),r=n?this.getOrCreateFilterWrapper(n,!0):null;return r?this.setModelOnFilterWrapper(r,t):cX.resolve()}setColDefPropsForDataType(e,t,n){let r=e.filter,i=r===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):r;if(typeof i!=`string`)return;let a,o,s=this.beans,{filterParams:c,filterValueGetter:l}=e;i===`agMultiColumnFilter`?{filterParams:a,filterValueGetter:o}=s.multiFilter?.getParamsForDataType(c,l,t,n)??{}:{filterParams:a,filterValueGetter:o}=dTe(i,c,l,t,n,s,this.getLocaleTextFunc()),e.filterParams=a,o&&(e.filterValueGetter=o)}setColFilterActive(e,t,n,r){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent(`filterActiveChanged`,n)),e.dispatchColEvent(`filterChanged`,n,r)}setModelOnFilterWrapper(e,t,n){return new cX(r=>{if(e.isHandler){let i=e.column,a=i.getColId(),o=this.model[a];if(this.updateStoredModel(a,t),n&&t===o){r();return}this.refreshHandlerAndUi(i,t,`api`).then(()=>r());return}let i=eQ(e);if(i){i.then(e=>{if(typeof e?.setModel!=`function`){X(65),r();return}(e.setModel(t)||cX.resolve()).then(()=>r())});return}r()})}updateStoredModel(e,t){q(t)?this.model[e]=t:delete this.model[e];let n={model:t,state:this.state.get(e)?.state};this.state.set(e,n)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:`filterModified`,column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get(`enableFilterHandlers`)&&this.eventSvc.dispatchEvent({type:`filterUiChanged`,column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get(`enableFilterHandlers`)&&this.eventSvc.dispatchEvent({type:`floatingFilterUiChanged`,column:e,...t})}updateModel(e,t,n){let r=e.getColId(),i=this.cachedFilter(e),a=()=>i?.filterUi;rQ(t,a,()=>iQ(this.model,r),()=>this.state.get(r),t=>this.updateState(e,t),e=>a()?.filterParams?.onModelChange(e,n),i?.isHandler?i.handler.processModelToApply?.bind(i.handler):void 0)}updateAllModels(e,t){let n=[];this.allColumnFilters.forEach((t,r)=>{let i=this.beans.colModel.getColDefCol(r);i&&rQ(e,()=>t.filterUi,()=>iQ(this.model,r),()=>this.state.get(r),e=>this.updateState(i,e),t=>{this.updateStoredModel(r,t),this.dispatchLocalEvent({type:`filterAction`,column:i,action:e}),n.push(this.refreshHandlerAndUi(i,t,`ui`))},t?.isHandler?t.handler.processModelToApply?.bind(t.handler):void 0)}),n.length&&cX.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:`columnFilter`,additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){let t=e.getColId();nQ(()=>this.cachedFilter(e)?.filterUi,()=>iQ(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:`filterStateChanged`,column:e,state:t})}canApplyAll(){let{state:e,model:t,activeFilterComps:n}=this;for(let e of n)if(e.source===`COLUMN_MENU`)return!1;let r=!1;for(let n of e.keys()){let i=e.get(n);if(i.valid===!1)return!1;(i.model??null)!==iQ(t,n)&&(r=!0)}return r}hasUnappliedModel(e){let{model:t,state:n}=this;return(n.get(e)?.model??null)!==iQ(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:`filterGlobalButtons`,isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t===`newFiltersToolPanel`)return!0;let n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,`gridDestroyed`)),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function IMe(e){return!!e.filterManager?.isAnyFilterPresent()}function LMe(e,t=`api`){e.filterManager?.onFilterChanged({source:t})}var RMe=class extends J{constructor(){super(...arguments),this.beanName=`filterManager`,this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){let e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:e})=>this.onAdvFilterEnabledChanged(e),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners([`isExternalFilterPresent`,`doesExternalFilterPass`],()=>{this.onFilterChanged({source:`api`})}),this.updateAggFiltering(),this.addManagedPropertyListener(`groupAggFiltering`,()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:`quickFilter`})});let{gos:n}=this;this.alwaysPassFilter=n.get(`alwaysPassFilter`),this.addManagedPropertyListener(`alwaysPassFilter`,()=>{this.alwaysPassFilter=n.get(`alwaysPassFilter`),this.onFilterChanged({source:`api`})})}isExternalFilterPresentCallback(){let e=this.gos.getCallback(`isExternalFilterPresent`);return typeof e==`function`&&e({})}doesExternalFilterPass(e){let t=this.gos.get(`doesExternalFilterPass`);return typeof t==`function`&&t(e)}setFilterState(e,t,n=`api`){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t=`api`,n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:`advancedFilter`}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:`advancedFilter`}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){QJ(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){let{source:t,additionalEventAttributes:n,columns:r=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):cX.resolve()).then(()=>{let e={source:t,type:`filterChanged`,columns:r};n&&aJ(e,n),this.eventSvc.dispatchEvent(e),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!QJ(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get(`applyQuickFilterBeforePivotOrAgg`)}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t=`api`){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:`advancedFilter`})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){X(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){for(let e of this.advFilterModelUpdateQueue)this.setAdvFilterModel(e);this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},zMe=class extends J{constructor(){super(...arguments),this.beanName=`filterMenuFactory`}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,r){e&&!e.isColumn||this.showPopup(e,r=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:r})},n,t.target,gY(this.gos),r)}showMenuAfterButtonClick(e,t,n,r){if(e&&!e.isColumn)return;let i=-1,a=`left`,o=gY(this.gos);!o&&this.gos.get(`enableRtl`)&&(i=1,a=`right`);let s=o?void 0:4*i,c=o?void 0:4;this.showPopup(e,r=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:r,nudgeX:s,nudgeY:c,alignSide:a,keepWithinBounds:!0,position:`under`,column:e})},n,t,o,r)}showPopup(e,t,n,r,i,a){let o=e?this.createBean(new lTe(e,`COLUMN_MENU`)):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e){FJ(57);return}let s=aQ({tag:`div`,cls:`ag-menu${i?``:` ag-filter-menu`}`,role:`presentation`});[this.tabListener]=this.addManagedElementListeners(s,{keydown:e=>this.trapFocusWithin(e,s)}),s.appendChild(o?.getGui());let c,l=()=>o?.afterGuiDetached(),u=TSe(this.gos)?r??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,d=t=>{h$(e,!1,`contextMenu`);let i=t instanceof KeyboardEvent;this.tabListener&&=this.tabListener(),i&&r&&Eq(r)&&XX(r)?.focus({preventScroll:!0}),l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),a?.()},f=this.getLocaleTextFunc(),p=i&&n!==`columnFilter`?f(`ariaLabelColumnMenu`,`Column Menu`):f(`ariaLabelColumnFilter`,`Column Filter`),m=this.popupSvc?.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:d,positionCallback:()=>t(s),anchorToElement:u,ariaLabel:p});m&&(this.hidePopup=c=m.hideFunc),o.afterInit().then(()=>{t(s),o.afterGuiAttached({container:n,hidePopup:c})}),h$(e,!0,`contextMenu`),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==Z.TAB||e.defaultPrevented||YX(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),JX(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:`columnMenuVisibleChanged`,visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??[`filterMenuTab`]).includes(`filterMenuTab`)}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},BMe=class extends J{constructor(){super(...arguments),this.beanName=`filterValueSvc`}getValue(e,t,n){if(!t)return;let r=e.getColDef(),{selectableFilter:i,valueSvc:a}=this.beans,o=n??i?.getFilterValueGetter(e.getColId())??r.filterValueGetter;return o?this.executeFilterValueGetter(o,t.data,e,t,r):a.getValue(e,t)}executeFilterValueGetter(e,t,n,r,i){let{expressionSvc:a,valueSvc:o}=this.beans,s=_Y(this.gos,{data:t,node:r,column:n,colDef:i,getValue:o.getValueCallback.bind(o,r)});return typeof e==`function`?e(s):a?.evaluate(e,s)}},VMe={tag:`div`,cls:`ag-floating-filter-input`,role:`presentation`,children:[{tag:`ag-input-text-field`,ref:`eFloatingFilterText`}]},HMe=class extends oX{constructor(){super(VMe,[nZ]),this.eFloatingFilterText=null}init(e){this.params=e;let t=this.beans.colNames.getDisplayNameForColumn(e.column,`header`,!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()(`ariaFilterInput`,`Filter Input`)}`),this.gos.get(`enableFilterHandlers`)){let t=e,n=t.getHandler();if(n.getModelAsString){let e=n.getModelAsString(t.model);this.eFloatingFilterText.setValue(e)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue(``);return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){let n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},n2=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){let n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){let{filterOptions:e}=this;if(e){for(let t of e)if(typeof t!=`string`){if(![[`displayKey`],[`displayName`],[`predicate`,`test`]].every(e=>e.some(e=>t[e]!=null)?!0:(X(72,{keys:e}),!1))){this.filterOptions=e.filter(e=>e===t)||[];continue}this.customFilterOptions[t.displayKey]=t}}}getDefaultItem(e){let{filterOptions:t}=this;if(e)return e;if(t.length>=1){let e=t[0];if(typeof e==`string`)return e;if(e.displayKey)return e.displayKey;X(73)}else X(74)}getCustomOption(e){return this.customFilterOptions[e]}};function r2(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function i2(e){return e==null||typeof e==`string`&&e.trim().length===0}function UMe(e){return e===`AND`||e===`OR`?e:`AND`}function WMe(e,t,n){if(e==null)return;let{predicate:r}=e;if(r!=null&&!t.some(e=>e==null))return r(t,n)}function GMe(e,t){let n=e.length;return n>t&&(e.splice(t),X(78),n=t),n}function a2(e,t){let n=t.getCustomOption(e);if(n){let{numberOfInputs:e}=n;return e??1}return e&&[`empty`,`notBlank`,`blank`].indexOf(e)>=0?0:e===`inRange`?2:1}var o2=class extends bQ{constructor(e,t,n){super(e,`simple-filter`),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);let t=new n2;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=UMe(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();let t=this.getGui();this.isReadOnly()?t.setAttribute(`tabindex`,`-1`):t.removeAttribute(`tabindex`)}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(`immediately`,!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{let r=n===0?e:this.optionsFactory.defaultOption;t.setValue(r,!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){let{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?`OR`:`AND`}areNonNullModelsEqual(e,t){let n=!e.operator,r=!t.operator;if(!n&&r||n&&!r)return!1;let i;if(n){let n=e,r=t;i=this.areSimpleModelsEqual(n,r)}else{let n=e,r=t;i=n.operator===r.operator&&DY(n.conditions,r.conditions,(e,t)=>this.areSimpleModelsEqual(e,t))}return i}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),cX.resolve();if(e.operator){let t=e,n=t.conditions;n??(n=[],X(77));let r=GMe(n,this.maxNumConditions),i=this.getNumConditions();if(r<i)this.removeConditionsAndOperators(r);else if(r>i)for(let e=i;e<r;e++)this.createJoinOperatorPanel(),this.createOption();let a=t.operator===`OR`;this.eJoinAnds.forEach(e=>e.setValue(!a,!0)),this.eJoinOrs.forEach(e=>e.setValue(a,!0)),n.forEach((e,t)=>{this.eTypes[t].setValue(e.type,!0),this.setConditionIntoUi(e,t)})}else{let t=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(t.type,!0),this.setConditionIntoUi(t,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),cX.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(X(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(X(80),n=1),n>t&&(X(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){let e=this.getGui(),t=this.createManagedBean(new aZ);this.eTypes.push(t),t.addCss(`ag-filter-select`),e.appendChild(t.getGui());let n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);let r=this.getNumConditions()-1;this.forEachPositionInput(r,e=>this.resetInput(e)),this.addChangedListeners(t,r)}createJoinOperatorPanel(){let e=aQ({tag:`div`,cls:`ag-filter-condition`});this.eJoinPanels.push(e);let t=this.createJoinOperator(this.eJoinAnds,e,`and`),n=this.createJoinOperator(this.eJoinOrs,e,`or`);this.getGui().appendChild(e);let r=this.eJoinPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,i),this.resetJoinOperatorOr(n,r,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){let r=this.createManagedBean(new ZCe);e.push(r);let i=`ag-filter-condition-operator`;return r.addCss(i),r.addCss(`${i}-${n}`),t.appendChild(r.getGui()),r}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e==`string`?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){let{filterListOptions:t}=this;for(let n of t)e.addOption(n);e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{let t=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<t){this.removeConditionsAndOperators(t+1);let n=e+1,r=t-n;r>0&&this.removeConditionsAndOperators(n,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((t,n)=>{let r=this.isConditionDisabled(n,e);t.setDisabled(r||this.filterListOptions.length<=1),n===1&&(pq(this.eJoinPanels[0],r),this.eJoinAnds[0].setDisabled(r),this.eJoinOrs[0].setDisabled(r))}),this.eConditionBodies.forEach((e,t)=>{fq(e,this.isConditionBodyVisible(t))});let n=(t??this.getJoinOperator())===`OR`;for(let e of this.eJoinAnds)e.setValue(!n,!0);for(let e of this.eJoinOrs)e.setValue(n,!0);this.forEachInput((t,n,r,i)=>{this.setElementDisplayed(t,n<i),this.setElementDisabled(t,this.isConditionDisabled(r,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;let{eTypes:n,eConditionBodies:r,eJoinPanels:i,eJoinAnds:a,eJoinOrs:o}=this;this.removeComponents(n,e,t),this.removeElements(r,e,t),this.removeEValues(e,t);let s=Math.max(e-1,0);this.removeElements(i,s,t),this.removeComponents(a,s,t),this.removeComponents(o,s,t)}removeElements(e,t,n){let r=r2(e,t,n);for(let e of r)wq(e)}removeComponents(e,t,n){let r=r2(e,t,n);for(let e of r)wq(e.getGui()),this.destroyBean(e)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let e;if(!this.isReadOnly()){let t=this.getInputs(0)[0];e=t instanceof QX&&this.isConditionBodyVisible(0)?t.getInputElement():this.eTypes[0]?.getFocusableElement()}(e??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();let e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,r=!1,i=this.getJoinOperator();for(let e=this.getNumConditions()-1;e>=0;e--)if(this.isConditionUiComplete(e))t===-1&&(t=e,n=e);else{let i=e>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(e-1),a=e<t;(i||a)&&(this.removeConditionsAndOperators(e,1),r=!0,a&&n--)}let a=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),a=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),a=!0),a&&this.updateConditionStatusesAndValues(n,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??``}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder==`function`){let e=this.eTypes[t].getValue(),r=this.translate(e);n=this.filterPlaceholder({filterOptionKey:e,filterOption:r,placeholder:n})}else typeof this.filterPlaceholder==`string`&&(n=this.filterPlaceholder);return n}resetPlaceholder(){let e=this.getLocaleTextFunc();this.forEachInput((t,n,r,i)=>{if(!(t instanceof QX))return;let a=n===0&&i>1?`inRangeStart`:n===0?`filterOoo`:`inRangeEnd`,o=n===0&&i>1?e(`ariaFilterFromValue`,`Filter from value`):n===0?e(`ariaFilterValue`,`Filter Value`):e(`ariaFilterToValue`,`Filter to Value`);t.setInputPlaceholder(this.getPlaceholderText(a,r)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof QX&&e.setValue(t==null?null:String(t),!0)}setElementDisplayed(e,t){rX(e)&&fq(e.getGui(),t)}setElementDisabled(e,t){rX(e)&&pq(e.getGui(),t)}attachElementOnChange(e,t){e instanceof QX&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){let n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){let r=a2(t,this.optionsFactory),i=this.getInputs(e);for(let t=0;t<i.length;t++){let a=i[t];a!=null&&n(a,t,e,r)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){return a2(this.getConditionType(e),this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===`empty`||this.getValues(e).some(e=>e==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(e=>this.resetType(e)),this.eJoinAnds.forEach((e,t)=>this.resetJoinOperatorAnd(e,t,this.joinOperatorId+t)),this.eJoinOrs.forEach((e,t)=>this.resetJoinOperatorOr(e,t,this.joinOperatorId+t)),this.joinOperatorId++,this.forEachInput(e=>this.resetInput(e)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){let t=this.getLocaleTextFunc()(`ariaFilteringOperator`,`Filtering operator`);e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(t).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator===`AND`,this.translate(`andCondition`),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator===`OR`,this.translate(`orCondition`),n)}resetJoinOperator(e,t,n,r,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(r),t)}updateJoinOperatorsDisabled(){let e=(e,t)=>this.updateJoinOperatorDisabled(e,t);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){let n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((e,r,i)=>{i===t&&this.setElementValue(e,n[r]==null?null:n[r])})}setValueFromFloatingFilter(e){this.forEachInput((t,n,r)=>{this.setElementValue(t,n===0&&r===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,e=>{this.attachElementOnChange(e,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},s2=class{constructor(e,t,n,r,i,a){this.alive=!0,this.context=e,this.eParent=i;let o=MCe(t,n,r);o&&o.newAgStackInstance().then(t=>{if(!this.alive){e.destroyBean(t);return}if(this.dateComp=t,!t)return;i.appendChild(t.getGui()),t?.afterGuiAttached?.();let{tempValue:n,disabled:r}=this;n&&t.setDate(n),r!=null&&t.setDisabled?.(r),a?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){let t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){let t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){fq(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},c2=[`equals`,`notEqual`,`lessThan`,`greaterThan`,`inRange`,`blank`,`notBlank`];function l2(e,t){let{dateFrom:n,dateTo:r,type:i}=e||{};return[n&&VX(n,void 0,!0)||null,r&&VX(r,void 0,!0)||null].slice(0,a2(i,t))}var u2=1e3,d2=1/0,KMe=class extends o2{constructor(){super(`dateFilter`,l2,c2),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=u2,this.maxValidYear=d2,this.minValidDate=null,this.maxValidDate=null,this.filterType=`date`}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);let t=(t,n)=>{let r=e[t];if(r!=null)if(isNaN(r))X(82,{param:t});else return r==null?n:Number(r);return n},n=t(`minValidYear`,u2),r=t(`maxValidYear`,d2);this.minValidYear=n,this.maxValidYear=r,n>r&&X(83);let{minValidDate:i,maxValidDate:a}=e,o=i instanceof Date?i:VX(i);this.minValidDate=o;let s=a instanceof Date?a:VX(a);this.maxValidDate=s,o&&s&&o>s&&X(84)}createDateCompWrapper(e){let{beans:{userCompFactory:t,context:n,gos:r},params:i}=this,a=new s2(n,t,i.colDef,_Y(r,{onDateChanged:()=>this.onUiChanged(),filterParams:i,location:`filter`}),e);return this.addDestroyFunc(()=>a.destroy()),a}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){let e=aQ({tag:`div`,cls:`ag-filter-body`});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,`from`),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,`to`),e}createFromToElement(e,t,n,r){let i=aQ({tag:`div`,cls:`ag-filter-${r} ag-filter-date-${r}`});t.push(i),e.appendChild(i),n.push(this.createDateCompWrapper(i))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),r2(this.eConditionPanelsFrom,e,t),r2(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){let r=r2(e,t,n);for(let e of r)e.destroy()}isValidDateValue(e){if(e===null)return!1;let{minValidDate:t,maxValidDate:n,minValidYear:r,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<r)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,r,i,a)=>{i!==e||!t||r>=a||(t&&=this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){let t=this.getConditionType(e),n={},r=this.getValues(e),i=this.params.useIsoSeparator?`T`:` `;return r.length>0&&(n.dateFrom=PX(r[0],!0,i)),r.length>1&&(n.dateTo=PX(r[1],!0,i)),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){let e=this.getLocaleTextFunc(),t=this.translate(`dateFormatOoo`),n=e(`ariaFilterValue`,`Filter Value`);this.forEachInput(e=>{e.setInputPlaceholder(t),e.setInputAriaLabel(n)})}getInputs(e){let{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(e,n,r,i)=>{n<i&&t.push(e.getDate())}),t}translate(e){return e===`lessThan`?super.translate(`before`):e===`greaterThan`?super.translate(`after`):super.translate(e)}},f2=class extends J{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){let t=e.filterParams,n=new n2;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source===`colDef`){let t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){let t=e.model;if(t==null)return!0;let{operator:n}=t,r=[];if(n){let e=t;r.push(...e.conditions??[])}else r.push(t);let i=n&&n===`OR`?`some`:`every`,a=this.params.getValue(e.node);return r[i](t=>this.individualConditionPasses(e,t,a))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??``}validateModel(e){let{model:t,filterParams:{filterOptions:n,maxNumConditions:r}}=e;if(t==null)return;let i=xQ(t)?t.conditions:[t],a=n?.map(e=>typeof e==`string`?e:e.displayKey)??this.defaultOptions;if(!(!i||i.every(e=>a.find(t=>t===e.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let o=!1,s=this.filterType;if((i&&!i.every(e=>e.filterType===s)||t.filterType!==s)&&(i=i.map(e=>({...e,filterType:s})),o=!0),typeof r==`number`&&i&&i.length>r&&(i=i.slice(0,r),o=!0),o){let n=i.length>1?{...t,filterType:s,conditions:i}:{...i[0],filterType:s};this.params={...e,model:n},e.onModelChange(n)}}individualConditionPasses(e,t,n){let r=this.optionsFactory,i=this.mapValuesFromModel(t,r);return WMe(r.getCustomOption(t.type),i,n)??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}},p2=class extends f2{evaluateNullValue(e){let{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:r,includeBlanksInLessThan:i,includeBlanksInRange:a}=this.params.filterParams;switch(e){case`equals`:if(t)return!0;break;case`notEqual`:if(n)return!0;break;case`greaterThan`:case`greaterThanOrEqual`:if(r)return!0;break;case`lessThan`:case`lessThanOrEqual`:if(i)return!0;break;case`inRange`:if(a)return!0;break;case`blank`:return!0;case`notBlank`:return!1}return!1}evaluateNonNullValue(e,t,n){let r=n.type;if(!this.isValid(t))return r===`notEqual`||r===`notBlank`;let i=this.comparator(),a=e[0]==null?0:i(e[0],t);switch(r){case`equals`:return a===0;case`notEqual`:return a!==0;case`greaterThan`:return a>0;case`greaterThanOrEqual`:return a>=0;case`lessThan`:return a<0;case`lessThanOrEqual`:return a<=0;case`inRange`:{let n=i(e[1],t);return this.params.filterParams.inRangeInclusive?a>=0&&n<=0:a>0&&n<0}case`blank`:return i2(t);case`notBlank`:return!i2(t);default:return X(76,{filterModelType:r}),!0}}},m2={equals:`Equals`,notEqual:`NotEqual`,greaterThan:`GreaterThan`,greaterThanOrEqual:`GreaterThanOrEqual`,lessThan:`LessThan`,lessThanOrEqual:`LessThanOrEqual`,inRange:`InRange`},qMe={contains:`Contains`,notContains:`NotContains`,equals:`TextEquals`,notEqual:`TextNotEqual`,startsWith:`StartsWith`,endsWith:`EndsWith`,inRange:`InRange`},h2=class extends J{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){let n=this.getLocaleTextFunc(),r=t===`filterToolPanel`;if(!e)return r?oQ(this,`filterSummaryInactive`):null;if(e.operator!=null){let n=e,r=(n.conditions??[]).map(e=>this.getModelAsString(e,t)),i=n.operator===`AND`?`andCondition`:`orCondition`;return r.join(` ${oQ(this,i)} `)}else if(e.type===`blank`||e.type===`notBlank`)return r?oQ(this,e.type===`blank`?`filterSummaryBlank`:`filterSummaryNotBlank`):n(e.type,e.type);else{let t=e,{displayKey:i,displayName:a,numberOfInputs:o}=this.optionsFactory.getCustomOption(t.type)||{};return i&&a&&o===0?n(i,a):this.conditionToString(t,r,t.type===`inRange`||o===2,i,a)}}updateParams(e){let{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,r,i,a){let o,s=this.getTypeKey(e);return s&&(o=oQ(this,s)),i&&a&&(o=this.getLocaleTextFunc()(i,a)),o==null?null:t?`${o} ${oQ(this,`filterSummaryInRangeValues`,[n(),r()])}`:`${o} ${n()}`}getTypeKey(e){let t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){let t=this.valueFormatter;return t?t(e??null)??``:String(e)}},g2=class extends h2{constructor(e,t){super(e,t,e=>{let{dataTypeSvc:n,valueSvc:r}=this.beans,i=t.column,a=n?.getDateFormatterFunction(i),o=a?a(e??void 0):e;return r.formatValue(i,null,o)}),this.filterTypeKeys=m2}conditionToString(e,t,n,r,i){let{type:a}=e,o=VX(e.dateFrom),s=VX(e.dateTo),c=this.filterParams.inRangeFloatingFilterDateFormat,l=t?this.formatValue.bind(this):e=>zX(e,c),u=()=>o===null?`null`:l(o),d=()=>s===null?`null`:l(s);if(t){let e=this.conditionForToolPanel(a,n,u,d,r,i);if(e!=null)return e}return n?`${u()}-${d()}`:o==null?`${a}`:l(o)}};function JMe(e,t){let n=t;return n<e?-1:n>e?1:0}var YMe=class extends p2{constructor(){super(l2,c2),this.filterType=`date`,this.FilterModelFormatterClass=g2}comparator(){return this.params.filterParams.comparator??JMe}isValid(e){let t=this.params.filterParams.isValidDate;return!t||t(e)}},_2=class extends oX{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}let t=e.operator,n;n=t?e.conditions[0]:e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let t=e;return this.isTypeEditable(t.type)}init(e){this.params=e;let t=this.gos.get(`enableFilterHandlers`);if(this.reactive=t,this.setParams(e),t){let t=e;this.onModelUpdated(t.model)}}setParams(e){let t=new n2;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){let n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;let r=this.isTypeEditable(n);this.setEditable(r)}refresh(e){this.params=e;let t=e,n=this.reactive;if((!n||t.source===`colDef`)&&this.updateParams(e),n){let{source:e,model:n}=t;if(e===`dataChanged`||e===`ui`)return;this.onModelUpdated(n)}}updateParams(e){let t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){let t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){return!!e&&!this.readOnly&&this.hasSingleInput(e)&&[`inRange`,`empty`,`blank`,`notBlank`].indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,`header`,!0)} ${this.getLocaleTextFunc()(`ariaFilterInput`,`Filter Input`)}`}},XMe={tag:`div`,cls:`ag-floating-filter-input`,role:`presentation`,children:[{tag:`ag-input-text-field`,ref:`eReadOnlyText`},{tag:`div`,ref:`eDateWrapper`,cls:`ag-date-floating-filter-wrapper`}]},ZMe=class extends _2{constructor(){super(XMe,[nZ]),this.eReadOnlyText=null,this.eDateWrapper=null,this.FilterModelFormatterClass=g2,this.filterType=`date`,this.defaultOptions=c2}setParams(e){super.setParams(e),this.createDateComponent();let t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t(`ariaDateFilterInput`,`Date Filter Input`))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){let t=e?VX(e.dateFrom):null;this.dateComp.setDate(t),this.eReadOnlyText.setValue(``)}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){fq(this.eDateWrapper,e),fq(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){let e=this.dateComp.getDate();if(this.reactive){let t=this.params;t.onUiChange();let n=t.model,r=PX(e),i=r==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:r};t.onModelChange(i,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){let{filterParams:e}=this.params,t=sQ(e,this.defaultDebounceMs);return _Y(this.gos,{onDateChanged:nJ(this,this.onDateChanged.bind(this),t),filterParams:e,location:`floatingFilter`})}createDateComponent(){let{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:r}=this;this.dateComp=new s2(e,t,r.column.getColDef(),this.getDateComponentParams(),n,e=>{e.setInputAriaLabel(this.getAriaLabel(r))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},QMe={tag:`div`,cls:`ag-filter-filter`,children:[{tag:`ag-input-text-field`,ref:`eDateInput`,cls:`ag-date-filter`}]},$Me=class extends oX{constructor(){super(QMe,[nZ]),this.eDateInput=null,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);let t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){let t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&TX();let{minValidYear:r,maxValidYear:i,minValidDate:a,maxValidDate:o,buttons:s,includeTime:c,colDef:l}=e.filterParams||{},u=this.beans.dataTypeSvc,d=c??u?.getDateIncludesTimeFlag?.(l.cellDataType)??!1;if(n?d?(t.type=`datetime-local`,t.step=`1`):t.type=`date`:t.type=`text`,a&&r&&X(85),o&&i&&X(86),a&&o){let[e,t]=[a,o].map(e=>e instanceof Date?e:VX(e));e&&t&&e.getTime()>t.getTime()&&X(87)}a?a instanceof Date?t.min=zX(a):t.min=a:r&&(t.min=`${r}-01-01`),o?o instanceof Date?t.max=zX(o):t.max=o:i&&(t.max=`${i}-12-31`),this.isApply=e.location===`floatingFilter`&&!!s?.includes(`apply`)}refresh(e){this.params=e,this.setParams(e)}getDate(){return VX(this.eDateInput.getValue())}setDate(e){let t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(PX(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e?.suppressFocus||this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},v2=[`equals`,`notEqual`,`greaterThan`,`greaterThanOrEqual`,`lessThan`,`lessThanOrEqual`,`inRange`,`blank`,`notBlank`];function y2(e){let{allowedCharPattern:t}=e??{};return t??null}function b2(e){return e==null||isNaN(e)?null:e}function x2(e,t){let{filter:n,filterTo:r,type:i}=e||{};return[b2(n),b2(r)].slice(0,a2(i,t))}var eNe=class extends o2{constructor(){super(`numberFilter`,x2,v2),this.eValuesFrom=[],this.eValuesTo=[],this.filterType=`number`,this.defaultDebounceMs=500}setElementValue(e,t,n){let{numberFormatter:r}=this.params,i=!n&&r?r(t??null):t;super.setElementValue(e,i)}createEValue(){let e=y2(this.params),t=aQ({tag:`div`,cls:`ag-filter-body`,role:`presentation`});return this.createFromToElement(t,this.eValuesFrom,`from`,e),this.createFromToElement(t,this.eValuesTo,`to`,e),t}createFromToElement(e,t,n,r){let i=this.createManagedBean(r?new tZ({allowedCharPattern:r}):new rZ);i.addCss(`ag-filter-${n}`),i.addCss(`ag-filter-filter`),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){let n=n=>this.removeComponents(n,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){let t=[];return this.forEachPositionInput(e,(e,n,r,i)=>{n<i&&t.push(b2(this.stringToFloat(e.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e==`number`)return e;let t=LK(e);t!=null&&t.trim()===``&&(t=null);let n=this.params.numberParser;return n?n(t):t==null||t.trim()===`-`?null:Number.parseFloat(t)}createCondition(e){let t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}getInputs(e){let{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{t.getInputElement().validity.valid||(e=!0)}),e}},S2=class extends h2{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=m2}conditionToString(e,t,n,r,i){let{filter:a,filterTo:o,type:s}=e,c=this.formatValue.bind(this);if(t){let e=this.conditionForToolPanel(s,n,()=>c(a),()=>c(o),r,i);if(e!=null)return e}return n?`${c(a)}-${c(o)}`:a==null?`${s}`:c(a)}},tNe=class extends p2{constructor(){super(x2,v2),this.filterType=`number`,this.FilterModelFormatterClass=S2}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},C2=class extends J{constructor(e){super(),this.params=e,this.eInput=null,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new tZ(this.params?.config));let t=this.eInput.getGui();e.appendChild(t);let n=e=>this.onValueChanged(e);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){let{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function w2(e){let t=e?.trim();return t===``?e:t}function T2(e,t){let{filter:n,filterTo:r,type:i}=e||{};return[n||null,r||null].slice(0,a2(i,t))}var nNe={tag:`div`,ref:`eFloatingFilterInputContainer`,cls:`ag-floating-filter-input`,role:`presentation`},E2=class extends _2{constructor(){super(...arguments),this.eFloatingFilterInputContainer=null,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(nNe)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){let t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:r,readOnly:i}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=cQ(e.filterParams),!i){let t=sQ(e.filterParams,r),i=nJ(this,this.syncUpWithParentFilter.bind(this),t);n.setValueChangedListener(i)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let{inputSvc:t}=this,n=t.getValue();Cq(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){let t=e.key===Z.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;let{inputSvc:r,params:i,lastType:a}=this,o=r.getValue();if(i.filterParams.trimInput&&(o=w2(o),r.setValue(o,!0)),n){let e=i,t=e.model,n=this.convertValue(o),r=n==null?null:{...t??{filterType:this.filterType,type:a??this.optionsFactory.defaultOption},filter:n};e.onModelChange(r,{afterFloatingFilter:!0})}else i.parentFilterInstance(e=>{e?.onFloatingFilterChanged(a||null,o||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},rNe=class extends J{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new rZ),this.eTextInput=this.createManagedBean(new tZ),this.eTextInput.setDisabled(!0);let t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,e=>this.onValueChanged(e)),this.setupListeners(n,e=>this.onValueChanged(e))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},iNe=class extends E2{constructor(){super(...arguments),this.FilterModelFormatterClass=S2,this.filterType=`number`,this.defaultOptions=v2}updateParams(e){y2(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=y2(e.filterParams),this.allowedCharPattern?this.createManagedBean(new C2({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new rNe)}convertValue(e){return e?Number(e):null}},D2=[`contains`,`notContains`,`equals`,`notEqual`,`startsWith`,`endsWith`,`blank`,`notBlank`],aNe=class extends o2{constructor(){super(`textFilter`,T2,D2),this.filterType=`text`,this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){let t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){let{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(e,n,r,i)=>{n<i&&t.push(LK(e.getValue()))}),t}createEValue(){let e=aQ({tag:`div`,cls:`ag-filter-body`,role:`presentation`}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,`from`),this.createFromToElement(e,n,`to`),e}createFromToElement(e,t,n){let r=this.createManagedBean(new tZ);r.addCss(`ag-filter-${n}`),r.addCss(`ag-filter-filter`),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){let n=n=>this.removeComponents(n,e,t),{eValuesFrom:r,eValuesTo:i}=this;n(r),n(i)}},O2=class extends h2{constructor(){super(...arguments),this.filterTypeKeys=qMe}conditionToString(e,t,n,r,i){let{filter:a,filterTo:o,type:s}=e;if(t){let e=e=>()=>oQ(this,`filterSummaryTextQuote`,[e]),t=this.conditionForToolPanel(s,n,e(a),e(o),r,i);if(t!=null)return t}return n?`${a}-${o}`:a==null?`${s}`:`${a}`}},oNe=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case`contains`:return t.includes(n);case`notContains`:return!t.includes(n);case`equals`:return t===n;case`notEqual`:return t!=n;case`startsWith`:return t.indexOf(n)===0;case`endsWith`:{let e=t.lastIndexOf(n);return e>=0&&e===t.length-n.length}default:return!1}},sNe=e=>e,cNe=e=>e==null?null:e.toString().toLowerCase(),lNe=class extends f2{constructor(){super(T2,D2),this.filterType=`text`,this.FilterModelFormatterClass=O2}updateParams(e){super.updateParams(e);let t=e.filterParams;this.matcher=t.textMatcher??oNe,this.formatter=t.textFormatter??(t.caseSensitive?sNe:cNe)}evaluateNullValue(e){return e?[`notEqual`,`notContains`,`blank`].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,r){let i=e.map(e=>this.formatter(e))||[],a=this.formatter(t),{api:o,colDef:s,column:c,context:l,filterParams:{textFormatter:u}}=this.params;if(n.type===`blank`)return i2(t);if(n.type===`notBlank`)return!i2(t);let d={api:o,colDef:s,column:c,context:l,node:r.node,data:r.data,filterOption:n.type,value:a,textFormatter:u};return i.some(e=>this.matcher({...d,filterText:e}))}processModelToApply(e){if(e&&this.params.filterParams.trimInput){let t=e=>{let t={...e},{filter:n,filterTo:r}=e;return n&&(t.filter=w2(n)??null),r&&(t.filterTo=w2(r)??null),t};return xQ(e)?{...e,conditions:e.conditions.map(t)}:t(e)}return e}},uNe=class extends E2{constructor(){super(...arguments),this.FilterModelFormatterClass=O2,this.filterType=`text`,this.defaultOptions=D2}createFloatingFilterInputService(){return this.createManagedBean(new C2)}};function dNe(e){return!!e.quickFilter?.isFilterPresent()}function fNe(e){return e.quickFilter?.getText()}function pNe(e){e.quickFilter?.resetCache()}var mNe=class extends J{constructor(){super(...arguments),this.beanName=`quickFilter`,this.quickFilter=null,this.quickFilterParts=null}postConstruct(){let e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get(`includeHiddenColumnsInQuickFilter`)||this.resetCache()}}),this.addManagedPropertyListener(`quickFilterText`,e=>this.setFilter(e.currentValue)),this.addManagedPropertyListeners([`includeHiddenColumnsInQuickFilter`,`applyQuickFilterBeforePivotOrAgg`],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get(`quickFilterText`)),this.parser=t.get(`quickFilterParser`),this.matcher=t.get(`quickFilterMatcher`),this.setFilterParts(),this.addManagedPropertyListeners([`quickFilterMatcher`,`quickFilterParser`],()=>this.setParserAndMatcher())}refreshCols(){let{autoColSvc:e,colModel:t,gos:n,pivotResultCols:r}=this.beans,i=t.isPivotMode(),a=e?.getColumns(),o=t.getColDefCols(),s=(i&&!n.get(`applyQuickFilterBeforePivotOrAgg`)?r?.getPivotResultCols()?.list:o)??[];a&&(s=s.concat(a)),this.colsToUse=n.get(`includeHiddenColumnsInQuickFilter`)?s:s.filter(e=>e.isVisible()||e.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){let t=this.gos.get(`cacheQuickFilter`);return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get(`quickFilterText`)}setFilterParts(){let{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(` `):this.quickFilterParts=null}parseFilter(e){return q(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!=`string`){X(70,{newFilter:e});return}let t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:`quickFilterChanged`}))}setParserAndMatcher(){let e=this.gos.get(`quickFilterParser`),t=this.gos.get(`quickFilterMatcher`),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:`quickFilterChanged`}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:`quickFilterChanged`})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{let r=this.getTextForColumn(n,e);return q(r)&&r.includes(t)})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.includes(t)}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);let{quickFilterParts:r,matcher:i}=this;return i(r,n)}checkGenerateAggText(e){e.quickFilterAggregateText||=this.getAggText(e)}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t),r=e.getColDef();if(r.getQuickFilterText){let i=_Y(this.gos,{value:n,node:t,data:t.data,column:e,colDef:r});n=r.getQuickFilterText(i)}return q(n)?n.toString().toUpperCase():null}getAggText(e){let t=[];for(let n of this.colsToUse){let r=this.getTextForColumn(n,e);q(r)&&t.push(r)}return t.join(`
`)}},k2={moduleName:`FilterCore`,version:Y,beans:[RMe],apiFunctions:{isAnyFilterPresent:IMe,onFilterChanged:LMe},css:[SMe],dependsOn:[{moduleName:`ClientSideRowModelFilter`,version:Y,rowModels:[`clientSide`],beans:[_Me]}]},A2={moduleName:`FilterValue`,version:Y,beans:[BMe]},j2={moduleName:`ColumnFilter`,version:Y,beans:[FMe,zMe],dynamicBeans:{headerFilterCellCtrl:vMe},icons:{filter:`filter`,filterActive:`filter`},apiFunctions:{isColumnFilterPresent:CMe,getColumnFilterInstance:wMe,destroyFilter:TMe,setFilterModel:EMe,getFilterModel:DMe,getColumnFilterModel:OMe,setColumnFilterModel:kMe,showColumnFilter:AMe,hideColumnFilter:jMe,getColumnFilterHandler:MMe,doFilterAction:NMe},dependsOn:[k2,t2,A2,xMe]},hNe={moduleName:`CustomFilter`,version:Y,userComponents:{agReadOnlyFloatingFilter:HMe},dependsOn:[j2]},gNe={moduleName:`TextFilter`,version:Y,dependsOn:[j2],userComponents:{agTextColumnFilter:{classImp:aNe,params:{useForm:!0}},agTextColumnFloatingFilter:uNe},dynamicBeans:{agTextColumnFilterHandler:lNe}},_Ne={moduleName:`NumberFilter`,version:Y,dependsOn:[j2],userComponents:{agNumberColumnFilter:{classImp:eNe,params:{useForm:!0}},agNumberColumnFloatingFilter:iNe},dynamicBeans:{agNumberColumnFilterHandler:tNe}},vNe={moduleName:`DateFilter`,version:Y,dependsOn:[j2],userComponents:{agDateColumnFilter:{classImp:KMe,params:{useForm:!0}},agDateInput:$Me,agDateColumnFloatingFilter:ZMe},dynamicBeans:{agDateColumnFilterHandler:YMe}},yNe={moduleName:`QuickFilter`,version:Y,apiFunctions:{isQuickFilterPresent:dNe,getQuickFilter:fNe,resetQuickFilter:pNe},dependsOn:[{moduleName:`QuickFilterCore`,version:Y,rowModels:[`clientSide`],beans:[mNe],dependsOn:[k2,A2]}]},bNe={moduleName:`ExternalFilter`,version:Y,dependsOn:[k2]},xNe=`.ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}`,M2=(e,t,n)=>{let{editModelSvc:r}=e,i=r?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,a=r?.getRowValidationModel().getRowValidation(t)?.errorMessages,o=i||a;return o?.length?o.join(n(`tooltipValidationErrorSeparator`,`. `)):void 0},N2={moduleName:`Tooltip`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`tooltipSvc`}setupHeaderTooltip(e,t,n,r){e&&t.destroyBean(e);let i=this.gos,a=X0(i),{column:o,eGui:s}=t,c=o.getColDef();!r&&a&&!c.headerComponent&&(r=Oq(()=>s.querySelector(`.ag-header-cell-text`)));let l=`header`,u=this.beans.colNames.getDisplayNameForColumn(o,`header`,!0),d=n??u,f={getGui:()=>s,getLocation:()=>l,getTooltipValue:()=>n??c?.headerTooltipValueGetter?.(_Y(i,{location:l,colDef:c,column:o,value:d,valueFormatted:u}))??c?.headerTooltip,shouldDisplayTooltip:r,getAdditionalParams:()=>({column:o,colDef:o.getColDef()})},p=this.createTooltipFeature(f);return p&&(p=t.createBean(p),t.setRefreshFunction(`tooltip`,()=>p.refreshTooltip())),p}setupHeaderGroupTooltip(e,t,n,r){e&&t.destroyBean(e);let i=this.gos,a=X0(i),{column:o,eGui:s}=t,c=o.getColGroupDef();!r&&a&&!c?.headerGroupComponent&&(r=Oq(()=>s.querySelector(`.ag-header-group-text`)));let l=`headerGroup`,u=this.beans.colNames.getDisplayNameForColumnGroup(o,`header`),d=n??u,f={getGui:()=>s,getLocation:()=>l,getTooltipValue:()=>n??c?.headerTooltipValueGetter?.(_Y(i,{location:l,colDef:c,column:o,value:d,valueFormatted:u}))??c?.headerTooltip,shouldDisplayTooltip:r,getAdditionalParams:()=>{let e={column:o};return c&&(e.colDef=c),e}},p=this.createTooltipFeature(f);return p&&t.createBean(p)}enableCellTooltipFeature(e,t,n){let{beans:r}=this,{gos:i,editSvc:a}=r,{column:o,rowNode:s}=e,c=`cell`,l=()=>{let t=!a?.isEditing(e)&&M2(r,e,this.getLocaleTextFunc());if(t)return c=`cellEditor`,t;c=`cell`;let n=o.getColDef(),l=s.data;if(n.tooltipField&&q(l))return b1(l,n.tooltipField,o.isTooltipFieldContainsDots());let u=n.tooltipValueGetter;return u?u(_Y(i,{location:`cell`,colDef:o.getColDef(),column:o,rowIndex:e.cellPosition.rowIndex,node:s,data:s.data,value:e.value,valueFormatted:e.valueFormatted})):null},u=X0(i);n||=u&&!e.isCellRenderer()?()=>{let t=!!a?.isEditing(e);if(!t&&M2(r,e,this.getLocaleTextFunc()))return!0;if(!o.isTooltipEnabled())return!1;let n=Oq(()=>{let t=e.eGui;return t.children.length===0?t:t.querySelector(`.ag-cell-value`)});return!t&&n()}:()=>!a?.isEditing(e);let d={getGui:()=>e.eGui,getLocation:()=>c,getTooltipValue:t==null?l:()=>t,shouldDisplayTooltip:n,getAdditionalParams:()=>({column:o,colDef:o.getColDef(),rowIndex:e.cellPosition.rowIndex,node:s,data:s.data,valueFormatted:e.valueFormatted})};return this.createTooltipFeature(d,r)}setupFullWidthRowTooltip(e,t,n,r){let i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>`fullWidthRow`,shouldDisplayTooltip:r},a=this.beans,o=a.context;e&&t.destroyBean(e,o);let s=this.createTooltipFeature(i,a);if(s)return t.createBean(s,o)}setupCellEditorTooltip(e,t){let{beans:n}=this,{context:r}=n,i=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!i)return;let a=this.createTooltipFeature({getGui:()=>i,getTooltipValue:()=>M2(n,e,this.getLocaleTextFunc()),getLocation:()=>`cellEditor`,shouldDisplayTooltip:()=>{let{editModelSvc:e}=n,t=e?.getRowValidationModel()?.getRowValidationMap(),r=e?.getCellValidationModel()?.getCellValidationMap(),i=!!t&&t.size>0,a=!!r&&r.size>0;return i||a}},n);if(a)return e.createBean(a,r)}initCol(e){let{colDef:t}=e;e.tooltipEnabled=q(t.tooltipField)||q(t.tooltipValueGetter)||q(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean(`tooltipFeature`,!1,e,t)}}],dynamicBeans:{tooltipFeature:FZ,highlightTooltipFeature:Vwe,tooltipStateManager:class extends Bwe{createTooltipComp(e,t){FCe(this.beans.userCompFactory,e)?.newAgStackInstance().then(t)}setEventHandlers(e){[this.onColumnMovedEventCallback]=this.addManagedEventListeners({columnMoved:e})}clearEventHandlers(){this.onColumnMovedEventCallback?.(),this.onColumnMovedEventCallback=void 0}}},userComponents:{agTooltipComponent:Wwe},dependsOn:[t2],css:[xNe]},P2=class{constructor(e){this.cellValueChanges=e}},F2=class extends P2{constructor(e,t,n,r){super(e),this.initialRange=t,this.finalRange=n,this.ranges=r}},SNe=10,I2=class{constructor(e){this.actionStack=[],this.maxStackSize=e||SNe,this.actionStack=Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},CNe=class extends J{constructor(){super(...arguments),this.beanName=`undoRedo`,this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{let t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&J$(this.activeCellEdit,t),r=this.activeRowEdit!==null&&gDe(this.activeRowEdit,t);if(!(n||r||this.isPasting||this.isRangeInAction))return;let{rowPinned:i,rowIndex:a,column:o,oldValue:s,value:c}=e,l={rowPinned:i,rowIndex:a,columnId:o.getColId(),newValue:c,oldValue:s};this.cellValueChanges.push(l)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){let{gos:e,ctrlsSvc:t}=this.beans;if(!e.get(`undoRedoCellEditing`))return;let n=e.get(`undoRedoCellEditingLimit`);if(n<=0)return;this.undoStack=new I2(n),this.redoStack=new I2(n),this.addListeners();let r=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:e=>{e.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:r,newColumnsLoaded:r,columnGroupOpened:r,columnRowGroupChanged:r,columnMoved:r,columnPinned:r,columnVisible:r,rowDragEnd:r}),t.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){let{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:`undoStarted`,source:e});let i=this.undoRedo(n,r,`initialRange`,`oldValue`,`undo`);t.dispatchEvent({type:`undoEnded`,source:e,operationPerformed:i})}redo(e){let{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:`redoStarted`,source:e});let i=this.undoRedo(r,n,`finalRange`,`newValue`,`redo`);t.dispatchEvent({type:`redoEnded`,source:e,operationPerformed:i})}undoRedo(e,t,n,r,i){if(!e)return!1;let a=e.pop();return a?.cellValueChanges?(this.processAction(a,e=>e[r],i),a instanceof F2?this.processRange(a.ranges||[a[n]]):this.processCell(a.cellValueChanges),t.push(a),!0):!1}processAction(e,t,n){for(let r of e.cellValueChanges){let{rowIndex:e,rowPinned:i,columnId:a}=r,o={rowIndex:e,rowPinned:i},s=Y$(this.beans,o);s.displayed&&s.setDataValue(a,t(r),n)}}processRange(e){let t,n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((r,i)=>{if(!r)return;let a=r.startRow,o=r.endRow;i===e.length-1&&(t={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(t));let s={rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:r.startColumn,columns:r.columns};n.addCellRange(s)})}processCell(e){let t=e[0],{rowIndex:n,rowPinned:r}=t,i={rowIndex:n,rowPinned:r},a=Y$(this.beans,i),o={rowPinned:t.rowPinned,rowIndex:a.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){let{rowIndex:t,columnId:n,rowPinned:r}=e,{colModel:i,focusSvc:a,rangeSvc:o}=this.beans,s=i.getCol(n);if(!s)return;let{scrollFeature:c}=this.gridBodyCtrl;c.ensureIndexVisible(t),c.ensureColumnVisible(s);let l={rowIndex:t,column:s,rowPinned:r};a.setFocusedCell({...l,forceBrowserFocus:!0}),o?.setRangeToCell(l)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{let e=new P2(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let e=new P2(this.cellValueChanges);this.pushActionsToUndoStack(e)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let e=new P2(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{let t=new F2(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e,{rangeSvc:t,gos:n}=this.beans;e=t&&sY(n)?new F2(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):new P2(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange(`batchEditing`),batchEditingStopped:({changes:e})=>this.stopBigChange(`batchEditing`,e),bulkEditingStarted:()=>this.startBigChange(`bulkEditing`),bulkEditingStopped:({changes:e})=>this.stopBigChange(`bulkEditing`,e)})}startBigChange(e){this.updateBigChange(e,!0)}updateBigChange(e,t){e===`bulkEditing`?this.bulkEditing=t:this.batchEditing=t}stopBigChange(e,t){if(e===`bulkEditing`&&!this.bulkEditing||e===`batchEditing`&&!this.batchEditing||(this.updateBigChange(e,!1),t?.length===0))return;let n=new P2(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},wNe=`.ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{display:block;height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}`,TNe={tag:`div`,cls:`ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit`,children:[{tag:`ag-checkbox`,ref:`eEditor`,role:`presentation`}]},ENe=class extends _${constructor(){super(TNe,[eZ]),this.eEditor=null}initialiseEditor(e){let t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute(`tabindex`,`-1`),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:e=>this.setAriaLabel(e.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let t=this.getLocaleTextFunc(),n=lq(t,e),r=t(`ariaToggleCellValue`,`Press SPACE to toggle cell value`);this.eEditor.setInputAriaLabel(`${r} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){let{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},L2=class extends _${constructor(e){super(),this.cellEditorInput=e,this.eEditor=null}initialiseEditor(e){let{cellEditorInput:t}=this;this.setTemplate({tag:`div`,cls:`ag-cell-edit-wrapper`,children:[t.getTemplate()]},t.getAgComponents());let{eEditor:n}=this,{cellStartedEdit:r,eventKey:i,suppressPreventDefault:a}=e;n.getInputElement().setAttribute(`title`,``),t.init(n,e);let o,s=!0;r?(this.focusAfterAttached=!0,i===Z.BACKSPACE||i===Z.DELETE?o=``:i&&i.length===1?a?s=!1:o=i:(o=t.getStartValue(),i!==Z.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=t.getStartValue()),s&&o!=null&&n.setStartValue(o),this.addGuiEventListener(`keydown`,e=>{let{key:t}=e;(t===Z.PAGE_UP||t===Z.PAGE_DOWN)&&e.preventDefault()})}afterGuiAttached(){let e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e(`ariaInputEditor`,`Input Editor`)),!this.focusAfterAttached)return;TX()||t.getFocusableElement().focus();let n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){let{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},DNe={tag:`ag-input-date-field`,ref:`eEditor`,cls:`ag-cell-editor`},ONe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return DNe}getAgComponents(){return[iZ]}init(e,t){this.eEditor=e,this.params=t;let{min:n,max:r,step:i,colDef:a}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(a.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){let e=this.eEditor.getInputElement().valueAsDate,{params:t}=this,{min:n,max:r,getValidationErrors:i}=t,a=[],o=this.getLocaleTextFunc();if(e instanceof Date&&!isNaN(e.getTime())){if(n){let t=n instanceof Date?n:new Date(n);if(e<t){let e=t.toLocaleDateString();a.push(o(`minDateValidation`,`Date must be after ${e}`,[e]))}}if(r){let t=r instanceof Date?r:new Date(r);if(e>t){let e=t.toLocaleDateString();a.push(o(`maxDateValidation`,`Date must be before ${e}`,[e]))}}}return a.length||(a=null),i?i({value:e,cellEditorParams:t,internalErrors:a}):a}getValue(){let{eEditor:e,params:t}=this,n=e.getDate();return!q(n)&&!q(t.value)?t.value:n??null}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return PX(e,this.includeTime??!1)}},kNe=class extends L2{constructor(){super(new ONe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},ANe={tag:`ag-input-date-field`,ref:`eEditor`,cls:`ag-cell-editor`},jNe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return ANe}getAgComponents(){return[iZ]}init(e,t){this.eEditor=e,this.params=t;let{min:n,max:r,step:i,colDef:a}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(a.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){let{eEditor:e,params:t}=this,n=e.getInputElement().value,r=this.formatDate(this.parseDate(n??void 0)),{min:i,max:a,getValidationErrors:o}=t,s=[];if(r){let e=new Date(r),t=this.getLocaleTextFunc();if(i){let n=new Date(i);if(e<n){let e=n.toLocaleDateString();s.push(t(`minDateValidation`,`Date must be after ${e}`,[e]))}}if(a){let n=new Date(a);if(e>n){let e=n.toLocaleDateString();s.push(t(`maxDateValidation`,`Date must be before ${e}`,[e]))}}}return s.length||(s=null),o?o({value:this.getValue(),cellEditorParams:t,internalErrors:s}):s}getValue(){let{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!q(n)&&!q(e.value)?e.value:e.parseValue(n??``)}getStartValue(){return PX(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){let t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):VX(e)??void 0}formatDate(e){let t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):PX(e??null,this.includeTime??!1)??void 0}},MNe=class extends L2{constructor(){super(new jNe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},NNe={tag:`div`,cls:`ag-large-text`,children:[{tag:`ag-input-text-area`,ref:`eEditor`,cls:`ag-large-text-input`}]},PNe=class extends _${constructor(){super(NNe,[QCe]),this.eEditor=null}initialiseEditor(e){let{eEditor:t}=this,{cellStartedEdit:n,eventKey:r,maxLength:i,cols:a,rows:o}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute(`title`,``),t.setMaxLength(i||200).setCols(a||60).setRows(o||10);let s;n?(this.focusAfterAttached=!0,r===Z.BACKSPACE||r===Z.DELETE?s=``:r&&r.length===1?s=r:(s=this.getStartValue(e),r!==Z.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=this.getStartValue(e)),s!=null&&t.setValue(s,!0),this.addGuiEventListener(`keydown`,this.onKeyDown.bind(this)),this.activateTabIndex()}getStartValue(e){let{value:t}=e;return t?.toString()??t}onKeyDown(e){let t=e.key;(t===Z.LEFT||t===Z.UP||t===Z.RIGHT||t===Z.DOWN||e.shiftKey&&t===Z.ENTER)&&e.stopPropagation()}afterGuiAttached(){let{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,r=this.getLocaleTextFunc();e.setInputAriaLabel(r(`ariaInputEditor`,`Input Editor`)),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){let{eEditor:e,params:t}=this,{value:n}=t,r=e.getValue();return!q(r)&&!q(n)?n:t.parseValue(r)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){let{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getLocaleTextFunc(),i=this.getValue(),a=[];return typeof i==`string`&&t!=null&&i.length>t&&a.push(r(`maxLengthValidation`,`Must be ${t} characters or fewer.`,[String(t)])),a.length||(a=null),n?n({value:i,internalErrors:a,cellEditorParams:e}):a}},FNe={tag:`ag-input-number-field`,ref:`eEditor`,cls:`ag-cell-editor`},INe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return FNe}getAgComponents(){return[$Ce]}init(e,t){this.eEditor=e,this.params=t;let{max:n,min:r,precision:i,step:a}=t;n!=null&&e.setMax(n),r!=null&&e.setMin(r),i!=null&&e.setPrecision(i),a!=null&&e.setStep(a);let o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add(`ag-number-field-input-stepper`)}getValidationErrors(){let{params:e}=this,{min:t,max:n,getValidationErrors:r}=e,i=this.eEditor.getInputElement().valueAsNumber,a=this.getLocaleTextFunc(),o=[];return typeof i==`number`&&(t!=null&&i<t&&o.push(a(`minValueValidation`,`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&i>n&&o.push(a(`maxValueValidation`,`Must be less than or equal to ${n}.`,[String(n)]))),o.length||(o=null),r?r({value:i,cellEditorParams:e,internalErrors:o}):o}preventStepping(e){(e.key===Z.UP||e.key===Z.DOWN)&&e.preventDefault()}getValue(){let{eEditor:e,params:t}=this,n=e.getValue();if(!q(n)&&!q(t.value))return t.value;let r=t.parseValue(n);if(r==null)return r;if(typeof r==`string`){if(r===``)return null;r=Number(r)}return isNaN(r)?null:r}getStartValue(){return this.params.value}setCaret(){TX()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},LNe=class extends L2{constructor(){super(new INe(()=>this.getLocaleTextFunc()))}},RNe={tag:`div`,cls:`ag-cell-edit-wrapper`,children:[{tag:`ag-select`,ref:`eEditor`,cls:`ag-cell-editor`}]},zNe=class extends _${constructor(){super(RNe,[lwe]),this.eEditor=null,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;let{eEditor:t,valueSvc:n,gos:r}=this,{values:i,value:a,eventKey:o}=e;if(RK(i)){X(58);return}this.startedByEnter=o==null?!1:o===Z.ENTER;let s=!1;i.forEach(r=>{let i={value:r};i.text=n.formatValue(e.column,null,r)??r,t.addOption(i),s||=a===r}),s?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);let{valueListGap:c,valueListMaxWidth:l,valueListMaxHeight:u}=e;c!=null&&t.setPickerGap(c),u!=null&&t.setPickerMaxHeight(u),l!=null&&t.setPickerMaxWidth(l),r.get(`editType`)!==`fullRow`&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){let{params:e}=this,{values:t,getValidationErrors:n}=e,r=this.getValue(),i=[];if(t&&!t.includes(r)){let e=this.getLocaleTextFunc();i.push(e(`invalidSelectionValidation`,`Invalid selection.`))}else i=null;return n?n({value:r,internalErrors:i,cellEditorParams:e}):i}},BNe={tag:`ag-input-text-field`,ref:`eEditor`,cls:`ag-cell-editor`},VNe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return BNe}getAgComponents(){return[nZ]}init(e,t){this.eEditor=e,this.params=t;let n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){let{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getValue(),i=this.getLocaleTextFunc(),a=[];return t!=null&&typeof r==`string`&&r.length>t&&a.push(i(`maxLengthValidation`,`Must be ${t} characters or fewer.`,[String(t)])),a.length||(a=null),n?n({value:r,cellEditorParams:e,internalErrors:a}):a}getValue(){let{eEditor:e,params:t}=this,n=e.getValue();return!q(n)&&!q(t.value)?t.value:t.parseValue(n)}getStartValue(){let e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){TX()&&this.eEditor.getInputElement().focus({preventScroll:!0});let e=this.eEditor,t=e.getValue(),n=q(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},R2=class extends L2{constructor(){super(new VNe(()=>this.getLocaleTextFunc()))}};function HNe(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function UNe(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function z2(e,t,n=`auto`){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),`ensureVisible`)}function B2(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),`ensureVisible`)}function WNe(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),`ensureVisible`)}function GNe(e){e.undoRedo?.undo(`api`)}function KNe(e){e.undoRedo?.redo(`api`)}function qNe(e,t){return e.editModelSvc?.getEditRowDataValue(t,{checkSiblings:!0})}function JNe(e){let t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((e,t)=>{let{rowIndex:r,rowPinned:i}=t;e.forEach((e,t)=>{let{editorValue:a,pendingValue:o,sourceValue:s,state:c}=e,l=p0(e),u=a??o;u===d0&&(u=void 0);let d={newValue:u,oldValue:s,state:c,column:t,colId:t.getColId(),colKey:t.getColId(),rowIndex:r,rowPinned:i};(c===`editing`||c===`changed`&&l)&&n.push(d)})}),n}function YNe(e,t=!1){let{editSvc:n}=e;if(n?.isBatchEditing()){if(t)for(let t of e.editModelSvc?.getEditPositions()??[])t.state===`editing`&&n.revertSingleCellEdit(t);else y0(e,{persist:!0});x0(e,void 0,{cancel:t})}else n?.stopEditing(void 0,{cancel:t,source:`edit`,forceStop:!t,forceCancel:t})}function XNe(e,t){let n=c0(e,t);return e.editSvc?.isEditing(n)??!1}function ZNe(e,t){let{key:n,colKey:r,rowIndex:i,rowPinned:a}=t,{editSvc:o,colModel:s}=e,c=s.getCol(r);if(!c){X(12,{colKey:r});return}let l=Y$(e,{rowIndex:i,rowPinned:a||null,column:c});if(!l){X(290,{rowIndex:i,rowPinned:a});return}c.isCellEditable(l)&&(a??B2(e,i),z2(e,r),o?.startEditing({rowNode:l,column:c},{event:n?new KeyboardEvent(`keydown`,{key:n}):void 0,source:`api`}))}function QNe(e){return e.editSvc?.validateEdit()||null}function $Ne(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function ePe(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var tPe={tag:`div`,cls:`ag-popup-editor`,attrs:{tabindex:`-1`}},nPe=class extends _X{constructor(e){super(tPe),this.params=e}postConstruct(){JJ(this.gos,this.getGui(),`popupEditorWrapper`,!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),t=this.params;this.addManagedElementListeners(e,{keydown:e=>{IQ(this.gos,e,t.node,t.column,!0)||t.onKeyDown(e)}})}};function rPe(e,{column:t},n,r,i=`ui`){if(n instanceof KeyboardEvent&&(n.key===Z.TAB||n.key===Z.ENTER||n.key===Z.F2||n.key===Z.BACKSPACE&&r))return!0;if(n?.shiftKey&&e.rangeSvc?.getCellRanges().length!=0)return!1;let a=t?.getColDef(),o=iPe(e.gos,a),s=n?.type;return s===`click`&&n?.detail===1&&o===1||s===`dblclick`&&n?.detail===2&&o===2?!0:i===`api`?r??!1:!1}function iPe(e,t){return e.get(`suppressClickEdit`)===!0?0:e.get(`singleClickEdit`)===!0||t?.singleClickEdit?1:2}function V2(e,{rowNode:t,column:n},r=`ui`){let i=n.getColDef().editable,a=e.editModelSvc;return n.isColumnFunc(t,i)||!!a&&a.hasEdits({rowNode:t,column:n},{withOpenEditor:!0})}function aPe(e,t,n=`ui`){let r=V2(e,t,n);return r===!0||n===`ui`?r:e.colModel.getCols().some(r=>V2(e,{rowNode:t.rowNode,column:r},n))}var H2=(e,t=!1)=>{if(e!==void 0)return p0(e)||t&&e.state===`editing`};function U2(e,t,n=!1){return H2(e.editModelSvc?.getEdit(t),n)}var W2=(e,t,n)=>{if(e)for(let r=0,i=e.length;r<i;++r){let i=e[r];if(i.data&&(H2(t?.getEdit({rowNode:i,column:n}))||H2(t?.getEdit({rowNode:i.pinnedSibling,column:n})))||W2(i.childrenAfterGroup,t,n))return!0}};function G2(e,t){let{column:n,rowNode:r}=t;return e.gos.get(`groupTotalRow`)&&!r?.footer?!1:W2(r?.childrenAfterGroup,e.editModelSvc,n)}function K2(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,t)return H2(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var oPe=class extends J{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){let{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){let t=U2(n,e)||G2(n,e)||K2(n,e);this.applyBatchingStyle(t)}else this.applyBatchingStyle(!1);let r=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss(`ag-cell-editing-error`,r)}applyBatchingStyle(e){this.cellComp.toggleCss(`ag-cell-editing`,e??!1),this.cellComp.toggleCss(`ag-cell-batch-edit`,(e&&this.editSvc?.isBatchEditing())??!1)}},sPe=class extends J{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){let{rowCtrl:e,editModelSvc:t,beans:n}=this,r=e.rowNode,i=t?.getEditRow(r),a=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:r});if(!i&&r.pinnedSibling&&(r=r.pinnedSibling,i=t?.getEditRow(r)),i){let e=Array.from(i.keys()).some(e=>{let t={rowNode:r,column:e};return U2(n,t,!0)||G2(n,t)||K2(n,t)});this.applyStyle(a,e);return}this.applyStyle(a)}applyStyle(e=!1,t=!1){let n=this.editSvc?.isBatchEditing()??!1,r=this.gos.get(`editType`)===`fullRow`;this.rowCtrl?.forEachGui(void 0,({rowComp:i})=>{i.toggleCss(`ag-row-editing`,r&&t),i.toggleCss(`ag-row-batch-edit`,r&&t&&n),i.toggleCss(`ag-row-inline-editing`,t),i.toggleCss(`ag-row-not-inline-editing`,!t),i.toggleCss(`ag-row-editing-invalid`,r&&t&&e)})}},cPe=({rowModel:e,pinnedRowModel:t,editModelSvc:n},r)=>{let i=new Set;e.forEachNode(e=>r.has(e)&&i.add(e)),t?.forEachPinnedRow(`top`,e=>r.has(e)&&i.add(e)),t?.forEachPinnedRow(`bottom`,e=>r.has(e)&&i.add(e));for(let e of r)i.has(e)||n.removeEdits({rowNode:e});return i},lPe=({editModelSvc:e},t,n)=>{for(let r of t)e?.getEditRow(r)?.forEach((t,i)=>!n.has(i)&&e.removeEdits({rowNode:r,column:i}))},uPe=e=>()=>{let t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0);lPe(e,cPe(e,new Set(n.keys())),t)},dPe=new Set([`undo`,`redo`,`paste`,`bulk`,`rangeSvc`]),fPe=new Set([`ui`,`api`]),q2={paste:`api`,rangeSvc:`api`,fillHandle:`api`,cellClear:`api`,bulk:`api`},pPe=new Set(Object.keys(q2)),mPe=new Set([`paste`,`rangeSvc`,`renderer`,`cellClear`,`redo`,`undo`]),J2={cancel:!0,source:`api`},hPe={cancel:!1,source:`api`},Y2={checkSiblings:!0},X2={force:!0,suppressFlash:!0},gPe=class extends J{constructor(){super(...arguments),this.beanName=`editSvc`,this.batch=!1,this.stopping=!1,this.committing=!1}postConstruct(){let{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener(`editType`,({currentValue:e})=>{this.stopEditing(void 0,J2),this.createStrategy(e)});let t=uPe(e),n=()=>{let t=this.model.getCellValidationModel().getCellValidationMap().size>0,n=this.model.getRowValidationModel().getRowValidationMap().size>0;return t||n?this.stopEditing(void 0,J2):this.isEditing()&&(this.isBatchEditing()?x0(e,this.model.getEditPositions()):this.stopEditing(void 0,hPe)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowExpansionStateChanged:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,J2)):(this.stopEditing(void 0,J2),this.batch=!1)}createStrategy(e){let{beans:t,gos:n,strategy:r}=this,i=Z2(n,e);if(r){if(r.beanName===i)return r;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(i,!0))}destroyStrategy(){this.strategy&&=(this.strategy.destroy(),this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,r=`ui`){let i=rPe(this.beans,e,t,n,r);return i&&(this.strategy??=this.createStrategy()),i}shouldStopEditing(e,t,n=`ui`){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n=`ui`){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return HAe(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??Y2)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){let{startedEdit:n=!0,event:r=null,source:i=`ui`,ignoreEventKey:a=!1,silent:o}=t;if(this.strategy??=this.createStrategy(),!this.isCellEditable(e,`api`))return;let s=c0(this.beans,e);if(s&&!s.comp){s.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}let c=this.shouldStartEditing(e,r,n,i);if(c===!1&&i!==`api`){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,i)&&!t.continueEditing&&this.stopEditing(void 0,{source:i}),c&&this.isBatchEditing()&&this.dispatchBatchEvent(`batchEditingStarted`,new Map),this.strategy.start({position:e,event:r,source:i,ignoreEventKey:a,startedEdit:n,silent:o})}stopEditing(e,t){let{event:n,cancel:r,source:i=`ui`,forceCancel:a,forceStop:o}=t||{},{beans:s,model:c}=this;if(pPe.has(i)&&this.isBatchEditing())return this.bulkRefresh(e),!1;let l=this.committing?q2[i]:i;if(!(this.committing||this.isEditing(e)||this.isBatchEditing()&&c.hasEdits(e,Y2))||!this.strategy||this.stopping)return!1;this.stopping=!0;let u=c0(s,e);u&&(u.onEditorAttachedFuncs=[]);let d=c.getEditMap(!0),f=!1,p=!r&&(!!this.shouldStopEditing(e,n,l)||this.committing&&!this.batch)||(o??!1),m=r&&!!this.shouldCancelEditing(e,n,l)||(a??!1);if(p||m){y0(s,{persist:!0,isCancelling:m||r,isStopping:p});let e=c.getEditMap(),t=this.processEdits(e,r,i);this.strategy?.stop(r,n);for(let e of t)c.clearEditValue(e);this.bulkRefresh(void 0,d);for(let t of c.getEditPositions(e)){let e=c0(s,t),n=p0(t);e?.refreshCell({force:!0,suppressFlash:!n})}d=e,f||=p}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){let{key:t}=n,r=t===Z.ENTER,i=t===Z.ESCAPE,a=t===Z.TAB;(r||a||i)&&(r||a?y0(s,{persist:!0}):i&&this.revertSingleCellEdit(u),this.isBatchEditing()?this.strategy?.cleanupEditors():x0(s,c.getEditPositions(),{event:n,cancel:i}),n.preventDefault(),this.bulkRefresh(e,d,{suppressFlash:!0}),d=c.getEditMap())}else y0(s,{persist:!0}),d=c.getEditMap();return f&&e&&this.model.removeEdits(e),this.navigateAfterEdit(t,u?.cellPosition),_0(s),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),m&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(d.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),f&&p&&this.dispatchBatchEvent(`batchEditingStopped`,d)),this.stopping=!1,f}navigateAfterEdit(e,t){if(!e||!t)return;let{event:n,suppressNavigateAfterEdit:r}=e;if(!(n instanceof KeyboardEvent)||r)return;let{key:i,shiftKey:a}=n,o=this.gos.get(`enterNavigatesVerticallyAfterEdit`);if(i!==Z.ENTER||!o)return;let s=a?Z.UP:Z.DOWN;this.beans.navigation?.navigateToNextCell(null,s,t,!1)}processEdits(e,t=!1,n){let r=Array.from(e.keys()),i=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,a=[];for(let o of r){let r=e.get(o);for(let e of r.keys()){let s=r.get(e),c={rowNode:o,column:e},l=p0(s);!t&&l&&!i&&(this.setNodeDataValue(o,e,s.pendingValue,void 0,n)||a.push(c))}}return a}setNodeDataValue(e,t,n,r,i=`edit`){let{beans:a}=this,o=c0(a,{rowNode:e,column:t}),s=fPe.has(i)?`edit`:i;o&&(o.suppressRefreshCell=!0),this.commitNextEdit();let c=e.setDataValue(t,n,s);return o&&(o.suppressRefreshCell=!1),r&&o?.refreshCell(X2),c}setEditMap(e,t){this.strategy??=this.createStrategy(),this.strategy?.setEditMap(e,t),this.bulkRefresh();let n=X2;t?.forceRefreshOfEditCellsOnly&&(n={..._Pe(e),...X2}),this.beans.rowRenderer.refreshCells(n)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;let{pendingValue:r,sourceValue:i}=n,{rowIndex:a,rowPinned:o,data:s}=e;this.beans.eventSvc.dispatchEvent({type:`cellEditValuesChanged`,node:e,rowIndex:a,rowPinned:o,column:t,source:`api`,data:s,newValue:r,oldValue:i,value:r,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){let{beans:r,gos:i}=this,{editModelSvc:a,rowModel:o}=r;zJ(i,o)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&a?.getEditMap(!1)?.forEach((e,t)=>{for(let r of e.keys())this.refCell({rowNode:t,column:r},e.get(r),n)}))}refCell({rowNode:e,column:t},n,r={}){let{beans:i,gos:a}=this,o=new Set([e]),s=new Set,c=e.pinnedSibling;c&&o.add(c);let l=e.sibling;l&&s.add(l);let u=e.parent;for(;u;)u.sibling?.footer&&a.get(`groupTotalRow`)||!u.parent&&u.sibling&&a.get(`grandTotalRow`)?s.add(u.sibling):s.add(u),u=u.parent;for(let e of o)this.dispatchEditValuesChanged({rowNode:e,column:t},n);for(let e of o)c0(i,{rowNode:e,column:t})?.refreshCell(r);for(let e of s)c0(i,{rowNode:e,column:t})?.refreshCell(r)}stopAllEditing(e=!1,t=`ui`){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t=`ui`){let{rowNode:n}=e,{gos:r,beans:i}=this;if(n.group){if(r.get(`treeData`)){if(!n.data&&!r.get(`enableGroupEdit`))return!1}else if(!r.get(`enableGroupEdit`))return!1}let a=Z2(r)===`fullRow`?aPe(i,e,t):V2(i,e,t);return a&&(this.strategy??=this.createStrategy()),a}cellEditingInvalidCommitBlocks(){return this.gos.get(`invalidEditValueMode`)===`block`}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){let r=c0(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(!r?.hasBrowserFocus()&&r?.focusCell(),r?.comp?.getCellEditor()?.focusIn?.()),`block-stop`):(r&&this.revertSingleCellEdit(r),`revert-continue`)}return`continue`}revertSingleCellEdit(e,t=!1){let n=c0(this.beans,e);n?.comp?.getCellEditor()&&(x0(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),m0(this.beans,e,{silent:!0}),E0(this.beans),n?.refreshCell(X2),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){E0(this.beans);let t=c0(this.beans,e);t&&(t.refreshCell(X2),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode}),e.column&&(n||=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column}))):(n||=this.model.getCellValidationModel().getCellValidationMap().size>0,n||=this.model.getRowValidationModel().getRowValidationMap().size>0),n}moveToNextCell(e,t,n,r=`ui`){let i,a=this.isEditing(),o=a&&this.checkNavWithValidation(void 0,n)===`block-stop`;return e instanceof D0&&a&&(i=this.strategy?.moveToNextEditingCell(e,t,n,r,o)),i===null?i:(i||=!!this.beans.focusSvc.focusedHeader,i===!1&&!o&&this.stopEditing(),i)}getCellDataValue({rowNode:e,column:t},n=!0){if(!e||!t)return;let r=this.model.getEdit({rowNode:e,column:t}),i=e.pinnedSibling;if(i){let e=this.model.getEdit({rowNode:i,column:t});e&&(r=e)}let a=n?r?.editorValue??r?.pendingValue:r?.pendingValue;return a===d0||!r?r?.sourceValue??this.valueSvc.getValue(t,e,!1,`api`):a}addStopEditingWhenGridLosesFocus(e){IAe(this,this.beans,e)}createPopupEditorWrapper(e){return new nPe(e)}commitNextEdit(){this.committing=!0}setDataValue(e,t,n){try{if((!this.isEditing()||this.committing)&&!mPe.has(n))return;let{beans:r}=this;this.strategy??=this.createStrategy();let i=this.isBatchEditing()?`ui`:this.committing?n??`api`:`api`;if(!n||dPe.has(n))return b0(r,e,t,n,void 0,{persist:!0}),this.setNodeDataValue(e.rowNode,e.column,t,!0,n);let a=this.model.getEdit(e);if(a){if(a.pendingValue===t)return!1;if(a.sourceValue!==t)return b0(r,e,t,n,void 0,{persist:!0}),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0;if(a.sourceValue===t)return r.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...a,pendingValue:t}),!0}return b0(r,e,t,n,void 0,{persist:!0}),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0}finally{this.committing=!1}}handleColDefChanged(e){zAe(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,Y2))return;let{rowNode:n,column:r}=e,{compDetails:i,valueToDisplay:a}=t;if(i){let{params:e}=i;return e.data=this.model.getEditRowDataValue(n,Y2),{compDetails:i}}let o=this.model.getEditRow(e.rowNode,Y2);if(a!==void 0&&o?.has(r))return{valueToDisplay:this.valueSvc.getValue(r,n)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,r){this.strategy?.dispatchCellEvent(e,t,n,r)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return _Y(this.gos,{type:e,...e===`batchEditingStopped`?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(e=>({rowIndex:e.rowNode.rowIndex,rowPinned:e.rowNode.rowPinned,columnId:e.column.getColId(),newValue:e.pendingValue,oldValue:e.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;let{beans:r,rangeSvc:i,valueSvc:a}=this;y0(r,{persist:!0});let o=this.model.getEditMap(!0),s=o.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:`bulkEditingStarted`}),n.forEach(e=>{if(i?.forEachRowInRange(e,t=>{let n=Y$(r,t);if(n===void 0)return;let i=o.get(n)??new Map;for(let t of e.columns)if(t&&this.isCellEditable({rowNode:n,column:t},`api`)){let e=a.getValue(t,n,!0,`api`),r=a.parseValue(t,n??null,s,e);Number.isNaN(r)&&(r=null),i.set(t,{editorValue:void 0,pendingValue:r,sourceValue:e,state:`changed`,editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}i.size>0&&o.set(n,i)}),this.setEditMap(o),this.batch){this.cleanupEditors(),_0(r),this.bulkRefresh();return}this.commitNextEdit(),this.stopEditing(void 0,{source:`bulk`}),this.eventSvc.dispatchEvent({type:`bulkEditingStopped`,changes:this.toEventChangeList(o)})}),this.bulkRefresh();let c=c0(r,{rowNode:e,column:t});c&&c.focusCell(!0)}createCellStyleFeature(e,t){return new oPe(e,t)}createRowStyleFeature(e,t){return new sPe(e,t)}setEditingCells(e,t){let{beans:n}=this,{colModel:r,valueSvc:i}=n,a=new Map;for(let{colId:o,column:s,colKey:c,rowIndex:l,rowPinned:u,newValue:d,state:f}of e){let e=o?r.getCol(o):c?r.getCol(c):s;if(!e)continue;let p=Y$(n,{rowIndex:l,rowPinned:u});if(!p)continue;let m=i.getValue(e,p,!0,`api`);if(!t?.forceRefreshOfEditCellsOnly&&!p0({pendingValue:d,sourceValue:m})&&f!==`editing`)continue;let h=a.get(p);h||(h=new Map,a.set(p,h)),d===void 0&&(d=d0),h.set(e,{editorValue:void 0,pendingValue:d,sourceValue:m,state:f??`changed`,editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}this.setEditMap(a,t)}onCellFocused(e){let t=c0(this.beans,e);if(!t||!this.isEditing(t,Y2))return;let n=this.model.getEdit(t);if(!n||!p0(n))return;let r=this.getLocaleTextFunc()(`ariaPendingChange`,`Pending Change`);this.beans.ariaAnnounce?.announceValue(r,`pendingChange`)}allowedFocusTargetOnValidation(e){return c0(this.beans,e)}};function _Pe(e){return{rowNodes:e?Array.from(e.keys()):void 0,columns:e?[...new Set(Array.from(e.values()).flatMap(e=>Array.from(e.keys())))]:void 0}}function Z2(e,t){return t??e.get(`editType`)??`singleCell`}var Q2=class extends J{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t,n=e.previousParams,{editSvc:r,beans:i}=this,a=e.type===`cellFocused`?e.sourceEvent:null;n&&(t=c0(i,n));let{gos:o,editModelSvc:s}=i,c=e.type===`cellFocusCleared`;if(r.isEditing(void 0,{withOpenEditor:!0})){let{column:t,rowIndex:l,rowPinned:u}=e,d={column:t,rowNode:Y$(i,{rowIndex:l,rowPinned:u})},f=o.get(`invalidEditValueMode`)===`block`;if(f)return;let p=!f,m=!!s?.getCellValidationModel().hasCellValidation(d),h=p&&m;!(n||c)||r.stopEditing(void 0,{cancel:h,source:c&&p?`api`:void 0,event:a})||(r.isBatchEditing()?r.cleanupEditors():r.stopEditing(void 0,{source:`api`}))}t?.refreshCell({suppressFlash:!0,force:!0})}stop(e,t){let n=this.model.getEditPositions(),r={all:[],pass:[],fail:[]};for(let e of n){if(r.all.push(e),(this.model.getCellValidationModel().getCellValidation(e)?.errorMessages?.length??0)>0){r.fail.push(e);continue}r.pass.push(e)}if(e)for(let t of n)S0(this.beans,t,{cancel:e}),this.model.stop(t);else{let n=this.processValidationResults(r);if(n.destroy.length>0)for(let r of n.destroy)S0(this.beans,r,{event:t,cancel:e}),this.model.stop(r);if(n.keep.length>0)for(let e of n.keep){let t=c0(this.beans,e);this.editSvc?.cellEditingInvalidCommitBlocks()||t&&this.editSvc.revertSingleCellEdit(t)}}return!0}cleanupEditors({rowNode:e}={},t){y0(this.beans,{persist:!1});let n=this.model.getEditPositions(),r=[];if(e)for(let t of n)t.rowNode!==e&&r.push(t);else for(let e of n)r.push(e);x0(this.beans,r),_0(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){let t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{let n=this.beans.gos.get(`editType`)===`fullRow`;e.focusCell(n),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e){let{event:t,ignoreEventKey:n=!1,startedEdit:r,position:i,cells:a=this.model.getEditPositions()}=e,o=t instanceof KeyboardEvent&&!n&&t.key||void 0;RAe(this.beans,a,i,o,t,r)}dispatchCellEvent(e,t,n,r){let i=c0(this.beans,e);i&&this.eventSvc.dispatchEvent({...i.createEvent(t??null,n),...r})}dispatchRowEvent(e,t,n){if(n)return;let r=s0(this.beans,e);r&&this.eventSvc.dispatchEvent(r.createRowEvent(t))}shouldStop(e,t,n=`ui`){let r=this.editSvc.isBatchEditing();return r&&n===`api`?!0:r&&(n===`ui`||n===`edit`)?!1:n===`api`?!0:t instanceof KeyboardEvent&&!r?t.key===Z.ENTER:null}shouldCancel(e,t,n=`ui`){let r=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!r&&t.key===Z.ESCAPE||r&&n===`api`||n===`api`)}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:`api`});let n=[];if(e.forEach((e,t)=>{e.forEach((e,r)=>{e.state===`editing`&&n.push({...e,rowNode:t,column:r})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){let e=n.at(-1),t=e.pendingValue===d0?void 0:e.pendingValue;this.start({position:e,event:new KeyboardEvent(`keydown`,{key:t}),source:`api`});let r=c0(this.beans,e);r&&this.setFocusInOnEditor(r)}}destroy(){this.cleanupEditors(),super.destroy()}},$2={moduleName:`EditCore`,version:Y,beans:[FAe,gPe],apiFunctions:{getEditingCells:JNe,getEditRowValues:qNe,getCellEditorInstances:LAe,startEditingCell:ZNe,stopEditing:YNe,isEditing:XNe,validateEdit:QNe},dynamicBeans:{singleCell:class extends Q2{constructor(){super(...arguments),this.beanName=`singleCell`}shouldStop(e,t,n=`ui`){let r=super.shouldStop(e,t,n);if(r!==null)return r;let{rowNode:i,column:a}=e||{};return(!this.rowNode||!this.column)&&i&&a?null:this.rowNode!==i||this.column!==a}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e){let{position:t,startedEdit:n,event:r,ignoreEventKey:i}=e;(this.rowNode!==t.rowNode||this.column!==t.column)&&super.cleanupEditors(),this.rowNode=t.rowNode,this.column=t.column,this.model.start(t),this.setupEditors({cells:[t],position:t,startedEdit:n,event:r,ignoreEventKey:i})}dispatchRowEvent(e,t,n){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){let{colModel:t,editSvc:n}=this.beans,{rowIndex:r,column:i,rowPinned:a}=e,o=Y$(this.beans,{rowIndex:r,rowPinned:a}),s=u0(i),c=t.getCol(s),l=e.previousParams;if(l){let e=u0(l.column);if(l?.rowIndex===r&&e===s&&l?.rowPinned===a)return}n?.isEditing({rowNode:o,column:c},{withOpenEditor:!0})&&e.type===`cellFocused`||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,r=`ui`,i=!1){let a=this.beans.focusSvc.getFocusedCell();a&&(e=X$(this.beans,a)??e);let o=e.cellPosition,s,c=this.beans.gos.get(`editType`)===`fullRow`;c&&this.model.suspend(!0),i||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?`ui`:`api`,event:n}));try{s=this.beans.navigation?.findNextCellToFocusOn(o,{backwards:t,startEditing:!0})}finally{c&&this.model.suspend(!1)}if(s===!1)return null;if(s==null)return!1;let l=s.cellPosition,u=e.isCellEditable(),d=s.isCellEditable(),f=l&&o.rowIndex===l.rowIndex&&o.rowPinned===l.rowPinned;u&&!i&&this.setFocusOutOnEditor(e);let p=this.gos.get(`suppressStartEditOnTab`);if(!f&&!i&&(super.cleanupEditors(s,!0),p?s.focusCell(!0,n):this.editSvc.startEditing(s,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),d&&!i){if(s.focusCell(!1,n),p)s.focusCell(!0,n);else if(!s.comp?.getCellEditor()){let e=this.editSvc?.isEditing(s,{withOpenEditor:!0});m0(this.beans,s,{event:n,cellStartedEdit:!0,silent:e}),this.setFocusInOnEditor(s),this.cleanupEditors(s)}}else d&&i&&this.setFocusInOnEditor(s),s.focusCell(!0,n);return e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},fullRow:class extends Q2{constructor(){super(...arguments),this.beanName=`fullRow`,this.startedRows=[]}shouldStop(e,t,n=`ui`){let{rowNode:r}=e||{};if(!s0(this.beans,{rowNode:this.rowNode}))return!0;let i=super.shouldStop({rowNode:this.rowNode},t,n);return i===null?this.rowNode?r!==this.rowNode:!1:i}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e){let{position:t,silent:n,startedEdit:r,event:i,ignoreEventKey:a}=e,{rowNode:o}=t;this.rowNode!==o&&super.cleanupEditors(t);let s=this.beans.visibleCols.allCols,c=[],l=[];for(let e of s)e.isCellEditable(o)&&l.push(e);if(l.length!=0){this.dispatchRowEvent({rowNode:o},`rowEditingStarted`,n),this.startedRows.push(o);for(let e of l){let t={rowNode:o,column:e};c.push(t),this.model.hasEdits(t)||this.model.start(t)}this.rowNode=o,this.setupEditors({cells:c,position:t,startedEdit:r,event:i,ignoreEventKey:a})}}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){let{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;let r=[];if(e||this.model.getEditMap().forEach((e,t)=>{if(!(!e||e.size===0)){for(let n of e.values())if(p0(n)){r.push(t);break}}}),E0(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:n})===`block-stop`)return!1;super.stop(e,t);for(let e of r)this.dispatchRowEvent({rowNode:e},`rowValueChanged`);return this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0}onCellFocusChanged(e){let{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;let r=c0(this.beans,n);this.gos.get(`invalidEditValueMode`)===`block`&&r&&(this.model.getCellValidationModel().getCellValidation(r)||this.model.getRowValidationModel().getRowValidation(r))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t);for(let e of this.startedRows)this.dispatchRowEvent({rowNode:e},`rowEditingStopped`);this.startedRows.length=0}moveToNextEditingCell(e,t,n,r=`ui`,i=!1){let a=e.cellPosition,o;this.model.suspend(!0);try{o=this.beans.navigation?.findNextCellToFocusOn(a,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;let s=o.cellPosition,c=e.isCellEditable(),l=o.isCellEditable(),u=s&&a.rowIndex===s.rowIndex&&a.rowPinned===s.rowPinned;c&&this.setFocusOutOnEditor(e),this.restoreEditors();let d=this.gos.get(`suppressStartEditOnTab`);return l&&!i?d?o.focusCell(!0,n):(o.comp?.getCellEditor()||m0(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o),o.focusCell(!1,n)):(l&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),!u&&!i&&(this.editSvc?.stopEditing({rowNode:e.rowNode},{event:n}),this.cleanupEditors(o,!0),d?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:e},n)=>{if(e!==`editing`)return;let r=c0(this.beans,{rowNode:t,column:n});r&&!r.comp?.getCellEditor()&&m0(this.beans,r,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}}},dependsOn:[t2,N2],css:[wNe]},vPe={moduleName:`UndoRedoEdit`,version:Y,beans:[CNe],apiFunctions:{undoCellEditing:GNe,redoCellEditing:KNe,getCurrentUndoSize:$Ne,getCurrentRedoSize:ePe},dependsOn:[$2]},yPe={moduleName:`TextEditor`,version:Y,userComponents:{agCellEditor:R2,agTextCellEditor:R2},dependsOn:[$2]},bPe={moduleName:`NumberEditor`,version:Y,userComponents:{agNumberCellEditor:{classImp:LNe}},dependsOn:[$2]},xPe={moduleName:`DateEditor`,version:Y,userComponents:{agDateCellEditor:kNe,agDateStringCellEditor:MNe},dependsOn:[$2]},SPe={moduleName:`CheckboxEditor`,version:Y,userComponents:{agCheckboxCellEditor:ENe},dependsOn:[$2]},CPe={moduleName:`SelectEditor`,version:Y,userComponents:{agSelectCellEditor:zNe},dependsOn:[$2]},wPe={moduleName:`LargeTextEditor`,version:Y,userComponents:{agLargeTextCellEditor:PNe},dependsOn:[$2]},TPe={moduleName:`CustomEditor`,version:Y,dependsOn:[$2]},EPe=class extends J{constructor(){super(...arguments),this.beanName=`selectionColSvc`}postConstruct(){this.addManagedPropertyListener(`rowSelection`,e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,RY(e.source))}),this.addManagedPropertyListener(`selectionColumnDef`,this.updateColumns.bind(this))}addColumns(e){let t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),LSe(e))}createColumns(e,t){let n=()=>{NY(this.beans,this.columns?.tree),this.columns=null},r=e.treeDepth,i=(this.columns?.treeDepth??-1)==r,a=this.generateSelectionCols();if(ISe(a,this.columns?.list??[])&&i)return;n();let{colGroupSvc:o}=this.beans,s=o?.findDepth(e.tree)??0;this.columns={list:a,tree:o?.balanceTreeForAutoCols(a,s)??[],treeDepth:s,map:{}},t(e=>{if(!e)return null;let t=e.filter(e=>!FY(e));return[...a,...t]})}updateColumns(e){let t=RY(e.source);for(let n of this.columns?.list??[]){let r=this.createSelectionColDef(e.currentValue);n.setColDef(r,null,t),YY(this.beans,{state:[{...r,colId:n.getColId()}]},t)}}getColumn(e){return this.columns?.list.find(t=>zY(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){let{gos:e,beans:t}=this,n=e.get(`rowSelection`);if(typeof n!=`object`||!HJ(e))return!1;let r=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation===`autoGroupColumn`&&r)return!1;let i=!!rY(n),a=iY(n);return i||a}createSelectionColDef(e){let{gos:t}=this,n=e??t.get(`selectionColumnDef`),r=t.get(`enableRtl`),{rowSpan:i,spanRows:a,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:r?`right`:`left`,comparator(e,t,n,r){let i=n.isSelected();return i===r.isSelected()?0:i?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:PSe,chartDataType:`excluded`}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];let e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);let n=new SY(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){let r=(t&&typeof t!=`string`?rY(t):void 0)!==(e&&typeof e!=`string`?rY(e):void 0),i=(t&&typeof t!=`string`?iY(t):void 0)!==(e&&typeof e!=`string`?iY(e):void 0),a=aY(e)!==aY(t);(r||i||a)&&this.beans.colModel.refreshAll(n)}destroy(){NY(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;let r=e.length+t.length+n.length;if(r===0)return;let i=this.columns.list[0];i.isVisible()&&(this.beans.rowNumbersSvc?.getColumn(`ag-Grid-RowNumbersColumn`)?2:1)===r&&(()=>{let r;switch(i.pinned){case`left`:case!0:r=e;break;case`right`:r=n;break;default:r=t}r&&kY(r,i)})()}};function DPe(e,t){if(!t.nodes.every(e=>e.rowPinned&&!N$(e)?(X(59),!1):e.id===void 0?(X(60),!1):!0))return;let{nodes:n,source:r,newValue:i}=t;e.selectionSvc?.setNodesSelected({nodes:n,source:r??`api`,newValue:i})}function OPe(e,t,n=`apiSelectAll`){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function kPe(e,t,n=`apiSelectAll`){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function APe(e,t=`apiSelectAllFiltered`){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:`filtered`})}function jPe(e,t=`apiSelectAllFiltered`){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:`filtered`})}function MPe(e,t=`apiSelectAllCurrentPage`){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:`currentPage`})}function NPe(e,t=`apiSelectAllCurrentPage`){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:`currentPage`})}function PPe(e){return e.selectionSvc?.getSelectedNodes()??[]}function FPe(e){return e.selectionSvc?.getSelectedRows()??[]}var IPe=class extends REe{constructor(){super(...arguments),this.beanName=`selectionSvc`,this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();let{gos:e}=this;this.mode=uY(e),this.groupSelectsDescendants=mY(e),this.groupSelectsFiltered=fY(e)===`filteredDescendants`,this.masterSelectsDetail=hY(e)===`detail`,this.addManagedPropertyListeners([`groupSelectsChildren`,`groupSelectsFiltered`,`rowSelection`],()=>{let t=mY(e),n=uY(e),r=fY(e)===`filteredDescendants`;this.masterSelectsDetail=hY(e)===`detail`,(t!==this.groupSelectsDescendants||r!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:`api`}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=r,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;let r=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);if(r==null)return 0;if(this.selectionCtx.selectAll=!1,`select`in r)return r.reset?this.resetNodes():this.selectRange(r.deselect,!1,n),this.selectRange(r.select,!0,n);{let t=r.checkFilteredNodes?n4(r.node):r.newValue;return this.setNodesSelected({nodes:[r.node],newValue:t,clearSelection:r.clearSelection,keepDescendants:r.keepDescendants,event:e,source:n})}}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:r,event:i,source:a,keepDescendants:o=!1}){if(r.length===0)return 0;let{gos:s}=this;if(!HJ(s)&&e)return X(132),0;if(r.length>1&&!this.isMultiSelect())return X(130),0;let c=0;for(let t=0;t<r.length;t++){let n=r[t],o=e4(n);if(o.rowPinned&&!N$(o)){X(59);continue}if(o.id===void 0){X(60);continue}this.groupSelectsFiltered&&o.group&&!s.get(`treeData`)||this.selectRowNode(o,e,i,a)&&(this.detailSelection.delete(o.id),c++),this.groupSelectsDescendants&&o.childrenAfterGroup?.length&&(c+=this.selectChildren(o,e,a))}return n||(r.length===1&&a===`api`&&this.selectionCtx.setRoot(e4(r[0])),e&&(t||!this.isMultiSelect())&&(c+=this.clearOtherNodes(e4(r[0]),o,a)),c>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),c}selectRange(e,t,n){let r=0;return e.forEach(e=>{let i=e4(e);i.group&&this.groupSelectsDescendants||this.selectRowNode(i,t,void 0,n)&&r++}),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}selectChildren(e,t,n){let r=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return r?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:r}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){let e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){let t=new Map;this.selectedNodes.forEach((n,r)=>{e(n)&&t.set(r,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;let{gos:n,rowModel:r}=this.beans;if(!zJ(n,r))return!1;let i=r.rootNode;if(!i)return!1;t||(t=new e1(!0,i),t.active=!1);let a=!1;return t.forEachChangedNodeDepthFirst(t=>{if(t!==i){let n=this.calculateSelectedFromChildren(t);a=this.selectRowNode(t,n===null?!1:n,void 0,e)||a}}),a}clearOtherNodes(e,t,n){let r=new Map,i=0;return this.selectedNodes.forEach(a=>{let o=a.id==e.id;if((!t||!RPe(e,a))&&!o){let e=this.selectedNodes.get(a.id);i+=this.setNodesSelected({nodes:[e],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&a.parent&&r.set(a.parent.id,a.parent)}}),r.forEach(e=>{let t=this.calculateSelectedFromChildren(e);this.selectRowNode(e,t===null?!1:t,void 0,n)}),i}onRowSelected(e){let t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;let t=new ZZ(this.beans);return t.id=e.id,t.data=e.data,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){let t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){let{gos:e,rowModel:t}=this.beans;if(!zJ(e,t))return;let n=t.getTopLevelNodes();if(n===null)return;let r=[];function i(e){for(let t=0,n=e.length;t<n;t++){let n=e[t];n.isSelected()?r.push(n):n.group&&n.childrenAfterGroup&&i(n.childrenAfterGroup)}}return i(n),r}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){let n=zJ(this.gos),r=!1,i=t=>{let n=this.selectRowNode(e4(t),!1,void 0,e);r||=n};if(t===`currentPage`||t===`filtered`){if(!n){FJ(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){let t=this.updateGroupsFromChildrenSelections(e);r||=t}r&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(e=>{this.groupSelectsDescendants&&e.group||(e.isSelected()?t++:e.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){let{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return t4(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(e=>e.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];let t=[],n=e=>t.push(e);if(e===`currentPage`)return this.forEachNodeOnPage(e=>{if(!e.group){n(e);return}if(!e.expanded&&!e.footer){let t=e=>{n(e),e.childrenAfterFilter?.forEach(t)};t(e);return}this.groupSelectsDescendants||n(e)}),t;let r=this.beans.rowModel;return e===`filtered`?(r.forEachNodeAfterFilter(n),t):(r.forEachNode(n),t)}forEachNodeOnPage(e){let{pageBounds:t,rowModel:n}=this.beans,r=t.getFirstRow(),i=t.getLastRow();for(let t=r;t<=i;t++){let r=n.getRow(t);r&&e(r)}}selectAllRowNodes(e){let{gos:t,selectionCtx:n}=this;if(!HJ(t)){X(132);return}if(ySe(t)&&!dY(t)){X(130);return}if(!this.canSelectAll())return;let{source:r,selectAll:i}=e,a=!1;if(this.getNodesToSelect(i).forEach(e=>{let t=this.selectRowNode(e4(e),!0,void 0,r);a||=t}),n.selectAll=!0,zJ(t)&&this.groupSelectsDescendants){let e=this.updateGroupsFromChildrenSelections(r);a||=e}a&&this.dispatchSelectionChanged(r)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||=[],!Array.isArray(e)){FJ(103);return}let r=new Set(e),i=[];this.beans.rowModel.forEachNode(e=>{r.has(e.id)&&i.push(e)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){return zJ(this.beans.gos)}updateSelectable(e){let{gos:t,rowModel:n}=this.beans;if(!HJ(t))return;let r=`selectableChanged`,i=e!==void 0,a=zJ(t)&&this.groupSelectsDescendants,o=[],s=e=>{if(!(i&&!e.group)){if(a&&e.group){let t=e.childrenAfterGroup?.some(e=>e.selectable)??!1;this.setRowSelectable(e,t,!0);return}!this.updateRowSelectable(e,!0)&&e.isSelected()&&o.push(e)}};if(a){if(e===void 0){let t=n.rootNode;e=t?new e1(!1,t):void 0}e?.forEachChangedNodeDepthFirst(s,!i,!i)}else n.forEachNode(s);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:r}),!i&&a&&this.updateGroupsFromChildrenSelections?.(r)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.(`rowGroupChanged`,e)&&this.dispatchSelectionChanged(`rowGroupChanged`)}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;let n=e.detailNode?.detailGridInfo?.api;if(!n)return;let r=LPe(n);if(e.isSelected()!==r&&this.selectRowNode(e,r,t,`masterDetail`)&&this.dispatchSelectionChanged(`masterDetail`),!r){let t=this.detailSelection.get(e.id)??new Set;for(let e of n.getSelectedNodes())t.add(e.id);this.detailSelection.set(e.id,t)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!dY(t)){X(269);return}switch(e.isSelected()){case!0:n.selectAll();break;case!1:n.deselectAll();break;case void 0:{let t=this.detailSelection.get(e.id);if(t){let e=[];for(let r of t){let t=n.getRowNode(r);t&&e.push(t)}n.setNodesSelected({nodes:e,newValue:!0,source:`masterDetail`})}break}default:break}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:`selectionChanged`,source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function e4(e){return N$(e)?e.pinnedSibling:e.footer?e.sibling:e}function LPe(e){let t=0,n=0;return e.forEachNode(e=>{e.isSelected()?t++:e.selectable&&n++}),t4(t,n)}function t4(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function RPe(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}function n4(e){let t=e.isSelected()===!1,n=e.childrenAfterFilter?.some(n4)??!1;return t||n}var zPe={moduleName:`RowSelection`,version:Y,rowModels:[`clientSide`,`infinite`,`viewport`],beans:[IPe],dependsOn:[{moduleName:`SharedRowSelection`,version:Y,beans:[EPe],apiFunctions:{setNodesSelected:DPe,selectAll:OPe,deselectAll:kPe,selectAllFiltered:APe,deselectAllFiltered:jPe,selectAllOnCurrentPage:MPe,deselectAllOnCurrentPage:NPe,getSelectedNodes:PPe,getSelectedRows:FPe}}]};function BPe(e){e.expansionSvc?.expandAll(!0)}function VPe(e){e.expansionSvc?.expandAll(!1)}function r4(e){e.rowModel?.onRowHeightChanged()}function i4(e){if(e.rowAutoHeight?.active){X(3);return}e.rowModel?.resetRowHeights()}function HPe(e,t,n){let r=Xje(e);if(r){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){FJ(238);return}r.setRowCount(t,n);return}FJ(28);return}J0(e)?.setRowCount(t,n)}function UPe(e){return BJ(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function WPe(e){return e.rowModel.isLastRowIndexKnown()}var GPe={moduleName:`CsrmSsrmSharedApi`,version:Y,apiFunctions:{expandAll:BPe,collapseAll:VPe}},KPe={moduleName:`RowModelSharedApi`,version:Y,apiFunctions:{onRowHeightChanged:r4,resetRowHeights:i4}},qPe={moduleName:`SsrmInfiniteSharedApi`,version:Y,apiFunctions:{setRowCount:HPe,getCacheBlockState:UPe,isLastRowIndexKnown:WPe}},JPe={moduleName:`AlignedGrids`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`alignedGridsSvc`,this.consuming=!1}getAlignedGridApis(){let e=this.gos.get(`alignedGrids`)??[],t=typeof e==`function`;return typeof e==`function`&&(e=e()),e.map(e=>{if(!e){FJ(18),t||FJ(20);return}if(this.isGridApi(e))return e;let n=e;return`current`in n?n.current?.api:(n.api||FJ(19),n.api)}).filter(e=>!!e&&!e.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:e})=>this.onColumnEvent(e),alignedGridScroll:({event:e})=>this.onScrollEvent(e)})}fireEvent(e){if(!this.consuming)for(let t of this.getAlignedGridApis())t.isDestroyed()||t.dispatchEvent(e)}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:`alignedGridColumn`,event:e})}fireScrollEvent(e){e.direction===`horizontal`&&this.fireEvent({type:`alignedGridScroll`,event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){let n=[];return e.columns?e.columns.forEach(e=>{n.push(t(e))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,e=>e)}getColumnIds(e){return this.extractDataFromEvent(e,e=>e.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case`columnMoved`:case`columnVisible`:case`columnPinned`:case`columnResized`:this.processColumnEvent(e);break;case`columnGroupOpened`:this.processGroupOpenedEvent(e);break;case`columnPivotChanged`:X(21);break}})}processGroupOpenedEvent(e){let{colGroupSvc:t}=this.beans;if(t)for(let n of e.columnGroups){let e=null;n&&(e=t.getProvidedColGroup(n.getGroupId())),!(n&&!e)&&t.setColumnGroupOpened(e,n.isExpanded(),`alignedGridChanged`)}}processColumnEvent(e){let t=e.column,n=null,r=this.beans,{colResize:i,ctrlsSvc:a,colModel:o}=r;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;let s=this.getMasterColumns(e);switch(e.type){case`columnMoved`:YY(r,{state:e.api.getColumnState().map(e=>({colId:e.colId})),applyOrder:!0},`alignedGridChanged`);break;case`columnVisible`:YY(r,{state:e.api.getColumnState().map(e=>({colId:e.colId,hide:e.hide}))},`alignedGridChanged`);break;case`columnPinned`:YY(r,{state:e.api.getColumnState().map(e=>({colId:e.colId,pinned:e.pinned}))},`alignedGridChanged`);break;case`columnResized`:{let t=e,n={};for(let e of s)n[e.getId()]={key:e.getColId(),newWidth:e.getActualWidth()};for(let e of t.flexColumns??[])n[e.getId()]&&delete n[e.getId()];i?.setColumnWidths(Object.values(n),!1,t.finished,`alignedGridChanged`);break}}let c=a.getGridBodyCtrl().isVerticalScrollShowing();for(let e of this.getAlignedGridApis())e.setGridOption(`alwaysShowVerticalScroll`,c)}}],dependsOn:[T1]},YPe=class extends J{constructor(e){super(),this.rootNode=e,this.nextId=0,this.allNodesMap={},a4(e)}getRowNode(e){return this.allNodesMap[e]}setNewRowData(e){let{selectionSvc:t,pinnedRowModel:n,groupStage:r}=this.beans;t?.reset(`rowDataChanged`),n?.isManual()&&n.reset(),this.dispatchRowDataUpdateStarted(e),this.allNodesMap=Object.create(null),this.nextId=0;let i=a4(this.rootNode),a=Array(e.length);i._leafs=a;let o=0,s=r?.getNestedDataGetter(),c=s?new Set:null,l=(e,t)=>{let n=e.level+1;for(let r=0,i=t.length;r<i;++r){let i=t[r];if(!i)continue;let u=this.createRowNode(i,n);if(u.sourceRowIndex=o,a[o++]=u,c&&!c.has(i)){c.add(i),u.treeParent=e;let t=s(i);t&&l(u,t)}}};l(i,e),a.length=o}setImmutableRowData(e,t){let{rootNode:n,gos:r}=this;this.dispatchRowDataUpdateStarted(t);let i=nY(r),a=e.changedRowNodes,{adds:o,updates:s}=a,c=new Set,l=[],u=this.beans.groupStage?.getNestedDataGetter(),d=r.get(`suppressMaintainUnsortedOrder`)?void 0:!1,f=-1,p=!1,m=(e,t)=>{if(!d&&d!==void 0){let t=e.sourceRowIndex;d=t<=f,f=t}e.data!==t&&(e.updateData(t),o.has(e)||s.add(e),!e.selectable&&e.isSelected()&&l.push(e))},h=(e,t,n)=>{for(let r=0,a=t.length;r<a;++r){let a=t[r];if(!a)continue;let s=this.getRowNode(i({data:a,level:n}));if(s?(m(s,a),p||=!!u&&s.treeParent!==e):(s=this.createRowNode(a,n),o.add(s)),!u||c.has(s)){c.add(s);continue}c.add(s),s.treeParent=e;let l=u(a);l&&h(s,l,n+1)}};h(n,t,0);let g=this.deleteUnusedNodes(c,a,l)||d||o.size>0;if(g){let e=n._leafs??=[];d===void 0?eFe(e,c,a):$Pe(e,c)&&(a.reordered=!0)}(g||p||s.size)&&(e.rowDataUpdated=!0,this.deselect(l))}deleteUnusedNodes(e,{removals:t},n){let r=this.rootNode._leafs;for(let i=0,a=r.length;i<a;i++){let a=r[i];e.has(a)||(t.add(a),a.isSelected()&&n.push(a),this.deleteNode(a))}return t.size>0}updateRowData(e,t){if(this.dispatchRowDataUpdateStarted(e.add),this.beans.groupStage?.getNestedDataGetter())return X(268),{remove:[],update:[],add:[]};let n=[],r=nY(this.gos),i=this.executeRemove(r,e,t,n),a=this.executeUpdate(r,e,t,n),o=this.executeAdd(e,t);return this.deselect(n),{remove:i,update:a,add:o}}executeRemove(e,{remove:t},{adds:n,updates:r,removals:i},a){let o=this.rootNode._leafs,s=o?.length,c=t?.length;if(!c||!s)return[];let l=0,u=s,d=0,f,p=Array(c);for(let o=0;o<c;++o){let s=this.lookupNode(e,t[o]);if(!s)continue;let c=s.sourceRowIndex;c<u&&(u=c),c>d&&(d=c),s.isSelected()&&a.push(s),this.deleteNode(s),n.delete(s)?(f??=new Set,f.add(s)):(r.delete(s),i.add(s)),p[l++]=s}return p.length=l,l&&QPe(o,u,d,i,f),p}executeUpdate(e,{update:t},{adds:n,updates:r},i){let a=t?.length;if(!a)return[];let o=Array(a),s=0;for(let c=0;c<a;c++){let a=t[c],l=this.lookupNode(e,a);l&&(l.updateData(a),!l.selectable&&l.isSelected()&&i.push(l),o[s++]=l,n.has(l)||r.add(l))}return o.length=s,o}executeAdd(e,t){var n;let r=(n=this.rootNode)._leafs??(n._leafs=[]),i=r.length,a=e.add,o=a?.length;if(!o)return[];let s=i+o,c=this.sanitizeAddIndex(r,e.addIndex);if(c<i){for(let e=i-1,t=s-1;e>=c;--e){let n=r[e];n.sourceRowIndex=t,r[t--]=n}t.reordered=!0}r.length=s;let l=Array(o),u=t.adds;for(let e=0;e<o;e++){let t=this.createRowNode(a[e],0);u.add(t),t.sourceRowIndex=c,r[c]=t,l[e]=t,c++}return l}dispatchRowDataUpdateStarted(e){this.eventSvc.dispatchEvent({type:`rowDataUpdateStarted`,firstRowData:e?.length?e[0]:null})}deselect(e){let t=`rowDataChanged`,n=this.beans.selectionSvc;e.length&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),e.length&&this.eventSvc.dispatchEvent({type:`selectionChanged`,source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}createRowNode(e,t){let n=new ZZ(this.beans);n.parent=this.rootNode,n.level=t,n.group=!1,n.expanded=!1,n.setDataAndId(e,String(this.nextId++));let r=n.id,i=this.allNodesMap;return i[r]&&X(2,{nodeId:r}),i[r]=n,n}deleteNode(e){e.clearRowTopAndRowIndex();let t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t];let r=e.pinnedSibling;r&&this.beans.pinnedRowModel?.pinRow(r,null)}lookupNode(e,t){if(!e)return ZPe(this.rootNode._leafs,t);let n=e({data:t,level:0});return this.allNodesMap[n]||(FJ(4,{id:n}),null)}sanitizeAddIndex(e,t){let n=e.length;if(typeof t!=`number`||t<0||t>=n||Number.isNaN(t))return n;t=Math.ceil(t);let r=this.gos;return t>0&&r.get(`treeData`)&&r.get(`getDataPath`)&&(t=XPe(e,t)),t}},XPe=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(e[n]?.rowIndex==t-1)return n+1;return t},a4=e=>{e.group=!0,e.level=-1,e.id=`ROOT_NODE_ID`,e._leafs?.length!==0&&(e._leafs=[]);let t=[],n=[],r=[],i=[];e.childrenAfterGroup=t,e.childrenAfterSort=n,e.childrenAfterAggFilter=r,e.childrenAfterFilter=i;let a=e.sibling;return a&&(a.childrenAfterGroup=t,a.childrenAfterSort=n,a.childrenAfterAggFilter=r,a.childrenAfterFilter=i,a.childrenMapped=e.childrenMapped),e.updateHasChildren(),e},ZPe=(e,t)=>{if(e)for(let n=0,r=e.length;n<r;n++){let r=e[n];if(r.data===t)return r}return FJ(5,{data:t}),null},QPe=(e,t,n,r,i)=>{t=Math.max(0,t);for(let a=t,o=e.length;a<o;++a){let o=e[a];a<=n&&(r.has(o)||i?.has(o))||(o.sourceRowIndex=t,e[t++]=o)}e.length=t},$Pe=(e,t)=>{e.length=t.size;let n=0,r=!1,i=!1;for(let a of t){let t=a.sourceRowIndex;t===n?i||=r:(t>=0?i=!0:r=!0,a.sourceRowIndex=n,e[n]=a),++n}return i},eFe=(e,t,{removals:n,adds:r})=>{let i=e.length;e.length=t.size;let a=0;for(let t=0;t<i;++t){let r=e[t];n.has(r)||(a!==t&&(r.sourceRowIndex=a,e[a]=r),++a)}for(let t of r)t.sourceRowIndex<0&&(t.sourceRowIndex=a,e[a++]=t);e.length=a},o4=e=>{let t=e.childrenAfterSort,n=e.sibling;if(n&&(n.childrenAfterSort=t),t)for(let e=0,n=t.length-1;e<=n;e++){let r=t[e],i=e===0,a=e===n;r.firstChild!==i&&(r.firstChild=i,r.dispatchRowEvent(`firstChildChanged`)),r.lastChild!==a&&(r.lastChild=a,r.dispatchRowEvent(`lastChildChanged`)),r.childIndex!==e&&(r.childIndex=e,r.dispatchRowEvent(`childIndexChanged`))}},tFe=class extends J{constructor(){super(...arguments),this.beanName=`sortStage`,this.step=`sort`,this.refreshProps=[`postSortRows`,`groupDisplayType`,`accentedSort`]}execute(e){let t=this.beans.sortSvc.getSortOptions(),n=t.length>0&&!!e.changedRowNodes&&this.gos.get(`deltaSort`);this.sort(t,n,e.changedRowNodes,e.changedPath)}sort(e,t,n,r){let{gos:i,colModel:a,rowGroupColsSvc:o,rowNodeSorter:s,rowRenderer:c,showRowGroupCols:l}=this.beans,u=i.get(`groupMaintainOrder`),d=a.getCols().some(e=>e.isRowGroupActive()),f=o?.columns,p=a.isPivotMode(),m=i.getCallback(`postSortRows`),h=!1,g;if(r?.forEachChangedNodeDepthFirst(i=>{let a=p&&i.leafGroup,o=u&&d&&!i.leafGroup;o&&(g??=this.shouldSortContainsGroupCols(e),o&&=!g);let c=null;if(o){let e=!1;if(f){let t=i.level+1;t<f.length&&(e=f[t].getSort()===null)}e||(c=iFe(i))}else !e.length||a||(c=t&&n?nFe(s,i,n,r,e):s.doFullSort(i.childrenAfterAggFilter,e));c||=i.childrenAfterAggFilter?.slice(0)??[],h||=i.childrenAfterSort?.[0]!==c[0],i.childrenAfterSort=c,o4(i),m&&m({nodes:i.childrenAfterSort})}),h&&i.get(`groupHideOpenParents`)){let e=l?.getShowRowGroupCols();e?.length&&c.refreshCells({columns:e,force:!0})}}shouldSortContainsGroupCols(e){let t=e.length;if(!t)return!1;if(ZJ(this.gos)){for(let n=0;n<t;++n){let t=e[n].column;if(t.isPrimary()&&t.isRowGroupActive())return!0}return!1}for(let n=0;n<t;++n)if(e[n].column.getColDef().showRowGroup)return!0;return!1}},nFe=(e,t,n,r,i)=>{let a=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(a,i);let s=new Set,c=[],{updates:l,adds:u}=n;for(let e=0,t=a.length;e<t;++e){let t=a[e];l.has(t)||u.has(t)||r&&!r.canSkip(t)?c.push({currentPos:c.length,rowNode:t}):s.add(t)}let d=o.filter(e=>s.has(e)).map((e,t)=>({currentPos:t,rowNode:e}));return c.sort((t,n)=>e.compareRowNodes(i,t,n)),rFe(e,i,c,d)},rFe=(e,t,n,r)=>{let i=0,a=0,o=n.length,s=r.length,c=Array(o+s),l=0;for(;i<o&&a<s;){let o=n[i],s=r[a];e.compareRowNodes(t,o,s)<0?(c[l++]=o.rowNode,++i):(c[l++]=s.rowNode,++a)}for(;i<o;)c[l++]=n[i++].rowNode;for(;a<s;)c[l++]=r[a++].rowNode;return c},iFe=e=>{let t=e.childrenAfterSort,n=e.childrenAfterAggFilter,r=t?.length,i=n?.length;if(!r||!i)return null;let a=Array(i),o=new Set;for(let e=0;e<i;++e)o.add(n[e]);let s=0;for(let e=0;e<r;++e){let n=t[e];o.delete(n)&&(a[s++]=n)}if(o.size===0&&s===r)return t;for(let e of o)a[s++]=e;return a.length=s,a},aFe=class extends J{constructor(){super(...arguments),this.beanName=`rowModel`,this.rootNode=null,this.rowCountReady=!1,this.nodeManager=void 0,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.asyncTransactions=null,this.asyncTransactionsTimer=0,this.started=!1,this.refreshingModel=!1,this.rowNodesCountReady=!1,this.stages=[],this.stagesRefreshProps=new Map,this.onRowHeightChanged_debounced=nJ(this,this.onRowHeightChanged.bind(this),100)}postConstruct(){let e=this.beans,t=new ZZ(e);this.rootNode=t,this.nodeManager=this.createBean(new YPe(t));let n=this.refreshModel.bind(this,{step:`group`}),r=this.refreshModel.bind(this,{step:`group`,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get(`suppressAnimationFrame`)});this.addManagedEventListeners({newColumnsLoaded:r,columnRowGroupChanged:n,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:`pivot`}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:n,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this),rowExpansionStateChanged:this.onRowGroupOpened.bind(this)}),this.addPropertyListeners()}addPropertyListeners(){let{beans:e,stagesRefreshProps:t}=this,n=[e.groupStage,e.filterStage,e.pivotStage,e.aggStage,e.sortStage,e.filterAggStage,e.flattenStage].filter(e=>!!e);this.stages=n;for(let e=n.length-1;e>=0;--e)for(let r of n[e].refreshProps)t.set(r,e);this.addManagedPropertyListeners([...t.keys()],e=>{let t=e.changeSet?.properties;t&&this.onPropChange(t)}),this.addManagedPropertyListener(`rowData`,()=>this.onPropChange([`rowData`])),this.addManagedPropertyListener(`rowHeight`,()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:`group`,rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get(`rowData`)&&this.onPropChange([`rowData`])}ensureRowHeightsValid(e,t,n,r){let i,a=!1;do{i=!1;let o=this.getRowIndexAtPixel(e),s=this.getRowIndexAtPixel(t),c=Math.max(o,n),l=Math.min(s,r);for(let e=c;e<=l;e++){let t=this.getRow(e);if(t.rowHeightEstimated){let e=WJ(this.beans,t);t.setRowHeight(e.height),i=!0,a=!0}}i&&this.setRowTopAndRowIndex()}while(i);return a}onPropChange(e){let{nodeManager:t,gos:n,beans:r}=this,i=r.groupStage;if(!t)return;let a=new Set(e),o=i?.onPropChange(a),s;a.has(`rowData`)?s=n.get(`rowData`):o&&(s=i?.extractData()),s&&!Array.isArray(s)&&(s=null,X(1));let c={step:`nothing`,changedProps:a};s&&(!o&&!this.isEmpty()&&s.length>0&&n.exists(`getRowId`)&&!n.get(`resetRowDataOnUpdate`)?(c.keepRenderedRows=!0,c.animate=!n.get(`suppressAnimationFrame`),c.changedRowNodes=new q$,t.setImmutableRowData(c,s)):(c.rowDataUpdated=!0,c.newData=!0,t.setNewRowData(s),this.rowNodesCountReady=!0));let l=c.rowDataUpdated?`group`:this.getRefreshedStage(e);l&&(c.step=l,this.refreshModel(c))}getRefreshedStage(e){let{stages:t,stagesRefreshProps:n}=this,r=t.length,i=r;for(let t=0,r=e.length;t<r&&i;++t)i=Math.min(i,n.get(e[t])??i);return i<r?t[i].step:null}setRowTopAndRowIndex(e){let{beans:t,rowsToDisplay:n}=this,r=t.environment.getDefaultRowHeight(),i=0,a=VJ(this.gos,`normal`);for(let o=0,s=n.length;o<s;++o){let s=n[o],c=s.id;if(c!=null&&e?.add(c),s.rowHeight==null){let e=WJ(t,s,a,r);s.setRowHeight(e.height,e.estimated)}s.setRowTop(i),s.setRowIndex(o),i+=s.rowHeight}}clearRowTopAndRowIndex(e,t){let n=e.active,r=e=>{e?.id!=null&&!t.has(e.id)&&e.clearRowTopAndRowIndex()},i=e=>{r(e),r(e.detailNode),r(e.sibling);let t=e.childrenAfterGroup;if(!e.hasChildren()||!t)return;let a=e.level==-1;if(!(n&&!a&&!e.expanded))for(let e=0,n=t.length;e<n;++e)i(t[e])},a=this.rootNode;a&&i(a)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay.length}getTopLevelRowCount(){let{rootNode:e,rowsToDisplay:t}=this;if(!e||!t.length)return 0;if(t[0]===e)return 1;let n=e.sibling?.displayed?1:0;return(e.childrenAfterSort?.length??0)+n}getTopLevelRowDisplayedIndex(e){let{beans:t,rootNode:n,rowsToDisplay:r}=this;if(!n||!r.length||r[0]===n)return e;let i=n.childrenAfterSort,a=e=>{let t=i[e];if(this.gos.get(`groupHideOpenParents`))for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex},o=t.footerSvc;return o?o?.getTopDisplayIndex(r,e,i,a):a(e)}getTopLevelIndexFromDisplayedIndex(e){let{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let r=this.getRow(e);r.footer&&(r=r.sibling);let i=r.parent;for(;i&&i!==t;)r=i,i=r.parent;let a=t.childrenAfterSort?.indexOf(r)??-1;return a>=0?a:e}getRowBounds(e){let t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){this.refreshModel({step:`map`,keepRenderedRows:!0,animate:YJ(this.gos)})}onFilterChanged({afterDataChange:e,columns:t}){if(!e){let e=t.length===0||t.some(e=>e.isPrimary())?`filter`:`filter_aggregates`;this.refreshModel({step:e,keepRenderedRows:!0,animate:YJ(this.gos)})}}onSortChanged(){this.refreshModel({step:`sort`,keepRenderedRows:!0,animate:YJ(this.gos)})}getType(){return`clientSide`}onValueChanged(){this.refreshModel({step:this.beans.colModel.isPivotActive()?`pivot`:`aggregate`})}createChangePath(e){let t=new e1(!1,this.rootNode);return t.active=e,t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get(`suppressModelUpdateAfterUpdateTransaction`))return!1;let{changedRowNodes:t,newData:n,rowDataUpdated:r}=e;return!(!t||n||!r||t.removals.size||t.adds.size)}refreshModel(e){let{nodeManager:t,beans:n,eventSvc:r,started:i,refreshingModel:a}=this;if(!t)return;let o=!!e.rowDataUpdated,s=e.changedPath??=this.createChangePath(!e.newData&&o);if(i&&o&&r.dispatchEvent({type:`rowDataUpdated`}),!i||a||n.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)){this.rowDataUpdatedPending||=o;return}switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.step=`group`),this.refreshingModel=!0,n.masterDetailSvc?.refreshModel(e),o&&e.step!==`group`&&n.colFilter?.refreshModel(),e.step){case`group`:this.doGrouping(e);case`filter`:this.doFilter(s);case`pivot`:this.doPivot(s);case`aggregate`:this.doAggregate(s);case`filter_aggregates`:this.doFilterAggregates(s);case`sort`:this.doSort(e.changedRowNodes,s);case`map`:this.doRowsToDisplay()}let c=new Set;this.setRowTopAndRowIndex(c),this.clearRowTopAndRowIndex(s,c),this.refreshingModel=!1,r.dispatchEvent({type:`modelUpdated`,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?._leafs?.length||!this.beans.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,r=!1,i=[],a=mY(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(!r){if(n&&(o===t||o===e)&&(r=!0,a&&o.group)){s4(i,o);return}if(!n){if(o!==t&&o!==e)return;n=!0,t===e&&(r=!0)}(!o.group||!a)&&i.push(o)}}),i}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){let t=this.rowsToDisplay,n=t.length;if(this.isEmpty()||n===0)return-1;let r=0,i=n-1;if(e<=0)return 0;if(t[i].rowTop<=e)return i;let a=-1,o=-1;for(;;){let n=Math.floor((r+i)/2),s=t[n];if(this.isRowInPixel(s,e)||(s.rowTop<e?r=n+1:s.rowTop>e&&(i=n-1),a===r&&o===i))return n;a=r,o=i}}isRowInPixel(e,t){let n=e.rowTop,r=n+e.rowHeight;return n<=t&&r>t}forEachLeafNode(e){let t=this.rootNode?._leafs;if(t)for(let n=0,r=t.length;n<r;++n)e(t[n],n)}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){let t=this.rowsToDisplay;for(let n=0,r=t.length;n<r;++n)e(t[n],n)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,e=>e.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,e=>e.childrenAfterSort)}forEachPivotNode(e,t,n){let{colModel:r,rowGroupColsSvc:i}=this.beans;if(!r.isPivotMode())return;if(!i?.columns.length){e(this.rootNode,0);return}let a=n?`childrenAfterSort`:`childrenAfterGroup`;this.depthFirstSearchRowNodes(e,t,e=>e.leafGroup?null:e[a])}depthFirstSearchRowNodes(e,t=!1,n=e=>e.childrenAfterGroup,r=this.rootNode,i=0){let a=i;if(!r)return a;let o=r===this.rootNode;if(o||e(r,a++),r.hasChildren()&&!r.footer){let i=n(r);if(i){let s=this.beans.footerSvc;a=s?.addTotalRows(a,r,e,t,o,`top`)??a;for(let r of i)a=this.depthFirstSearchRowNodes(e,t,n,r,a);return s?.addTotalRows(a,r,e,t,o,`bottom`)??a}}return a}doAggregate(e){let t=this.rootNode;t&&this.beans.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){let t=this.rootNode,n=this.beans.filterAggStage;if(n){n.execute({rowNode:t,changedPath:e});return}t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){let n=this.beans.sortStage;if(n){n.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t});return}t.forEachChangedNodeDepthFirst(e=>{e.childrenAfterSort=e.childrenAfterAggFilter.slice(0),o4(e)})}doGrouping(e){let t=this.rootNode,n=this.beans.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,afterColumnsChanged:!!e.afterColumnsChanged});if(n===void 0){let e=t._leafs;t.childrenAfterGroup=e,t.updateHasChildren();let n=t.sibling;n&&(n.childrenAfterGroup=e)}(n||e.rowDataUpdated)&&this.beans.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:`rowCountReady`}))}doFilter(e){let t=this.beans.filterStage;if(t){t.execute({rowNode:this.rootNode,changedPath:e});return}e.forEachChangedNodeDepthFirst(e=>{e.childrenAfterFilter=e.childrenAfterGroup,e2(e)},!0)}doPivot(e){this.beans.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){let t=this.nodeManager?.getRowNode(e);return typeof t==`object`?t:typeof e==`string`&&e.indexOf(`row-group-`)===0?this.beans.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(!this.asyncTransactionsTimer){this.asyncTransactions=[];let e=this.gos.get(`asyncTransactionWaitMillis`);this.asyncTransactionsTimer=setTimeout(()=>this.executeBatchUpdateRowData(),e)}this.asyncTransactions.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){let e=this.asyncTransactionsTimer;e&&(clearTimeout(e),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){let{nodeManager:e,beans:t,eventSvc:n,asyncTransactions:r}=this;if(!e)return;t.valueCache?.onDataChanged();let i=[],a=[],o=new q$;for(let{rowDataTransaction:t,callback:n}of r??[]){this.rowNodesCountReady=!0;let r=e.updateRowData(t,o);i.push(r),n&&a.push(n.bind(null,r))}this.commitTransactions(o),a.length>0&&setTimeout(()=>{for(let e=0,t=a.length;e<t;e++)a[e]()},0),i.length>0&&n.dispatchEvent({type:`asyncTransactionsFlushed`,results:i}),this.asyncTransactionsTimer=0,this.asyncTransactions=null}updateRowData(e){let t=this.nodeManager;if(!t)return null;this.beans.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;let n=new q$,r=t.updateRowData(e,n);return this.commitTransactions(n),r}commitTransactions(e){this.refreshModel({step:`group`,rowDataUpdated:!0,keepRenderedRows:!0,animate:!this.gos.get(`suppressAnimationFrame`),changedRowNodes:e,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){let{beans:e,rootNode:t}=this,n=e.flattenStage;if(n){this.rowsToDisplay=n.execute({rowNode:t});return}let r=this.rootNode.childrenAfterSort??[];for(let e of r)e.setUiLevel(0);this.rowsToDisplay=r}onRowHeightChanged(){this.refreshModel({step:`map`,keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){let e=this.rootNode;if(!e)return;let t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0);let n=e.sibling;n?.setRowHeight(n.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);let n=t.detailNode;n?.setRowHeight(n.rowHeight,!0);let r=t.sibling;r?.setRowHeight(r.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){e.rowHeightChanged&&!this.beans.rowAutoHeight?.active&&this.resetRowHeights()}onGridReady(){this.started||this.setInitialData()}destroy(){super.destroy(),this.nodeManager=this.destroyBean(this.nodeManager),this.started=!1,this.rootNode=null,this.rowsToDisplay=[],this.asyncTransactions=null,clearTimeout(this.asyncTransactionsTimer)}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},s4=(e,t)=>{let n=t.childrenAfterGroup;if(n)for(let t=0,r=n.length;t<r;++t){let r=n[t];r.data&&e.push(r),r.group&&s4(e,r)}};function oFe(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function sFe(e,t){let n=q0(e);n&&((!t||t===`everything`)&&(t=`group`),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get(`suppressAnimationFrame`)}))}function cFe(e){return q0(e)?.isEmpty()??!0}function lFe(e,t){q0(e)?.forEachLeafNode(t)}function uFe(e,t){q0(e)?.forEachNodeAfterFilter(t)}function dFe(e,t){q0(e)?.forEachNodeAfterFilterAndSort(t)}function fFe(e,t){return e.frameworkOverrides.wrapIncoming(()=>q0(e)?.updateRowData(t))}function pFe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>q0(e)?.batchUpdateRowData(t,n))}function mFe(e){e.frameworkOverrides.wrapIncoming(()=>q0(e)?.flushAsyncTransactions())}function hFe(e){return e.selectionSvc?.getBestCostNodeSelection()}var gFe={moduleName:`ClientSideRowModel`,version:Y,rowModels:[`clientSide`],beans:[aFe,tFe],dependsOn:[I0]},_Fe={moduleName:`ClientSideRowModelApi`,version:Y,apiFunctions:{onGroupExpandedOrCollapsed:oFe,refreshClientSideRowModel:sFe,isRowDataEmpty:cFe,forEachLeafNode:lFe,forEachNodeAfterFilter:uFe,forEachNodeAfterFilterAndSort:dFe,applyTransaction:fFe,applyTransactionAsync:pFe,flushAsyncTransactions:mFe,getBestCostNodeSelection:hFe,resetRowHeights:i4,onRowHeightChanged:r4},dependsOn:[GPe,KPe]},vFe={moduleName:`SharedExport`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`gridSerializer`}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){let{allColumns:n,columnKeys:r,skipRowGroups:i,exportRowNumbers:a}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:i,columnKeys:r,exportRowNumbers:a});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((e,t)=>t(e),e).parse()}processRow(e,t,n,r){let i=t.shouldRowBeSkipped||(()=>!1),a=t.rowPositions!=null||!!t.onlySelected,o=this.gos.get(`groupHideOpenParents`)&&!a,s=this.colModel.isPivotMode()?r.leafGroup:!r.group,c=!!r.footer,l=r.allChildrenCount===1&&r.childrenAfterGroup?.length===1&&_Se(this.gos,r);if(!s&&!c&&(t.skipRowGroups||l||o)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&r.rowPinned===`top`||t.skipPinnedBottom&&r.rowPinned===`bottom`||r.stub||r.level===-1&&!s&&!c||i(_Y(this.gos,{node:r})))return;let u=e.onNewBodyRow(r);if(n.forEach((e,t)=>{u.onColumn(e,t,r)}),t.getCustomContentBelowRow){let n=t.getCustomContentBelowRow(_Y(this.gos,{node:r}));n&&e.addCustomContent(n)}}appendContent(e){return t=>{let n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{let n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){let r=new eX,{colGroupSvc:i}=this.beans,a=i?i.createColumnGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(a,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){let e=n.onNewHeaderRow();t.forEach((t,n)=>{e.onColumn(t,n,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{let r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(e=>e.rowPinned===`top`).sort((e,t)=>e.rowIndex-t.rowIndex).map(e=>this.pinnedRowModel?.getPinnedTopRow(e.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow(`top`,r),n}}processRows(e,t){return n=>{let r=this.rowModel,i=zJ(this.gos,r),a=BJ(this.gos,r),o=!i&&e.onlySelected,s=this.processRow.bind(this,n,e,t),{exportedRows:c=`filteredAndSorted`}=e;if(e.rowPositions)e.rowPositions.filter(e=>e.rowPinned==null).sort((e,t)=>e.rowIndex-t.rowIndex).map(e=>r.getRow(e.rowIndex)).forEach(s);else if(this.colModel.isPivotMode())i?r.forEachPivotNode(s,!0,c===`filteredAndSorted`):a?r.forEachNodeAfterFilterAndSort(s,!0):r.forEachNode(s);else if(e.onlySelectedAllPages||o){let e=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(e),e.forEach(s)}else c===`all`?r.forEachNode(s):i||a?r.forEachNodeAfterFilterAndSort(s,!0):r.forEachNode(s);return n}}replicateSortedOrder(e){let{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;let r=t.getSortOptions(),i=(e,t)=>e.rowIndex!=null&&t.rowIndex!=null?e.rowIndex-t.rowIndex:e.level===t.level?e.parent?.id===t.parent?.id?n.compareRowNodes(r,{rowNode:e,currentPos:e.rowIndex??-1},{rowNode:t,currentPos:t.rowIndex??-1}):i(e.parent,t.parent):e.level>t.level?i(e.parent,t):i(e,t.parent);e.sort(i)}processPinnedBottomRows(e,t){return n=>{let r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(e=>e.rowPinned===`bottom`).sort((e,t)=>e.rowIndex-t.rowIndex).map(e=>this.pinnedRowModel?.getPinnedBottomRow(e.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow(`bottom`,r),n}}getColumnsToExport(e){let{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:r=!1,columnKeys:i}=e,{colModel:a,gos:o,visibleCols:s}=this,c=a.isPivotMode(),l=e=>FY(e)?!1:!IY(e)||r;if(i?.length)return a.getColsForKeys(i).filter(l);let u=o.get(`treeData`),d=[];return d=t&&!c?a.getCols():s.allCols,d=d.filter(e=>l(e)&&(n&&!u?!PY(e):!0)),d}recursivelyAddHeaderGroups(e,t,n){let r=[];for(let t of e){let e=t;if(e.getChildren)for(let t of e.getChildren()??[])r.push(t)}e.length>0&&YZ(e[0])&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)}doAddHeaderHeader(e,t,n){let r=e.onNewHeaderGroupingRow(),i=0;for(let e of t){let t=e,a;a=n?n(_Y(this.gos,{columnGroup:t})):this.beans.colNames.getDisplayNameForColumnGroup(t,`header`);let o=(t.isExpandable()?t.getLeafColumns():[]).reduce((e,t,n,r)=>{let i=EY(e);return t.getColumnGroupShow()===`open`?(!i||i[1]!=null)&&(i=[n],e.push(i)):i&&i[1]==null&&(i[1]=n-1),n===r.length-1&&i&&i[1]==null&&(i[1]=n),e},[]);r.onColumn(t,a||``,i++,t.getLeafColumns().length-1,o)}}}]},c4=`\r
`,yFe=class extends rMe{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result=``;let{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e==`string`?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,c4),this.result+=e):e.forEach(e=>{this.beginNewLine(),e.forEach((e,t)=>{t!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e.data.value||``),e.mergeAcross&&this.appendEmptyCells(e.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,r){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes(``)}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);let r=this.extractRowCellValue(e,t,t,`csv`,n);this.result+=this.putInQuotes(r.valueFormatted??r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return`""`;let t;return typeof e==`string`?t=e:typeof e.toString==`function`?t=e.toString():(X(53),t=``),`"`+t.replace(/"/g,`""`)+`"`}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=c4),this.isFirstLine=!1}},bFe=class extends nMe{constructor(){super(...arguments),this.beanName=`csvCreator`}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){let t=this.gos.get(`defaultCsvExportParams`);return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){X(51);return}let t=this.getMergedParams(e),n=this.getData(t),r=new Blob([``,n],{type:`text/plain`}),i=typeof t.fileName==`function`?t.fileName(_Y(this.gos,{})):t.fileName;iMe(this.getFileName(i),r)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){let n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return`csv`}createSerializingSession(e){let{colModel:t,colNames:n,rowGroupColsSvc:r,valueSvc:i,gos:a}=this,{processCellCallback:o,processHeaderCallback:s,processGroupHeaderCallback:c,processRowGroupCallback:l,suppressQuotes:u,columnSeparator:d}=e;return new yFe({colModel:t,colNames:n,valueSvc:i,gos:a,processCellCallback:o||void 0,processHeaderCallback:s||void 0,processGroupHeaderCallback:c||void 0,processRowGroupCallback:l||void 0,suppressQuotes:u||!1,columnSeparator:d||`,`,rowGroupColsSvc:r})}isExportSuppressed(){return this.gos.get(`suppressCsvExport`)}};function xFe(e,t){return e.csvCreator?.getDataAsCsv(t)}function SFe(e,t){e.csvCreator?.exportDataAsCsv(t)}var CFe={moduleName:`CsvExport`,version:Y,beans:[bFe],apiFunctions:{getDataAsCsv:xFe,exportDataAsCsv:SFe},dependsOn:[vFe]},wFe=class extends J{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state=`needsLoading`,this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state=`loading`,this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state=`needsLoading`}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state=`failed`),this.dispatchLocalEvent({type:`loadComplete`})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){let t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:`loadComplete`}),this.isRequestMostRecentAndLive(e)&&(this.state=`loaded`,this.processServerResult(t))}postConstruct(){this.rowNodes=[];let{params:{blockSize:e,rowHeight:t},startRow:n,beans:r,rowNodes:i}=this;for(let a=0;a<e;a++){let e=n+a,o=new ZZ(r);o.setRowHeight(t),o.uiLevel=0,o.setRowIndex(e),o.setRowTop(t*e),i.push(o)}}getBlockStateJson(){let{id:e,startRow:t,endRow:n,state:r}=this;return{id:``+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:r}}}setDataAndId(e,t,n){q(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){let e=this.createLoadParams();if(RK(this.params.datasource.getRows)){X(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){let{startRow:e,endRow:t,version:n,params:{sortModel:r,filterModel:i},gos:a}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:r,filterModel:i,context:_Y(a,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((r,i)=>{this.startRow+i<n&&e(r,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);let n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){let{rowNodes:t,beans:n}=this;t.forEach((r,i)=>{let a=e.rowData?e.rowData[i]:void 0;!r.id&&r.alreadyRendered&&a&&(t[i]=new ZZ(n),t[i].setRowIndex(r.rowIndex),t[i].setRowTop(r.rowTop),t[i].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(t[i],a,this.startRow+i)});let r=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)}destroy(){for(let e of this.rowNodes)e.clearRowTopAndRowIndex();super.destroy()}},TFe=2,EFe=class extends J{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){let n=Math.floor(e/this.params.blockSize),r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){let t=this.params,n=this.createBean(new wFe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}for(let e of this.getBlocksInOrder())e.setStateWaitingToLoad();this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){for(let e of this.getBlocksInOrder())this.destroyBlock(e);super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(fJ(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){let t=this.getBlocksInOrder().filter(t=>t!=e);t.sort((e,t)=>t.lastAccessed-e.lastAccessed);let n=this.params.maxBlocksInCache>0,r=n?this.params.maxBlocksInCache-1:null,i=TFe-1;t.forEach((e,t)=>{if(e.state===`needsLoading`&&t>=i||n&&t>=r){if(this.isBlockCurrentlyDisplayed(e)||this.isBlockFocused(e))return;this.removeBlockFromCache(e)}})}isBlockFocused(e){let t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;let{startRow:n,endRow:r}=e;return t.rowIndex>=n&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){let{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t==`number`&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let{blockSize:t,overflowSize:n}=this.params,r=(e.id+1)*t+n;this.rowCount<r&&(this.rowCount=r)}}setRowCount(e,t){this.rowCount=e,q(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){let t={value:0};for(let n of this.getBlocksInOrder())n.forEachNode(e,t,this.rowCount)}getBlocksInOrder(){return Object.values(this.blocks).sort((e,t)=>e.id-t.id)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:`storeUpdated`}))}destroyAllBlocksPastVirtualRowCount(){let e=[];for(let t of this.getBlocksInOrder())t.id*this.params.blockSize>=this.rowCount&&e.push(t);if(e.length>0)for(let t of e)this.destroyBlock(t)}purgeCache(){for(let e of this.getBlocksInOrder())this.removeBlockFromCache(e);this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){let n=[],r=-1,i=!1,a={value:0},o=!1;for(let s of this.getBlocksInOrder())if(!o){if(i&&r+1!==s.id){o=!0;continue}r=s.id,s.forEachNode(r=>{let a=r===e||r===t;(i||a)&&n.push(r),a&&(i=!i)},a,this.rowCount)}return o||i?[]:n}},DFe=class extends J{constructor(){super(...arguments),this.beanName=`rowModel`,this.rootNode=null}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){if(this.gos.get(`rowModelType`)!==`infinite`)return;let e=this.beans,t=new ZZ(e);this.rootNode=t,t.level=-1,this.rowHeight=GJ(e),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache())}start(){this.setDatasource(this.gos.get(`datasource`))}destroy(){this.destroyDatasource(),super.destroy(),this.rootNode=null}destroyDatasource(){this.datasource&&=(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener(`datasource`,()=>this.setDatasource(this.gos.get(`datasource`))),this.addManagedPropertyListener(`cacheBlockSize`,()=>this.resetCache()),this.addManagedPropertyListener(`rowHeight`,()=>{this.rowHeight=GJ(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;e=this.cacheParams?!BK(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):!0,e&&this.reset()}getType(){return`infinite`}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){this.datasource&&(nY(this.gos)??this.beans.selectionSvc?.reset(`rowDataChanged`),this.resetCache())}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:`modelUpdated`,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();let e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:r,eventSvc:i,gos:a}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:r,initialRowCount:a.get(`infiniteInitialRowCount`),maxBlocksInCache:a.get(`maxBlocksInCache`),rowHeight:GJ(e),overflowSize:a.get(`cacheOverflowSize`),blockSize:a.get(`cacheBlockSize`),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new EFe(this.cacheParams)),i.dispatchEventOnce({type:`rowCountReady`}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){let t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){let t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}resetRowHeights(){}onRowHeightChanged(){}};function OFe(e){J0(e)?.refreshCache()}function kFe(e){J0(e)?.purgeCache()}function AFe(e){return J0(e)?.getRowCount()}var jFe={moduleName:`InfiniteRowModel`,version:Y,apiFunctions:{refreshInfiniteCache:OFe,purgeInfiniteCache:kFe,getInfiniteRowCount:AFe},dependsOn:[{moduleName:`InfiniteRowModelCore`,version:Y,rowModels:[`infinite`],beans:[DFe,class extends J{constructor(){super(...arguments),this.beanName=`rowNodeBlockLoader`,this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=vSe(this.gos);let e=this.gos.get(`blockLoadDebounceMillis`);e&&e>0&&(this.checkBlockToLoadDebounce=nJ(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener(`loadComplete`,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){kY(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){fJ(this.gos,`RowNodeBlockLoader - checkBlockToLoad: max loads exceeded`);return}let e=this.maxConcurrentRequests==null?1:this.maxConcurrentRequests-this.activeBlockLoadsCount,t=this.blocks.filter(e=>e.state===`needsLoading`).slice(0,e);this.activeBlockLoadsCount+=t.length;for(let e of t)e.load();this.printCacheStatus()}getBlockState(){let e={};return this.blocks.forEach(t=>{let{id:n,state:r}=t.getBlockStateJson();e[n]=r}),e}printCacheStatus(){fJ(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}}]},qPe]},MFe=``,NFe=``,PFe={tag:`span`,children:[{tag:`span`,ref:`eDelta`,cls:`ag-value-change-delta`},{tag:`span`,ref:`eValue`,cls:`ag-value-change-value`}]},FFe=class extends oX{constructor(){super(PFe),this.eValue=null,this.eDelta=null,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){let n=Math.abs(t),r=e.formatValue(n),i=q(r)?r:n,a=t>=0,o=this.eDelta;a?o.textContent=MFe+i:o.textContent=NFe+i,o.classList.toggle(`ag-value-change-delta-up`,a),o.classList.toggle(`ag-value-change-delta-down`,!a)}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove(`ag-value-change-value-highlight`),Cq(this.eDelta)}refresh(e,t=!1){let{value:n,valueFormatted:r}=e,{eValue:i,lastValue:a,beans:o}=this;if(n===a||(q(r)?i.textContent=r:q(n)?i.textContent=n:Cq(i),o.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;let s=n&&typeof n==`object`&&`toNumber`in n?n.toNumber():n,c=a&&typeof a==`object`&&`toNumber`in a?a.toNumber():a;if(s===c)return!1;if(typeof s==`number`&&typeof c==`number`){let t=s-c;this.showDelta(e,t)}return a&&i.classList.add(`ag-value-change-value-highlight`),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},IFe=`.ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}`,LFe={tag:`span`,children:[{tag:`span`,ref:`eCurrent`,cls:`ag-value-slide-current`}]},RFe=class extends oX{constructor(){super(LFe),this.eCurrent=null,this.refreshCount=0,this.registerCSS(IFe)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious?.remove();let{beans:t,eCurrent:n}=this,r=aQ({tag:`span`,cls:`ag-value-slide-previous ag-value-slide-out`});this.ePrevious=r,r.textContent=n.textContent,this.getGui().insertBefore(r,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add(`ag-value-slide-out-end`)},50),window.setTimeout(()=>{e===this.refreshCount&&(this.ePrevious?.remove(),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(RK(n)&&(n=``),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;let r=this.eCurrent;return q(e.valueFormatted)?r.textContent=e.valueFormatted:q(e.value)?r.textContent=n:Cq(r),!0}},zFe=class extends J{constructor(){super(...arguments),this.beanName=`cellFlashSvc`,this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get(`cellFlashDuration`),r=this.beans.gos.get(`cellFadeDuration`)){let i=this.animations[t];i.delete(e);let a=Date.now(),o=a+n,s={phase:`flash`,flashEndTime:o,fadeEndTime:a+n+r};i.set(e,s);let c=`ag-cell-${t}`,l=`${c}-animation`,{comp:u,eGui:{style:d}}=e;u.toggleCss(c,!0),u.toggleCss(l,!1),d.removeProperty(`transition`),d.removeProperty(`transition-delay`),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=o)}advanceAnimations(){let e=Date.now(),t=null;for(let n of Object.keys(this.animations)){let r=this.animations[n],i=`ag-cell-${n}`,a=`${i}-animation`;for(let[n,o]of r){if(!n.isAlive()||!n.comp){r.delete(n);continue}let{phase:s,flashEndTime:c,fadeEndTime:l}=o,u=s===`flash`?c:l;if(!(e+15>=u)){t=Math.min(u,t??1/0);continue}let{comp:d,eGui:{style:f}}=n;switch(s){case`flash`:d.toggleCss(i,!1),d.toggleCss(a,!0),f.transition=`background-color ${l-c}ms`,f.transitionDelay=`${c-e}ms`,t=Math.min(l,t??1/0),o.phase=`fade`;break;case`fade`:d.toggleCss(i,!1),d.toggleCss(a,!1),f.removeProperty(`transition`),f.removeProperty(`transition-delay`),r.delete(n);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;let n=mDe(e.cellPosition);t.cells[n]&&this.animateCell(e,`highlight`)}flashCell(e,t){this.animateCell(e,`data-changed`,t?.flashDuration,t?.fadeDuration)}destroy(){for(let e of Object.keys(this.animations))this.animations[e].clear()}};function BFe(e,t={}){let{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{for(let r of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns))n.flashCell(r,t)})}var VFe={moduleName:`HighlightChanges`,version:Y,beans:[zFe],userComponents:{agAnimateShowChangeCellRenderer:FFe,agAnimateSlideCellRenderer:RFe},apiFunctions:{flashCells:BFe}};function HFe(e){return e.stateSvc?.getState()??{}}function UFe(e,t,n){return e.stateSvc?.setState(t,n)}function l4(e){return e={...e},e.version||=`32.1.0`,e.version===`32.1.0`&&(e=WFe(e)),e.version=Y,e}function WFe(e){return e.cellSelection=GFe(e,`rangeSelection`),e}function GFe(e,t){if(e&&typeof e==`object`)return e[t]}var KFe={moduleName:`GridState`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`stateSvc`,this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=nJ(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=nJ(this,()=>{this.beans.gos.get(`ssrmExpandAllAffectsAllRows`)?(this.updateCachedState(`ssrmRowGroupExpansion`,this.getRowGroupExpansionState()),this.updateCachedState(`rowGroupExpansion`,void 0)):(this.updateCachedState(`rowGroupExpansion`,this.getRowGroupExpansionState()),this.updateCachedState(`ssrmRowGroupExpansion`,void 0))},0),this.onRowSelectedDebounced=nJ(this,()=>{this.staleStateKeys.delete(`rowSelection`),this.updateCachedState(`rowSelection`,this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){let{gos:e,ctrlsSvc:t,colDelayRenderSvc:n}=this.beans;this.isClientSideRowModel=zJ(e);let r=l4(e.get(`initialState`)??{}),i=r.partialColumnState;delete r.partialColumnState,this.cachedState=r;let a=this.suppressEventsAndDispatchInitEvent.bind(this);t.whenReady(this,()=>a(()=>this.setupStateOnGridReady(r))),(r.columnOrder||r.columnVisibility||r.columnSizing||r.columnPinning||r.columnGroup)&&n?.hideColumns(`columnState`);let[o,s,c]=this.addManagedEventListeners({newColumnsLoaded:({source:e})=>{e===`gridInitializing`&&(o(),a(()=>{this.setupStateOnColumnsInitialised(r,!!i),n?.revealColumns(`columnState`)}))},rowCountReady:()=>{s?.(),a(()=>this.setupStateOnRowCountReady(r))},firstDataRendered:()=>{c?.(),a(()=>this.setupStateOnFirstDataRendered(r))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){let n=l4(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();let r=t?new Set(t):void 0;this.setGridReadyState(n,`api`,r),this.setColumnsInitialisedState(n,`api`,!!r,r),this.setRowCountState(n,`api`,r),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,`api`,r),this.stopSuppressEvents(`api`)})}setGridReadyState(e,t,n){t===`api`&&!n?.has(`sideBar`)&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState(`sideBar`,this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,`gridInitializing`);let t=()=>this.updateCachedState(`sideBar`,this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState([`aggregation`,`columnOrder`,`columnPinning`,`columnSizing`,`columnVisibility`,`pivot`,`rowGroup`,`sort`]),this.updateCachedState(`columnGroup`,this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,r){this.setColumnState(e,t,n,r),this.setColumnGroupState(e,t,r),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,`gridInitializing`,t);let n=e=>()=>this.updateColumnState([e]);this.addManagedEventListeners({columnValueChanged:n(`aggregation`),columnMoved:n(`columnOrder`),columnPinned:n(`columnPinning`),columnResized:n(`columnSizing`),columnVisible:n(`columnVisibility`),columnPivotChanged:n(`pivot`),columnPivotModeChanged:n(`pivot`),columnRowGroupChanged:n(`rowGroup`),sortChanged:n(`sort`),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState(`columnGroup`,this.getColumnGroupState())})}setRowCountState(e,t,n){let{filter:r,rowGroupExpansion:i,ssrmRowGroupExpansion:a,rowSelection:o,pagination:s}=e,c=(e,r)=>!n?.has(e)&&(r||t===`api`);c(`filter`,r)&&this.setFilterState(r),c(`rowGroupExpansion`,i)&&this.setRowGroupExpansionState(a,i,t),c(`rowSelection`,o)&&this.setRowSelectionState(o,t),c(`pagination`,s)&&this.setPaginationState(s,t);let l=this.updateCachedState.bind(this);l(`filter`,this.getFilterState()),this.beans.gos.get(`ssrmExpandAllAffectsAllRows`)?(l(`ssrmRowGroupExpansion`,this.getRowGroupExpansionState()),l(`rowGroupExpansion`,void 0)):(l(`rowGroupExpansion`,this.getRowGroupExpansionState()),l(`ssrmRowGroupExpansion`,void 0)),l(`rowSelection`,this.getRowSelectionState()),l(`pagination`,this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,`gridInitializing`);let t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,this.beans.gos.get(`ssrmExpandAllAffectsAllRows`)?(t(`ssrmRowGroupExpansion`,this.getRowGroupExpansionState()),t(`rowGroupExpansion`,void 0)):(t(`rowGroupExpansion`,this.getRowGroupExpansionState()),t(`ssrmRowGroupExpansion`,void 0))},r=()=>t(`filter`,this.getFilterState()),{gos:i,colFilter:a}=this.beans;this.addManagedEventListeners({filterChanged:r,rowExpansionStateChanged:this.onRowGroupOpenedDebounced,expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(i.get(`groupDefaultExpanded`)!==0||i.get(`isGroupOpenByDefault`))&&(this.updateRowGroupExpansionStateTimer||=setTimeout(n))},selectionChanged:()=>{this.staleStateKeys.add(`rowSelection`),this.onRowSelectedDebounced()},paginationChanged:e=>{(e.newPage||e.newPageSize)&&t(`pagination`,this.getPaginationState())}}),a&&this.addManagedListeners(a,{filterStateChanged:r})}setFirstDataRenderedState(e,t,n){let{scroll:r,cellSelection:i,focusedCell:a,columnOrder:o,rowPinning:s}=e,c=(e,r)=>!n?.has(e)&&(r||t===`api`);c(`focusedCell`,a)&&this.setFocusedCellState(a),c(`cellSelection`,i)&&this.setCellSelectionState(i),c(`scroll`,r)&&this.setScrollState(r),c(`rowPinning`,s)&&this.setRowPinningState(s),this.setColumnPivotState(!!o?.orderedColIds,t);let l=this.updateCachedState.bind(this);l(`sideBar`,this.getSideBarState()),l(`focusedCell`,this.getFocusedCellState());let u=this.getRangeSelectionState();l(`rangeSelection`,u),l(`cellSelection`,u),l(`scroll`,this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,`gridInitializing`);let t=this.updateCachedState.bind(this),n=()=>t(`focusedCell`,this.getFocusedCellState());this.addManagedEventListeners({cellFocused:n,cellFocusCleared:n,cellSelectionChanged:e=>{if(e.finished){let e=this.getRangeSelectionState();t(`rangeSelection`,e),t(`cellSelection`,e)}},bodyScrollEnd:()=>t(`scroll`,this.getScrollState()),pinnedRowsChanged:()=>t(`rowPinning`,this.getRowPinningState())})}getColumnState(){let e=this.beans;return Qje(ZY(e),e.colModel.isPivotMode())}setColumnState(e,t,n,r){let{sort:i,rowGroup:a,aggregation:o,pivot:s,columnPinning:c,columnVisibility:l,columnSizing:u,columnOrder:d}=e,f=!1,p=(e,n)=>{let i=!r?.has(e)&&!!(n||t===`api`);return f||=i,i},m={},h=e=>{let t=m[e];return t||(t={colId:e},m[e]=t,t)},g={},_=p(`sort`,i);_&&i?.sortModel.forEach(({colId:e,sort:t},n)=>{let r=h(e);r.sort=t,r.sortIndex=n}),(_||!n)&&(g.sort=null,g.sortIndex=null);let v=p(`rowGroup`,a);v&&a?.groupColIds.forEach((e,t)=>{let n=h(e);n.rowGroup=!0,n.rowGroupIndex=t}),(v||!n)&&(g.rowGroup=null,g.rowGroupIndex=null);let y=p(`aggregation`,o);y&&o?.aggregationModel.forEach(({colId:e,aggFunc:t})=>{h(e).aggFunc=t}),(y||!n)&&(g.aggFunc=null);let b=p(`pivot`,s);b&&(s?.pivotColIds.forEach((e,t)=>{let n=h(e);n.pivot=!0,n.pivotIndex=t}),this.gos.updateGridOptions({options:{pivotMode:!!s?.pivotMode},source:t})),(b||!n)&&(g.pivot=null,g.pivotIndex=null);let x=p(`columnPinning`,c);if(x){for(let e of c?.leftColIds??[])h(e).pinned=`left`;for(let e of c?.rightColIds??[])h(e).pinned=`right`}(x||!n)&&(g.pinned=null);let S=p(`columnVisibility`,l);if(S)for(let e of l?.hiddenColIds??[])h(e).hide=!0;(S||!n)&&(g.hide=null);let C=p(`columnSizing`,u);if(C)for(let{colId:e,flex:t,width:n}of u?.columnSizingModel??[]){let r=h(e);r.flex=t??null,r.width=n}(C||!n)&&(g.flex=null);let w=d?.orderedColIds,T=!!w?.length&&!r?.has(`columnOrder`),E=T?w.map(e=>h(e)):Object.values(m);(E.length||f)&&(this.columnStates=E,YY(this.beans,{state:E,applyOrder:T,defaultState:g},t))}setColumnPivotState(e,t){let n=this.columnStates;this.columnStates=void 0;let r=this.columnGroupStates;this.columnGroupStates=void 0;let i=this.beans,{pivotResultCols:a,colGroupSvc:o}=i;if(a?.isPivotResultColsPresent()){if(n){let r=[];for(let e of n)a.getPivotResultCol(e.colId)&&r.push(e);YY(i,{state:r,applyOrder:e},t)}r&&o?.setColumnGroupState(r,t)}}getColumnGroupState(){let e=this.beans.colGroupSvc;if(e)return $je(e.getColumnGroupState())}setColumnGroupState(e,t,n){let r=this.beans.colGroupSvc;if(!r||n?.has(`columnGroup`)||t!==`api`&&!Object.prototype.hasOwnProperty.call(e,`columnGroup`))return;let i=new Set(e.columnGroup?.openColumnGroupIds),a=r.getColumnGroupState().map(({groupId:e})=>{let t=i.has(e);return t&&i.delete(e),{groupId:e,open:t}});for(let e of i)a.push({groupId:e,open:!0});a.length&&(this.columnGroupStates=a),r.setColumnGroupState(a,t)}getFilterState(){let e=this.beans.filterManager,t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);let n=e?.getFilterState(),r=e?.getAdvFilterModel()??void 0;return t||r||n?{filterModel:t,columnFilterState:n,advancedFilterModel:r}:void 0}setFilterState(e){let t=this.beans.filterManager,{filterModel:n,columnFilterState:r,advancedFilterModel:i}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||r!==void 0)&&t?.setFilterState(n??null,r??null,`columnFilter`),i!==void 0&&t?.setAdvFilterModel(i??null,`advancedFilter`)}getRangeSelectionState(){let e=this.beans.rangeSvc?.getCellRanges().map(e=>{let{id:t,type:n,startRow:r,endRow:i,columns:a,startColumn:o}=e;return{id:t,type:n,startRow:r,endRow:i,colIds:a.map(e=>e.getColId()),startColId:o.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){let{gos:t,rangeSvc:n,colModel:r,visibleCols:i}=this.beans;if(!sY(t)||!n)return;let a=[];for(let t of e?.cellRanges??[]){let e=[];for(let n of t.colIds){let t=r.getCol(n);t&&e.push(t)}if(!e.length)continue;let n=r.getCol(t.startColId);if(!n){let t=i.allCols,r=new Set(e);n=t.find(e=>r.has(e))}a.push({...t,columns:e,startColumn:n})}n.setCellRanges(a)}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:r,rowRenderer:i,animationFrameSvc:a,ctrlsSvc:o}=this.beans;r.wrapIncoming(()=>{o.get(`center`).setCenterViewportScrollLeft(n),o.getScrollFeature()?.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),a?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.beans.focusSvc.getFocusedCell();if(e){let{column:t,rowIndex:n,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}let{colId:r,rowIndex:i,rowPinned:a}=e;t.setFocusedCell({column:n.getCol(r),rowIndex:i,rowPinned:a,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){let{pagination:e,gos:t}=this.beans;if(!e)return;let n=e.getCurrentPage(),r=t.get(`paginationAutoPageSize`)?void 0:e.getPageSize();if(!(!n&&!r))return{page:n,pageSize:r}}setPaginationState(e,t){let{pagination:n,gos:r}=this.beans;if(!n)return;let{pageSize:i,page:a}=e??{page:0,pageSize:r.get(`paginationPageSize`)},o=t===`gridInitializing`;i&&!r.get(`paginationAutoPageSize`)&&n.setPageSize(i,o?`initialState`:`pageSizeSelector`),typeof a==`number`&&(o?n.setPage(a):n.goToPage(a))}getRowSelectionState(){let e=this.beans.selectionSvc;if(!e)return;let t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t===`api`)}getRowGroupExpansionState(){let{expansionSvc:e}=this.beans;if(e)return e.getExpansionState()}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){let t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t,n){let r=this.beans.expansionSvc;if(!r)return;let i=t??{expandedRowGroupIds:[],collapsedRowGroupIds:[]};r.setExpansionState(i,n)}updateColumnState(e){let t=this.getColumnState(),n=!1,r=this.cachedState;for(let e of Object.keys(t)){let i=t[e];BK(i,r[e])||(n=!0)}this.cachedState={...r,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){let n=this.cachedState[e];this.setCachedStateValue(e,t),BK(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){let e=this.staleStateKeys;for(let t of e)t===`rowSelection`&&this.setCachedStateValue(t,this.getRowSelectionState());e.clear()}dispatchStateUpdateEvent(e){if(!this.suppressEvents){for(let t of e)this.queuedUpdateSources.add(t);this.dispatchStateUpdateEventDebounced()}}dispatchQueuedStateUpdateEvents(){let e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:`stateUpdated`,sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents(`gridInitializing`)}}],apiFunctions:{getState:HFe,setState:UFe}};function qFe(e){return e.rowModel.isLastRowIndexKnown()}function JFe(e){return e.pagination?.getPageSize()??100}function YFe(e){return e.pagination?.getCurrentPage()??0}function XFe(e){return e.pagination?.getTotalPages()??1}function ZFe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function QFe(e){e.pagination?.goToNextPage()}function $Fe(e){e.pagination?.goToPreviousPage()}function eIe(e){e.pagination?.goToFirstPage()}function tIe(e){e.pagination?.goToLastPage()}function nIe(e,t){e.pagination?.goToPage(t)}var rIe=class extends J{constructor(){super(...arguments),this.beanName=`paginationAutoPageSizeSvc`}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;let t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener(`paginationAutoPageSize`,this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get(`paginationAutoPageSize`)||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){let t=this.beans,n=()=>{let n=Math.max(GJ(t),1),r=Math.floor(e/n);t.pagination.setPageSize(r,`autoCalculated`)};this.isBodyRendered?nJ(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},u4=`paginationPageSizeSelector`,iIe={tag:`span`,cls:`ag-paging-page-size`},aIe={selector:`AG-PAGE-SIZE-SELECTOR`,component:class extends oX{constructor(){super(iIe),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,`pageSizeSelector`),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(u4,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(``):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Cq(this.getGui()),this.selectPageSizeComp&&=this.destroyBean(this.selectPageSizeComp)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get(`pagination`)&&!this.gos.get(`suppressPaginationPanel`)&&!this.gos.get(`paginationAutoPageSize`)&&this.gos.get(u4)!==!1}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){let n=this.gos.exists(`paginationPageSize`),r=this.gos.get(u4)!==!0;X(94,{pageSizeSet:n,pageSizesSet:r,pageSizeOptions:e,paginationPageSizeOption:t}),r||X(95,{paginationPageSizeOption:t,paginationPageSizeSelector:u4}),e.unshift(``)}let r=String(n?``:t);this.selectPageSizeComp?(DY(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(r,!0)):this.createPageSizeSelectorComp(e,r),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(e=>({value:String(e)}))}createPageSizeSelectorComp(e,t){let n=this.getLocaleTextFunc(),r=n(`pageSizeSelectorLabel`,`Page Size:`),i=n(`ariaPageSizeSelectorLabel`,`Page Size`);this.selectPageSizeComp=this.createManagedBean(new aZ).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){let e=[20,50,100],t=this.gos.get(u4);return!Array.isArray(t)||!t?.length?e:[...t].sort((e,t)=>e-t)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}}},oIe=`.ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}`,sIe={selector:`AG-PAGINATION`,component:class extends BEe{constructor(){super(),this.btFirst=null,this.btPrevious=null,this.btNext=null,this.btLast=null,this.lbRecordCount=null,this.lbFirstRowOnPage=null,this.lbLastRowOnPage=null,this.lbCurrent=null,this.lbTotal=null,this.pageSizeComp=null,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(oIe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){let e=this.gos.get(`enableRtl`);this.setTemplate(this.getTemplate(),[aIe]);let{btFirst:t,btPrevious:n,btNext:r,btLast:i}=this;this.activateTabIndex([t,n,r,i]),t.insertAdjacentElement(`afterbegin`,y$(e?`last`:`first`,this.beans)),n.insertAdjacentElement(`afterbegin`,y$(e?`next`:`previous`,this.beans)),r.insertAdjacentElement(`afterbegin`,y$(e?`previous`:`next`,this.beans)),i.insertAdjacentElement(`afterbegin`,y$(e?`first`:`last`,this.beans)),this.addManagedPropertyListener(`pagination`,this.onPaginationChanged.bind(this)),this.addManagedPropertyListener(`suppressPaginationPanel`,this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners([`paginationPageSizeSelector`,`paginationAutoPageSize`,`suppressPaginationPanel`],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:e=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(e):iEe(this.beans,e),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){let e=this.gos.get(`pagination`)&&!this.gos.get(`suppressPaginationPanel`);this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){if(!this.areListenersSetup){this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)});for(let e of[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}]){let{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:e=>{(e.key===Z.ENTER||e.key===Z.SPACE)&&(e.preventDefault(),n())}})}rEe(this.beans,this,this.getGui()),this.areListenersSetup=!0}}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){let t=this.gos.getCallback(`paginationNumberFormatter`);return t?t({value:e}):tMe(e,this.getLocaleTextFunc.bind(this))}getTemplate(){let e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:`div`,cls:`ag-paging-panel ag-unselectable`,attrs:{id:`${t}`},children:[{tag:`ag-page-size-selector`,ref:`pageSizeComp`},{tag:`span`,cls:`ag-paging-row-summary-panel`,children:[{tag:`span`,ref:`lbFirstRowOnPage`,cls:`ag-paging-row-summary-panel-number`,attrs:{id:`${t}-first-row`}},{tag:`span`,attrs:{id:`${t}-to`},children:e(`to`,`to`)},{tag:`span`,ref:`lbLastRowOnPage`,cls:`ag-paging-row-summary-panel-number`,attrs:{id:`${t}-last-row`}},{tag:`span`,attrs:{id:`${t}-of`},children:e(`of`,`of`)},{tag:`span`,ref:`lbRecordCount`,cls:`ag-paging-row-summary-panel-number`,attrs:{id:`${t}-row-count`}}]},{tag:`span`,cls:`ag-paging-page-summary-panel`,role:`presentation`,children:[{tag:`div`,ref:`btFirst`,cls:`ag-button ag-paging-button`,role:`button`,attrs:{"aria-label":e(`firstPage`,`First Page`)}},{tag:`div`,ref:`btPrevious`,cls:`ag-button ag-paging-button`,role:`button`,attrs:{"aria-label":e(`previousPage`,`Previous Page`)}},{tag:`span`,cls:`ag-paging-description`,children:[{tag:`span`,attrs:{id:`${t}-start-page`},children:e(`page`,`Page`)},{tag:`span`,ref:`lbCurrent`,cls:`ag-paging-number`,attrs:{id:`${t}-start-page-number`}},{tag:`span`,attrs:{id:`${t}-of-page`},children:e(`of`,`of`)},{tag:`span`,ref:`lbTotal`,cls:`ag-paging-number`,attrs:{id:`${t}-of-page-number`}}]},{tag:`div`,ref:`btNext`,cls:`ag-button ag-paging-button`,role:`button`,attrs:{"aria-label":e(`nextPage`,`Next Page`)}},{tag:`div`,ref:`btLast`,cls:`ag-button ag-paging-button`,role:`button`,attrs:{"aria-label":e(`lastPage`,`Last Page`)}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){let e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let r=this.isZeroPagesToDisplay();this.nextButtonDisabled=e===n-1||r,this.lastButtonDisabled=!t||r||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Sxe(e,t),e.classList.toggle(`ag-disabled`,t)}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),r=e?n:null,i=this.pagination.getCurrentPage(),a=this.pagination.getPageSize(),o,s;this.isZeroPagesToDisplay()?o=s=0:(o=a*i+1,s=o+a-1,e&&s>r&&(s=r));let c=o+a-1,l=!e&&n<c,u=this.formatNumber(o);this.lbFirstRowOnPage.textContent=u;let d,f=this.getLocaleTextFunc();d=l?f(`pageLastRowUnknown`,`?`):this.formatNumber(s),this.lbLastRowOnPage.textContent=d;let p=t>0?i+1:0,m=this.formatNumber(p);this.lbCurrent.textContent=m;let h,g;if(e)h=this.formatNumber(t),g=this.formatNumber(r);else{let e=f(`more`,`more`);h=e,g=e}this.lbTotal.textContent=h,this.lbRecordCount.textContent=g,this.announceAriaStatus(u,d,g,m,h)}announceAriaStatus(e,t,n,r,i){let a=this.getLocaleTextFunc(),o=a(`page`,`Page`),s=a(`to`,`to`),c=a(`of`,`of`),l=`${e} ${s} ${t} ${c} ${n}`,u=`${o} ${r} ${c} ${i}`;l!==this.ariaRowStatus&&(this.ariaRowStatus=l,this.ariaAnnounce?.announceValue(l,`paginationRow`)),u!==this.ariaPageStatus&&(this.ariaPageStatus=u,this.ariaAnnounce?.announceValue(u,`paginationPage`))}}},cIe={moduleName:`Pagination`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`pagination`,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){let e=this.gos;this.active=e.get(`pagination`),this.pageSizeFromGridOptions=e.get(`paginationPageSize`),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener(`pagination`,this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener(`paginationPageSize`,this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return sIe}isPaginateChildRows(){let e=this.gos;return e.get(`groupHideParentOfSingleChild`)||e.get(`groupRemoveSingleChildren`)||e.get(`groupRemoveLowestSingleChildren`)?!0:e.get(`paginateChildRows`)}onPaginationGridOptionChanged(){this.active=this.gos.get(`pagination`),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get(`paginationPageSize`),`gridOptions`)}goToPage(e){let t=this.currentPage;if(!this.active||t===e||typeof t!=`number`)return;let{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:`api`})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return q(this.pageSizeAutoCalculated)&&this.gos.get(`paginationAutoPageSize`)?this.pageSizeAutoCalculated:q(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:q(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:q(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){let n=this.pageSize;switch(t){case`autoCalculated`:this.pageSizeAutoCalculated=e;break;case`pageSizeSelector`:this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case`initialState`:this.pageSizeFromInitialState=e;break;case`gridOptions`:this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){let e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);let t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){let e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}let n=this.pageSize,r=t-1;this.totalPages=Math.floor(r/n)+1,this.adjustCurrentPageIfInvalid();let i=this.currentPage,a=n*i,o=n*(i+1)-1;o>r&&(o=r),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(a),o===r?this.bottomDisplayedRowIndex=e.getRowCount()-1:this.bottomDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o+1)-1}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){let e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}let{pageSize:t,currentPage:n}=this,r=e-1;this.totalPages=Math.floor(r/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}calculatedPagesNotActive(){this.setPageSize(void 0,`autoCalculated`),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){let{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:r=!1}=e;this.eventSvc.dispatchEvent({type:`paginationChanged`,animate:!1,newData:!1,newPage:n,newPageSize:r,keepRenderedRows:t})}},rIe],icons:{first:`first`,previous:`previous`,next:`next`,last:`last`},apiFunctions:{paginationIsLastPageFound:qFe,paginationGetPageSize:JFe,paginationGetCurrentPage:YFe,paginationGetTotalPages:XFe,paginationGetRowCount:ZFe,paginationGoToNextPage:QFe,paginationGoToPreviousPage:$Fe,paginationGoToFirstPage:eIe,paginationGoToLastPage:tIe,paginationGoToPage:nIe},dependsOn:[t2]};function lIe(e,t={}){let n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function d4(e,t,n,r,i){t&&(r&&t.parent&&t.parent.level!==-1&&d4(e,t.parent,n,r,i),t.setExpanded(n,void 0,i))}function uIe(e,t){return e.rowModel.getRowNode(t)}function dIe(e,t,n,r){e.rowRenderer.addRenderedRowListener(t,n,r)}function fIe(e){return e.rowRenderer.getRenderedNodes()}function pIe(e,t,n){e.rowModel.forEachNode(t,n)}function mIe(e){return e.rowRenderer.firstRenderedRow}function hIe(e){return e.rowRenderer.lastRenderedRow}function gIe(e,t){return e.rowModel.getRow(t)}function _Ie(e){return e.rowModel.getRowCount()}var vIe={moduleName:`RowApi`,version:Y,apiFunctions:{redrawRows:lIe,setRowNodeExpanded:d4,getRowNode:uIe,addRenderedRowListener:dIe,getRenderedNodes:fIe,forEachNode:pIe,getFirstDisplayedRowIndex:mIe,getLastDisplayedRowIndex:hIe,getDisplayedRowAtIndex:gIe,getDisplayedRowCount:_Ie}},yIe={moduleName:`ScrollApi`,version:Y,apiFunctions:{getVerticalPixelRange:HNe,getHorizontalPixelRange:UNe,ensureColumnVisible:z2,ensureIndexVisible:B2,ensureNodeVisible:WNe}};function bIe(e,t,n){if(!t)return;let r=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;n===null?r.removeAttribute(i):r.setAttribute(i,n)}function xIe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function SIe(e){e.frameworkOverrides.wrapIncoming(()=>{for(let t of e.ctrlsSvc.getHeaderRowContainerCtrls())t.refresh()})}function CIe(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function wIe(e){e.animationFrameSvc?.flushAllFrames()}function TIe(e){return{rowHeight:GJ(e),headerHeight:s$(e)}}function EIe(e,t={}){let n=[];for(let r of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns)){let e=r.getCellRenderer();e!=null&&n.push(gX(e))}if(t.columns?.length)return n;let r=[],i=P0(t.rowNodes);for(let t of e.rowRenderer.getAllRowCtrls()){if(i&&!F0(t.rowNode,i)||!t.isFullWidth())continue;let e=t.getFullWidthCellRenderers();for(let t=0;t<e.length;t++){let n=e[t];n!=null&&r.push(gX(n))}}return[...r,...n]}var DIe={moduleName:`RenderApi`,version:Y,apiFunctions:{setGridAriaProperty:bIe,refreshCells:xIe,refreshHeader:SIe,isAnimationFrameQueueEmpty:CIe,flushAllAnimationFrames:wIe,getSizesForCurrentTheme:TIe,getCellRendererInstances:EIe}};function OIe(e,t){typeof t==`number`?e.colAutosize?.sizeColumnsToFit(t,`api`):e.colAutosize?.sizeColumnsToFitGridBody(t)}function f4({colAutosize:e,visibleCols:t},n,r){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:r,source:`api`}):e?.autoSizeCols({...n,colKeys:n.colIds??t.allCols,source:`api`})}function kIe(e,t){t&&typeof t==`object`?f4(e,t):e.colAutosize?.autoSizeAllColumns({source:`api`,skipHeader:t})}var AIe=class extends J{constructor(){super(...arguments),this.beanName=`colAutosize`,this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){let{gos:e}=this,t=e.get(`autoSizeStrategy`);if(t){let n=!1,r=t.type;if(r===`fitGridWidth`||r===`fitProvidedWidth`)n=!0;else if(r===`fitCellContents`){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered(t)});let r=e.get(`rowData`);n=r!=null&&r.length>0&&zJ(e)}n&&this.beans.colDelayRenderSvc?.hideColumns(r)}}autoSizeCols(e){let{eventSvc:t,visibleCols:n}=this.beans;this.innerAutoSizeCols(e).then(r=>{let i=e=>JY(t,Array.from(e),!0,`autosizeColumns`);if(!e.scaleUpToFitGridWidth)return i(r);let a=p4(this.beans),o=e=>n.leftCols.some(t=>zY(t,e)),s=e=>n.rightCols.some(t=>zY(t,e)),c=e.colKeys.filter(e=>!FY(e)&&!IY(e)&&!o(e)&&!s(e));this.sizeColumnsToFit(a,e.source,!0,{defaultMaxWidth:e.defaultMaxWidth,defaultMinWidth:e.defaultMinWidth,columnLimits:e.columnLimits?.map(e=>({...e,key:e.colId})),colKeys:c,onlyScaleUp:!0}),i(r)})}innerAutoSizeCols(e){return new Promise((t,n)=>{if(this.shouldQueueResizeOperations)return this.pushResizeOperation(()=>this.innerAutoSizeCols(e).then(t,n));let{colKeys:r,skipHeader:i,skipHeaderGroups:a,stopAtGroup:o,defaultMaxWidth:s,defaultMinWidth:c,columnLimits:l=[],source:u=`api`}=e,{animationFrameSvc:d,renderStatus:f,colModel:p,autoWidthCalc:m,visibleCols:h}=this.beans;if(d?.flushAllFrames(),this.timesDelayed<5&&f&&(!f.areHeaderCellsRendered()||!f.areCellsRendered())){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.innerAutoSizeCols(e).then(t,n)});return}this.timesDelayed=0;let g=new Set,_=-1,v=Object.fromEntries(l.map(({colId:e,...t})=>[e,t])),y=i??this.gos.get(`skipHeaderOnAutoSize`),b=a??y;for(;_!==0;){_=0;let e=[];for(let t of r){if(!t||FSe(t))continue;let n=p.getCol(t);if(!n||g.has(n))continue;let r=m.getPreferredWidthForColumn(n,y);if(r>0){let e=v[n.colId]??{};e.minWidth??=c,e.maxWidth??=s;let t=jIe(n,r,e);n.setActualWidth(t,u),g.add(n),_++}e.push(n)}e.length&&h.refresh(u)}b||this.autoSizeColumnGroupsByColumns(r,u,o),t(g)})}autoSizeColumn(e,t,n){this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){let{colModel:r,ctrlsSvc:i}=this.beans,a=new Set,o=r.getColsForKeys(e);for(let e of o){let t=e.getParent();for(;t&&t!=n;)t.isPadding()||a.add(t),t=t.getParent()}let s;for(let e of a){for(let t of i.getHeaderRowContainerCtrls())if(s=t.getHeaderCtrlForColumn(e),s)break;s?.resizeLeafColumnsToFit(t)}}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}this.autoSizeCols({colKeys:this.beans.visibleCols.allCols,...e})}addColumnAutosizeListeners(e,t){let n=this.gos.get(`skipHeaderOnAutoSize`),r=()=>{this.autoSizeColumn(t,`uiColumnResized`,n)};e.addEventListener(`dblclick`,r);let i=new z$(e);return i.addEventListener(`doubleTap`,r),()=>{e.removeEventListener(`dblclick`,r),i.destroy()}}addColumnGroupResize(e,t,n){let r=this.gos.get(`skipHeaderOnAutoSize`),i=()=>{let e=[],i=t.getDisplayedLeafColumns();for(let t of i)t.getColDef().suppressAutoSize||e.push(t.getColId());e.length>0&&this.autoSizeCols({colKeys:e,skipHeader:r,stopAtGroup:t,source:`uiColumnResized`}),n()};return e.addEventListener(`dblclick`,i),()=>e.removeEventListener(`dblclick`,i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;let n=p4(this.beans);if(n>0){this.sizeColumnsToFit(n,`sizeColumnsToFit`,!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):X(29)}sizeColumnsToFit(e,t=`sizeColumnsToFit`,n,r){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,r));return}let i={};for(let{key:e,...t}of r?.columnLimits??[])i[typeof e==`string`?e:e.getColId()]=t;let a=this.beans.visibleCols.allCols;if(e<=0||!a.length)return;let o=MY(a);if(r?.onlyScaleUp&&o>e||e===o&&a.every(e=>{if(e.colDef.suppressSizeToFit)return!0;let t=i?.[e.getId()],n=t?.minWidth??r?.defaultMinWidth,a=t?.maxWidth??r?.defaultMaxWidth,o=e.getActualWidth();return(n==null||o>=n)&&(a==null||o<=a)}))return;let s=[],c=[];for(let e of a){let t=r?.colKeys?.some(t=>zY(e,t))??!0;e.getColDef().suppressSizeToFit||!t?c.push(e):s.push(e)}let l=s.slice(0),u=!1,d=e=>{kY(s,e),c.push(e)};for(let e of s){e.resetActualWidth(t);let n=i?.[e.getId()],a=n?.minWidth??r?.defaultMinWidth,o=n?.maxWidth??r?.defaultMaxWidth,s=e.getActualWidth();typeof a==`number`&&s<a?e.setActualWidth(a,t,!0):typeof o==`number`&&s>o&&e.setActualWidth(o,t,!0)}for(;!u;){u=!0;let n=e-MY(c);if(n<=0)for(let e of s){let n=i?.[e.getId()]?.minWidth??r?.defaultMinWidth??e.minWidth;e.setActualWidth(n,t,!0)}else{let e=n/MY(s),a=n;for(let n=s.length-1;n>=0;n--){let o=s[n],c=i?.[o.getId()],l=c?.minWidth??r?.defaultMinWidth,f=c?.maxWidth??r?.defaultMaxWidth,p=o.getMinWidth(),m=o.getMaxWidth(),h=typeof l==`number`&&l>p?l:p,g=typeof f==`number`&&f<m?f:m,_=Math.round(o.getActualWidth()*e);_<h?(_=h,d(o),u=!1):_>g?(_=g,d(o),u=!1):n===0&&(_=a),o.setActualWidth(_,t,!0),a-=_}}}for(let e of l)e.fireColumnWidthChangedEvent(t);let f=this.beans.visibleCols;f.setLeftValues(t),f.updateBodyWidths(),!n&&JY(this.eventSvc,l,!0,t)}applyAutosizeStrategy(){let{gos:e,colDelayRenderSvc:t}=this.beans,n=e.get(`autoSizeStrategy`);n?.type!==`fitGridWidth`&&n?.type!==`fitProvidedWidth`||setTimeout(()=>{if(!this.isAlive())return;let e=n.type;if(e===`fitGridWidth`){let{columnLimits:e,defaultMinWidth:t,defaultMaxWidth:r}=n,i=e?.map(({colId:e,minWidth:t,maxWidth:n})=>({key:e,minWidth:t,maxWidth:n}));this.sizeColumnsToFitGridBody({defaultMinWidth:t,defaultMaxWidth:r,columnLimits:i})}else e===`fitProvidedWidth`&&this.sizeColumnsToFit(n.width,`sizeColumnsToFit`);t?.revealColumns(e)})}onFirstDataRendered({colIds:e,...t}){setTimeout(()=>{if(!this.isAlive())return;let n=`autosizeColumns`;e?this.autoSizeCols({...t,source:n,colKeys:e}):this.autoSizeAllColumns({...t,source:n}),this.beans.colDelayRenderSvc?.revealColumns(t.type)})}processResizeOperations(){this.shouldQueueResizeOperations=!1;for(let e of this.resizeOperationQueue)e();this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function jIe(e,t,n={}){let r=n.minWidth??e.getMinWidth();t<r&&(t=r);let i=n.maxWidth??e.getMaxWidth();return t>i&&(t=i),t}function p4({ctrlsSvc:e,scrollVisibleSvc:t}){let n=e.getGridBodyCtrl(),r=n.isVerticalScrollShowing()?t.getScrollbarWidth():0;return _q(n.eGridBody)-r}var MIe={moduleName:`ColumnAutoSize`,version:Y,beans:[AIe],apiFunctions:{sizeColumnsToFit:OIe,autoSizeColumns:f4,autoSizeAllColumns:kIe},dependsOn:[g1]},NIe=`.ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}`;function PIe(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function FIe(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function IIe(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function LIe(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function RIe(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var zIe={moduleName:`PinnedRow`,version:Y,beans:[NEe],css:[NIe],apiFunctions:{getPinnedTopRowCount:PIe,getPinnedBottomRowCount:FIe,getPinnedTopRow:IIe,getPinnedBottomRow:LIe,forEachPinnedRow:RIe},icons:{rowPin:`pin`,rowPinTop:`pinned-top`,rowPinBottom:`pinned-bottom`,rowUnpin:`un-pin`}},BIe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){let e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;for(let e of this.spannedNodes)e!==this.lastNode&&(t+=e.rowHeight);return e-t}},VIe=class extends J{constructor(e){super(),this.column=e}buildCache(e){let{column:t,beans:{gos:n,pinnedRowModel:r,rowModel:i,valueSvc:a,pagination:o}}=this,{colDef:s}=t,c=this.getNodeMap(e),l=new Map,u=n.getCallback(`isFullWidthRow`),d=s.equals,f=s.spanRows,p=typeof f==`function`,m=null,h=null,g,_=(e,t)=>{m=e,h=null,g=t},v=e=>{let r=!e.isExpandable()&&!e.group&&!e.detail&&(u?!u({rowNode:e}):!0);if(e.rowIndex==null||!r){_(null,null);return}if(m==null||e.level!==m.level||e.footer||h&&e.rowIndex-1!==h?.getLastNode().rowIndex){_(e,a.getValue(t,e));return}let i=a.getValue(t,e);if(p){if(!f(_Y(n,{valueA:g,nodeA:m,valueB:i,nodeB:e,column:t,colDef:s}))){_(e,i);return}}else if(d?!d(g,i):g!==i){_(e,i);return}if(!h){let e=c?.get(m);e?.firstNode===m?(e.reset(),h=e):h=new BIe(t,m),l.set(m,h)}h.addSpannedNode(e),l.set(e,h)};switch(e){case`center`:i.forEachDisplayedNode?.(e=>{(!o||o.isRowInPage(e.rowIndex))&&v(e)}),this.centerValueNodeMap=l;break;case`top`:r?.forEachPinnedRow(`top`,v),this.topValueNodeMap=l;break;case`bottom`:r?.forEachPinnedRow(`bottom`,v),this.bottomValueNodeMap=l;break}}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this.getNodeMap(e.rowPinned).get(e)}getNodeMap(e){switch(e){case`top`:return this.topValueNodeMap;case`bottom`:return this.bottomValueNodeMap;default:return this.centerValueNodeMap}}},HIe=class extends J{constructor(){super(...arguments),this.beanName=`rowSpanSvc`,this.spanningColumns=new Map,this.debouncePinnedEvent=nJ(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=nJ(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){let e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){let{gos:t}=this.beans;if(!t.get(`enableCellSpan`)||this.spanningColumns.has(e))return;let n=this.createManagedBean(new VIe(e));this.spanningColumns.set(e,n),n.buildCache(`top`),n.buildCache(`bottom`),n.buildCache(`center`),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:`spannedCellsUpdated`,pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){let{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls(`top`),t?.createCtrls(`bottom`)},0);return}this.modelTimeout??=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls(`center`)},0)}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache(`center`)),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache(`top`),e.buildCache(`bottom`)}),this.debouncePinnedEvent()}isCellSpanning(e,t){let n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){let{pinnedRowModel:t,rowModel:n}=this.beans,r=e.column,i=e.rowIndex,a=this.spanningColumns.get(r);if(!a)return;let o;switch(e.rowPinned){case`top`:o=t?.getPinnedTopRow(i);break;case`bottom`:o=t?.getPinnedBottomRow(i);break;default:o=n.getRow(i)}if(o)return a.getCellSpan(o)}getCellStart(e){let t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){let t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){let n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(let[n,r]of this.spanningColumns)r.isCellSpanning(e)&&t(n,r.getCellSpan(e))}destroy(){super.destroy(),this.spanningColumns.clear()}},UIe=class extends D0{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS=`ag-spanned-cell`}setComp(e,t,n,r,i,a,o){this.eWrapper=n,super.setComp(e,t,n,r,i,a,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){let{eGui:e,rowNode:t}=this;!e||t.rowIndex==null||aq(e,t.rowIndex)}setAriaRowSpan(){Exe(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){let e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){let{beans:t}=this;if(n$(t)){this.focusedCellPosition=void 0;return}let n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},WIe=class extends A0{onRowIndexChanged(){super.onRowIndexChanged();for(let e of this.getAllCellCtrls())e.refreshAriaRowIndex()}getInitialRowClasses(e){return[`ag-spanned-row`]}getNewCellCtrl(e){let t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(t&&t.firstNode===this.rowNode)return new UIe(t,this,this.beans)}isCorrectCtrlForSpan(e){let t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},GIe={moduleName:`CellSpan`,version:Y,beans:[HIe,class extends J{constructor(){super(...arguments),this.beanName=`spannedRowRenderer`,this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls(`top`),this.createCtrls(`bottom`),this.createCtrls(`center`)}createCtrls(e){let{rowSpanSvc:t}=this.beans,n=this.getCtrlsMap(e),r=n.size,i=this.getAllRelevantRowControls(e),a=new Map,o=!1;for(let e of i)e.isAlive()&&t?.forEachSpannedColumn(e.rowNode,(e,t)=>{if(a.has(t.firstNode))return;let r=n.get(t.firstNode);if(r){a.set(t.firstNode,r),n.delete(t.firstNode);return}o=!0;let i=new WIe(t.firstNode,this.beans,!1,!1,!1);a.set(t.firstNode,i)});this.setCtrlsMap(e,a);let s=a.size===r;if(!(!o&&s)){for(let e of n.values())e.destroyFirstPass(!0),e.destroySecondPass();this.dispatchLocalEvent({type:`spannedRowsUpdated`,ctrlsKey:e})}}getAllRelevantRowControls(e){let{rowRenderer:t}=this.beans;switch(e){case`top`:return t.topRowCtrls;case`bottom`:return t.bottomRowCtrls;case`center`:return t.allRowCtrls}}getCellByPosition(e){let{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;let r=this.getCtrlsMap(e.rowPinned).get(n.firstNode);if(r)return r.getAllCellCtrls().find(t=>t.column===e.column)}getCtrls(e){return[...this.getCtrlsMap(e).values()]}destroyRowCtrls(e){for(let t of this.getCtrlsMap(e).values())t.destroyFirstPass(!0),t.destroySecondPass();this.setCtrlsMap(e,new Map)}getCtrlsMap(e){switch(e){case`top`:return this.topCtrls;case`bottom`:return this.bottomCtrls;default:return this.centerCtrls}}setCtrlsMap(e,t){switch(e){case`top`:this.topCtrls=t;break;case`bottom`:this.bottomCtrls=t;break;default:this.centerCtrls=t;break}}destroy(){super.destroy(),this.destroyRowCtrls(`top`),this.destroyRowCtrls(`bottom`),this.destroyRowCtrls(`center`)}}]},KIe=class extends J{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let{column:e,cellComp:t}=this,n=e.colDef,r=n.cellClassRules,i=this.getCellClassParams(e,n);O0(this.beans.expressionSvc,r===this.cellClassRules?void 0:this.cellClassRules,r,i,e=>t.toggleCss(e,!0),e=>t.toggleCss(e,!1)),this.cellClassRules=r}applyUserStyles(){let e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let r;r=typeof n==`function`?n(this.getCellClassParams(e,t)):n,r&&this.cellComp.setUserStyles(r)}applyClassesFromColDef(){let{column:e,cellComp:t}=this,n=e.colDef,r=this.getCellClassParams(e,n);for(let e of this.staticClasses)t.toggleCss(e,!1);let i=this.beans.cellStyles.getStaticCellClasses(n,r);this.staticClasses=i;for(let e of i)t.toggleCss(e,!0)}getCellClassParams(e,t){let{value:n,rowNode:r}=this.cellCtrl;return _Y(this.beans.gos,{value:n,data:r.data,node:r,colDef:t,column:e,rowIndex:r.rowIndex})}},qIe={moduleName:`CellStyle`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`cellStyles`}processAllCellClasses(e,t,n,r){O0(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){let{cellClass:n}=e;if(!n)return[];let r;return r=typeof n==`function`?n(t):n,typeof r==`string`&&(r=[r]),r||[]}createCellCustomStyleFeature(e,t){return new KIe(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(e=>{n(e)})}}]},JIe={moduleName:`RowStyle`,version:Y,beans:[rje]};function YIe(e,t){return!!e.colHover?.isHovered(t)}var XIe=class extends J{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=e=>{let{beans:t,gos:n,element:r,columns:i}=this,a=t.colHover;if(e??!!n.get(`columnHoverHighlight`))this.destroyManagedListeners=this.addManagedElementListeners(r,{mouseover:a.setMouseOver.bind(a,i),mouseout:a.clearMouseOver.bind(a)});else{for(let e of this.destroyManagedListeners)e();this.destroyManagedListeners=[]}}}postConstruct(){this.addManagedPropertyListener(`columnHoverHighlight`,({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},ZIe=`ag-column-hover`,QIe={moduleName:`ColumnHover`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`colHover`}postConstruct(){this.addManagedPropertyListener(`columnHoverHighlight`,({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get(`columnHoverHighlight`))return!1;let t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){let r=()=>{let e=this.isHovered(n);t.toggleCss(`ag-column-hover`,e)};e.addManagedEventListeners({columnHoverChanged:r}),r()}onCellColumnHover(e,t){if(!t)return;let n=this.isHovered(e);t.toggleCss(ZIe,n)}addHeaderFilterColumnHoverListener(e,t,n,r){this.createHoverFeature(e,[n],r);let i=()=>{let e=this.isHovered(n);t.toggleCss(`ag-column-hover`,e)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,n){e.createManagedBean(new XIe(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:`columnHoverChanged`})}}],apiFunctions:{isColumnHovered:YIe}},$Ie=class extends J{constructor(){super(...arguments),this.beanName=`apiEventSvc`,this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addListener(e,t){let n=this.wrapSvc?.wrap(e,t)??t,r=!q1.has(e),i=r?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(n),this.eventSvc.addListener(e,n,r)}removeListener(e,t){let n=this.wrapSvc?.unwrap(e,t)??t,r=!!this.asyncListeners.get(e)?.delete(n);r||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeListener(e,n,r)}addGlobalListener(e){let t=this.wrapSvc?.wrapGlobal(e)??e,n=(e,n)=>{q1.has(e)&&t(e,n)},r=(e,n)=>{q1.has(e)||t(e,n)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:r});let i=this.eventSvc;i.addGlobalListener(n,!1),i.addGlobalListener(r,!0)}removeGlobalListener(e){let{eventSvc:t,wrapSvc:n,globalListenerPairs:r}=this,i=n?.unwrapGlobal(e)??e;if(r.has(i)){let{syncListener:n,asyncListener:a}=r.get(i);t.removeGlobalListener(n,!1),t.removeGlobalListener(a,!0),r.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((e,n)=>{e.forEach(e=>this.eventSvc.removeListener(n,e,t)),e.clear()}),e.clear()}destroyGlobalListeners(e,t){for(let n of e)this.eventSvc.removeGlobalListener(n,t);e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);let{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:e,asyncListener:n})=>{t.removeGlobalListener(e,!1),t.removeGlobalListener(n,!0)}),e.clear()}};function eLe(e,t,n){e.apiEventSvc?.addListener(t,n)}function tLe(e,t,n){e.apiEventSvc?.removeListener(t,n)}function nLe(e,t){e.apiEventSvc?.addGlobalListener(t)}function rLe(e,t){e.apiEventSvc?.removeGlobalListener(t)}var iLe={moduleName:`AllCommunity`,version:Y,dependsOn:[gFe,CFe,jFe,gMe,yPe,bPe,xPe,SPe,CPe,wPe,TPe,vPe,gNe,_Ne,vNe,hNe,yNe,bNe,KFe,JPe,cIe,T1,vIe,yIe,DIe,MIe,ADe,zIe,zPe,Pje,qIe,QIe,JIe,{moduleName:`EventApi`,version:Y,apiFunctions:{addEventListener:eLe,addGlobalListener:nLe,removeEventListener:tLe,removeGlobalListener:rLe},beans:[$Ie]},Lje,VFe,N2,{moduleName:`Locale`,version:Y,beans:[Zje]},{moduleName:`RowAutoHeight`,version:Y,beans:[class extends J{constructor(){super(...arguments),this.beanName=`rowAutoHeight`,this.wasEverActive=!1,this._debouncedCalculateRowHeights=nJ(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){let{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:r}=this.beans,i=e.autoHeightCols,a=!1,o=e=>{let t=e.__autoHeights,r=WJ(this.beans,e).height;for(let a of i){let i=t?.[a.getColId()],o=n?.getCellSpan(a,e);if(o){if(o.getLastNode()!==e)continue;if(i=n?.getCellSpan(a,e)?.getLastNodeAutoHeight(),!i)return}if(i==null){if(this.colSpanSkipCell(a,e))continue;return}r=Math.max(i,r)}r!==e.rowHeight&&(e.setRowHeight(r),a=!0)};r?.forEachPinnedRow?.(`top`,o),r?.forEachPinnedRow?.(`bottom`,o),t.forEachDisplayedNode?.(o),a&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??={},t==null){delete e.__autoHeights[n.getId()];return}let r=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,r!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){let{colModel:n,colViewport:r,visibleCols:i}=this.beans;if(!n.colSpanActive)return!1;let a=[];switch(e.getPinned()){case`left`:a=i.getLeftColsForRow(t);break;case`right`:a=i.getRightColsForRow(t);break;case null:a=r.getColsWithinViewport(t);break}return!a.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;let r=t.parentElement,{rowNode:i,column:a}=e,o=this.beans,s=c=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;let{paddingTop:l,paddingBottom:u,borderBottomWidth:d,borderTopWidth:f}=hq(r),p=l+u+d+f,m=t.offsetHeight+p;if(c<5&&(!GK(o)?.contains(t)||m==0)){window.setTimeout(()=>s(c+1),0);return}this.setRowAutoHeight(i,m,a)},c=()=>s(0);c();let l=Lq(o,t,c);return n.addDestroyFunc(()=>{l(),this.setRowAutoHeight(i,void 0,a)}),!0}setAutoHeightActive(e){this.active=e.list.some(e=>e.isVisible()&&e.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;let e=this.beans.rowRenderer.getAllRowCtrls(),t=null;for(let{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(e=>e.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(let e of t){let t=n.__autoHeights[e.getColId()];if(!t||n.rowHeight<t)return!1}}return!0}}]},kDe,_Fe,GIe]},aLe=l(h(),1),oLe=h(),sLe=h(),m4=H.createContext({}),h4=H.createContext(`default`),g4=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;let i=e.newAgStackInstance(),a,o,s=!1;return i.then(e=>{if(s){t.destroyBean(e);return}a=e,o=a.getGui(),n.appendChild(o),_4(r,a)}),()=>{s=!0,a&&(o?.remove(),t.destroyBean(a),r&&_4(r,void 0))}},_4=(e,t)=>{if(e)if(e instanceof Function)e(t);else{let n=e;n.current=t}},v4=(...e)=>e.filter(e=>e!=null&&e!==``).join(` `),y4=class e{constructor(...e){this.classesMap={};for(let t of e)this.classesMap[t]=!0}setClass(t,n){if(!!this.classesMap[t]==n)return this;let r=new e;return r.classesMap={...this.classesMap},r.classesMap[t]=n,r}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(` `)}},b4=e=>{let t=()=>typeof Symbol==`function`&&Symbol.for;return typeof e==`function`&&!(e.prototype&&e.prototype.isReactComponent)||typeof e==`object`&&e.$$typeof===(()=>t()?Symbol.for(`react.memo`):60115)()},x4=`19.2.3`.split(`.`)[0],S4=x4===`16`||x4===`17`;function cLe(){return x4===`19`}var C4=!1;function lLe(e){return C4||setTimeout(()=>C4=!1,0),C4=!0,e()}var w4=(e,t)=>{!S4&&e&&!C4?aLe.flushSync(t):t()},uLe=e=>{S4?e():H.startTransition(e)};function dLe(e,t,n){return H.useSyncExternalStore?H.useSyncExternalStore(e,t):n}function T4(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;let r=[],i=[],a=new Map,o=new Map;for(let e=0;e<t.length;e++){let n=t[e];o.set(n.instanceId,n)}for(let t=0;t<e.length;t++){let n=e[t];a.set(n.instanceId,n),o.has(n.instanceId)&&r.push(n)}for(let e=0;e<t.length;e++){let n=t[e],r=n.instanceId;a.has(r)||i.push(n)}return r.length===e.length&&i.length===0?e:r.length===0&&i.length===t.length?t:r.length===0?i:i.length===0?r:[...r,...i]}var E4=(0,H.forwardRef)((e,t)=>{let{registry:n,context:r}=(0,H.useContext)(m4),i=(0,H.useRef)(null),a=(0,H.useRef)(null),o=(0,H.useRef)(null),s=(0,H.useRef)(null),c=(0,H.useRef)(null),l=(0,H.useRef)(),[u,d]=(0,H.useState)(),[f,p]=(0,H.useState)(),[m,h]=(0,H.useState)(),[g,_]=(0,H.useState)(()=>new y4),[v,y]=(0,H.useState)(()=>new y4(`ag-hidden`)),[b,x]=(0,H.useState)(()=>new y4(`ag-hidden`)),[S,C]=(0,H.useState)(()=>new y4(`ag-invisible`));(0,H.useImperativeHandle)(t,()=>({refresh(){return!1}})),(0,H.useLayoutEffect)(()=>g4(u,r,a.current),[u]);let w=(0,H.useCallback)(t=>{if(i.current=t,!t||r.isDestroyed()){l.current=r.destroyBean(l.current);return}let a={setInnerRenderer:(e,t)=>{d(e),h(t)},setChildCount:e=>p(e),toggleCss:(e,t)=>_(n=>n.setClass(e,t)),setContractedDisplayed:e=>x(t=>t.setClass(`ag-hidden`,!e)),setExpandedDisplayed:e=>y(t=>t.setClass(`ag-hidden`,!e)),setCheckboxVisible:e=>C(t=>t.setClass(`ag-invisible`,!e)),setCheckboxSpacing:e=>C(t=>t.setClass(`ag-group-checkbox-spacing`,e))},u=n.createDynamicBean(`groupCellRendererCtrl`,!0);u&&(l.current=r.createBean(u),l.current.init(a,t,o.current,s.current,c.current,E4,e))},[]),T=(0,H.useMemo)(()=>`ag-cell-wrapper ${g.toString()}`,[g]),E=(0,H.useMemo)(()=>`ag-group-expanded ${v.toString()}`,[v]),D=(0,H.useMemo)(()=>`ag-group-contracted ${b.toString()}`,[b]),O=(0,H.useMemo)(()=>`ag-group-checkbox ${S.toString()}`,[S]),k=u?.componentFromFramework,A=k?u.componentClass:void 0,j=u==null&&m!=null,M=VK(m);return H.createElement(`span`,{className:T,ref:w,...e.colDef?{}:{role:l.current?.getCellAriaRole()}},H.createElement(`span`,{className:E,ref:s}),H.createElement(`span`,{className:D,ref:c}),H.createElement(`span`,{className:O,ref:o}),H.createElement(`span`,{className:`ag-group-value`,ref:a},j?M:k?H.createElement(A,{...u.params}):null),H.createElement(`span`,{className:`ag-group-child-count`},f))}),D4=E4,O4=(0,H.createContext)({setMethods:()=>{}}),fLe=(0,H.memo)(e=>{let{initialProps:t,addUpdateCallback:n,CustomComponentClass:r,setMethods:i}=e,[{key:a,...o},s]=(0,H.useState)(t);return(0,H.useEffect)(()=>{n(e=>s(e))},[]),H.createElement(O4.Provider,{value:{setMethods:i}},H.createElement(r,{key:a,...o}))}),pLe=0;function k4(){return`agPortalKey_${++pLe}`}var A4=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=k4(),this.portalKey=k4(),this.instanceCreated=this.isStatelessComponent()?cX.resolve(!1):new cX(e=>{this.resolveInstanceCreated=e})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy==`function`&&this.componentInstance.destroy();let e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){let t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||`div`);return n.classList.add(`ag-react-container`),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for(`react.memo`):60115}hasSymbol(){return typeof Symbol==`function`&&Symbol.for}isStateless(e){return typeof e==`function`&&!(e.prototype&&e.prototype.isReactComponent)||typeof e==`object`&&e.$$typeof===this.getMemoType()}hasMethod(e){let t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){let n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}let r=n[e];if(r)return r.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new cX(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{this.componentInstance=e,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,oLe.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,H.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){let n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function j4(e,t,n){for(let r of e){let e=t[r];e&&(n[r]=e)}}var M4=class extends A4{constructor(){super(...arguments),this.awaitUpdateCallback=new cX(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=fLe}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new cX(e=>{setTimeout(()=>{e()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,j4(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new cX(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},mLe=class extends M4{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},hLe=class extends M4{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return[`afterGuiAttached`,`setInputPlaceholder`,`setInputAriaLabel`,`setDisabled`]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){let e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},gLe=class extends M4{constructor(){super(...arguments),this.label=``,this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){let e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},_Le=class extends M4{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new cX(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||=this.isFilterActive(),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){let t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return[`afterGuiDetached`,`onNewRowsLoaded`,`getModelAsString`,`onAnyFilterChanged`]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();let t=new cX(e=>{this.resolveFilterPassCallback=e});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){let e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},vLe=class extends M4{constructor(){super(...arguments),this.awaitSetMethodsCallback=new cX(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){let t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return[`afterGuiDetached`,`onNewRowsLoaded`,`onAnyFilterChanged`]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function N4(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||cX.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var yLe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){j4(this.getOptionalMethods(),e,this)}getOptionalMethods(){return[`afterGuiAttached`]}updateModel(e){this.model=e,this.refreshProps(),N4(this.floatingFilterParams,e)}},bLe=class extends M4{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return[`afterGuiAttached`]}updateModel(e){this.model=e,this.refreshProps(),N4(this.sourceParams,e)}getProps(){let e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},xLe=class extends M4{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return[`afterGuiAttached`]}},SLe=class extends M4{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},CLe=class extends M4{refresh(e){this.sourceParams=e,this.refreshProps()}},wLe=class extends M4{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return[`select`,`configureDefaults`]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){let t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){let e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},TLe=class extends M4{refresh(e){this.sourceParams=e,this.refreshProps()}},ELe=class extends M4{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},DLe=class extends M4{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){let e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function P4(){X(231)}var OLe=1e3,kLe=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||`div`,this.refresher=e,this.maxComponentCreationTimeMs=n||OLe}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||=(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){w4(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},ALe=(0,H.memo)(({ctrl:e})=>{let t=e.isAlive(),{context:n}=(0,H.useContext)(m4),[r,i]=(0,H.useState)(),[a,o]=(0,H.useState)(),s=(0,H.useRef)(),c=(0,H.useRef)(null),l=(0,H.useRef)(null),u=(0,H.useRef)(null),d=(0,H.useRef)(),f=(0,H.useRef)();t&&!f.current&&(f.current=new iX(()=>c.current));let p=(0,H.useCallback)(t=>{if(c.current=t,!t||!e.isAlive()||n.isDestroyed()){s.current=n.destroyBean(s.current);return}s.current=n.createBean(new tX);let r=()=>{let t=e.getSelectAllGui();t&&(l.current?.insertAdjacentElement(`afterend`,t),s.current.addDestroyFunc(()=>t.remove()))},a={setWidth:e=>{c.current&&(c.current.style.width=e)},toggleCss:(e,t)=>f.current.toggleCss(e,t),setUserStyles:e=>o(e),setAriaSort:e=>{c.current&&(e?kxe(c.current,e):Axe(c.current))},setUserCompDetails:e=>i(e),getUserCompInstance:()=>d.current||void 0,refreshSelectAllGui:r,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(a,t,l.current,u.current,s.current),r()},[]);(0,H.useLayoutEffect)(()=>g4(r,n,u.current,d),[r]),(0,H.useEffect)(()=>{e.setDragSource(c.current)},[r]);let m=(0,H.useMemo)(()=>!!(r?.componentFromFramework&&b4(r.componentClass)),[r]),h=r?.componentFromFramework,g=r?.componentClass;return H.createElement(`div`,{ref:p,style:a,className:`ag-header-cell`,role:`columnheader`},H.createElement(`div`,{ref:l,className:`ag-header-cell-resize`,role:`presentation`}),H.createElement(`div`,{ref:u,className:`ag-header-cell-comp-wrapper`,role:`presentation`},h?m?H.createElement(g,{...r.params}):H.createElement(g,{...r.params,ref:d}):null))}),jLe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){j4(this.getOptionalMethods(),e,this)}getOptionalMethods(){return[`afterGuiAttached`]}},MLe=(0,H.memo)(({ctrl:e})=>{let{context:t,gos:n}=(0,H.useContext)(m4),[r,i]=(0,H.useState)(),[a,o]=(0,H.useState)(()=>new y4(`ag-header-cell`,`ag-floating-filter`)),[s,c]=(0,H.useState)(()=>new y4),[l,u]=(0,H.useState)(()=>new y4(`ag-floating-filter-button`,`ag-hidden`)),[d,f]=(0,H.useState)(`false`),[p,m]=(0,H.useState)(),[,h]=(0,H.useState)(1),g=(0,H.useRef)(),_=(0,H.useRef)(null),v=(0,H.useRef)(null),y=(0,H.useRef)(null),b=(0,H.useRef)(null),x=(0,H.useRef)(),S=(0,H.useRef)(),C=e=>{e!=null&&x.current&&x.current(e)},w=(0,H.useCallback)(n=>{if(_.current=n,!n||!e.isAlive()||t.isDestroyed()){g.current=t.destroyBean(g.current);return}g.current=t.createBean(new tX),S.current=new cX(e=>{x.current=e}),e.setComp({toggleCss:(e,t)=>o(n=>n.setClass(e,t)),setUserStyles:e=>i(e),addOrRemoveBodyCssClass:(e,t)=>c(n=>n.setClass(e,t)),setButtonWrapperDisplayed:e=>{u(t=>t.setClass(`ag-hidden`,!e)),f(e?`false`:`true`)},setWidth:e=>{_.current&&(_.current.style.width=e)},setCompDetails:e=>m(e),getFloatingFilterComp:()=>S.current?S.current:null,setMenuIcon:e=>b.current?.appendChild(e)},n,b.current,v.current,g.current)},[]);(0,H.useLayoutEffect)(()=>g4(p,t,v.current,C),[p]);let T=(0,H.useMemo)(()=>a.toString(),[a]),E=(0,H.useMemo)(()=>s.toString(),[s]),D=(0,H.useMemo)(()=>l.toString(),[l]),O=(0,H.useMemo)(()=>!!(p&&p.componentFromFramework&&b4(p.componentClass)),[p]),k=(0,H.useMemo)(()=>n.get(`reactiveCustomComponents`),[]),A=(0,H.useMemo)(()=>n.get(`enableFilterHandlers`),[]),[j,M]=(0,H.useState)();(0,H.useEffect)(()=>{if(p?.componentFromFramework)if(k){let e=new(A?jLe:yLe)(p.params,()=>h(e=>e+1));C(e),M(e)}else P4()},[p]);let N=j?.getProps(),P=p?.componentFromFramework,F=p?.componentClass;return H.createElement(`div`,{ref:w,style:r,className:T,role:`gridcell`},H.createElement(`div`,{ref:v,className:E,role:`presentation`},P?k?N&&H.createElement(O4.Provider,{value:{setMethods:e=>j.setMethods(e)}},H.createElement(F,{...N})):H.createElement(F,{...p.params,ref:O?()=>{}:C}):null),H.createElement(`div`,{ref:y,"aria-hidden":d,className:D,role:`presentation`},H.createElement(`button`,{ref:b,type:`button`,className:`ag-button ag-floating-filter-button-button`,tabIndex:-1})))}),NLe=(0,H.memo)(({ctrl:e})=>{let{context:t}=(0,H.useContext)(m4),[n,r]=(0,H.useState)(),[i,a]=(0,H.useState)(()=>new y4),[o,s]=(0,H.useState)(()=>new y4),[c,l]=(0,H.useState)(`false`),[u,d]=(0,H.useState)(),[f,p]=(0,H.useState)(),m=(0,H.useRef)(),h=(0,H.useRef)(null),g=(0,H.useRef)(null),_=(0,H.useRef)(null),v=(0,H.useRef)(),y=(0,H.useCallback)(n=>{if(h.current=n,!n||!e.isAlive()||t.isDestroyed()){m.current=t.destroyBean(m.current);return}m.current=t.createBean(new tX),e.setComp({setWidth:e=>{h.current&&(h.current.style.width=e)},toggleCss:(e,t)=>a(n=>n.setClass(e,t)),setUserStyles:e=>r(e),setHeaderWrapperHidden:e=>{let t=_.current;t&&(e?t.style.setProperty(`display`,`none`):t.style.removeProperty(`display`))},setHeaderWrapperMaxHeight:e=>{let t=_.current;t&&(e==null?t.style.removeProperty(`max-height`):t.style.setProperty(`max-height`,`${e}px`),t.classList.toggle(`ag-header-cell-comp-wrapper-limited-height`,e!=null))},setUserCompDetails:e=>p(e),setResizableDisplayed:e=>{s(t=>t.setClass(`ag-hidden`,!e)),l(e?`false`:`true`)},setAriaExpanded:e=>d(e),getUserCompInstance:()=>v.current||void 0},n,g.current,_.current,m.current)},[]);(0,H.useLayoutEffect)(()=>g4(f,t,_.current),[f]),(0,H.useEffect)(()=>{h.current&&e.setDragSource(h.current)},[f]);let b=(0,H.useMemo)(()=>!!(f?.componentFromFramework&&b4(f.componentClass)),[f]),x=(0,H.useMemo)(()=>`ag-header-group-cell `+i.toString(),[i]),S=(0,H.useMemo)(()=>`ag-header-cell-resize `+o.toString(),[o]),C=f?.componentFromFramework,w=f?.componentClass;return H.createElement(`div`,{ref:y,style:n,className:x,role:`columnheader`,"aria-expanded":u},H.createElement(`div`,{ref:_,className:`ag-header-cell-comp-wrapper`,role:`presentation`},C?b?H.createElement(w,{...f.params}):H.createElement(w,{...f.params,ref:v}):null),H.createElement(`div`,{ref:g,"aria-hidden":c,className:S}))}),PLe=(0,H.memo)(({ctrl:e})=>{let{gos:t,context:n}=(0,H.useContext)(m4),{topOffset:r,rowHeight:i}=(0,H.useMemo)(()=>e.getTopAndHeight(),[]),a=(0,H.useMemo)(()=>t.get(`tabIndex`),[]),[o,s]=(0,H.useState)(()=>e.getAriaRowIndex()),c=e.headerRowClass,[l,u]=(0,H.useState)(()=>i+`px`),[d,f]=(0,H.useState)(()=>r+`px`),p=(0,H.useRef)(null),[m,h]=(0,H.useState)(()=>e.getUpdatedHeaderCtrls()),g=(0,H.useRef)(),_=(0,H.useRef)(null),v=(0,H.useCallback)(t=>{if(_.current=t,!t||!e.isAlive()||n.isDestroyed()){g.current=n.destroyBean(g.current);return}g.current=n.createBean(new tX),e.setComp({setHeight:e=>u(e),setTop:e=>f(e),setHeaderCtrls:(e,t,n)=>{let r=p.current,i=T4(r,e,t);i!==r&&(p.current=i,w4(n,()=>h(i)))},setWidth:e=>{_.current&&(_.current.style.width=e)},setRowIndex:e=>{s(e)}},g.current,!1)},[]),y=(0,H.useMemo)(()=>({height:l,top:d}),[l,d]),b=(0,H.useCallback)(t=>{switch(e.type){case`group`:return H.createElement(NLe,{ctrl:t,key:t.instanceId});case`filter`:return H.createElement(MLe,{ctrl:t,key:t.instanceId});default:return H.createElement(ALe,{ctrl:t,key:t.instanceId})}},[]);return H.createElement(`div`,{ref:v,className:c,role:`row`,style:y,tabIndex:a,"aria-rowindex":o},m.map(b))}),F4=(0,H.memo)(({pinned:e})=>{let[t,n]=(0,H.useState)(!0),[r,i]=(0,H.useState)([]),{context:a}=(0,H.useContext)(m4),o=(0,H.useRef)(null),s=(0,H.useRef)(null),c=(0,H.useRef)(),l=e===`left`,u=e===`right`,d=!l&&!u,f=(0,H.useCallback)(t=>{if(o.current=t,!t||a.isDestroyed()){c.current=a.destroyBean(c.current);return}c.current=a.createBean(new pEe(e));let r={setDisplayed:n,setCtrls:e=>i(e),setCenterWidth:e=>{s.current&&(s.current.style.width=e)},setViewportScrollLeft:e=>{o.current&&(o.current.scrollLeft=e)},setPinnedContainerWidth:e=>{o.current&&(o.current.style.width=e,o.current.style.minWidth=e,o.current.style.maxWidth=e)}};c.current.setComp(r,o.current)},[]),p=t?``:`ag-hidden`,m=()=>r.map(e=>H.createElement(PLe,{ctrl:e,key:e.instanceId}));return l?H.createElement(`div`,{ref:f,className:`ag-pinned-left-header `+p,"aria-hidden":!t,role:`rowgroup`},m()):u?H.createElement(`div`,{ref:f,className:`ag-pinned-right-header `+p,"aria-hidden":!t,role:`rowgroup`},m()):d?H.createElement(`div`,{ref:f,className:`ag-header-viewport `+p,role:`rowgroup`,tabIndex:-1},H.createElement(`div`,{ref:s,className:`ag-header-container`,role:`presentation`},m())):null}),FLe=(0,H.memo)(()=>{let[e,t]=(0,H.useState)(()=>new y4),[n,r]=(0,H.useState)(),{context:i}=(0,H.useContext)(m4),a=(0,H.useRef)(null),o=(0,H.useRef)(),s=(0,H.useCallback)(e=>{if(a.current=e,!e||i.isDestroyed()){o.current=i.destroyBean(o.current);return}o.current=i.createBean(new lEe),o.current.setComp({toggleCss:(e,n)=>t(t=>t.setClass(e,n)),setHeightAndMinHeight:e=>r(e)},e,e)},[]),c=(0,H.useMemo)(()=>`ag-header `+e.toString(),[e]),l=(0,H.useMemo)(()=>({height:n,minHeight:n}),[n]);return H.createElement(`div`,{ref:s,className:c,style:l,role:`presentation`},H.createElement(F4,{pinned:`left`}),H.createElement(F4,{pinned:null}),H.createElement(F4,{pinned:`right`}))}),I4=(e,t)=>{(0,H.useEffect)(()=>{let n=t.current;if(n){let t=n.parentElement;if(t){let r=document.createComment(e);return t.insertBefore(r,n),()=>{r.remove()}}}},[e])},ILe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new cX(e=>{this.resolveInstanceCreated=e}),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){j4(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return[`isCancelBeforeStart`,`isCancelAfterEnd`,`focusIn`,`focusOut`,`afterGuiAttached`,`getValidationErrors`,`getValidationElement`]}updateValue(e){this.value=e,this.refreshProps()}},LLe=e=>{let t=(0,H.useRef)(e),n=(0,H.useRef)(),r=(0,H.useRef)(!1),i=(0,H.useRef)(!1),[,a]=(0,H.useState)(0);r.current&&(i.current=!0),(0,H.useEffect)(()=>(r.current||=(n.current=t.current(),!0),a(e=>e+1),()=>{i.current&&n.current?.()}),[])},L4=(0,H.memo)(e=>{let[t,n]=(0,H.useState)(),r=(0,H.useContext)(m4),{context:i,popupSvc:a,gos:o,editSvc:s}=r,{editDetails:c,cellCtrl:l,eParentCell:u}=e;return LLe(()=>{let{compDetails:t}=c,r=o.get(`stopEditingWhenCellsLoseFocus`),d,f;if(!i.isDestroyed()){f=i.createBean(s.createPopupEditorWrapper(t.params));let o=f.getGui();if(e.jsChildComp){let t=e.jsChildComp.getGui();t&&o.appendChild(t)}let{column:p,rowNode:m}=l,h={column:p,rowNode:m,type:`popupCellEditor`,eventSource:u,ePopup:o,position:c.popupPosition,keepWithinBounds:!0},g=a?.positionPopupByComponent.bind(a,h),_=a?.addPopup({modal:r,eChild:o,closeOnEsc:!0,closedCallback:()=>{l.onPopupEditorClosed()},anchorToElement:u,positionCallback:g,ariaOwns:u});d=_?_.hideFunc:void 0,n(f),e.jsChildComp?.afterGuiAttached?.()}return()=>{d?.(),i.destroyBean(f)}}),(0,H.useLayoutEffect)(()=>()=>{l.isCellFocused()&&t?.getGui().contains(WK(r))&&u.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?(0,sLe.createPortal)(e.wrappedContent,t.getGui()):null}),RLe=(e,t,n)=>{let{compProxy:r}=e;n(r);let i=r.getProps(),a=b4(t);return H.createElement(O4.Provider,{value:{setMethods:e=>r.setMethods(e)}},a?H.createElement(t,{...i}):H.createElement(t,{...i,ref:e=>r.setRef(e)}))},R4=(e,t,n)=>e.compProxy?RLe(e,t,n):H.createElement(t,{...e.compDetails.params,ref:n}),zLe=(e,t,n,r,i)=>{let a=e.compDetails,o=a.componentClass,s=a.componentFromFramework&&!e.popup,c=a.componentFromFramework&&e.popup,l=!a.componentFromFramework&&e.popup;return s?R4(e,o,t):c?H.createElement(L4,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:R4(e,o,t)}):l&&i?H.createElement(L4,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:i}):null},z4=(e,t,n,r,i,a)=>{let{context:o}=(0,H.useContext)(m4),s=(0,H.useCallback)(()=>{let e=i.current;if(!e)return;let t=e.getGui();t&&t.parentElement&&t.remove(),o.destroyBean(e),i.current=void 0},[]);(0,H.useEffect)(()=>{let r=e!=null,o=e?.compDetails&&!e.compDetails.componentFromFramework;if(!(r&&o&&!(t&&n==null))){s();return}let c=e.compDetails;if(i.current){let t=i.current,n=t.refresh!=null&&e.force==0?t.refresh(c.params):!1;if(n===!0||n===void 0)return;s()}c.newAgStackInstance().then(e=>{if(!e)return;let r=e.getGui();r&&((t?n:a.current).appendChild(r),i.current=e)})},[e,t,r]),(0,H.useEffect)(()=>s,[])},BLe=({cellCtrl:e,parent:t})=>{let n=(0,H.useRef)(),r=(0,H.useMemo)(()=>{let{loadingComp:t}=e.getDeferLoadingCellRenderer();return t?{value:void 0,compDetails:t,force:!1}:void 0},[e]);if(z4(r,!1,void 0,1,n,t),r?.compDetails?.componentFromFramework){let e=r.compDetails.componentClass;return H.createElement(e,{...r.compDetails.params})}return H.createElement(H.Fragment,null)},VLe=(0,H.memo)(({cellCtrl:e,printLayout:t,editingCell:n})=>{let{context:r}=(0,H.useContext)(m4),{column:{colIdSanitised:i},instanceId:a}=e,o=(0,H.useRef)(),[s,c]=(0,H.useState)(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[l,u]=(0,H.useState)(),[d,f]=(0,H.useState)(1),[p,m]=(0,H.useState)(),[h,g]=(0,H.useState)(!1),[_,v]=(0,H.useState)(!1),[y,b]=(0,H.useState)(!1),[x,S]=(0,H.useState)(),C=(0,H.useMemo)(()=>e.isForceWrapper(),[e]),w=(0,H.useMemo)(()=>e.getCellAriaRole(),[e]),T=(0,H.useRef)(null),E=(0,H.useRef)(null),D=(0,H.useRef)(null),O=(0,H.useRef)(),k=(0,H.useRef)(),A=(0,H.useRef)(),j=(0,H.useRef)([]),M=(0,H.useRef)(),N=(0,H.useRef)(),[P,F]=(0,H.useState)(0),I=(0,H.useCallback)(e=>{N.current=e,F(e=>e+1)},[]),L=s!=null&&(h||y||_)&&(l==null||!!l.popup),R=C||L,ee=(0,H.useMemo)(()=>e.getCellValueClass(),[e]),te=(0,H.useCallback)(t=>{if(k.current=t,t){let n=t.isCancelBeforeStart&&t.isCancelBeforeStart();setTimeout(()=>{n?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(t))})}},[e]),z=(0,H.useRef)();z.current||=new iX(()=>T.current),z4(s,R,N.current,P,O,T);let ne=(0,H.useRef)();(0,H.useLayoutEffect)(()=>{let e=ne.current,t=s;if(ne.current=s,e==null||e.compDetails==null||t==null||t.compDetails==null)return;M.current?.refreshVisibility();let n=e.compDetails,r=t.compDetails;n.componentClass==r.componentClass&&D.current?.refresh!=null&&D.current.refresh(r.params)!=1&&f(e=>e+1)},[s]),(0,H.useLayoutEffect)(()=>{if(!(l&&!l.compDetails.componentFromFramework)||r.isDestroyed())return;let t=l.compDetails,n=l.popup===!0,i=t.newAgStackInstance();return i.then(e=>{if(!e)return;let t=e.getGui();te(e),n||((C?A:T).current?.appendChild(t),e.afterGuiAttached?.()),S(e)}),()=>{i.then(t=>{let n=t.getGui();e.disableEditorTooltipFeature(),r.destroyBean(t),te(void 0),S(void 0),n?.remove()})}},[l]);let re=(0,H.useCallback)(t=>{if(A.current=t,!t||r.isDestroyed()||!e.isAlive()){let e=j.current;j.current=[];for(let t of e)t();return}let n,i=e=>{e&&(t.insertAdjacentElement(`afterbegin`,e.getGui()),j.current.push(()=>{wq(e.getGui()),r.destroyBean(e),M.current===n&&(M.current=void 0)}))};h&&i(e.createSelectionCheckbox()),y&&i(e.createDndSource()),_&&(n=e.createRowDragComp(),M.current=n,n&&(i(n),n.refreshVisibility()))},[e,r,y,_,h]),B=(0,H.useCallback)(()=>{let i=!e.isCellSpanning()||E.current,a=T.current;if(!a||!i||!e||!e.isAlive()||r.isDestroyed()){o.current=r.destroyBean(o.current);return}o.current=r.createBean(new tX);let s={toggleCss:(e,t)=>z.current.toggleCss(e,t),setUserStyles:e=>m(e),getFocusableElement:()=>T.current,setIncludeSelection:e=>g(e),setIncludeRowDrag:e=>v(e),setIncludeDndSource:e=>b(e),getCellEditor:()=>k.current??null,getCellRenderer:()=>D.current??O.current,getParentOfValue:()=>N.current??A.current??T.current,setRenderDetails:(t,n,r)=>{let i=()=>{c(e=>e?.compDetails!==t||e?.value!==n||e?.force!==r?{value:n,compDetails:t,force:r}:e)};if(t?.params?.deferRender&&!e.rowNode.group){let{loadingComp:t,onReady:n}=e.getDeferLoadingCellRenderer();if(t){c({value:void 0,compDetails:t,force:!1}),n.then(()=>uLe(i));return}}i()},setEditDetails:(t,n,r,i)=>{if(t){let e;t.componentFromFramework&&(i?e=new ILe(t.params,()=>f(e=>e+1)):P4()),u({compDetails:t,popup:n,popupPosition:r,compProxy:e}),n||c(void 0)}else e.hasBrowserFocus()&&s.getFocusableElement().focus({preventScroll:!0}),k.current=void 0,u(void 0)},refreshEditStyles:(e,t)=>{if(!T.current)return;let{current:n}=z;n.toggleCss(`ag-cell-value`,!R),n.toggleCss(`ag-cell-inline-editing`,!!e&&!t),n.toggleCss(`ag-cell-popup-editing`,!!e&&!!t),n.toggleCss(`ag-cell-not-inline-editing`,!e||!!t)}},l=A.current||void 0;e.setComp(s,a,E.current??void 0,l,t,n,o.current)},[]),ie=(0,H.useCallback)(e=>{T.current=e,B()},[]),ae=(0,H.useCallback)(e=>{E.current=e,B()},[]),oe=(0,H.useMemo)(()=>!!(s?.compDetails?.componentFromFramework&&b4(s.compDetails.componentClass)),[s]);(0,H.useLayoutEffect)(()=>{if(!T.current)return;let{current:e}=z;e.toggleCss(`ag-cell-value`,!R),e.toggleCss(`ag-cell-inline-editing`,!!l&&!l.popup),e.toggleCss(`ag-cell-popup-editing`,!!l&&!!l.popup),e.toggleCss(`ag-cell-not-inline-editing`,!l||!!l.popup)});let se=()=>{let{compDetails:t,value:n}=s;if(!t)return n?.toString?.()??n;if(t.componentFromFramework){let n=t.componentClass;return H.createElement(H.Suspense,{fallback:H.createElement(BLe,{cellCtrl:e,parent:T})},oe?H.createElement(n,{...t.params,key:d}):H.createElement(n,{...t.params,key:d,ref:D}))}},ce=()=>{let t=()=>s==null?null:R?H.createElement(`span`,{role:`presentation`,id:`cell-${a}`,className:ee,ref:I},se()):se(),n=t=>zLe(t,te,T.current,e,x);return l==null?t():l.popup?H.createElement(H.Fragment,null,t(),n(l)):n(l)},le=()=>H.createElement(`div`,{ref:ie,style:p,role:w,"col-id":i},R?H.createElement(`div`,{className:`ag-cell-wrapper`,role:`presentation`,ref:re},ce()):ce());return e.isCellSpanning()?H.createElement(`div`,{ref:ae,className:`ag-spanned-cell-wrapper`,role:`presentation`},le()):le()}),B4=(0,H.memo)(({rowCtrl:e,containerType:t})=>{let{context:n,gos:r,editSvc:i}=(0,H.useContext)(m4),a=(0,H.useContext)(h4)===`default`,o=(0,H.useRef)(),s=(0,H.useRef)(e.getDomOrder()),c=e.isFullWidth(),l=e.rowNode.displayed,[u,d]=(0,H.useState)(()=>l?e.rowNode.getRowIndexString():null),[f,p]=(0,H.useState)(()=>e.rowId),[m,h]=(0,H.useState)(()=>e.businessKey),[g,_]=(0,H.useState)(()=>e.rowStyles),v=(0,H.useRef)(null),[y,b]=(0,H.useState)(()=>null),[x,S]=(0,H.useState)(),[C,w]=(0,H.useState)(()=>l?e.getInitialRowTop(t):void 0),[T,E]=(0,H.useState)(()=>l?e.getInitialTransform(t):void 0),D=(0,H.useRef)(null),O=(0,H.useRef)(),k=(0,H.useRef)(),A=(0,H.useRef)(!1),[j,M]=(0,H.useState)(0);(0,H.useEffect)(()=>{if(A.current||!x||j>10)return;let t=D.current?.firstChild;t?(e.setupDetailRowAutoHeight(t),A.current=!0):M(e=>e+1)},[x,j]);let N=(0,H.useRef)();N.current||=new iX(()=>D.current);let P=(0,H.useRef)(()=>{}),F=dLe((0,H.useCallback)(e=>(P.current=e,()=>{P.current=()=>{}}),[]),()=>v.current,[]),I=a?F:y,L=(0,H.useCallback)(r=>{if(D.current=r,o.current=r?n.createBean(new tX):n.destroyBean(o.current),!r){e.unsetComp(t);return}if(!e.isAlive()||n.isDestroyed())return;let i={setTop:w,setTransform:E,toggleCss:(e,t)=>N.current.toggleCss(e,t),setDomOrder:e=>s.current=e,setRowIndex:d,setRowId:p,setRowBusinessKey:h,setUserStyles:_,setCellCtrls:(e,t)=>{let n=v.current,r=T4(n,e,s.current);r!==n&&(v.current=r,a?P.current():w4(t,()=>b(r)))},showFullWidth:e=>{k.current=e.params,S(e)},getFullWidthCellRenderer:()=>O.current,getFullWidthCellRendererParams:()=>k.current,refreshFullWidth:e=>{let t=e();return k.current=t,ne.current?(S(e=>({...e,params:t})),!0):!O.current||!O.current.refresh?!1:O.current.refresh(t)}};e.setComp(i,r,t,o.current)},[]);(0,H.useLayoutEffect)(()=>g4(x,n,D.current,O),[x]);let R=(0,H.useMemo)(()=>{let e={top:C,transform:T};return Object.assign(e,g),e},[C,T,g]),ee=c&&x?.componentFromFramework,te=!c&&I!=null,z=(0,H.useMemo)(()=>!!(x?.componentFromFramework&&b4(x.componentClass)),[x]),ne=(0,H.useRef)(!1);(0,H.useEffect)(()=>{ne.current=z&&!!x&&!!r.get(`reactiveCustomComponents`)},[z,x]);let re=()=>I?.map(t=>H.createElement(VLe,{cellCtrl:t,editingCell:i?.isEditing(t,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:t.instanceId})),B=()=>{let e=x.componentClass;return z?H.createElement(e,{...x.params}):H.createElement(e,{...x.params,ref:O})};return H.createElement(`div`,{ref:L,role:`row`,style:R,"row-index":u,"row-id":f,"row-business-key":m},te?re():ee?B():null)}),HLe=(0,H.memo)(({name:e})=>{let{context:t,gos:n}=(0,H.useContext)(m4),r=(0,H.useMemo)(()=>JQ(e),[e]),i=(0,H.useRef)(null),a=(0,H.useRef)(null),o=(0,H.useRef)(null),s=(0,H.useRef)([]),c=(0,H.useRef)([]),[l,u]=(0,H.useState)(()=>[]),d=!!n.get(`enableCellSpan`)&&!!r.getSpannedRowCtrls,f=(0,H.useRef)([]),p=(0,H.useRef)([]),[m,h]=(0,H.useState)(()=>[]),g=(0,H.useRef)(!1),_=(0,H.useRef)(),v=(0,H.useMemo)(()=>v4(`ag-viewport`,KQ(e)),[e]),y=(0,H.useMemo)(()=>v4(qQ(e)),[e]),b=(0,H.useMemo)(()=>v4(`ag-spanning-container`,NTe(e)),[e]),x=r.type===`center`||d,S=x?i:a;I4(` AG Row Container `+e+` `,S);let C=(0,H.useCallback)(()=>{let e=!x||i.current!=null,t=a.current!=null,n=!d||o.current!=null;return e&&t&&n},[]),w=(0,H.useCallback)(()=>i.current==null&&a.current==null&&o.current==null,[]),T=(0,H.useCallback)(()=>{if(w()&&(_.current=t.destroyBean(_.current)),!t.isDestroyed()&&C()){let n=e=>{let t=T4(c.current,s.current,g.current);t!==c.current&&(c.current=t,w4(e,()=>u(t)))},r=e=>{let t=T4(p.current,f.current,g.current);t!==p.current&&(p.current=t,w4(e,()=>h(t)))};_.current=t.createBean(new UTe(e)),_.current.setComp({setHorizontalScroll:e=>{i.current&&(i.current.scrollLeft=e)},setViewportHeight:e=>{i.current&&(i.current.style.height=e)},setRowCtrls:({rowCtrls:e,useFlushSync:t})=>{let r=!!t&&s.current.length>0&&e.length>0;s.current=e,n(r)},setSpannedRowCtrls:(e,t)=>{let n=!!t&&f.current.length>0&&e.length>0;f.current=e,r(n)},setDomOrder:e=>{g.current!=e&&(g.current=e,n(!1))},setContainerWidth:e=>{a.current&&(a.current.style.width=e)},setOffsetTop:e=>{a.current&&(a.current.style.transform=`translateY(${e})`)}},a.current,o.current??void 0,i.current)}},[C,w]),E=(0,H.useCallback)(e=>{a.current=e,T()},[T]),D=(0,H.useCallback)(e=>{o.current=e,T()},[T]),O=(0,H.useCallback)(e=>{i.current=e,T()},[T]),k=()=>H.createElement(`div`,{className:y,ref:E,role:x?`presentation`:`rowgroup`},l.map(e=>H.createElement(B4,{rowCtrl:e,containerType:r.type,key:e.instanceId})));return x?H.createElement(`div`,{className:v,ref:O,role:`rowgroup`},k(),d?(()=>H.createElement(`div`,{className:b,ref:D,role:`presentation`},m.map(e=>H.createElement(B4,{rowCtrl:e,containerType:r.type,key:e.instanceId}))))():null):k()}),ULe=(0,H.memo)(()=>{let e=(0,H.useContext)(m4),{context:t,overlays:n}=e,[r,i]=(0,H.useState)(``),[a,o]=(0,H.useState)(0),[s,c]=(0,H.useState)(0),[l,u]=(0,H.useState)(`0px`),[d,f]=(0,H.useState)(`0px`),[p,m]=(0,H.useState)(`100%`),[h,g]=(0,H.useState)(`0px`),[_,v]=(0,H.useState)(`0px`),[y,b]=(0,H.useState)(`100%`),[x,S]=(0,H.useState)(!0),[C,w]=(0,H.useState)(!0),[T,E]=(0,H.useState)(null),[D,O]=(0,H.useState)(``),[k,A]=(0,H.useState)(null),[j,M]=(0,H.useState)(`ag-layout-normal`),N=(0,H.useRef)();N.current||=new iX(()=>P.current);let P=(0,H.useRef)(null),F=(0,H.useRef)(null),I=(0,H.useRef)(null),L=(0,H.useRef)(null),R=(0,H.useRef)(null),ee=(0,H.useRef)(null),te=(0,H.useRef)(null),z=(0,H.useRef)([]),ne=(0,H.useRef)([]);I4(` AG Grid Body `,P),I4(` AG Pinned Top `,F),I4(` AG Sticky Top `,I),I4(` AG Middle `,ee),I4(` AG Pinned Bottom `,te);let re=(0,H.useCallback)(r=>{if(P.current=r,!r||t.isDestroyed()){z.current=t.destroyBeans(z.current);for(let e of ne.current)e();ne.current=[];return}let a=(e,t)=>{e.appendChild(t),ne.current.push(()=>t.remove())},s=e=>{let n=t.createBean(new e);return z.current.push(n),n},l=(e,t,n)=>{a(e,document.createComment(n)),a(e,s(t).getGui())};l(r,XTe,` AG Fake Horizontal Scroll `);let d=n?.getOverlayWrapperCompClass();d&&l(r,d,` AG Overlay Wrapper `),R.current&&l(R.current,QTe,` AG Fake Vertical Scroll `);let p={setRowAnimationCssOnBodyViewport:i,setColumnCount:e=>{P.current&&Dxe(P.current,e)},setRowCount:e=>{P.current&&Txe(P.current,e)},setTopHeight:o,setBottomHeight:c,setStickyTopHeight:u,setStickyTopTop:f,setStickyTopWidth:m,setTopInvisible:S,setBottomInvisible:w,setColumnMovingCss:(e,t)=>N.current.toggleCss(e,t),updateLayoutClasses:M,setAlwaysVerticalScrollClass:E,setPinnedTopBottomOverflowY:O,setCellSelectableCss:(e,t)=>A(t?e:null),setBodyViewportWidth:e=>{ee.current&&(ee.current.style.width=e)},registerBodyViewportResizeListener:t=>{if(ee.current){let n=Lq(e,ee.current,t);ne.current.push(()=>n())}},setStickyBottomHeight:g,setStickyBottomBottom:v,setStickyBottomWidth:b,setGridRootRole:e=>r.setAttribute(`role`,e)},h=t.createBean(new qTe);z.current.push(h),h.setComp(p,r,ee.current,F.current,te.current,I.current,L.current)},[]),B=(0,H.useMemo)(()=>v4(`ag-root`,`ag-unselectable`,j),[j]),ie=(0,H.useMemo)(()=>v4(`ag-body-viewport`,r,j,T,k),[r,j,T,k]),ae=(0,H.useMemo)(()=>v4(`ag-body`,j),[j]),oe=(0,H.useMemo)(()=>v4(`ag-floating-top`,x?`ag-invisible`:null,k),[k,x]),se=(0,H.useMemo)(()=>v4(`ag-sticky-top`,k),[k]),ce=(0,H.useMemo)(()=>v4(`ag-sticky-bottom`,h===`0px`?`ag-invisible`:null,k),[k,h]),le=(0,H.useMemo)(()=>v4(`ag-floating-bottom`,C?`ag-invisible`:null,k),[k,C]),ue=(0,H.useMemo)(()=>({height:a,minHeight:a,overflowY:D}),[a,D]),de=(0,H.useMemo)(()=>({height:l,top:d,width:p}),[l,d,p]),fe=(0,H.useMemo)(()=>({height:h,bottom:_,width:y}),[h,_,y]),pe=(0,H.useMemo)(()=>({height:s,minHeight:s,overflowY:D}),[s,D]),me=e=>H.createElement(HLe,{name:e,key:`${e}-container`}),he=({section:e,children:t,className:n,style:r})=>H.createElement(`div`,{ref:e,className:n,role:`presentation`,style:r},t.map(me));return H.createElement(`div`,{ref:re,className:B},H.createElement(FLe,null),he({section:F,className:oe,style:ue,children:[`topLeft`,`topCenter`,`topRight`,`topFullWidth`]}),H.createElement(`div`,{className:ae,ref:R,role:`presentation`},he({section:ee,className:ie,children:[`left`,`center`,`right`,`fullWidth`]})),he({section:I,className:se,style:de,children:[`stickyTopLeft`,`stickyTopCenter`,`stickyTopRight`,`stickyTopFullWidth`]}),he({section:L,className:ce,style:fe,children:[`stickyBottomLeft`,`stickyBottomCenter`,`stickyBottomRight`,`stickyBottomFullWidth`]}),he({section:te,className:le,style:pe,children:[`bottomLeft`,`bottomCenter`,`bottomRight`,`bottomFullWidth`]}))}),WLe=(0,H.memo)((0,H.forwardRef)((e,t)=>{let{children:n,eFocusableElement:r,onTabKeyDown:i,gridCtrl:a,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:s}=e,{context:c}=(0,H.useContext)(m4),l=(0,H.useRef)(null),u=(0,H.useRef)(null),d=(0,H.useRef)(),f=e=>{let t=e==null?void 0:parseInt(e,10).toString();for(let e of[l,u])t===void 0?e.current?.removeAttribute(`tabindex`):e.current?.setAttribute(`tabindex`,t)};(0,H.useImperativeHandle)(t,()=>({forceFocusOutOfContainer(e){d.current?.forceFocusOutOfContainer(e)}}));let p=(0,H.useCallback)(()=>{let e=l.current,t=u.current;if(!e&&!t||c.isDestroyed()){d.current=c.destroyBean(d.current);return}if(e&&t){let n={setTabIndex:f};d.current=c.createBean(new L$({comp:n,eTopGuard:e,eBottomGuard:t,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:e=>a.focusInnerElement(e),isEmpty:s}))}},[]),m=(0,H.useCallback)(e=>{l.current=e,p()},[p]),h=(0,H.useCallback)(e=>{u.current=e,p()},[p]),g=e=>{let t=e===`top`?I$.TAB_GUARD_TOP:I$.TAB_GUARD_BOTTOM;return H.createElement(`div`,{className:`${I$.TAB_GUARD} ${t}`,role:`presentation`,ref:e===`top`?m:h})};return H.createElement(H.Fragment,null,g(`top`),n,g(`bottom`))})),GLe=(0,H.memo)(({context:e})=>{let[t,n]=(0,H.useState)(``),[r,i]=(0,H.useState)(``),[a,o]=(0,H.useState)(null),[s,c]=(0,H.useState)(null),[l,u]=(0,H.useState)(!1),[d,f]=(0,H.useState)(),p=(0,H.useRef)(),m=(0,H.useRef)(null),h=(0,H.useRef)(),[g,_]=(0,H.useState)(null),v=(0,H.useRef)(()=>void 0),y=(0,H.useRef)(),b=(0,H.useRef)([]),x=(0,H.useCallback)(()=>void 0,[]);I4(` AG Grid `,m);let S=(0,H.useCallback)(t=>{if(m.current=t,p.current=t?e.createBean(new JEe):e.destroyBean(p.current),!t||e.isDestroyed())return;let r=p.current;v.current=r.focusInnerElement.bind(r);let a={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:e=>{if(!e&&y.current?.isDisplayed()){y.current.forceFocusOutOfContainer(e);return}h.current?.forceFocusOutOfContainer(e)},updateLayoutClasses:i,getFocusableContainers:()=>{let e=[],t=m.current?.querySelector(`.ag-root`);t&&e.push({getGui:()=>t});for(let t of b.current)t.isDisplayed()&&e.push(t);return e},setCursor:o,setUserSelect:c};r.setComp(a,t,t),u(!0)},[]);(0,H.useEffect)(()=>{let t=p.current,n=m.current;if(!d||!t||!g||!n||e.isDestroyed())return;let r=[],{watermarkSelector:i,paginationSelector:a,sideBarSelector:o,statusBarSelector:s,gridHeaderDropZonesSelector:c}=t.getOptionalSelectors(),l=[];if(c){let t=e.createBean(new c.component),i=t.getGui();n.insertAdjacentElement(`afterbegin`,i),l.push(i),r.push(t)}if(o){let t=e.createBean(new o.component),n=t.getGui(),i=g.querySelector(`.ag-tab-guard-bottom`);i&&(i.insertAdjacentElement(`beforebegin`,n),l.push(n)),r.push(t),b.current.push(t)}let u=t=>{let i=e.createBean(new t),a=i.getGui();return n.insertAdjacentElement(`beforeend`,a),l.push(a),r.push(i),i};if(s&&u(s.component),a){let e=u(a.component);y.current=e,b.current.push(e)}return i&&u(i.component),()=>{e.destroyBeans(r);for(let e of l)e.remove()}},[d,g,e]);let C=(0,H.useMemo)(()=>v4(`ag-root-wrapper`,t,r),[t,r]),w=(0,H.useMemo)(()=>v4(`ag-root-wrapper-body`,`ag-focus-managed`,r),[r]),T=(0,H.useMemo)(()=>({userSelect:s??``,WebkitUserSelect:s??``,cursor:a??``}),[s,a]),E=(0,H.useCallback)(e=>{h.current=e,f(e!==null)},[]),D=(0,H.useCallback)(()=>!p.current?.isFocusable(),[]);return H.createElement(`div`,{ref:S,className:C,style:T,role:`presentation`},H.createElement(`div`,{className:w,ref:_,role:`presentation`},l&&g&&!e.isDestroyed()&&H.createElement(m4.Provider,{value:e.getBeans()},H.createElement(WLe,{ref:E,eFocusableElement:g,onTabKeyDown:x,gridCtrl:p.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:D},H.createElement(ULe,null)))))}),KLe=class extends J{postConstruct(){if(this.beans.colAutosize){let e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){let e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(e=>e.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(e=>!!e.eGui))}},V4={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},qLe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...V4},H4=new Set(Object.keys(qLe)),JLe=new Set(Object.keys(V4)),U4=e=>{let t=(0,H.useRef)(),n=(0,H.useRef)(null),r=(0,H.useRef)(null),i=(0,H.useRef)([]),a=(0,H.useRef)([]),o=(0,H.useRef)(e),s=(0,H.useRef)(),c=(0,H.useRef)(),l=(0,H.useRef)(!1),[u,d]=(0,H.useState)(void 0),[,f]=(0,H.useState)(0),p=(0,H.useCallback)(o=>{if(n.current=o,!o){for(let e of i.current)e();i.current.length=0;return}let u=e.modules||[];r.current||(r.current=new kLe(()=>f(e=>e+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{r.current?.destroy(),r.current=null}));let p=DSe(e.gridOptions,e,Object.keys(e).filter(e=>!H4.has(e))),m=new QLe(()=>{if(l.current){let e=()=>s.current?.shouldQueueUpdates()?void 0:a.current.shift(),t=e();for(;t;)t(),t=e()}});s.current=m;let h=new KLe,g={providedBeanInstances:{frameworkCompWrapper:new XLe(r.current,p),renderStatus:h},modules:u,frameworkOverrides:m,setThemeOnGridDiv:!0},_=n=>{d(n),n.createBean(h),i.current.push(()=>{n.destroy()}),n.getBean(`ctrlsSvc`).whenReady({addDestroyFunc:e=>{i.current.push(e)}},()=>{if(n.isDestroyed())return;let r=t.current;r&&e.passGridApi?.(r)})},v=e=>{e.getBean(`ctrlsSvc`).whenReady({addDestroyFunc:e=>{i.current.push(e)}},()=>{for(let e of a.current)e();a.current.length=0,l.current=!0})},y=new Yje;p.gridId??=c.current,t.current=y.create(o,p,_,v,g),i.current.push(()=>{t.current=void 0}),t.current&&(c.current=t.current.getGridId())},[]),m=(0,H.useMemo)(()=>({height:`100%`,...e.containerStyle||{}}),[e.containerStyle]),h=(0,H.useCallback)(e=>{l.current&&!s.current?.shouldQueueUpdates()?e():a.current.push(e)},[]);(0,H.useEffect)(()=>{let n=YLe(o.current,e);o.current=e,h(()=>{t.current&&OSe(n,t.current)})},[e]);let g=!H.useSyncExternalStore||vY(e,`renderingMode`)===`legacy`?`legacy`:`default`;return H.createElement(`div`,{style:m,className:e.className,ref:p},H.createElement(h4.Provider,{value:g},u&&!u.isDestroyed()?H.createElement(GLe,{key:u.instanceId,context:u}):null,r.current?.getPortals()??null))};function YLe(e,t){let n={};for(let r of Object.keys(t)){if(H4.has(r)){JLe.has(r)&&X(274,{prop:r});continue}let i=t[r];e[r]!==i&&(n[r]=i)}return n}var XLe=class extends eMe{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){let n=this.gridOptions;if(vY(n,`reactiveCustomComponents`)){let r=(e=>{switch(e){case`filter`:return vY(n,`enableFilterHandlers`)?vLe:_Le;case`floatingFilterComponent`:return vY(n,`enableFilterHandlers`)?xLe:bLe;case`dateComponent`:return hLe;case`dragAndDropImageComponent`:return gLe;case`loadingOverlayComponent`:return CLe;case`noRowsOverlayComponent`:return TLe;case`statusPanel`:return ELe;case`toolPanel`:return DLe;case`menuItem`:return wLe;case`cellRenderer`:return mLe;case`innerHeaderComponent`:return SLe}})(t.name);if(r)return new r(e,this.parent,t)}else switch(t.name){case`filter`:case`floatingFilterComponent`:case`dateComponent`:case`dragAndDropImageComponent`:case`loadingOverlayComponent`:case`noRowsOverlayComponent`:case`statusPanel`:case`toolPanel`:case`menuItem`:case`cellRenderer`:P4();break}let r=!t.cellRenderer&&t.name!==`toolPanel`;return new A4(e,this.parent,t,r)}},ZLe=(0,H.forwardRef)((e,t)=>{let n=(0,H.useContext)(m4),{registry:r,context:i,gos:a,rowModel:o}=n,[s,c]=(0,H.useState)(()=>new y4),[l,u]=(0,H.useState)(()=>new y4),[d,f]=(0,H.useState)(),[p,m]=(0,H.useState)(),h=(0,H.useRef)(),g=(0,H.useRef)(null),_=(0,H.useRef)(),v=(0,H.useMemo)(()=>aSe(e.api.getGridId(),d?.rowModelType??`clientSide`),[e]),y=(0,H.useMemo)(()=>s.toString()+` ag-details-row`,[s]),b=(0,H.useMemo)(()=>l.toString()+` ag-details-grid`,[l]);t&&(0,H.useImperativeHandle)(t,()=>({refresh(){return h.current?.refresh()??!1}})),e.template&&X(230);let x=(0,H.useCallback)(t=>{if(g.current=t,!t||i.isDestroyed()){h.current=i.destroyBean(h.current),_.current?.();return}let s={toggleCss:(e,t)=>c(n=>n.setClass(e,t)),toggleDetailGridCss:(e,t)=>u(n=>n.setClass(e,t)),setDetailGrid:e=>f(e),setRowData:e=>m(e),getGui:()=>g.current},l=r.createDynamicBean(`detailCellRendererCtrl`,!0);if(l&&(i.createBean(l),l.init(s,e),h.current=l,a.get(`detailRowAutoHeight`))){let r=()=>{if(g.current==null)return;let t=g.current.clientHeight;t!=null&&t>0&&setTimeout(()=>{e.node.setRowHeight(t),(zJ(a,o)||BJ(a,o))&&o.onRowHeightChanged()},0)};_.current=Lq(n,t,r),r()}},[]),S=(0,H.useCallback)(e=>{h.current?.registerDetailWithMaster(e)},[]);return H.createElement(`div`,{className:y,ref:x},d&&H.createElement(U4,{className:b,...d,modules:v,rowData:p,passGridApi:S}))}),QLe=class extends B${constructor(e){super(`react`),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine=`react`,this.frameworkComponents={agGroupCellRenderer:D4,agGroupRowRenderer:D4,agDetailCellRenderer:ZLe},this.wrapIncoming=(e,t)=>t===`ensureVisible`?lLe(e):e()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;let t=e.prototype;return!(t&&`getGui`in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return cLe()}},$Le=class extends H.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e;for(let t of this.apiListeners)t(e)}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return H.createElement(U4,{...this.props,passGridApi:this.setGridApi})}},eRe=br(),tRe=e=>{let t=(0,eRe.c)(11),{title:n,subtitle:r,menu:i,loading:a}=e,o;t[0]===i?o=t[1]:(o=i===void 0?[]:i,t[0]=i,t[1]=o);let s=o,c=a===void 0?!1:a;if(!(n||s.length>0))return null;let l;t[2]!==r||t[3]!==n?(l=n&&(0,V.jsxs)(`div`,{className:`title-section`,children:[(0,V.jsx)(`h2`,{children:n}),r&&(0,V.jsx)(`p`,{className:`subtitle`,children:r})]}),t[2]=r,t[3]=n,t[4]=l):l=t[4];let u;t[5]!==c||t[6]!==s?(u=s.length>0&&(0,V.jsx)(`div`,{className:`actions`,children:s.map(e=>{let t=c&&e.id===`refresh`;return(0,V.jsx)(Dp,{variant:`secondary`,size:`sm`,onClick:e.action,disabled:e.disabled||c,leftIcon:(0,V.jsx)(`span`,{className:t?`spinning`:``,children:e.icon}),children:e.label},e.id)})}),t[5]=c,t[6]=s,t[7]=u):u=t[7];let d;return t[8]!==l||t[9]!==u?(d=(0,V.jsxs)(`div`,{className:`table-header`,children:[l,u]}),t[8]=l,t[9]=u,t[10]=d):d=t[10],d},nRe=br();sSe.registerModules([iLe]);var rRe=Fke.withParams({backgroundColor:`var(--dark-bg)`,headerBackgroundColor:`var(--darker-bg)`,headerTextColor:`var(--primary-yellow)`,oddRowBackgroundColor:`var(--card-bg)`,rowHoverColor:`rgba(212, 255, 0, 0.05)`,selectedRowBackgroundColor:`rgba(212, 255, 0, 0.1)`,borderColor:`var(--border-color)`,foregroundColor:`var(--text-primary)`,browserColorScheme:`dark`,checkboxUncheckedBackgroundColor:`var(--primary-yellow)`,checkboxCheckedBackgroundColor:`var(--primary-yellow)`,checkboxIndeterminateBackgroundColor:`var(--primary-yellow)`,chromeBackgroundColor:{ref:`foregroundColor`,mix:.07,onto:`backgroundColor`},fontSize:13,headerFontSize:12,spacing:4}),W4=e=>{let t=(0,nRe.c)(31),n,r,i,a,o,s,c,l,u;t[0]===e?(n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],c=t[7],l=t[8],u=t[9]):({title:u,subtitle:s,menu:c,loading:l,columnDefs:n,rowData:o,defaultColDef:r,gridOptions:i,...a}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=c,t[8]=l,t[9]=u);let d;t[10]===c?d=t[11]:(d=c===void 0?[]:c,t[10]=c,t[11]=d);let f=d,p=l===void 0?!1:l,m;t[12]===r?m=t[13]:(m={...r,sortable:!0,resizable:!0,editable:!0},t[12]=r,t[13]=m);let h=m,g;t[14]===i?g=t[15]:(g={...i,suppressCellFocus:!0},t[14]=i,t[15]=g);let _=g,v;t[16]!==p||t[17]!==f||t[18]!==s||t[19]!==u?(v=(0,V.jsx)(tRe,{title:u,subtitle:s,menu:f,loading:p}),t[16]=p,t[17]=f,t[18]=s,t[19]=u,t[20]=v):v=t[20];let y;t[21]===Symbol.for(`react.memo_cache_sentinel`)?(y={mode:`singleRow`,checkboxes:!1,enableClickSelection:!0},t[21]=y):y=t[21];let b;t[22]!==n||t[23]!==h||t[24]!==_||t[25]!==a||t[26]!==o?(b=(0,V.jsx)($Le,{columnDefs:n,rowData:o,defaultColDef:h,theme:rRe,rowSelection:y,gridOptions:_,...a}),t[22]=n,t[23]=h,t[24]=_,t[25]=a,t[26]=o,t[27]=b):b=t[27];let x;return t[28]!==v||t[29]!==b?(x=(0,V.jsxs)(`div`,{className:`grid-table-container`,children:[v,b]}),t[28]=v,t[29]=b,t[30]=x):x=t[30],x},iRe={firstName:``,lastName:``,email:``,phone:``};const aRe=(e={},t)=>{t({content:(0,V.jsx)(oRe,{...e})})};var oRe=({initialData:e={},isEditing:t=!1,onClose:n})=>{let[r,i]=(0,H.useState)({...iRe,...e}),[a,o]=(0,H.useState)(!1),s=e=>{let{name:t,value:n}=e.target;i(e=>({...e,[t]:n}))};return(0,V.jsxs)(`div`,{className:`user-modal`,children:[(0,V.jsxs)(`div`,{className:`modal-header`,children:[(0,V.jsx)(`div`,{className:`header-icon`,children:(0,V.jsx)(ai,{size:24})}),(0,V.jsxs)(`div`,{className:`header-text`,children:[(0,V.jsx)(`h2`,{children:t?`Edit Attendee`:`Register New Attendee`}),(0,V.jsx)(`p`,{children:t?`Update attendee information`:`Add a new community member to your events`})]})]}),(0,V.jsx)(`div`,{className:`modal-body`,children:(0,V.jsxs)(`form`,{className:`user-form`,onSubmit:async e=>{e.preventDefault(),o(!0);let i=Date.now(),a={firstName:r.firstName,lastName:r.lastName,email:r.email,phone:r.phone||void 0};try{t&&r.id?FK?.update(r.id,e=>{e.firstName=a.firstName,e.lastName=a.lastName,e.email=a.email,e.phone=a.phone,e.updatedAt=i}):FK?.insert({...a,id:crypto.randomUUID(),createdAt:i,updatedAt:i}),n?.()}catch(e){console.error(`Failed to save user:`,e)}finally{o(!1)}},children:[!t&&(0,V.jsxs)(`div`,{className:`welcome-banner`,children:[(0,V.jsx)(ti,{size:16}),(0,V.jsx)(`span`,{children:`Welcome! Let's get you registered for our community events`})]}),(0,V.jsxs)(`div`,{className:`form-row`,children:[(0,V.jsx)(Xp,{label:`First Name`,type:`text`,name:`firstName`,placeholder:`John`,value:r.firstName,onChange:s,required:!0,leftIcon:(0,V.jsx)(oi,{size:14})}),(0,V.jsx)(Xp,{label:`Last Name`,type:`text`,name:`lastName`,placeholder:`Doe`,value:r.lastName,onChange:s,required:!0,leftIcon:(0,V.jsx)(oi,{size:14})})]}),(0,V.jsxs)(`div`,{className:`form-field-wrapper`,children:[(0,V.jsx)(Xp,{label:`Email Address`,type:`email`,name:`email`,placeholder:`john.doe@example.com`,value:r.email,onChange:s,required:!0,leftIcon:(0,V.jsx)(Jr,{size:14})}),(0,V.jsx)(`p`,{className:`field-hint`,children:`We'll use this to send you event updates`})]}),(0,V.jsxs)(`div`,{className:`form-field-wrapper`,children:[(0,V.jsx)(Xp,{label:`Phone Number`,type:`tel`,name:`phone`,placeholder:`+1 (555) 000-0000`,value:r.phone,onChange:s,leftIcon:(0,V.jsx)(Xr,{size:14})}),(0,V.jsx)(`p`,{className:`field-hint`,children:`Optional - For important event notifications`})]}),!t&&(0,V.jsxs)(`div`,{className:`info-box`,children:[(0,V.jsx)(`div`,{className:`info-icon`,children:``}),(0,V.jsxs)(`div`,{className:`info-text`,children:[(0,V.jsx)(`strong`,{children:`What happens next?`}),(0,V.jsx)(`p`,{children:`You'll be added to our community and can start attending events immediately. Track your attendance and earn loyalty rewards!`})]})]}),(0,V.jsxs)(`div`,{className:`form-actions`,children:[t&&(0,V.jsx)(Dp,{type:`button`,variant:`danger`,onClick:async()=>{if(r.id&&confirm(`Are you sure you want to delete this user?`)){o(!0);try{FK?.delete(r.id),n?.()}catch(e){console.error(`Failed to delete user:`,e)}finally{o(!1)}}},disabled:a,leftIcon:(0,V.jsx)(ri,{size:14}),children:`Delete`}),(0,V.jsxs)(`div`,{className:`actions-right`,children:[(0,V.jsx)(Dp,{type:`button`,variant:`secondary`,onClick:n,disabled:a,children:`Cancel`}),(0,V.jsx)(Dp,{type:`submit`,variant:`primary`,disabled:a,leftIcon:!a&&(0,V.jsx)(ai,{size:14}),children:a?`Saving...`:t?`Update Attendee`:`Register Attendee`})]})]})]})})]})},G4=br(),sRe=(e,t)=>{switch(e){default:console.log(t);return}},cRe=[{field:`id`,headerName:`Member ID`,width:90},{field:`firstName`,headerName:`Member Name`,width:135,filter:!0},{field:`lastName`,headerName:`Member Name`,width:135,filter:!0},{field:`email`,headerName:`Email`,width:165,filter:!0},{field:`tier`,headerName:`Tier`,width:98,cellRenderer:e=>{let t=Object.keys(jx.enum),n=t[Math.floor(Math.random()*t.length)];return(0,V.jsx)(uRe,{level:e.value||n})},filter:!0},{field:`updatedAt`,headerName:`Last Attended`,width:105,filter:`agDateColumnFilter`},{headerName:`Total Events`,width:98,filter:`agNumberColumnFilter`,cellRenderer:()=>(0,V.jsx)(V.Fragment,{children:Math.floor(Math.random()*100)})},{field:`checkInTime`,headerName:`Attendance Rate`,width:150,cellRenderer:e=>(0,V.jsx)(dRe,{rate:e.value}),filter:`agNumberColumnFilter`},{field:`points`,headerName:`Points`,width:90,filter:`agNumberColumnFilter`,valueFormatter:e=>(e.value||String(Math.floor(Math.random()*100))).toLocaleString()},{field:`attended`,headerName:`Status`,width:90,cellRenderer:e=>(0,V.jsx)(lRe,{status:e.value}),filter:!0},{headerName:`Actions`,width:75,cellRenderer:()=>(0,V.jsx)(`button`,{className:`action-btn`,children:(0,V.jsx)(Br,{size:14})}),pinned:`right`}],lRe=e=>{let t=(0,G4.c)(3),{status:n}=e,r=`status-badge ${n?`active`:`inactive`}`,i;return t[0]!==n||t[1]!==r?(i=(0,V.jsx)(`span`,{className:r,children:n}),t[0]=n,t[1]=r,t[2]=i):i=t[2],i},uRe=e=>{let t=(0,G4.c)(5),{level:n}=e,r;t[0]===n?r=t[1]:(r=n?.toLowerCase(),t[0]=n,t[1]=r);let i=`membership-badge ${r}`,a;return t[2]!==n||t[3]!==i?(a=(0,V.jsx)(`span`,{className:i,children:n}),t[2]=n,t[3]=i,t[4]=a):a=t[4],a},dRe=e=>{let t=(0,G4.c)(8),{rate:n}=e,r=hRe,i=`${n}%`,a=r(n),o;t[0]!==i||t[1]!==a?(o=(0,V.jsx)(`div`,{className:`attendance-bar`,children:(0,V.jsx)(`div`,{className:`attendance-fill`,style:{width:i,backgroundColor:a}})}),t[0]=i,t[1]=a,t[2]=o):o=t[2];let s;t[3]===n?s=t[4]:(s=(0,V.jsxs)(`span`,{className:`attendance-percentage`,children:[n,`%`]}),t[3]=n,t[4]=s);let c;return t[5]!==o||t[6]!==s?(c=(0,V.jsxs)(`div`,{className:`attendance-bar-container`,children:[o,s]}),t[5]=o,t[6]=s,t[7]=c):c=t[7],c};function K4(){let e=(0,G4.c)(11),{data:t}=NK(mRe),n;e[0]===t?n=e[1]:(n=Array.isArray(t)?t:[],e[0]=t,e[1]=n);let r=n,{openLauncher:i}=Gm(),a;e[2]===Symbol.for(`react.memo_cache_sentinel`)?(a={id:`filter`,label:`Filter`,icon:(0,V.jsx)(Wr,{}),action:pRe},e[2]=a):a=e[2];let o;e[3]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,V.jsx)(Lr,{}),e[3]=o):o=e[3];let s;e[4]===i?s=e[5]:(s=[a,{id:`add`,label:`Create User`,icon:o,action:()=>aRe({isEditing:!1},i)}],e[4]=i,e[5]=s);let c=s,l;e[6]===Symbol.for(`react.memo_cache_sentinel`)?(l=(0,V.jsxs)(`div`,{className:`page-header`,children:[(0,V.jsx)(`h1`,{children:`Users`}),(0,V.jsx)(`p`,{className:`page-subtitle`,children:`View all users`})]}),e[6]=l):l=e[6];let u=`${r.length} total members`,d;return e[7]!==c||e[8]!==r||e[9]!==u?(d=(0,V.jsxs)(V.Fragment,{children:[l,(0,V.jsx)(W4,{title:`Member Attendance Records`,subtitle:u,menu:c,columnDefs:cRe,rowData:r,onRowClicked:fRe})]}),e[7]=c,e[8]=r,e[9]=u,e[10]=d):d=e[10],d}function fRe(e){return sRe(e.type,e)}function pRe(){return console.log(`Filter clicked`)}function mRe(e){return e.from({userCollection:FK})}function hRe(e){return e>=90?`#d4ff00`:e>=75?`#00ff88`:`#ff9800`}var gRe=br();function _Re(){let e=(0,gRe.c)(1),t;return e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(jK,{}),(0,V.jsx)(K4,{})]}),e[0]=t):t=e[0],t}var q4,J4,Y4,X4,Z4,Q4,$4,e3,t3,n3={},r3=[],vRe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function i3(e,t){for(var n in t)e[n]=t[n];return e}function a3(e){var t=e.parentNode;t&&t.removeChild(e)}function Q(e,t,n){var r,i,a,o={};for(a in t)a==`key`?r=t[a]:a==`ref`?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?q4.call(arguments,2):n),typeof e==`function`&&e.defaultProps!=null)for(a in e.defaultProps)o[a]===void 0&&(o[a]=e.defaultProps[a]);return o3(e,o,r,i,null)}function o3(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Y4};return i==null&&J4.vnode!=null&&J4.vnode(a),a}function s3(){return{current:null}}function c3(e){return e.children}function yRe(e,t,n,r,i){for(var a in n)a===`children`||a===`key`||a in t||u3(e,a,null,n[a],r);for(a in t)i&&typeof t[a]!=`function`||a===`children`||a===`key`||a===`value`||a===`checked`||n[a]===t[a]||u3(e,a,t[a],n[a],r)}function l3(e,t,n){t[0]===`-`?e.setProperty(t,n??``):e[t]=n==null?``:typeof n!=`number`||vRe.test(t)?n:n+`px`}function u3(e,t,n,r,i){var a;n:if(t===`style`)if(typeof n==`string`)e.style.cssText=n;else{if(typeof r==`string`&&(e.style.cssText=r=``),r)for(t in r)n&&t in n||l3(e.style,t,``);if(n)for(t in n)r&&n[t]===r[t]||l3(e.style,t,n[t])}else if(t[0]===`o`&&t[1]===`n`)a=t!==(t=t.replace(/Capture$/,``)),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||={},e.l[t+a]=n,n?r||e.addEventListener(t,a?f3:d3,a):e.removeEventListener(t,a?f3:d3,a);else if(t!==`dangerouslySetInnerHTML`){if(i)t=t.replace(/xlink(H|:h)/,`h`).replace(/sName$/,`s`);else if(t!==`width`&&t!==`height`&&t!==`href`&&t!==`list`&&t!==`form`&&t!==`tabIndex`&&t!==`download`&&t in e)try{e[t]=n??``;break n}catch{}typeof n==`function`||(n==null||!1===n&&t.indexOf(`-`)==-1?e.removeAttribute(t):e.setAttribute(t,n))}}function d3(e){Z4=!0;try{return this.l[e.type+!1](J4.event?J4.event(e):e)}finally{Z4=!1}}function f3(e){Z4=!0;try{return this.l[e.type+!0](J4.event?J4.event(e):e)}finally{Z4=!1}}function p3(e,t){this.props=e,this.context=t}function m3(e,t){if(t==null)return e.__?m3(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type==`function`?m3(e):null}function h3(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return h3(e)}}function bRe(e){Z4?setTimeout(e):e3(e)}function g3(e){(!e.__d&&(e.__d=!0)&&Q4.push(e)&&!_3.__r++||$4!==J4.debounceRendering)&&(($4=J4.debounceRendering)||bRe)(_3)}function _3(){var e,t,n,r,i,a,o,s;for(Q4.sort(function(e,t){return e.__v.__b-t.__v.__b});e=Q4.shift();)e.__d&&(t=Q4.length,r=void 0,i=void 0,o=(a=(n=e).__v).__e,(s=n.__P)&&(r=[],(i=i3({},a)).__v=a.__v+1,C3(s,a,i,n.__n,s.ownerSVGElement!==void 0,a.__h==null?null:[o],r,o??m3(a),a.__h),w3(r,a),a.__e!=o&&h3(a)),Q4.length>t&&Q4.sort(function(e,t){return e.__v.__b-t.__v.__b}));_3.__r=0}function v3(e,t,n,r,i,a,o,s,c,l){var u,d,f,p,m,h,g,_=r&&r.__k||r3,v=_.length;for(n.__k=[],u=0;u<t.length;u++)if((p=n.__k[u]=(p=t[u])==null||typeof p==`boolean`?null:typeof p==`string`||typeof p==`number`||typeof p==`bigint`?o3(null,p,null,null,p):Array.isArray(p)?o3(c3,{children:p},null,null,null):p.__b>0?o3(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=n,p.__b=n.__b+1,(f=_[u])===null||f&&p.key==f.key&&p.type===f.type)_[u]=void 0;else for(d=0;d<v;d++){if((f=_[d])&&p.key==f.key&&p.type===f.type){_[d]=void 0;break}f=null}C3(e,p,f||=n3,i,a,o,s,c,l),m=p.__e,(d=p.ref)&&f.ref!=d&&(g||=[],f.ref&&g.push(f.ref,null,p),g.push(d,p.__c||m,p)),m==null?c&&f.__e==c&&c.parentNode!=e&&(c=m3(f)):(h??=m,typeof p.type==`function`&&p.__k===f.__k?p.__d=c=y3(p,c,e):c=x3(e,p,f,_,m,c),typeof n.type==`function`&&(n.__d=c))}for(n.__e=h,u=v;u--;)_[u]!=null&&(typeof n.type==`function`&&_[u].__e!=null&&_[u].__e==n.__d&&(n.__d=S3(r).nextSibling),E3(_[u],_[u]));if(g)for(u=0;u<g.length;u++)T3(g[u],g[++u],g[++u])}function y3(e,t,n){for(var r,i=e.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=e,t=typeof r.type==`function`?y3(r,t,n):x3(n,r,r,i,r.__e,t));return t}function b3(e,t){return t||=[],e==null||typeof e==`boolean`||(Array.isArray(e)?e.some(function(e){b3(e,t)}):t.push(e)),t}function x3(e,t,n,r,i,a){var o,s,c;if(t.__d!==void 0)o=t.__d,t.__d=void 0;else if(n==null||i!=a||i.parentNode==null)n:if(a==null||a.parentNode!==e)e.appendChild(i),o=null;else{for(s=a,c=0;(s=s.nextSibling)&&c<r.length;c+=1)if(s==i)break n;e.insertBefore(i,a),o=a}return o===void 0?i.nextSibling:o}function S3(e){var t,n,r;if(e.type==null||typeof e.type==`string`)return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(r=S3(n)))return r}return null}function C3(e,t,n,r,i,a,o,s,c){var l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,s=t.__e=n.__e,t.__h=null,a=[s]),(l=J4.__b)&&l(t);try{n:if(typeof w==`function`){if(g=t.props,_=(l=w.contextType)&&r[l.__c],v=l?_?_.props.value:l.__:r,n.__c?h=(u=t.__c=n.__c).__=u.__E:(`prototype`in w&&w.prototype.render?t.__c=u=new w(g,v):(t.__c=u=new p3(g,v),u.constructor=w,u.render=SRe),_&&_.sub(u),u.props=g,u.state||={},u.context=v,u.__n=r,d=u.__d=!0,u.__h=[],u._sb=[]),u.__s??=u.state,w.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=i3({},u.__s)),i3(u.__s,w.getDerivedStateFromProps(g,u.__s))),f=u.props,p=u.state,u.__v=t,d)w.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(w.getDerivedStateFromProps==null&&g!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(g,v),!u.__e&&u.shouldComponentUpdate!=null&&!1===u.shouldComponentUpdate(g,u.__s,v)||t.__v===n.__v){for(t.__v!==n.__v&&(u.props=g,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),y=0;y<u._sb.length;y++)u.__h.push(u._sb[y]);u._sb=[],u.__h.length&&o.push(u);break n}u.componentWillUpdate!=null&&u.componentWillUpdate(g,u.__s,v),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,p,m)})}if(u.context=v,u.props=g,u.__P=e,b=J4.__r,x=0,`prototype`in w&&w.prototype.render){for(u.state=u.__s,u.__d=!1,b&&b(t),l=u.render(u.props,u.state,u.context),S=0;S<u._sb.length;S++)u.__h.push(u._sb[S]);u._sb=[]}else do u.__d=!1,b&&b(t),l=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++x<25);u.state=u.__s,u.getChildContext!=null&&(r=i3(i3({},r),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(m=u.getSnapshotBeforeUpdate(f,p)),C=l!=null&&l.type===c3&&l.key==null?l.props.children:l,v3(e,Array.isArray(C)?C:[C],t,n,r,i,a,o,s,c),u.base=t.__e,t.__h=null,u.__h.length&&o.push(u),h&&(u.__E=u.__=null),u.__e=!1}else a==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=xRe(n.__e,t,n,r,i,a,o,c);(l=J4.diffed)&&l(t)}catch(e){t.__v=null,(c||a!=null)&&(t.__e=s,t.__h=!!c,a[a.indexOf(s)]=null),J4.__e(e,t,n)}}function w3(e,t){J4.__c&&J4.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){J4.__e(e,t.__v)}})}function xRe(e,t,n,r,i,a,o,s){var c,l,u,d=n.props,f=t.props,p=t.type,m=0;if(p===`svg`&&(i=!0),a!=null){for(;m<a.length;m++)if((c=a[m])&&`setAttribute`in c==!!p&&(p?c.localName===p:c.nodeType===3)){e=c,a[m]=null;break}}if(e==null){if(p===null)return document.createTextNode(f);e=i?document.createElementNS(`http://www.w3.org/2000/svg`,p):document.createElement(p,f.is&&f),a=null,s=!1}if(p===null)d===f||s&&e.data===f||(e.data=f);else{if(a&&=q4.call(e.childNodes),l=(d=n.props||n3).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!s){if(a!=null)for(d={},m=0;m<e.attributes.length;m++)d[e.attributes[m].name]=e.attributes[m].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||``))}if(yRe(e,f,d,i,s),u)t.__k=[];else if(m=t.props.children,v3(e,Array.isArray(m)?m:[m],t,n,r,i&&p!==`foreignObject`,a,o,a?a[0]:n.__k&&m3(n,0),s),a!=null)for(m=a.length;m--;)a[m]!=null&&a3(a[m]);s||(`value`in f&&(m=f.value)!==void 0&&(m!==e.value||p===`progress`&&!m||p===`option`&&m!==d.value)&&u3(e,`value`,m,d.value,!1),`checked`in f&&(m=f.checked)!==void 0&&m!==e.checked&&u3(e,`checked`,m,d.checked,!1))}return e}function T3(e,t,n){try{typeof e==`function`?e(t):e.current=t}catch(e){J4.__e(e,n)}}function E3(e,t,n){var r,i;if(J4.unmount&&J4.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||T3(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){J4.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&E3(r[i],t,n||typeof e.type!=`function`);n||e.__e==null||a3(e.__e),e.__=e.__e=e.__d=void 0}function SRe(e,t,n){return this.constructor(e,n)}function D3(e,t,n){var r,i,a;J4.__&&J4.__(e,t),i=(r=typeof n==`function`)?null:n&&n.__k||t.__k,a=[],C3(t,e=(!r&&n||t).__k=Q(c3,null,[e]),i||n3,n3,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?q4.call(t.childNodes):null,a,!r&&n?n:i?i.__e:t.firstChild,r),w3(a,e)}function CRe(e,t){var n={__c:t=`__cC`+ t3++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(function(e){e.__e=!0,g3(e)})},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}q4=r3.slice,J4={__e:function(e,t,n,r){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},Y4=0,X4=function(e){return e!=null&&e.constructor===void 0},Z4=!1,p3.prototype.setState=function(e,t){var n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=i3({},this.state);typeof e==`function`&&(e=e(i3({},n),this.props)),e&&i3(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),g3(this))},p3.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),g3(this))},p3.prototype.render=c3,Q4=[],e3=typeof Promise==`function`?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_3.__r=0,t3=0;var O3,k3,A3,j3=[],M3=[],N3=J4.__b,P3=J4.__r,F3=J4.diffed,I3=J4.__c,L3=J4.unmount;function wRe(){for(var e;e=j3.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(z3),e.__H.__h.forEach(B3),e.__H.__h=[]}catch(t){e.__H.__h=[],J4.__e(t,e.__v)}}J4.__b=function(e){O3=null,N3&&N3(e)},J4.__r=function(e){P3&&P3(e);var t=(O3=e.__c).__H;t&&(k3===O3?(t.__h=[],O3.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=M3,e.__N=e.i=void 0})):(t.__h.forEach(z3),t.__h.forEach(B3),t.__h=[])),k3=O3},J4.diffed=function(e){F3&&F3(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(j3.push(t)!==1&&A3===J4.requestAnimationFrame||((A3=J4.requestAnimationFrame)||TRe)(wRe)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==M3&&(e.__=e.__V),e.i=void 0,e.__V=M3})),k3=O3=null},J4.__c=function(e,t){t.some(function(e){try{e.__h.forEach(z3),e.__h=e.__h.filter(function(e){return!e.__||B3(e)})}catch(n){t.some(function(e){e.__h&&=[]}),t=[],J4.__e(n,e.__v)}}),I3&&I3(e,t)},J4.unmount=function(e){L3&&L3(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{z3(e)}catch(e){t=e}}),n.__H=void 0,t&&J4.__e(t,n.__v))};var R3=typeof requestAnimationFrame==`function`;function TRe(e){var t,n=function(){clearTimeout(r),R3&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);R3&&(t=requestAnimationFrame(n))}function z3(e){var t=O3,n=e.__c;typeof n==`function`&&(e.__c=void 0,n()),O3=t}function B3(e){var t=O3;e.__c=e.__(),O3=t}function ERe(e,t){for(var n in t)e[n]=t[n];return e}function V3(e,t){for(var n in e)if(n!==`__source`&&!(n in t))return!0;for(var r in t)if(r!==`__source`&&e[r]!==t[r])return!0;return!1}function H3(e){this.props=e}(H3.prototype=new p3).isPureReactComponent=!0,H3.prototype.shouldComponentUpdate=function(e,t){return V3(this.props,e)||V3(this.state,t)};var U3=J4.__b;J4.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),U3&&U3(e)},typeof Symbol<`u`&&Symbol.for;var DRe=J4.__e;J4.__e=function(e,t,n,r){if(e.then){for(var i,a=t;a=a.__;)if((i=a.__c)&&i.__c)return t.__e??(t.__e=n.__e,t.__k=n.__k),i.__c(e,t)}DRe(e,t,n,r)};var W3=J4.unmount;function G3(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(e){typeof e.__c==`function`&&e.__c()}),e.__c.__H=null),(e=ERe({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return G3(e,t,n)})),e}function K3(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return K3(e,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function q3(){this.__u=0,this.t=null,this.__b=null}function J3(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Y3(){this.u=null,this.o=null}J4.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),W3&&W3(e)},(q3.prototype=new p3).__c=function(e,t){var n=t.__c,r=this;r.t??=[],r.t.push(n);var i=J3(r.__v),a=!1,o=function(){a||(a=!0,n.__R=null,i?i(s):s())};n.__R=o;var s=function(){if(!--r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=K3(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(o,o)},q3.prototype.componentWillUnmount=function(){this.t=[]},q3.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement(`div`),r=this.__v.__k[0].__c;this.__v.__k[0]=G3(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&Q(c3,null,e.fallback);return i&&(i.__h=null),[Q(c3,null,t.__a?null:e.children),i]};var X3=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!==`t`||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function ORe(e){return this.getChildContext=function(){return e.context},e.children}function kRe(e){var t=this,n=e.i;t.componentWillUnmount=function(){D3(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||=(t.i=n,{nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),D3(Q(ORe,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function ARe(e,t){var n=Q(kRe,{__v:e,i:t});return n.containerInfo=t,n}(Y3.prototype=new p3).__a=function(e){var t=this,n=J3(t.__v),r=t.o.get(e);return r[0]++,function(i){var a=function(){t.props.revealOrder?(r.push(i),X3(t,e,r)):i()};n?n(a):a()}},Y3.prototype.render=function(e){this.u=null,this.o=new Map;var t=b3(e.children);e.revealOrder&&e.revealOrder[0]===`b`&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},Y3.prototype.componentDidUpdate=Y3.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){X3(e,n,t)})};var jRe=typeof Symbol<`u`&&Symbol.for&&Symbol.for(`react.element`)||60103,MRe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,NRe=typeof document<`u`,PRe=function(e){return(typeof Symbol<`u`&&typeof Symbol()==`symbol`?/fil|che|rad/i:/fil|che|ra/i).test(e)};p3.prototype.isReactComponent={},[`componentWillMount`,`componentWillReceiveProps`,`componentWillUpdate`].forEach(function(e){Object.defineProperty(p3.prototype,e,{configurable:!0,get:function(){return this[`UNSAFE_`+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Z3=J4.event;function FRe(){}function IRe(){return this.cancelBubble}function LRe(){return this.defaultPrevented}J4.event=function(e){return Z3&&(e=Z3(e)),e.persist=FRe,e.isPropagationStopped=IRe,e.isDefaultPrevented=LRe,e.nativeEvent=e};var Q3={configurable:!0,get:function(){return this.class}},$3=J4.vnode;J4.vnode=function(e){var t=e.type,n=e.props,r=n;if(typeof t==`string`){var i=t.indexOf(`-`)===-1;for(var a in r={},n){var o=n[a];NRe&&a===`children`&&t===`noscript`||a===`value`&&`defaultValue`in n&&o==null||(a===`defaultValue`&&`value`in n&&n.value==null?a=`value`:a===`download`&&!0===o?o=``:/ondoubleclick/i.test(a)?a=`ondblclick`:/^onchange(textarea|input)/i.test(a+t)&&!PRe(n.type)?a=`oninput`:/^onfocus$/i.test(a)?a=`onfocusin`:/^onblur$/i.test(a)?a=`onfocusout`:/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&MRe.test(a)?a=a.replace(/[A-Z0-9]/g,`-$&`).toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),r[a]&&(a=`oninputCapture`)),r[a]=o)}t==`select`&&r.multiple&&Array.isArray(r.value)&&(r.value=b3(n.children).forEach(function(e){e.props.selected=r.value.indexOf(e.props.value)!=-1})),t==`select`&&r.defaultValue!=null&&(r.value=b3(n.children).forEach(function(e){e.props.selected=r.multiple?r.defaultValue.indexOf(e.props.value)!=-1:r.defaultValue==e.props.value})),e.props=r,n.class!=n.className&&(Q3.enumerable=`className`in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,`className`,Q3))}e.$$typeof=jRe,$3&&$3(e)};var e6=J4.__r;J4.__r=function(e){e6&&e6(e),e.__c};var t6=[],n6=new Map;function r6(e){t6.push(e),n6.forEach(t=>{a6(t,e)})}function RRe(e){e.isConnected&&e.getRootNode&&i6(e.getRootNode())}function i6(e){let t=n6.get(e);if(!t||!t.isConnected){if(t=e.querySelector(`style[data-fullcalendar]`),!t){t=document.createElement(`style`),t.setAttribute(`data-fullcalendar`,``);let n=BRe();n&&(t.nonce=n);let r=e===document?document.head:e,i=e===document?r.querySelector(`script,link[rel=stylesheet],link[as=style],style`):r.firstChild;r.insertBefore(t,i)}n6.set(e,t),zRe(t)}}function zRe(e){for(let t of t6)a6(e,t)}function a6(e,t){let{sheet:n}=e,r=n.cssRules.length;t.split(`}`).forEach((e,t)=>{e=e.trim(),e&&n.insertRule(e+`}`,r+t)})}var o6;function BRe(){return o6===void 0&&(o6=VRe()),o6}function VRe(){let e=document.querySelector(`meta[name="csp-nonce"]`);if(e&&e.hasAttribute(`content`))return e.getAttribute(`content`);let t=document.querySelector(`script[nonce]`);return t&&t.nonce||``}typeof document<`u`&&i6(document),r6(`:root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}`);var s6=class{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=``){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e=``,t){let{pauseDepths:n}=this;e in n&&(t?delete n[e]:(--n[e],n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&=(clearTimeout(this.timeoutId),0)}drained(){this.drainedOption&&this.drainedOption()}};function c6(e){e.parentNode&&e.parentNode.removeChild(e)}function l6(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(HRe(e,t))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1);return null}function HRe(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function URe(e,t){let n=e instanceof HTMLElement?[e]:e,r=[];for(let e=0;e<n.length;e+=1){let i=n[e].querySelectorAll(t);for(let e=0;e<i.length;e+=1)r.push(i[e])}return r}var WRe=/(top|left|right|bottom|width|height)$/i;function u6(e,t){for(let n in t)d6(e,n,t[n])}function d6(e,t,n){n==null?e.style[t]=``:typeof n==`number`&&WRe.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function f6(e){return e.composedPath?.call(e)[0]??e.target}var p6=0;function m6(){return p6+=1,`fc-dom-`+p6}function h6(e){e.preventDefault()}function GRe(e,t){return n=>{let r=l6(n.target,e);r&&t.call(r,n,r)}}function g6(e,t,n,r){let i=GRe(n,r);return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}function KRe(e,t,n,r){let i;return g6(e,`mouseover`,t,(e,t)=>{if(t!==i){i=t,n(e,t);let a=e=>{i=null,r(e,t),t.removeEventListener(`mouseleave`,a)};t.addEventListener(`mouseleave`,a)}})}var _6=[`webkitTransitionEnd`,`otransitionend`,`oTransitionEnd`,`msTransitionEnd`,`transitionend`];function qRe(e,t){let n=r=>{t(r),_6.forEach(t=>{e.removeEventListener(t,n)})};_6.forEach(t=>{e.addEventListener(t,n)})}function v6(e){return Object.assign({onClick:e},y6(e))}function y6(e){return{tabIndex:0,onKeyDown(t){(t.key===`Enter`||t.key===` `)&&(e(t),t.preventDefault())}}}var b6=0;function x6(){return b6+=1,String(b6)}function S6(){document.body.classList.add(`fc-not-allowed`)}function C6(){document.body.classList.remove(`fc-not-allowed`)}function JRe(e){e.style.userSelect=`none`,e.style.webkitUserSelect=`none`,e.addEventListener(`selectstart`,h6)}function YRe(e){e.style.userSelect=``,e.style.webkitUserSelect=``,e.removeEventListener(`selectstart`,h6)}function XRe(e){e.addEventListener(`contextmenu`,h6)}function ZRe(e){e.removeEventListener(`contextmenu`,h6)}function QRe(e){let t=[],n=[],r,i;for(typeof e==`string`?n=e.split(/\s*,\s*/):typeof e==`function`?n=[e]:Array.isArray(e)&&(n=e),r=0;r<n.length;r+=1)i=n[r],typeof i==`string`?t.push(i.charAt(0)===`-`?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i==`function`&&t.push({func:i});return t}function $Re(e,t,n){let r,i;for(r=0;r<n.length;r+=1)if(i=eze(e,t,n[r]),i)return i;return 0}function eze(e,t,n){return n.func?n.func(e,t):tze(e[n.field],t[n.field])*(n.order||1)}function tze(e,t){return!e&&!t?0:t==null?-1:e==null?1:typeof e==`string`||typeof t==`string`?String(e).localeCompare(String(t)):e-t}function w6(e,t){let n=String(e);return`000`.substr(0,t-n.length)+n}function T6(e,t,n){return typeof e==`function`?e(...t):typeof e==`string`?t.reduce((e,t,n)=>e.replace(`$`+n,t||``),e):n}function nze(e,t){return e-t}function E6(e){return e%1==0}function rze(e){let t=e.querySelector(`.fc-scrollgrid-shrink-frame`),n=e.querySelector(`.fc-scrollgrid-shrink-cushion`);if(!t)throw Error(`needs fc-scrollgrid-shrink-frame className`);if(!n)throw Error(`needs fc-scrollgrid-shrink-cushion className`);return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}var D6=[`years`,`months`,`days`,`milliseconds`],ize=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function O6(e,t){return typeof e==`string`?aze(e):typeof e==`object`&&e?k6(e):typeof e==`number`?k6({[t||`milliseconds`]:e}):null}function aze(e){let t=ize.exec(e);if(t){let e=t[1]?-1:1;return{years:0,months:0,days:e*(t[2]?parseInt(t[2],10):0),milliseconds:e*((t[3]?parseInt(t[3],10):0)*60*60*1e3+(t[4]?parseInt(t[4],10):0)*60*1e3+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}function k6(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:(e.hours||e.hour||0)*60*60*1e3+(e.minutes||e.minute||0)*60*1e3+(e.seconds||e.second||0)*1e3+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=n*7,t.specifiedWeeks=!0),t}function oze(e,t){return e.years===t.years&&e.months===t.months&&e.days===t.days&&e.milliseconds===t.milliseconds}function A6(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function sze(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function cze(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function lze(e){return j6(e)/365}function uze(e){return j6(e)/30}function j6(e){return M6(e)/864e5}function M6(e){return e.years*(365*864e5)+e.months*(30*864e5)+e.days*864e5+e.milliseconds}function N6(e,t){let n=null;for(let r=0;r<D6.length;r+=1){let i=D6[r];if(t[i]){let r=e[i]/t[i];if(!E6(r)||n!==null&&n!==r)return null;n=r}else if(e[i])return null}return n}function P6(e){let t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:`millisecond`,value:t};if(t%(1e3*60)!=0)return{unit:`second`,value:t/1e3};if(t%(1e3*60*60)!=0)return{unit:`minute`,value:t/(1e3*60)};if(t)return{unit:`hour`,value:t/(1e3*60*60)}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:`week`,value:e.days/7}:{unit:`day`,value:e.days}:e.months?{unit:`month`,value:e.months}:e.years?{unit:`year`,value:e.years}:{unit:`millisecond`,value:0}}function F6(e,t,n){if(e===t)return!0;let r=e.length,i;if(r!==t.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(e[i],t[i]):e[i]===t[i]))return!1;return!0}var dze=[`sun`,`mon`,`tue`,`wed`,`thu`,`fri`,`sat`];function I6(e,t){let n=G6(e);return n[2]+=t*7,K6(n)}function L6(e,t){let n=G6(e);return n[2]+=t,K6(n)}function R6(e,t){let n=G6(e);return n[6]+=t,K6(n)}function fze(e,t){return z6(e,t)/7}function z6(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60*24)}function pze(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60)}function mze(e,t){return(t.valueOf()-e.valueOf())/(1e3*60)}function hze(e,t){return(t.valueOf()-e.valueOf())/1e3}function gze(e,t){let n=V6(e),r=V6(t);return{years:0,months:0,days:Math.round(z6(n,r)),milliseconds:t.valueOf()-r.valueOf()-(e.valueOf()-n.valueOf())}}function _ze(e,t){let n=B6(e,t);return n!==null&&n%7==0?n/7:null}function B6(e,t){return J6(e)===J6(t)?Math.round(z6(e,t)):null}function V6(e){return K6([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function vze(e){return K6([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}function yze(e){return K6([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}function bze(e){return K6([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}function xze(e,t,n){let r=e.getUTCFullYear(),i=H6(e,r,t,n);if(i<1)return H6(e,r-1,t,n);let a=H6(e,r+1,t,n);return a>=1?Math.min(i,a):i}function H6(e,t,n,r){let i=K6([t,0,1+Sze(t,n,r)]),a=V6(e),o=Math.round(z6(i,a));return Math.floor(o/7)+1}function Sze(e,t,n){let r=7+t-n;return-((7+K6([e,0,r]).getUTCDay()-t)%7)+r-1}function U6(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function W6(e){return new Date(e[0],e[1]||0,e[2]==null?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function G6(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function K6(e){return e.length===1&&(e=e.concat([0])),new Date(Date.UTC(...e))}function q6(e){return!isNaN(e.valueOf())}function J6(e){return e.getUTCHours()*1e3*60*60+e.getUTCMinutes()*1e3*60+e.getUTCSeconds()*1e3+e.getUTCMilliseconds()}function Y6(e,t,n=!1){let r=e.toISOString();return r=r.replace(`.000`,``),n&&(r=r.replace(`T00:00:00Z`,``)),r.length>10&&(t==null?r=r.replace(`Z`,``):t!==0&&(r=r.replace(`Z`,Z6(t,!0)))),r}function X6(e){return e.toISOString().replace(/T.*$/,``)}function Cze(e){return e.toISOString().match(/^\d{4}-\d{2}/)[0]}function wze(e){return w6(e.getUTCHours(),2)+`:`+w6(e.getUTCMinutes(),2)+`:`+w6(e.getUTCSeconds(),2)}function Z6(e,t=!1){let n=e<0?`-`:`+`,r=Math.abs(e),i=Math.floor(r/60),a=Math.round(r%60);return t?`${n+w6(i,2)}:${w6(a,2)}`:`GMT${n}${i}${a?`:${w6(a,2)}`:``}`}function Q6(e,t,n){let r,i;return function(...a){if(!r)i=e.apply(this,a);else if(!F6(r,a)){n&&n(i);let r=e.apply(this,a);(!t||!t(r,i))&&(i=r)}return r=a,i}}function $6(e,t,n){let r,i;return a=>{if(!r)i=e.call(this,a);else if(!S8(r,a)){n&&n(i);let r=e.call(this,a);(!t||!t(r,i))&&(i=r)}return r=a,i}}var e8={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},t8={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},n8=/\s*([ap])\.?m\.?/i,Tze=/,/g,Eze=/\s+/g,Dze=/\u200e/g,Oze=/UTC|GMT/,kze=class{constructor(e){let t={},n={},r=9;for(let i in e)i in e8?(n[i]=e[i],e8[i]<9&&(r=Math.min(e8[i],r))):(t[i]=e[i],i in t8&&(r=Math.min(t8[i],r)));this.standardDateProps=t,this.extendedSettings=n,this.smallestUnitNum=r,this.buildFormattingFunc=Q6(r8)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,r){let{standardDateProps:i,extendedSettings:a}=this,o=Fze(e.marker,t.marker,n.calendarSystem);if(!o)return this.format(e,n);let s=o;s>1&&(i.year===`numeric`||i.year===`2-digit`)&&(i.month===`numeric`||i.month===`2-digit`)&&(i.day===`numeric`||i.day===`2-digit`)&&(s=1);let c=this.format(e,n),l=this.format(t,n);if(c===l)return c;let u=r8(Ize(i,s),a,n),d=u(e),f=u(t),p=Lze(c,d,l,f),m=a.separator||r||n.defaultSeparator||``;return p?p.before+d+m+f+p.after:c+m+l}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return`year`;case 4:return`month`;case 3:return`week`;case 2:return`day`;default:return`time`}}};function r8(e,t,n){let r=Object.keys(e).length;return r===1&&e.timeZoneName===`short`?e=>Z6(e.timeZoneOffset):r===0&&t.week?e=>Pze(n.computeWeekNumber(e.marker),n.weekText,n.weekTextLong,n.locale,t.week):Aze(e,t,n)}function Aze(e,t,n){e=Object.assign({},e),t=Object.assign({},t),jze(e,t),e.timeZone=`UTC`;let r=new Intl.DateTimeFormat(n.locale.codes,e),i;if(t.omitZeroMinute){let t=Object.assign({},e);delete t.minute,i=new Intl.DateTimeFormat(n.locale.codes,t)}return a=>{let{marker:o}=a,s;return s=i&&!o.getUTCMinutes()?i:r,Mze(s.format(o),a,e,t,n)}}function jze(e,t){e.timeZoneName&&(e.hour||=`2-digit`,e.minute||=`2-digit`),e.timeZoneName===`long`&&(e.timeZoneName=`short`),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}function Mze(e,t,n,r,i){return e=e.replace(Dze,``),n.timeZoneName===`short`&&(e=Nze(e,i.timeZone===`UTC`||t.timeZoneOffset==null?`UTC`:Z6(t.timeZoneOffset))),r.omitCommas&&(e=e.replace(Tze,``).trim()),r.omitZeroMinute&&(e=e.replace(`:00`,``)),r.meridiem===!1?e=e.replace(n8,``).trim():r.meridiem===`narrow`?e=e.replace(n8,(e,t)=>t.toLocaleLowerCase()):r.meridiem===`short`?e=e.replace(n8,(e,t)=>`${t.toLocaleLowerCase()}m`):r.meridiem===`lowercase`&&(e=e.replace(n8,e=>e.toLocaleLowerCase())),e=e.replace(Eze,` `),e=e.trim(),e}function Nze(e,t){let n=!1;return e=e.replace(Oze,()=>(n=!0,t)),n||(e+=` ${t}`),e}function Pze(e,t,n,r,i){let a=[];return i===`long`?a.push(n):(i===`short`||i===`narrow`)&&a.push(t),(i===`long`||i===`short`)&&a.push(` `),a.push(r.simpleNumberFormat.format(e)),r.options.direction===`rtl`&&a.reverse(),a.join(``)}function Fze(e,t,n){return n.getMarkerYear(e)===n.getMarkerYear(t)?n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerDay(e)===n.getMarkerDay(t)?J6(e)===J6(t)?0:1:2:4:5}function Ize(e,t){let n={};for(let r in e)(!(r in t8)||t8[r]<=t)&&(n[r]=e[r]);return n}function Lze(e,t,n,r){let i=0;for(;i<e.length;){let a=e.indexOf(t,i);if(a===-1)break;let o=e.substr(0,a);i=a+t.length;let s=e.substr(i),c=0;for(;c<n.length;){let e=n.indexOf(r,c);if(e===-1)break;let t=n.substr(0,e);c=e+r.length;let i=n.substr(c);if(o===t&&s===i)return{before:o,after:s}}}return null}function i8(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function a8(e,t,n,r){let i=i8(e,n.calendarSystem);return{date:i,start:i,end:t?i8(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}var Rze=class{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,a8(e,null,t,n))}formatRange(e,t,n,r){return n.cmdFormatter(this.cmdStr,a8(e,t,n,r))}},zze=class{constructor(e){this.func=e}format(e,t,n){return this.func(a8(e,null,t,n))}formatRange(e,t,n,r){return this.func(a8(e,t,n,r))}};function o8(e){return typeof e==`object`&&e?new kze(e):typeof e==`string`?new Rze(e):typeof e==`function`?new zze(e):null}var s8={navLinkDayClick:$,navLinkWeekClick:$,duration:O6,bootstrapFontAwesome:$,buttonIcons:$,customButtons:$,defaultAllDayEventDuration:O6,defaultTimedEventDuration:O6,nextDayThreshold:O6,scrollTime:O6,scrollTimeReset:Boolean,slotMinTime:O6,slotMaxTime:O6,dayPopoverFormat:o8,slotDuration:O6,snapDuration:O6,headerToolbar:$,footerToolbar:$,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:o8,dayHeaderClassNames:$,dayHeaderContent:$,dayHeaderDidMount:$,dayHeaderWillUnmount:$,dayCellClassNames:$,dayCellContent:$,dayCellDidMount:$,dayCellWillUnmount:$,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:$,weekNumbers:Boolean,weekNumberClassNames:$,weekNumberContent:$,weekNumberDidMount:$,weekNumberWillUnmount:$,editable:Boolean,viewClassNames:$,viewDidMount:$,viewWillUnmount:$,nowIndicator:Boolean,nowIndicatorSnap:$,nowIndicatorClassNames:$,nowIndicatorContent:$,nowIndicatorDidMount:$,nowIndicatorWillUnmount:$,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:$,locale:$,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:$,eventOrder:QRe,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:$,contentHeight:$,direction:String,weekNumberFormat:o8,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:$,initialDate:$,now:$,eventDataTransform:$,stickyHeaderDates:$,stickyFooterScrollbar:$,viewHeight:$,defaultAllDay:Boolean,eventSourceFailure:$,eventSourceSuccess:$,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:$,eventConstraint:$,eventAllow:$,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:$,eventContent:$,eventDidMount:$,eventWillUnmount:$,selectConstraint:$,selectOverlap:$,selectAllow:$,droppable:Boolean,unselectCancel:String,slotLabelFormat:$,slotLaneClassNames:$,slotLaneContent:$,slotLaneDidMount:$,slotLaneWillUnmount:$,slotLabelClassNames:$,slotLabelContent:$,slotLabelDidMount:$,slotLabelWillUnmount:$,dayMaxEvents:$,dayMaxEventRows:$,dayMinWidth:Number,slotLabelInterval:O6,allDayText:String,allDayClassNames:$,allDayContent:$,allDayDidMount:$,allDayWillUnmount:$,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:o8,rerenderDelay:Number,moreLinkText:$,moreLinkHint:$,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:$,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:O6,hiddenDays:$,fixedWeekCount:Boolean,validRange:$,visibleRange:$,titleFormat:$,eventInteractive:Boolean,noEventsText:String,viewHint:$,navLinkHint:$,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:$,moreLinkClassNames:$,moreLinkContent:$,moreLinkDidMount:$,moreLinkWillUnmount:$,monthStartFormat:o8,handleCustomRendering:$,customRenderingMetaMap:$,customRenderingReplaces:Boolean},c8={eventDisplay:`auto`,defaultRangeSeparator:` - `,titleRangeSeparator:`  `,defaultTimedEventDuration:`01:00:00`,defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:`00:00:00`,dayHeaders:!0,initialView:``,aspectRatio:1.35,headerToolbar:{start:`title`,center:``,end:`today prev,next`},weekends:!0,weekNumbers:!1,weekNumberCalculation:`local`,editable:!1,nowIndicator:!1,scrollTime:`06:00:00`,scrollTimeReset:!0,slotMinTime:`00:00:00`,slotMaxTime:`24:00:00`,showNonCurrentDates:!0,lazyFetching:!0,startParam:`start`,endParam:`end`,timeZoneParam:`timeZone`,timeZone:`local`,locales:[],locale:``,themeSystem:`standard`,dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:`*`,eventOrder:`start,-duration,allDay,title`,dayPopoverFormat:{month:`long`,day:`numeric`,year:`numeric`},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:`long`,day:`numeric`},nowIndicatorSnap:`auto`},l8={datesSet:$,eventsSet:$,eventAdd:$,eventChange:$,eventRemove:$,windowResize:$,eventClick:$,eventMouseEnter:$,eventMouseLeave:$,select:$,unselect:$,loading:$,_unmount:$,_beforeprint:$,_afterprint:$,_noEventDrop:$,_noEventResize:$,_resize:$,_scrollRequest:$},u8={buttonText:$,buttonHints:$,views:$,plugins:$,initialEvents:$,events:$,eventSources:$},d8={headerToolbar:f8,footerToolbar:f8,buttonText:f8,buttonHints:f8,buttonIcons:f8,dateIncrement:f8,plugins:p8,events:p8,eventSources:p8,resources:p8};function f8(e,t){return typeof e==`object`&&typeof t==`object`&&e&&t?S8(e,t):e===t}function p8(e,t){return Array.isArray(e)&&Array.isArray(t)?F6(e,t):e===t}var Bze={type:String,component:$,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:$,usesMinMaxTime:Boolean,classNames:$,content:$,didMount:$,willUnmount:$};function m8(e){return _8(e,d8)}function h8(e,t){let n={},r={};for(let r in t)r in e&&(n[r]=t[r](e[r]));for(let n in e)n in t||(r[n]=e[n]);return{refined:n,extra:r}}function $(e){return e}var{hasOwnProperty:g8}=Object.prototype;function _8(e,t){let n={};if(t){for(let r in t)if(t[r]===f8){let t=[];for(let i=e.length-1;i>=0;--i){let a=e[i][r];if(typeof a==`object`&&a)t.unshift(a);else if(a!==void 0){n[r]=a;break}}t.length&&(n[r]=_8(t))}}for(let t=e.length-1;t>=0;--t){let r=e[t];for(let e in r)e in n||(n[e]=r[e])}return n}function v8(e,t){let n={};for(let r in e)t(e[r],r)&&(n[r]=e[r]);return n}function y8(e,t){let n={};for(let r in e)n[r]=t(e[r],r);return n}function b8(e){let t={};for(let n of e)t[n]=!0;return t}function x8(e){let t=[];for(let n in e)t.push(e[n]);return t}function S8(e,t){if(e===t)return!0;for(let n in e)if(g8.call(e,n)&&!(n in t))return!1;for(let n in t)if(g8.call(t,n)&&e[n]!==t[n])return!1;return!0}var Vze=/^on[A-Z]/;function Hze(e,t){let n=Uze(e,t);for(let e of n)if(!Vze.test(e))return!1;return!0}function Uze(e,t){let n=[];for(let r in e)g8.call(e,r)&&(r in t||n.push(r));for(let r in t)g8.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}function C8(e,t,n={}){if(e===t)return!0;for(let r in t)if(!(r in e&&Wze(e[r],t[r],n[r])))return!1;for(let n in e)if(!(n in t))return!1;return!0}function Wze(e,t,n){return e===t||n===!0?!0:n?n(e,t):!1}function Gze(e,t=0,n,r=1){let i=[];n??=Object.keys(e).length;for(let a=t;a<n;a+=r){let t=e[a];t!==void 0&&i.push(t)}return i}var w8={};function Kze(e,t){w8[e]=t}function qze(e){return new w8[e]}Kze(`gregory`,class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return K6(e)}markerToArray(e){return G6(e)}});var Jze=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Yze(e){let t=Jze.exec(e);if(t){let e=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?Number(`0.${t[12]}`)*1e3:0));if(q6(e)){let n=null;return t[13]&&(n=(t[15]===`-`?-1:1)*(Number(t[16]||0)*60+Number(t[18]||0))),{marker:e,isTimeUnspecified:!t[6],timeZoneOffset:n}}}return null}var Xze=class{constructor(e){let t=this.timeZone=e.timeZone,n=t!==`local`&&t!==`UTC`;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=qze(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation===`ISO`&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay==`number`&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation==`function`&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText==null?e.locale.options.weekText:e.weekText,this.weekTextLong=(e.weekTextLong==null?e.locale.options.weekTextLong:e.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):K6(U6(new Date))}createMarkerMeta(e){if(typeof e==`string`)return this.parse(e);let t=null;return typeof e==`number`?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=K6(e)),t===null||!q6(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=Yze(e);if(t===null)return null;let{marker:n}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return J6(e)===J6(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return J6(e)===J6(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+(n.getMarkerYear(t)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let n=this.diffWholeYears(e,t);return n===null?(n=this.diffWholeMonths(e,t),n===null?(n=_ze(e,t),n===null?(n=B6(e,t),n===null?(n=pze(e,t),E6(n)?{unit:`hour`,value:n}:(n=mze(e,t),E6(n)?{unit:`minute`,value:n}:(n=hze(e,t),E6(n)?{unit:`second`,value:n}:{unit:`millisecond`,value:t.valueOf()-e.valueOf()}))):{unit:`day`,value:n}):{unit:`week`,value:n}):{unit:`month`,value:n}):{unit:`year`,value:n}}countDurationsBetween(e,t,n){let r;return n.years&&(r=this.diffWholeYears(e,t),r!==null)?r/lze(n):n.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/uze(n):n.days&&(r=B6(e,t),r!==null)?r/j6(n):(t.valueOf()-e.valueOf())/M6(n)}startOf(e,t){return t===`year`?this.startOfYear(e):t===`month`?this.startOfMonth(e):t===`week`?this.startOfWeek(e):t===`day`?V6(e):t===`hour`?vze(e):t===`minute`?yze(e):t===`second`?bze(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):xze(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:n.forcedTzo==null?this.offsetForMarker(e):n.forcedTzo},this)}formatRange(e,t,n,r={}){return r.isEndExclusive&&(t=R6(t,-1)),n.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo==null?this.offsetForMarker(e):r.forcedStartTzo},{marker:t,timeZoneOffset:r.forcedEndTzo==null?this.offsetForMarker(t):r.forcedEndTzo},this,r.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(n=t.forcedTzo==null?this.offsetForMarker(e):t.forcedTzo),Y6(e,n,t.omitTime)}timestampToMarker(e){return this.timeZone===`local`?K6(U6(new Date(e))):this.timeZone===`UTC`||!this.namedTimeZoneImpl?new Date(e):K6(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone===`local`?-W6(G6(e)).getTimezoneOffset():this.timeZone===`UTC`?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(G6(e)):null}toDate(e,t){return this.timeZone===`local`?W6(G6(e)):this.timeZone===`UTC`?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(G6(e))*1e3*60):new Date(e.valueOf()-(t||0))}},T8=class{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if(typeof e==`object`&&e){for(n in t=Object.assign({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||``}getIconClass(e,t){let n;return n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e],n?`${this.baseIconClass} ${n}`:``}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:``}};T8.prototype.classes={},T8.prototype.iconClasses={},T8.prototype.baseIconClass=``,T8.prototype.iconOverridePrefix=``;function E8(e){e();let t=J4.debounceRendering,n=[];function r(e){n.push(e)}for(J4.debounceRendering=r,D3(Q(Zze,{}),document.createElement(`div`));n.length;)n.shift()();J4.debounceRendering=t}var Zze=class extends p3{render(){return Q(`div`,{})}componentDidMount(){this.setState({})}};function D8(e){let t=CRe(e),n=t.Provider;return t.Provider=function(){let e=!this.getChildContext,t=n.apply(this,arguments);if(e){let e=[];this.shouldComponentUpdate=t=>{this.props.value!==t.value&&e.forEach(e=>{e.context=t.value,e.forceUpdate()})},this.sub=t=>{e.push(t);let n=t.componentWillUnmount;t.componentWillUnmount=()=>{e.splice(e.indexOf(t),1),n&&n.call(t)}}}return t},t}var Qze=class{constructor(e,t,n,r){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=e=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},e),this.drain()},t.on(`_scrollRequest`,this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off(`_scrollRequest`,this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},O8=D8({});function $ze(e,t,n,r,i,a,o,s,c,l,u,d,f,p){return{dateEnv:i,nowManager:a,options:n,pluginHooks:s,emitter:u,dispatch:c,getCurrentData:l,calendarApi:d,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:o,isRtl:n.direction===`rtl`,addResizeHandler(e){u.on(`_resize`,e)},removeResizeHandler(e){u.off(`_resize`,e)},createScrollResponder(e){return new Qze(e,u,O6(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:f,unregisterInteractiveComponent:p}}var k8=class extends p3{shouldComponentUpdate(e,t){return!C8(this.props,e,this.propEquality)||!C8(this.state,t,this.stateEquality)}safeSetState(e){C8(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}};k8.addPropsEquality=eBe,k8.addStateEquality=tBe,k8.contextType=O8,k8.prototype.propEquality={},k8.prototype.stateEquality={};var A8=class extends k8{};A8.contextType=O8;function eBe(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t}function tBe(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t}function j8(e,t){typeof e==`function`?e(t):e&&(e.current=t)}var M8=class extends A8{constructor(){super(...arguments),this.id=x6(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:t}=this.context,{generatorName:n}=this.props;(!t.customRenderingReplaces||!N8(n,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&j8(this.props.elRef,e)}}render(){let{props:e,context:t}=this,{options:n}=t,{customGenerator:r,defaultGenerator:i,renderProps:a}=e,o=P8(e,[],this.handleEl),s=!1,c,l=[],u;if(r!=null){let e=typeof r==`function`?r(a,Q):r;if(e===!0)s=!0;else{let t=e&&typeof e==`object`;t&&`html`in e?o.dangerouslySetInnerHTML={__html:e.html}:t&&`domNodes`in e?l=Array.prototype.slice.call(e.domNodes):(t?X4(e):typeof e!=`function`)?c=e:u=e}}else s=!N8(e.generatorName,n);return s&&i&&(c=i(a)),this.queuedDomNodes=l,this.currentGeneratorMeta=u,Q(e.elTag,o,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){let{props:t,context:n}=this,{handleCustomRendering:r,customRenderingMetaMap:i}=n.options;if(r){let n=this.currentGeneratorMeta??i?.[t.generatorName];n&&r(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:n},t),{elClasses:(t.elClasses||[]).filter(nBe)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!F6(e,t)){t.forEach(c6);for(let t of e)n.appendChild(t);this.currentDomNodes=e}}};M8.addPropsEquality({elClasses:F6,elStyle:S8,elAttrs:Hze,renderProps:S8});function N8(e,t){return!!(t.handleCustomRendering&&e&&t.customRenderingMetaMap?.[e])}function P8(e,t,n){let r=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(r.className=(e.elClasses||[]).concat(t||[]).concat(r.className||[]).filter(Boolean).join(` `)),e.elStyle&&(r.style=e.elStyle),r}function nBe(e){return!!e}var F8=D8(0),I8=class extends p3{constructor(){super(...arguments),this.InnerContent=rBe.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(j8(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:e}=this,t=iBe(e.classNameGenerator,e.renderProps);if(e.children){let n=P8(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,n);return e.elTag?Q(e.elTag,n,r):r}else return Q(M8,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||`div`,elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)==null||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)==null||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}};I8.contextType=F8;function rBe(e,t){let n=e.props;return Q(M8,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}function iBe(e,t){let n=typeof e==`function`?e(t):e||[];return typeof n==`string`?[n]:n}var L8=class extends A8{render(){let{props:e,context:t}=this,{options:n}=t,r={view:t.viewApi};return Q(I8,{elRef:e.elRef,elTag:e.elTag||`div`,elAttrs:e.elAttrs,elClasses:[...R8(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}};function R8(e){return[`fc-${e.type}-view`,`fc-view`]}function aBe(e,t){let n=null,r=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(r=t.createMarker(e.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function z8(e,t){let n=[],{start:r}=t,i,a;for(e.sort(oBe),i=0;i<e.length;i+=1)a=e[i],a.start>r&&n.push({start:r,end:a.start}),a.end>r&&(r=a.end);return r<t.end&&n.push({start:r,end:t.end}),n}function oBe(e,t){return e.start.valueOf()-t.start.valueOf()}function B8(e,t){let{start:n,end:r}=e,i=null;return t.start!==null&&(n=n===null?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),t.end!=null&&(r=r===null?t.end:new Date(Math.min(r.valueOf(),t.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function sBe(e,t){return(e.start===null?null:e.start.valueOf())===(t.start===null?null:t.start.valueOf())&&(e.end===null?null:e.end.valueOf())===(t.end===null?null:t.end.valueOf())}function V8(e,t){return(e.end===null||t.start===null||e.end>t.start)&&(e.start===null||t.end===null||e.start<t.end)}function H8(e,t){return(e.start===null||t.start!==null&&t.start>=e.start)&&(e.end===null||t.end!==null&&t.end<=e.end)}function U8(e,t){return(e.start===null||t>=e.start)&&(e.end===null||t<e.end)}function cBe(e,t){return t.start!=null&&e<t.start?t.start:t.end!=null&&e>=t.end?new Date(t.end.valueOf()-1):e}function W8(e){let t=Math.floor(z6(e.start,e.end))||1,n=V6(e.start);return{start:n,end:L6(n,t)}}function G8(e,t=O6(0)){let n=null,r=null;if(e.end){r=V6(e.end);let n=e.end.valueOf()-r.valueOf();n&&n>=M6(t)&&(r=L6(r,1))}return e.start&&(n=V6(e.start),r&&r<=n&&(r=L6(n,1))),{start:n,end:r}}function lBe(e){let t=G8(e);return z6(t.start,t.end)>1}function K8(e,t,n,r){return r===`year`?O6(n.diffWholeYears(e,t),`year`):r===`month`?O6(n.diffWholeMonths(e,t),`month`):gze(e,t)}var q8=class{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:r}=this.props,i=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,n)}buildNext(e,t,n){let{dateEnv:r}=this.props,i=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,n)}build(e,t,n=!0){let{props:r}=this,i,a,o,s,c,l;return i=this.buildValidRange(),i=this.trimHiddenDays(i),n&&(e=cBe(e,i)),a=this.buildCurrentRangeInfo(e,t),o=/^(year|month|week|day)$/.test(a.unit),s=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,o),s=this.trimHiddenDays(s),c=s,r.showNonCurrentDates||(c=B8(c,a.range)),c=this.adjustActiveRange(c),c=B8(c,i),l=V8(a.range,i),U8(s,e)||(e=s.start),{currentDate:e,validRange:i,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:o,activeRange:c,renderRange:s,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:l,dateIncrement:this.buildDateIncrement(a.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e==`function`?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:n}=this,r=null,i=null,a=null,o;return n.duration?(r=n.duration,i=n.durationUnit,a=this.buildRangeFromDuration(e,t,r,i)):(o=this.props.dayCount)?(i=`day`,a=this.buildRangeFromDayCount(e,t,o)):(a=this.buildCustomVisibleRange(e))?i=n.dateEnv.greatestWholeUnit(a.start,a.end).unit:(r=this.getFallbackDuration(),i=P6(r).unit,a=this.buildRangeFromDuration(e,t,r,i)),{duration:r,unit:i,range:a}}getFallbackDuration(){return O6({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:r,slotMaxTime:i}=this.props,{start:a,end:o}=e;return n&&(j6(r)<0&&(a=V6(a),a=t.add(a,r)),j6(i)>1&&(o=V6(o),o=L6(o,-1),o=t.add(o,i))),{start:a,end:o}}buildRangeFromDuration(e,t,n,r){let{dateEnv:i,dateAlignment:a}=this.props,o,s,c;if(!a){let{dateIncrement:e}=this.props;a=e&&M6(e)<M6(n)?P6(e).unit:r}j6(n)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,t),o=V6(o));function l(){o=i.startOf(e,a),s=i.add(o,n),c={start:o,end:s}}return l(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,t),l()),c}buildRangeFromDayCount(e,t,n){let{dateEnv:r,dateAlignment:i}=this.props,a=0,o=e,s;i&&(o=r.startOf(o,i)),o=V6(o),o=this.skipHiddenDays(o,t),s=o;do s=L6(s,1),this.isHiddenDay(s)||(a+=1);while(a<n);return{start:o,end:s}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,r=typeof n==`function`?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,i=this.refineRange(r);return i&&(i.start==null||i.end==null)?null:i}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,n;return t||((n=this.props.dateAlignment)?O6(1,n):e||O6({days:1}))}refineRange(e){if(e){let t=aBe(e,this.props.dateEnv);return t&&=G8(t),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],n=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(n+=1);if(!n)throw Error(`invalid hiddenDays`);this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:n}=e;return t&&=this.skipHiddenDays(t),n&&=this.skipHiddenDays(n,-1,!0),t==null||n==null||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=L6(e,t);return e}};function J8(e,t,n,r){return{instanceId:x6(),defId:e,range:t,forcedStartTzo:n??null,forcedEndTzo:r??null}}function uBe(e,t,n,r){for(let i=0;i<r.length;i+=1){let a=r[i].parse(e,n);if(a){let{allDay:n}=e;return n??(n=t,n??(n=a.allDayGuess,n??=!1)),{allDay:n,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}function Y8(e,t,n){let{dateEnv:r,pluginHooks:i,options:a}=n,{defs:o,instances:s}=e;for(let e in s=v8(s,e=>!o[e.defId].recurringDef),o){let n=o[e];if(n.recurringDef){let{duration:o}=n.recurringDef;o||=n.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration;let c=dBe(n,o,t,r,i.recurringTypes);for(let t of c){let n=J8(e,{start:t,end:r.add(t,o)});s[n.instanceId]=n}}}return{defs:o,instances:s}}function dBe(e,t,n,r,i){let a=i[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(a=a.map(V6)),a}var X8={id:String,groupId:String,title:String,url:String,interactive:Boolean},Z8={start:$,end:$,date:$,allDay:Boolean},fBe=Object.assign(Object.assign(Object.assign({},X8),Z8),{extendedProps:$});function Q8(e,t,n,r,i=e5(n),a,o){let{refined:s,extra:c}=$8(e,n,i),l=mBe(t,n),u=uBe(s,l,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let e=t5(s,c,t?t.sourceId:``,u.allDay,!!u.duration,n,a);return e.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:e,instance:null}}let d=pBe(s,l,n,r);if(d){let e=t5(s,c,t?t.sourceId:``,d.allDay,d.hasEnd,n,a),r=J8(e.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return o&&e.publicId&&o[e.publicId]&&(r.instanceId=o[e.publicId]),{def:e,instance:r}}return null}function $8(e,t,n=e5(t)){return h8(e,n)}function e5(e){return Object.assign(Object.assign(Object.assign({},l5),fBe),e.pluginHooks.eventRefiners)}function t5(e,t,n,r,i,a,o){let s={title:e.title||``,groupId:e.groupId||``,publicId:e.id||``,url:e.url||``,recurringDef:null,defId:(o&&e.id?o[e.id]:``)||x6(),sourceId:n,allDay:r,hasEnd:i,interactive:e.interactive,ui:u5(e,a),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let t of a.pluginHooks.eventDefMemberAdders)Object.assign(s,t(e));return Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),s}function pBe(e,t,n,r){let{allDay:i}=e,a,o=null,s=!1,c,l=null,u=e.start==null?e.date:e.start;if(a=n.dateEnv.createMarkerMeta(u),a)o=a.marker;else if(!r)return null;return e.end!=null&&(c=n.dateEnv.createMarkerMeta(e.end)),i??=t??((!a||a.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),i&&o&&(o=V6(o)),c&&(l=c.marker,i&&(l=V6(l)),o&&l<=o&&(l=null)),l?s=!0:r||(s=n.options.forceEventDuration||!1,l=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:s,range:{start:o,end:l},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function mBe(e,t){let n=null;return e&&(n=e.defaultAllDay),n??=t.options.defaultAllDay,n}function n5(e,t,n,r,i,a){let o=a5(),s=e5(n);for(let c of e){let e=Q8(c,t,n,r,s,i,a);e&&r5(e,o)}return o}function r5(e,t=a5()){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function i5(e,t){let n=e.instances[t];if(n){let t=e.defs[n.defId],r=s5(e,e=>hBe(t,e));return r.defs[t.defId]=t,r.instances[n.instanceId]=n,r}return a5()}function hBe(e,t){return!!(e.groupId&&e.groupId===t.groupId)}function a5(){return{defs:{},instances:{}}}function o5(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function s5(e,t){let n=v8(e.defs,t);return{defs:n,instances:v8(e.instances,e=>n[e.defId])}}function gBe(e,t){let{defs:n,instances:r}=e,i={},a={};for(let e in n)t.defs[e]||(i[e]=n[e]);for(let e in r)!t.instances[e]&&i[r[e].defId]&&(a[e]=r[e]);return{defs:i,instances:a}}function _Be(e,t){return Array.isArray(e)?n5(e,null,t,!0):typeof e==`object`&&e?n5([e],null,t,!0):e==null?null:String(e)}function c5(e){return Array.isArray(e)?e:typeof e==`string`?e.split(/\s+/):[]}var l5={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:$,overlap:$,allow:$,className:c5,classNames:c5,color:String,backgroundColor:String,borderColor:String,textColor:String},vBe={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:``,borderColor:``,textColor:``,classNames:[]};function u5(e,t){let n=_Be(e.constraint,t);return{display:e.display||null,startEditable:e.startEditable==null?e.editable:e.startEditable,durationEditable:e.durationEditable==null?e.editable:e.durationEditable,constraints:n==null?[]:[n],overlap:e.overlap==null?null:e.overlap,allows:e.allow==null?[]:[e.allow],backgroundColor:e.backgroundColor||e.color||``,borderColor:e.borderColor||e.color||``,textColor:e.textColor||``,classNames:(e.className||[]).concat(e.classNames||[])}}function d5(e){return e.reduce(yBe,vBe)}function yBe(e,t){return{display:t.display==null?e.display:t.display,startEditable:t.startEditable==null?e.startEditable:t.startEditable,durationEditable:t.durationEditable==null?e.durationEditable:t.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:typeof t.overlap==`boolean`?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}var bBe={id:String,defaultAllDay:Boolean,url:String,format:String,events:$,eventDataTransform:$,success:$,failure:$};function f5(e,t,n=p5(t)){let r;if(typeof e==`string`?r={url:e}:typeof e==`function`||Array.isArray(e)?r={events:e}:typeof e==`object`&&e&&(r=e),r){let{refined:i,extra:a}=h8(r,n),o=xBe(i,t);if(o)return{_raw:e,isFetching:!1,latestFetchId:``,fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||``,sourceId:x6(),sourceDefId:o.sourceDefId,meta:o.meta,ui:u5(i,t),extendedProps:a}}return null}function p5(e){return Object.assign(Object.assign(Object.assign({},l5),bBe),e.pluginHooks.eventSourceRefiners)}function xBe(e,t){let n=t.pluginHooks.eventSourceDefs;for(let t=n.length-1;t>=0;--t){let r=n[t].parseMeta(e);if(r)return{sourceDefId:t,meta:r}}return null}function SBe(e,t,n,r,i){switch(t.type){case`RECEIVE_EVENTS`:return CBe(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,i);case`RESET_RAW_EVENTS`:return wBe(e,n[t.sourceId],t.rawEvents,r.activeRange,i);case`ADD_EVENTS`:return TBe(e,t.eventStore,r?r.activeRange:null,i);case`RESET_EVENTS`:return t.eventStore;case`MERGE_EVENTS`:return o5(e,t.eventStore);case`PREV`:case`NEXT`:case`CHANGE_DATE`:case`CHANGE_VIEW_TYPE`:return r?Y8(e,r.activeRange,i):e;case`REMOVE_EVENTS`:return gBe(e,t.eventStore);case`REMOVE_EVENT_SOURCE`:return _5(e,t.sourceId);case`REMOVE_ALL_EVENT_SOURCES`:return s5(e,e=>!e.sourceId);case`REMOVE_ALL_EVENTS`:return a5();default:return e}}function CBe(e,t,n,r,i,a){if(t&&n===t.latestFetchId){let n=n5(m5(i,t,a),t,a);return r&&(n=Y8(n,r,a)),o5(_5(e,t.sourceId),n)}return e}function wBe(e,t,n,r,i){let{defIdMap:a,instanceIdMap:o}=DBe(e);return Y8(n5(m5(n,t,i),t,i,!1,a,o),r,i)}function m5(e,t,n){let r=n.options.eventDataTransform,i=t?t.eventDataTransform:null;return i&&(e=h5(e,i)),r&&(e=h5(e,r)),e}function h5(e,t){let n;if(!t)n=e;else{n=[];for(let r of e){let e=t(r);e?n.push(e):e??n.push(r)}}return n}function TBe(e,t,n,r){return n&&(t=Y8(t,n,r)),o5(e,t)}function g5(e,t,n){let{defs:r}=e;return{defs:r,instances:y8(e.instances,e=>r[e.defId].allDay?e:Object.assign(Object.assign({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo}))}}function _5(e,t){return s5(e,e=>e.sourceId!==t)}function EBe(e,t){return{defs:e.defs,instances:v8(e.instances,e=>!t[e.instanceId])}}function DBe(e){let{defs:t,instances:n}=e,r={},i={};for(let e in t){let{publicId:n}=t[e];n&&(r[n]=e)}for(let e in n){let{publicId:r}=t[n[e].defId];r&&(i[r]=e)}return{defIdMap:r,instanceIdMap:i}}var v5=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){OBe(this.handlers,e,t)}off(e,t){kBe(this.handlers,e,t)}trigger(e,...t){let n=this.handlers[e]||[],r=this.options&&this.options[e],i=[].concat(r||[],n);for(let e of i)e.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}};function OBe(e,t,n){(e[t]||(e[t]=[])).push(n)}function kBe(e,t,n){n?e[t]&&(e[t]=e[t].filter(e=>e!==n)):delete e[t]}var ABe={startTime:`09:00`,endTime:`17:00`,daysOfWeek:[1,2,3,4,5],display:`inverse-background`,classNames:`fc-non-business`,groupId:`_businessHours`};function jBe(e,t){return n5(MBe(e),null,t)}function MBe(e){let t;return t=e===!0?[{}]:Array.isArray(e)?e.filter(e=>e.daysOfWeek):typeof e==`object`&&e?[e]:[],t=t.map(e=>Object.assign(Object.assign({},ABe),e)),t}function y5(e,t,n){n.emitter.trigger(`select`,Object.assign(Object.assign({},b5(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function NBe(e,t){t.emitter.trigger(`unselect`,{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}function b5(e,t){let n={};for(let r of t.pluginHooks.dateSpanTransforms)Object.assign(n,r(e,t));return Object.assign(n,qBe(e,t.dateEnv)),n}function x5(e,t,n){let{dateEnv:r,options:i}=n,a=t;return e?(a=V6(a),a=r.add(a,i.defaultAllDayEventDuration)):a=r.add(a,i.defaultTimedEventDuration),a}function S5(e,t,n,r){let i=A5(e.defs,t),a=a5();for(let t in e.defs){let o=e.defs[t];a.defs[t]=PBe(o,i[t],n,r)}for(let t in e.instances){let o=e.instances[t],s=a.defs[o.defId];a.instances[t]=FBe(o,s,i[o.defId],n,r)}return a}function PBe(e,t,n,r){let i=n.standardProps||{};i.hasEnd==null&&t.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},e),i),{ui:Object.assign(Object.assign({},e.ui),i.ui)});n.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),n.extendedProps));for(let e of r.pluginHooks.eventDefMutationAppliers)e(a,n,r);return!a.hasEnd&&r.options.forceEventDuration&&(a.hasEnd=!0),a}function FBe(e,t,n,r,i){let{dateEnv:a}=i,o=r.standardProps&&r.standardProps.allDay===!0,s=r.standardProps&&r.standardProps.hasEnd===!1,c=Object.assign({},e);return o&&(c.range=W8(c.range)),r.datesDelta&&n.startEditable&&(c.range={start:a.add(c.range.start,r.datesDelta),end:a.add(c.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(c.range={start:a.add(c.range.start,r.startDelta),end:c.range.end}),r.endDelta&&n.durationEditable&&(c.range={start:c.range.start,end:a.add(c.range.end,r.endDelta)}),s&&(c.range={start:c.range.start,end:x5(t.allDay,c.range.start,i)}),t.allDay&&(c.range={start:V6(c.range.start),end:V6(c.range.end)}),c.range.end<c.range.start&&(c.range.end=x5(t.allDay,c.range.start,i)),c}var C5=class{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:`REMOVE_EVENT_SOURCE`,sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:`FETCH_EVENT_SOURCES`,sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},w5=class e{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in Z8)console.warn(`Could not set date-related prop 'name'. Use one of the date-related methods instead.`);else if(e===`id`)t=X8[e](t),this.mutate({standardProps:{publicId:t}});else if(e in X8)t=X8[e](t),this.mutate({standardProps:{[e]:t}});else if(e in l5){let n=l5[e](t);n=e===`color`?{backgroundColor:t,borderColor:t}:e===`editable`?{startEditable:t,durationEditable:t}:{[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,r=n.createMarker(e);if(r&&this._instance){let e=this._instance.range,i=K8(e.start,r,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:i}):this.mutate({startDelta:i})}}setEnd(e,t={}){let{dateEnv:n}=this._context,r;if(!(e!=null&&(r=n.createMarker(e),!r))&&this._instance)if(r){let e=K8(this._instance.range.end,r,n,t.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let{dateEnv:r}=this._context,i={allDay:n.allDay},a=r.createMarker(e),o;if(a&&!(t!=null&&(o=r.createMarker(t),!o))&&this._instance){let e=this._instance.range;n.allDay===!0&&(e=W8(e));let t=K8(e.start,a,r,n.granularity);if(o){let a=K8(e.end,o,r,n.granularity);oze(t,a)?this.mutate({datesDelta:t,standardProps:i}):this.mutate({startDelta:t,endDelta:a,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:t,standardProps:i})}}moveStart(e){let t=O6(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=O6(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=O6(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:r}=t;r??=this._context.options.allDayMaintainDuration,this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,r=o8(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})}mutate(t){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:a}=i.getCurrentData(),o=i5(a,n.instanceId);o=S5(o,{"":{display:``,startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:``,borderColor:``,textColor:``,classNames:[]}},t,i);let s=new e(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:`MERGE_EVENTS`,eventStore:o}),i.emitter.trigger(`eventChange`,{oldEvent:s,event:this,relatedEvents:E5(o,i,n),revert(){i.dispatch({type:`RESET_EVENTS`,eventStore:a})}})}}remove(){let e=this._context,t=T5(this);e.dispatch({type:`REMOVE_EVENTS`,eventStore:t}),e.emitter.trigger(`eventRemove`,{event:this,relatedEvents:[],revert(){e.dispatch({type:`MERGE_EVENTS`,eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new C5(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):``}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):``}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||`auto`}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:r,endStr:i}=this,a={allDay:t.allDay};return t.title&&(a.title=t.title),r&&(a.start=r),i&&(a.end=i),t.publicId&&(a.id=t.publicId),t.groupId&&(a.groupId=t.groupId),t.url&&(a.url=t.url),n.display&&n.display!==`auto`&&(a.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?a.color=n.backgroundColor:(n.backgroundColor&&(a.backgroundColor=n.backgroundColor),n.borderColor&&(a.borderColor=n.borderColor)),n.textColor&&(a.textColor=n.textColor),n.classNames.length&&(a.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,t.extendedProps):a.extendedProps=t.extendedProps),a}toJSON(){return this.toPlainObject()}};function T5(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function E5(e,t,n){let{defs:r,instances:i}=e,a=[],o=n?n.instanceId:``;for(let e in i){let n=i[e],s=r[n.defId];n.instanceId!==o&&a.push(new w5(t,s,n))}return a}function D5(e,t,n,r){let i={},a={},o={},s=[],c=[],l=A5(e.defs,t);for(let t in e.defs){let n=e.defs[t];l[n.defId].display===`inverse-background`&&(n.groupId?(i[n.groupId]=[],o[n.groupId]||(o[n.groupId]=n)):a[t]=[])}for(let t in e.instances){let o=e.instances[t],u=e.defs[o.defId],d=l[u.defId],f=o.range,p=!u.allDay&&r?G8(f,r):f,m=B8(p,n);m&&(d.display===`inverse-background`?u.groupId?i[u.groupId].push(m):a[o.defId].push(m):d.display!==`none`&&(d.display===`background`?s:c).push({def:u,ui:d,instance:o,range:m,isStart:p.start&&p.start.valueOf()===m.start.valueOf(),isEnd:p.end&&p.end.valueOf()===m.end.valueOf()}))}for(let e in i){let t=i[e],r=z8(t,n);for(let t of r){let n=o[e],r=l[n.defId];s.push({def:n,ui:r,instance:null,range:t,isStart:!1,isEnd:!1})}}for(let t in a){let r=a[t],i=z8(r,n);for(let n of i)s.push({def:e.defs[t],ui:l[t],instance:null,range:n,isStart:!1,isEnd:!1})}return{bg:s,fg:c}}function IBe(e){return e.ui.display===`background`||e.ui.display===`inverse-background`}function O5(e,t){e.fcSeg=t}function k5(e){return e.fcSeg||e.parentNode.fcSeg||null}function A5(e,t){return y8(e,e=>j5(e,t))}function j5(e,t){let n=[];return t[``]&&n.push(t[``]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),d5(n)}function M5(e,t){let n=e.map(LBe);return n.sort((e,n)=>$Re(e,n,t)),n.map(e=>e._seg)}function LBe(e){let{eventRange:t}=e,n=t.def,r=t.instance?t.instance.range:t.range,i=r.start?r.start.valueOf():0,a=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:a,duration:a-i,allDay:Number(n.allDay),_seg:e})}function RBe(e,t){let{pluginHooks:n}=t,r=n.isDraggableTransformers,{def:i,ui:a}=e.eventRange,o=a.startEditable;for(let e of r)o=e(o,i,a,t);return o}function zBe(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function BBe(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function N5(e,t,n,r,i,a,o){let{dateEnv:s,options:c}=n,{displayEventTime:l,displayEventEnd:u}=c,d=e.eventRange.def,f=e.eventRange.instance;l??=r!==!1,u??=i!==!1;let p=f.range.start,m=f.range.end,h=a||e.start||e.eventRange.range.start,g=o||e.end||e.eventRange.range.end,_=V6(p).valueOf()===V6(h).valueOf(),v=V6(R6(m,-1)).valueOf()===V6(R6(g,-1)).valueOf();return l&&!d.allDay&&(_||v)?(h=_?p:h,g=v?m:g,u&&d.hasEnd?s.formatRange(h,g,t,{forcedStartTzo:a?null:f.forcedStartTzo,forcedEndTzo:o?null:f.forcedEndTzo}):s.format(h,t,{forcedTzo:a?null:f.forcedStartTzo})):``}function P5(e,t,n){let r=e.eventRange.range;return{isPast:r.end<=(n||t.start),isFuture:r.start>=(n||t.end),isToday:t&&U8(t,r.start)}}function VBe(e){let t=[`fc-event`];return e.isMirror&&t.push(`fc-event-mirror`),e.isDraggable&&t.push(`fc-event-draggable`),(e.isStartResizable||e.isEndResizable)&&t.push(`fc-event-resizable`),e.isDragging&&t.push(`fc-event-dragging`),e.isResizing&&t.push(`fc-event-resizing`),e.isSelected&&t.push(`fc-event-selected`),e.isStart&&t.push(`fc-event-start`),e.isEnd&&t.push(`fc-event-end`),e.isPast&&t.push(`fc-event-past`),e.isToday&&t.push(`fc-event-today`),e.isFuture&&t.push(`fc-event-future`),t}function F5(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function I5(e,t){let{def:n,instance:r}=e.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:a,options:o}=t,{eventInteractive:s}=o;return s??(s=n.interactive,s??=!!a.hasHandlers(`eventClick`)),s?y6(e=>{a.trigger(`eventClick`,{el:e.target,event:new w5(t,n,r),jsEvent:e,view:t.viewApi})}):{}}var HBe={start:$,end:$,allDay:Boolean};function UBe(e,t,n){let r=WBe(e,t),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=t.add(i.start,n)}return r}function WBe(e,t){let{refined:n,extra:r}=h8(e,HBe),i=n.start?t.createMarkerMeta(n.start):null,a=n.end?t.createMarkerMeta(n.end):null,{allDay:o}=n;return o??=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:o},r)}function GBe(e,t){return sBe(e.range,t.range)&&e.allDay===t.allDay&&KBe(e,t)}function KBe(e,t){for(let n in t)if(n!==`range`&&n!==`allDay`&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}function qBe(e,t){return Object.assign(Object.assign({},R5(e.range,t,e.allDay)),{allDay:e.allDay})}function L5(e,t,n){return Object.assign(Object.assign({},R5(e,t,n)),{timeZone:t.timeZone})}function R5(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function JBe(e,t,n){let r=$8({editable:!1},n),i=t5(r.refined,r.extra,``,e.allDay,!0,n);return{def:i,ui:j5(i,t),instance:J8(i.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function YBe(e,t,n){let r=!1,i=function(e){r||(r=!0,t(e))},a=function(e){r||(r=!0,n(e))},o=e(i,a);o&&typeof o.then==`function`&&o.then(i,a)}var z5=class extends Error{constructor(e,t){super(e),this.response=t}};function XBe(e,t,n){e=e.toUpperCase();let r={method:e};return e===`GET`?t+=(t.indexOf(`?`)===-1?`?`:`&`)+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":`application/x-www-form-urlencoded`}),fetch(t,r).then(e=>{if(e.ok)return e.json().then(t=>[t,e],()=>{throw new z5(`Failure parsing JSON`,e)});throw new z5(`Request failed`,e)})}var B5;function V5(){return B5??=ZBe(),B5}function ZBe(){if(typeof document>`u`)return!0;let e=document.createElement(`div`);e.style.position=`absolute`,e.style.top=`0px`,e.style.left=`0px`,e.innerHTML=`<table><tr><td><div></div></td></tr></table>`,e.querySelector(`table`).style.height=`100px`,e.querySelector(`div`).style.height=`100%`,document.body.appendChild(e);let t=e.querySelector(`div`).offsetHeight>0;return document.body.removeChild(e),t}var QBe=class extends A8{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{E8(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{E8(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,r=n||t.height===`auto`||t.contentHeight===`auto`,i=!r&&t.height!=null?t.height:``,a=[`fc`,n?`fc-media-print`:`fc-media-screen`,`fc-direction-${t.direction}`,e.theme.getClass(`root`)];return V5()||a.push(`fc-liquid-hack`),e.children(a,i,r,n)}componentDidMount(){let{emitter:e}=this.props;e.on(`_beforeprint`,this.handleBeforePrint),e.on(`_afterprint`,this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off(`_beforeprint`,this.handleBeforePrint),e.off(`_afterprint`,this.handleAfterPrint)}},H5=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function $Be(e,t){return{component:e,el:t.el,useEventCenter:t.useEventCenter==null?!0:t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null}}function U5(e){return{[e.component.uid]:e}}var W5={},G5=class extends p3{constructor(e,t){super(e,t),this.handleRefresh=()=>{let e=this.computeTiming();e.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(e.state),this.clearTimeout(),this.setTimeout(e.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener(`visibilitychange`,this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener(`visibilitychange`,this.handleVisibilityChange)}computeTiming(){let{props:e,context:t}=this,n=t.nowManager.getDateMarker(),{nowIndicatorSnap:r}=t.options;r===`auto`&&(r=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let i,a;return r?(i=t.dateEnv.startOf(n,e.unit),a=t.dateEnv.add(i,O6(1,e.unit)).valueOf()-n.valueOf()):(i=n,a=1e3*60),a=Math.min(1e3*60*60*24,a),{state:{nowDate:i,todayRange:eVe(i)},waitMs:a}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{let e=this.computeTiming();this.setState(e.state,()=>{this.setTimeout(e.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}};G5.contextType=O8;function eVe(e){let t=V6(e);return{start:t,end:L6(t,1)}}var tVe=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger(`_resize`,!0)}setOption(e,t){this.dispatch({type:`SET_OPTION`,optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:`CHANGE_VIEW_TYPE`,viewType:e}),this.dispatch({type:`SET_OPTION`,optionName:`visibleRange`,rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:`CHANGE_VIEW_TYPE`,viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:`CHANGE_VIEW_TYPE`,viewType:e})})}zoomTo(e,t){let n=this.getCurrentData(),r;t||=`day`,r=n.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:`CHANGE_VIEW_TYPE`,viewType:r.type,dateMarker:e}):this.dispatch({type:`CHANGE_DATE`,dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:n}=this.getCurrentData(),r=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),i,a;for(let e in t)r.push(e);for(i=0;i<r.length;i+=1)if(a=t[r[i]],a&&a.singleUnit===e)return a;return null}prev(){this.unselect(),this.dispatch({type:`PREV`})}next(){this.unselect(),this.dispatch({type:`NEXT`})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:`CHANGE_DATE`,dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:`CHANGE_DATE`,dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:`CHANGE_DATE`,dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:`CHANGE_DATE`,dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=O6(e);n&&(this.unselect(),this.dispatch({type:`CHANGE_DATE`,dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),o8(t))}formatRange(e,t,n){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),o8(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;n=t==null?e.start==null?{start:e,end:null}:e:{start:e,end:t};let r=this.getCurrentData(),i=UBe(n,r.dateEnv,O6({days:1}));i&&(this.dispatch({type:`SELECT_DATES`,selection:i}),y5(i,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:`UNSELECT_DATES`}),NBe(e,t))}addEvent(e,t){if(e instanceof w5){let t=e._def,n=e._instance;return this.getCurrentData().eventStore.defs[t.defId]||(this.dispatch({type:`ADD_EVENTS`,eventStore:r5({def:t,instance:n})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),r;if(t instanceof C5)r=t.internalEventSource;else if(typeof t==`boolean`)t&&([r]=x8(n.eventSources));else if(t!=null){let e=this.getEventSourceById(t);if(!e)return console.warn(`Could not find an event source with ID "${t}"`),null;r=e.internalEventSource}let i=Q8(e,r,n,!1);if(i){let e=new w5(n,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:`ADD_EVENTS`,eventStore:r5(i)}),this.triggerEventAdd(e),e}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger(`eventAdd`,{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:`REMOVE_EVENTS`,eventStore:T5(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:r}=t.eventStore;for(let i in e=String(e),n){let a=n[i];if(a.publicId===e){if(a.recurringDef)return new w5(t,a,null);for(let e in r){let n=r[e];if(n.defId===a.defId)return new w5(t,a,n)}}}return null}getEvents(){let e=this.getCurrentData();return E5(e.eventStore,e)}removeAllEvents(){this.dispatch({type:`REMOVE_ALL_EVENTS`})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let r in t)n.push(new C5(e,t[r]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;for(let r in e=String(e),n)if(n[r].publicId===e)return new C5(t,n[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof C5)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:`ADD_EVENT_SOURCES`,sources:[e.internalEventSource]}),e;let n=f5(e,t);return n?(this.dispatch({type:`ADD_EVENT_SOURCES`,sources:[n]}),new C5(t,n)):null}removeAllEventSources(){this.dispatch({type:`REMOVE_ALL_EVENT_SOURCES`})}refetchEvents(){this.dispatch({type:`FETCH_EVENT_SOURCES`,isRefetch:!0})}scrollToTime(e){let t=O6(e);t&&this.trigger(`_scrollRequest`,{time:t})}};function nVe(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function K5(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function rVe(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function iVe(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function aVe(e,t){return{left:e.left-t.left,top:e.top-t.top}}var q5=a5(),oVe=class{constructor(){this.getKeysForEventDefs=Q6(this._getKeysForEventDefs),this.splitDateSelection=Q6(this._splitDateSpan),this.splitEventStore=Q6(this._splitEventStore),this.splitIndividualUi=Q6(this._splitIndividualUi),this.splitEventDrag=Q6(this._splitInteraction),this.splitEventResize=Q6(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),i=this.splitIndividualUi(e.eventUiBases,n),a=this.splitEventStore(e.eventStore,n),o=this.splitEventDrag(e.eventDrag),s=this.splitEventResize(e.eventResize),c={};for(let n in this.eventUiBuilders=y8(t,(e,t)=>this.eventUiBuilders[t]||Q6(sVe)),t){let l=t[n],u=a[n]||q5,d=this.eventUiBuilders[n];c[n]={businessHours:l.businessHours||e.businessHours,dateSelection:r[n]||null,eventStore:u,eventUiBases:d(e.eventUiBases[``],l.ui,i[n]),eventSelection:u.instances[e.eventSelection]?e.eventSelection:``,eventDrag:o[n]||null,eventResize:s[n]||null}}return c}_splitDateSpan(e){let t={};if(e){let n=this.getKeysForDateSpan(e);for(let r of n)t[r]=e}return t}_getKeysForEventDefs(e){return y8(e.defs,e=>this.getKeysForEventDef(e))}_splitEventStore(e,t){let{defs:n,instances:r}=e,i={};for(let e in n)for(let r of t[e])i[r]||(i[r]=a5()),i[r].defs[e]=n[e];for(let e in r){let n=r[e];for(let r of t[n.defId])i[r]&&(i[r].instances[e]=n)}return i}_splitIndividualUi(e,t){let n={};for(let r in e)if(r)for(let i of t[r])n[i]||(n[i]={}),n[i][r]=e[r];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),i=this._splitEventStore(e.mutatedEvents,r),a=r=>{t[r]||(t[r]={affectedEvents:n[r]||q5,mutatedEvents:i[r]||q5,isEvent:e.isEvent})};for(let e in n)a(e);for(let e in i)a(e)}return t}};function sVe(e,t,n){let r=[];e&&r.push(e),t&&r.push(t);let i={"":d5(r)};return n&&Object.assign(i,n),i}function J5(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!U8(r.activeRange,e))),isOther:!!(r&&!U8(r.currentRange,e)),isToday:!!(t&&U8(t,e)),isPast:!!(n?e<n:t&&e<t.start),isFuture:!!(n?e>n:t&&e>=t.end)}}function Y5(e,t){let n=[`fc-day`,`fc-day-${dze[e.dow]}`];return e.isDisabled?n.push(`fc-day-disabled`):(e.isToday&&(n.push(`fc-day-today`),n.push(t.getClass(`today`))),e.isPast&&n.push(`fc-day-past`),e.isFuture&&n.push(`fc-day-future`),e.isOther&&n.push(`fc-day-other`)),n}var cVe=o8({year:`numeric`,month:`long`,day:`numeric`}),lVe=o8({week:`long`});function X5(e,t,n=`day`,r=!0){let{dateEnv:i,options:a,calendarApi:o}=e,s=i.format(t,n===`week`?lVe:cVe);if(a.navLinks){let e=i.toDate(t),c=e=>{let r=n===`day`?a.navLinkDayClick:n===`week`?a.navLinkWeekClick:null;typeof r==`function`?r.call(o,i.toDate(t),e):(typeof r==`string`&&(n=r),o.zoomTo(t,n))};return Object.assign({title:T6(a.navLinkHint,[s,e],s),"data-navlink":``},r?v6(c):{onClick:c})}return{"aria-label":s}}var Z5=null;function uVe(){return Z5===null&&(Z5=dVe()),Z5}function dVe(){let e=document.createElement(`div`);u6(e,{position:`absolute`,top:-1e3,left:0,border:0,padding:0,overflow:`scroll`,direction:`rtl`}),e.innerHTML=`<div></div>`,document.body.appendChild(e);let t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return c6(e),t}var Q5;function fVe(){return Q5||=pVe(),Q5}function pVe(){let e=document.createElement(`div`);e.style.overflow=`scroll`,e.style.position=`absolute`,e.style.top=`-9999px`,e.style.left=`-9999px`,document.body.appendChild(e);let t=$5(e);return document.body.removeChild(e),t}function $5(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function mVe(e,t=!1){let n=window.getComputedStyle(e),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,a=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,s=$5(e),c=s.y-r-i,l={borderLeft:r,borderRight:i,borderTop:a,borderBottom:o,scrollbarBottom:s.x-a-o,scrollbarLeft:0,scrollbarRight:0};return uVe()&&n.direction===`rtl`?l.scrollbarLeft=c:l.scrollbarRight=c,t&&(l.paddingLeft=parseInt(n.paddingLeft,10)||0,l.paddingRight=parseInt(n.paddingRight,10)||0,l.paddingTop=parseInt(n.paddingTop,10)||0,l.paddingBottom=parseInt(n.paddingBottom,10)||0),l}function hVe(e,t=!1,n){let r=n?e.getBoundingClientRect():e7(e),i=mVe(e,t),a={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return t&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function e7(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function gVe(e){let t=t7(e),n=e.getBoundingClientRect();for(let e of t){let t=K5(n,e.getBoundingClientRect());if(t)n=t;else return null}return n}function t7(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if(n.position===`fixed`)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}var n7=class{constructor(e,t,n,r){this.els=t;let i=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(i.left),r&&this.buildElVerticals(i.top)}buildElHorizontals(e){let t=[],n=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.left-e),n.push(i.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.top-e),n.push(i.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let{lefts:t,rights:n}=this,r=t.length,i;for(i=0;i<r;i+=1)if(e>=t[i]&&e<n[i])return i}topToIndex(e){let{tops:t,bottoms:n}=this,r=t.length,i;for(i=0;i<r;i+=1)if(e>=t[i]&&e<n[i])return i}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return r7(this.tops||[],e.tops||[])&&r7(this.bottoms||[],e.bottoms||[])&&r7(this.lefts||[],e.lefts||[])&&r7(this.rights||[],e.rights||[])}};function r7(e,t){let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(Math.round(e[r])!==Math.round(t[r]))return!1;return!0}var i7=class{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}},_Ve=class extends i7{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}},vVe=class extends i7{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}},a7=class extends A8{constructor(){super(...arguments),this.uid=x6()}prepareHits(){}queryHit(e,t,n,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!l6(e,`.fc-event-mirror`)}isValidDateDownEl(e){return!l6(e,`.fc-event:not(.fc-bg-event)`)&&!l6(e,`.fc-more-link`)&&!l6(e,`a[data-navlink]`)&&!l6(e,`.fc-popover`)}},o7=class{constructor(e=e=>e.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){if(this.allowReslicing&&e.touchingEntry){let r=Object.assign(Object.assign({},t),{span:l7(t.span,e.touchingEntry.span)});n.push(r),this.splitEntry(t,e.touchingEntry,n)}else n.push(t)}splitEntry(e,t,n){let r=e.span,i=t.span;r.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:i.start}},n),r.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:r.end}},n)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:r}=this;t.lateral===-1?(u7(r,t.level,t.levelCoord),u7(n,t.level,[e])):u7(n[t.level],t.lateral,e),this.stackCnts[c7(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:r,stackCnts:i}=this,a=t.length,o=0,s=-1,c=-1,l=null,u=0;for(let d=0;d<a;d+=1){let a=t[d];if(!r&&a>=o+this.getEntryThickness(e))break;let f=n[d],p,m=d7(f,e.span.start,s7),h=m[0]+m[1];for(;(p=f[h])&&p.span.start<e.span.end;){let e=a+this.getEntryThickness(p);e>o&&(o=e,l=p,s=d,c=h),e===o&&(u=Math.max(u,i[c7(p)]+1)),h+=1}}let d=0;if(l)for(d=s+1;d<a&&t[d]<o;)d+=1;let f=-1;return d<a&&t[d]===o&&(f=d7(n[d],e.span.end,s7)[0]),{touchingLevel:s,touchingLateral:c,touchingEntry:l,stackCnt:u,levelCoord:o,level:d,lateral:f}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,r=[];for(let i=0;i<n;i+=1){let n=e[i],a=t[i];for(let e of n)r.push(Object.assign(Object.assign({},e),{thickness:this.getEntryThickness(e),levelCoord:a}))}return r}};function s7(e){return e.span.end}function c7(e){return e.index+`:`+e.span.start}function yVe(e){let t=[];for(let n of e){let e=[],r={span:n.span,entries:[n]};for(let n of t)l7(n.span,r.span)?r={entries:n.entries.concat(r.entries),span:bVe(n.span,r.span)}:e.push(n);e.push(r),t=e}return t}function bVe(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function l7(e,t){let n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function u7(e,t,n){e.splice(t,0,n)}function d7(e,t,n){let r=0,i=e.length;if(!i||t<n(e[r]))return[0,0];if(t>n(e[i-1]))return[i,0];for(;r<i;){let a=Math.floor(r+(i-r)/2),o=n(e[a]);if(t<o)i=a;else if(t>o)r=a+1;else return[a,1]}return[r,0]}var xVe=class{constructor(e,t){this.emitter=new v5}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}},f7={};function SVe(e,t){return o8(!e||t>10?{weekday:`short`}:t>1?{weekday:`short`,month:`numeric`,day:`numeric`,omitCommas:!0}:{weekday:`long`})}var p7=`fc-col-header-cell`;function m7(e){return e.text}var CVe=class extends A8{render(){let{dateEnv:e,options:t,theme:n,viewApi:r}=this.context,{props:i}=this,{date:a,dateProfile:o}=i,s=J5(a,i.todayRange,null,o),c=[p7].concat(Y5(s,n)),l=e.format(a,i.dayHeaderFormat),u=!s.isDisabled&&i.colCnt>1?X5(this.context,a):{},d=e.toDate(a);e.namedTimeZoneImpl&&(d=R6(d,36e5));let f=Object.assign(Object.assign(Object.assign({date:d,view:r},i.extraRenderProps),{text:l}),s);return Q(I8,{elTag:`th`,elClasses:c,elAttrs:Object.assign({role:`columnheader`,colSpan:i.colSpan,"data-date":s.isDisabled?void 0:X6(a)},i.extraDataAttrs),renderProps:f,generatorName:`dayHeaderContent`,customGenerator:t.dayHeaderContent,defaultGenerator:m7,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},e=>Q(`div`,{className:`fc-scrollgrid-sync-inner`},!s.isDisabled&&Q(e,{elTag:`a`,elAttrs:u,elClasses:[`fc-col-header-cell-cushion`,i.isSticky&&`fc-sticky`]})))}},wVe=o8({weekday:`long`}),TVe=class extends A8{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:r,options:i}=this.context,a=L6(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},s=t.format(a,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:a},o),{view:r}),e.extraRenderProps),{text:s});return Q(I8,{elTag:`th`,elClasses:[p7,...Y5(o,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:`columnheader`,colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:`dayHeaderContent`,customGenerator:i.dayHeaderContent,defaultGenerator:m7,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},n=>Q(`div`,{className:`fc-scrollgrid-sync-inner`},Q(n,{elTag:`a`,elClasses:[`fc-col-header-cell-cushion`,e.isSticky&&`fc-sticky`],elAttrs:{"aria-label":t.format(a,wVe)}})))}},h7=class extends A8{constructor(){super(...arguments),this.createDayHeaderFormatter=Q6(EVe)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:r,renderIntro:i}=this.props,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return Q(G5,{unit:`day`},(e,o)=>Q(`tr`,{role:`row`},i&&i(`day`),t.map(e=>r?Q(CVe,{key:e.toISOString(),date:e,dateProfile:n,todayRange:o,colCnt:t.length,dayHeaderFormat:a}):Q(TVe,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:a}))))}};function EVe(e,t,n){return e||SVe(t,n)}var g7=class{constructor(e,t){let n=e.start,{end:r}=e,i=[],a=[],o=-1;for(;n<r;)t.isHiddenDay(n)?i.push(o+.5):(o+=1,i.push(o),a.push(n)),n=L6(n,1);this.dates=a,this.indices=i,this.cnt=a.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(L6(e.end,-1)),r=Math.max(0,t),i=Math.min(this.cnt-1,n);return r=Math.ceil(r),i=Math.floor(i),r<=i?{firstIndex:r,lastIndex:i,isStart:t===r,isEnd:n===i}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(z6(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}},_7=class{constructor(e,t){let{dates:n}=e,r,i,a;if(t){for(i=n[0].getUTCDay(),r=1;r<n.length&&n[r].getUTCDay()!==i;r+=1);a=Math.ceil(n.length/r)}else a=1,r=n.length;this.rowCnt=a,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let e=0;e<this.colCnt;e+=1)n.push(this.buildCell(t,e));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),r=[];if(n){let{firstIndex:e,lastIndex:i}=n,a=e;for(;a<=i;){let o=Math.floor(a/t),s=Math.min((o+1)*t,i+1);r.push({row:o,firstCol:a%t,lastCol:(s-1)%t,isStart:n.isStart&&a===e,isEnd:n.isEnd&&s-1===i}),a=s}}return r}},v7=class{constructor(){this.sliceBusinessHours=Q6(this._sliceBusinessHours),this.sliceDateSelection=Q6(this._sliceDateSpan),this.sliceEventStore=Q6(this._sliceEventStore),this.sliceEventDrag=Q6(this._sliceInteraction),this.sliceEventResize=Q6(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,r,...i){let{eventUiBases:a}=e,o=this.sliceEventStore(e.eventStore,a,t,n,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,a,r,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,r,...i),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,t,n,...i),eventResize:this.sliceEventResize(e.eventResize,a,t,n,...i),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,r,...i){return this._sliceDateSpan({range:{start:e,end:R6(e,1)},allDay:!1},t,n,{},r,...i)}_sliceBusinessHours(e,t,n,r,...i){return e?this._sliceEventStore(Y8(e,y7(t,!!n),r),{},t,n,...i).bg:[]}_sliceEventStore(e,t,n,r,...i){if(e){let a=D5(e,t,y7(n,!!r),r);return{bg:this.sliceEventRanges(a.bg,i),fg:this.sliceEventRanges(a.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,r,...i){if(!e)return null;let a=D5(e.mutatedEvents,t,y7(n,!!r),r);return{segs:this.sliceEventRanges(a.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,r,i,...a){if(!e)return[];let o=y7(t,!!n),s=B8(e.range,o);if(s){e=Object.assign(Object.assign({},e),{range:s});let t=JBe(e,r,i),n=this.sliceRange(e.range,...a);for(let e of n)e.eventRange=t;return n}return[]}sliceEventRanges(e,t){let n=[];for(let r of e)n.push(...this.sliceEventRange(r,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&e.ui.display===`list-item`&&(n={start:n.start,end:L6(n.start,1)});let r=this.sliceRange(n,...t);for(let t of r)t.eventRange=e,t.isStart=e.isStart&&t.isStart,t.isEnd=e.isEnd&&t.isEnd;return r}};function y7(e,t){let n=e.activeRange;return t?n:{start:R6(n.start,e.slotMinTime.milliseconds),end:R6(n.end,e.slotMaxTime.milliseconds-864e5)}}function b7(e,t,n){let{instances:r}=e.mutatedEvents;for(let e in r)if(!H8(t.validRange,r[e].range))return!1;return x7({eventDrag:e},n)}function DVe(e,t,n){return H8(t.validRange,e.range)?x7({dateSelection:e},n):!1}function x7(e,t){let n=t.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:``,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:``,eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||OVe)(r,t)}function OVe(e,t,n={},r){return!(e.eventDrag&&!kVe(e,t,n,r)||e.dateSelection&&!AVe(e,t,n,r))}function kVe(e,t,n,r){let i=t.getCurrentData(),a=e.eventDrag,o=a.mutatedEvents,s=o.defs,c=o.instances,l=A5(s,a.isEvent?e.eventUiBases:{"":i.selectionConfig});r&&(l=y8(l,r));let u=EBe(e.eventStore,a.affectedEvents.instances),d=u.defs,f=u.instances,p=A5(d,e.eventUiBases);for(let r in c){let o=c[r],m=o.range,h=l[o.defId],g=s[o.defId];if(!S7(h.constraints,m,u,e.businessHours,t))return!1;let{eventOverlap:_}=t.options,v=typeof _==`function`?_:null;for(let e in f){let n=f[e];if(V8(m,n.range)&&(p[n.defId].overlap===!1&&a.isEvent||h.overlap===!1||v&&!v(new w5(t,d[n.defId],n),new w5(t,g,o))))return!1}let y=i.eventStore;for(let e of h.allows){let i=Object.assign(Object.assign({},n),{range:o.range,allDay:g.allDay}),a=y.defs[g.defId],s=y.instances[r],c;if(c=a?new w5(t,a,s):new w5(t,g),!e(b5(i,t),c))return!1}}return!0}function AVe(e,t,n,r){let i=e.eventStore,a=i.defs,o=i.instances,s=e.dateSelection,c=s.range,{selectionConfig:l}=t.getCurrentData();if(r&&(l=r(l)),!S7(l.constraints,c,i,e.businessHours,t))return!1;let{selectOverlap:u}=t.options,d=typeof u==`function`?u:null;for(let e in o){let n=o[e];if(V8(c,n.range)&&(l.overlap===!1||d&&!d(new w5(t,a[n.defId],n),null)))return!1}for(let e of l.allows)if(!e(b5(Object.assign(Object.assign({},n),s),t),null))return!1;return!0}function S7(e,t,n,r,i){for(let a of e)if(!MVe(jVe(a,t,n,r,i),t))return!1;return!0}function jVe(e,t,n,r,i){return e===`businessHours`?C7(Y8(r,t,i)):typeof e==`string`?C7(s5(n,t=>t.groupId===e)):typeof e==`object`&&e?C7(Y8(e,t,i)):[]}function C7(e){let{instances:t}=e,n=[];for(let e in t)n.push(t[e].range);return n}function MVe(e,t){for(let n of e)if(H8(n,t))return!0;return!1}var w7=/^(visible|hidden)$/,T7=class extends A8{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,j8(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,r=t&&n,i=[`fc-scroller`];return t&&(n?i.push(`fc-scroller-liquid-absolute`):i.push(`fc-scroller-liquid`)),Q(`div`,{ref:this.handleEl,className:i.join(` `),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||``,right:r&&-(e.overcomeRight||0)||``,bottom:r&&-(e.overcomeBottom||0)||``,marginLeft:!r&&-(e.overcomeLeft||0)||``,marginRight:!r&&-(e.overcomeRight||0)||``,marginBottom:!r&&-(e.overcomeBottom||0)||``,maxHeight:e.maxHeight||``}},e.children)}needsXScrolling(){if(w7.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1)if(n[e].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(w7.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1)if(n[e].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return w7.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return w7.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},E7=class{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(e,t)=>{let{depths:n,currentMap:r}=this,i=!1,a=!1;e===null?(--n[t],n[t]||(delete r[t],delete this.callbackMap[t],i=!0)):(i=t in r,r[t]=e,n[t]=(n[t]||0)+1,a=!0),this.masterCallback&&(i&&this.masterCallback(null,String(t)),a&&this.masterCallback(e,String(t)))}}createRef(e){let t=this.callbackMap[e];return t||=this.callbackMap[e]=t=>{this.handleValue(t,String(e))},t}collect(e,t,n){return Gze(this.currentMap,e,t,n)}getAll(){return x8(this.currentMap)}};function NVe(e){let t=URe(e,`.fc-scrollgrid-shrink`),n=0;for(let e of t)n=Math.max(n,rze(e));return Math.ceil(n)}function D7(e,t){return e.liquid&&t.liquid}function PVe(e,t){return t.maxHeight!=null||D7(e,t)}function FVe(e,t,n,r){let{expandRows:i}=n;return typeof t.content==`function`?t.content(n):Q(`table`,{role:`presentation`,className:[t.tableClassName,e.syncRowHeights?`fc-scrollgrid-sync-table`:``].join(` `),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:``}},n.tableColGroupNode,Q(r?`thead`:`tbody`,{role:`presentation`},typeof t.rowContent==`function`?t.rowContent(n):t.rowContent))}function IVe(e,t){return F6(e,t,S8)}function LVe(e,t){let n=[];for(let r of e){let e=r.span||1;for(let i=0;i<e;i+=1)n.push(Q(`col`,{style:{width:r.width===`shrink`?RVe(t):r.width||``,minWidth:r.minWidth||``}}))}return Q(`colgroup`,{},...n)}function RVe(e){return e??4}function zVe(e){for(let t of e)if(t.width===`shrink`)return!0;return!1}function BVe(e,t){let n=[`fc-scrollgrid`,t.theme.getClass(`table`)];return e&&n.push(`fc-scrollgrid-liquid`),n}function VVe(e,t){let n=[`fc-scrollgrid-section`,`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&e.maxHeight==null&&n.push(`fc-scrollgrid-section-liquid`),e.isSticky&&n.push(`fc-scrollgrid-section-sticky`),n}function O7(e){return Q(`div`,{className:`fc-scrollgrid-sticky-shim`,style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function k7(e){let{stickyHeaderDates:t}=e;return(t==null||t===`auto`)&&(t=e.height===`auto`||e.viewHeight===`auto`),t}function A7(e){let{stickyFooterScrollbar:t}=e;return(t==null||t===`auto`)&&(t=e.height===`auto`||e.viewHeight===`auto`),t}var j7=class extends A8{constructor(){super(...arguments),this.processCols=Q6(e=>e,IVe),this.renderMicroColGroup=Q6(LVe),this.scrollerRefs=new E7,this.scrollerElRefs=new E7(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:n}=this,r=e.sections||[],i=this.processCols(e.cols),a=this.renderMicroColGroup(i,t.shrinkWidth),o=BVe(e.liquid,n);e.collapsibleWidth&&o.push(`fc-scrollgrid-collapsible`);let s=r.length,c=0,l,u=[],d=[],f=[];for(;c<s&&(l=r[c]).type===`header`;)u.push(this.renderSection(l,a,!0)),c+=1;for(;c<s&&(l=r[c]).type===`body`;)d.push(this.renderSection(l,a,!1)),c+=1;for(;c<s&&(l=r[c]).type===`footer`;)f.push(this.renderSection(l,a,!0)),c+=1;let p=!V5(),m={role:`rowgroup`};return Q(`table`,{role:`grid`,className:o.join(` `),style:{height:e.height}},!!(!p&&u.length)&&Q(`thead`,m,...u),!!(!p&&d.length)&&Q(`tbody`,m,...d),!!(!p&&f.length)&&Q(`tfoot`,m,...f),p&&Q(`tbody`,m,...u,...d,...f))}renderSection(e,t,n){return`outerContent`in e?Q(c3,{key:e.key},e.outerContent):Q(`tr`,{key:e.key,role:`presentation`,className:VVe(e,this.props.liquid).join(` `)},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,r){if(`outerContent`in n)return n.outerContent;let{props:i}=this,{forceYScrollbars:a,scrollerClientWidths:o,scrollerClientHeights:s}=this.state,c=PVe(i,e),l=D7(i,e),u=i.liquid?a?`scroll`:c?`auto`:`hidden`:`visible`,d=e.key,f=FVe(e,n,{tableColGroupNode:t,tableMinWidth:``,clientWidth:!i.collapsibleWidth&&o[d]!==void 0?o[d]:null,clientHeight:s[d]===void 0?null:s[d],expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return Q(r?`th`:`td`,{ref:n.elRef,role:`presentation`},Q(`div`,{className:`fc-scroller-harness${l?` fc-scroller-harness-liquid`:``}`},Q(T7,{ref:this.scrollerRefs.createRef(d),elRef:this.scrollerElRefs.createRef(d),overflowY:u,overflowX:i.liquid?`hidden`:`visible`,maxHeight:e.maxHeight,liquid:l,liquidIsAbsolute:!0},f)))}_handleScrollerEl(e,t){let n=HVe(this.props.sections,t);n&&j8(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return zVe(this.props.cols)?NVe(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=fVe(),{scrollerRefs:t,scrollerElRefs:n}=this,r=!1,i={},a={};for(let e in t.currentMap){let n=t.currentMap[e];if(n&&n.needsYScrolling()){r=!0;break}}for(let t of this.props.sections){let o=t.key,s=n.currentMap[o];if(s){let t=s.parentNode;i[o]=Math.floor(t.getBoundingClientRect().width-(r?e.y:0)),a[o]=Math.floor(t.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:i,scrollerClientHeights:a}}};j7.addStateEquality({scrollerClientWidths:S8,scrollerClientHeights:S8});function HVe(e,t){for(let n of e)if(n.key===t)return n;return null}var M7=class extends A8{constructor(){super(...arguments),this.buildPublicEvent=Q6((e,t,n)=>new w5(e,t,n)),this.handleEl=e=>{this.el=e,j8(this.props.elRef,e),e&&O5(e,this.props.seg)}}render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{eventRange:i}=r,{ui:a}=i,o={event:this.buildPublicEvent(t,i.def,i.instance),view:t.viewApi,timeText:e.timeText,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,isDraggable:!e.disableDragging&&RBe(r,t),isStartResizable:!e.disableResizing&&zBe(r,t),isEndResizable:!e.disableResizing&&BBe(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return Q(I8,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...VBe(o),...r.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:o,generatorName:`eventContent`,customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&O5(this.el,this.props.seg)}},N7=class extends A8{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{ui:i}=r.eventRange,a=N5(r,n.eventTimeFormat||e.defaultTimeFormat,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return Q(M7,Object.assign({},e,{elTag:`a`,elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:I5(r,t),defaultGenerator:UVe,timeText:a}),(e,t)=>Q(c3,null,Q(e,{elTag:`div`,elClasses:[`fc-event-main`],elStyle:{color:t.textColor}}),!!t.isStartResizable&&Q(`div`,{className:`fc-event-resizer fc-event-resizer-start`}),!!t.isEndResizable&&Q(`div`,{className:`fc-event-resizer fc-event-resizer-end`})))}};N7.addPropsEquality({seg:S8});function UVe(e){return Q(`div`,{className:`fc-event-main-frame`},e.timeText&&Q(`div`,{className:`fc-event-time`},e.timeText),Q(`div`,{className:`fc-event-title-container`},Q(`div`,{className:`fc-event-title fc-sticky`},e.event.title||Q(c3,null,`\xA0`))))}var P7=e=>Q(O8.Consumer,null,t=>{let{options:n}=t,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return Q(I8,{elRef:e.elRef,elTag:e.elTag||`div`,elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:r,generatorName:`nowIndicatorContent`,customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},e.children)}),WVe=o8({day:`numeric`}),F7=class extends A8{constructor(){super(...arguments),this.refineRenderProps=$6(GVe)}render(){let{props:e,context:t}=this,{options:n}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return Q(I8,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":X6(e.date)}),elClasses:[...Y5(r,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:`dayCellContent`,customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}};function I7(e){return!!(e.dayCellContent||N8(`dayCellContent`,e))}function GVe(e){let{date:t,dateEnv:n,dateProfile:r,isMonthStart:i}=e,a=J5(t,e.todayRange,null,r),o=e.showDayNumber?n.format(t,i?e.monthStartFormat:WVe):``;return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},a),{isMonthStart:i,dayNumberText:o}),e.extraRenderProps)}var L7=class extends A8{render(){let{props:e}=this,{seg:t}=e;return Q(M7,{elTag:`div`,elClasses:[`fc-bg-event`],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:KVe,seg:t,timeText:``,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}};function KVe(e){let{title:t}=e.event;return t&&Q(`div`,{className:`fc-event-title`},e.event.title)}function R7(e){return Q(`div`,{className:`fc-${e}`})}var z7=e=>Q(O8.Consumer,null,t=>{let{dateEnv:n,options:r}=t,{date:i}=e,a=r.weekNumberFormat||e.defaultFormat,o={num:n.computeWeekNumber(i),text:n.format(i,a),date:i};return Q(I8,{elRef:e.elRef,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:o,generatorName:`weekNumberContent`,customGenerator:r.weekNumberContent,defaultGenerator:qVe,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},e.children)});function qVe(e){return e.text}var B7=10,JVe=class extends A8{constructor(){super(...arguments),this.state={titleId:m6()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&j8(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let t=f6(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key===`Escape`&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:r}=this,i=[`fc-popover`,e.getClass(`popover`)].concat(n.extraClassNames||[]);return ARe(Q(`div`,Object.assign({},n.extraAttrs,{id:n.id,className:i.join(` `),"aria-labelledby":r.titleId,ref:this.handleRootEl}),Q(`div`,{className:`fc-popover-header `+e.getClass(`popoverHeader`)},Q(`span`,{className:`fc-popover-title`,id:r.titleId},n.title),Q(`span`,{className:`fc-popover-close `+e.getIconClass(`close`),title:t.closeHint,onClick:this.handleCloseClick})),Q(`div`,{className:`fc-popover-body `+e.getClass(`popoverContent`)},n.children)),n.parentEl)}componentDidMount(){document.addEventListener(`mousedown`,this.handleDocumentMouseDown),document.addEventListener(`keydown`,this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener(`mousedown`,this.handleDocumentMouseDown),document.removeEventListener(`keydown`,this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:r}=this,i=gVe(t);if(i){let a=r.getBoundingClientRect(),o=n?l6(t,`.fc-scrollgrid`).getBoundingClientRect().top:i.top,s=e?i.right-a.width:i.left;o=Math.max(o,B7),s=Math.min(s,document.documentElement.clientWidth-B7-a.width),s=Math.max(s,B7);let c=r.offsetParent.getBoundingClientRect();u6(r,{top:o-c.top,left:s-c.left})}}},YVe=class extends a7{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:r,todayRange:i,dateProfile:a}=n,o=t.format(r,e.dayPopoverFormat);return Q(F7,{elRef:this.handleRootEl,date:r,dateProfile:a,todayRange:i},(t,r,i)=>Q(JVe,{elRef:i.ref,id:n.id,title:o,extraClassNames:[`fc-more-popover`].concat(i.className||[]),extraAttrs:i,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},I7(e)&&Q(t,{elTag:`div`,elClasses:[`fc-more-popover-misc`]}),n.children))}queryHit(e,t,n,r){let{rootEl:i,props:a}=this;return e>=0&&e<n&&t>=0&&t<r?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null}},V7=class extends A8{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:m6()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&j8(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:r}=n.options,i=H7(t).start;function a(e){let{def:t,instance:r,range:i}=e.eventRange;return{event:new w5(n,t,r),start:n.dateEnv.toDate(i.start),end:n.dateEnv.toDate(i.end),isStart:e.isStart,isEnd:e.isEnd}}typeof r==`function`&&(r=r({date:i,allDay:!!t.allDayDate,allSegs:t.allSegs.map(a),hiddenSegs:t.hiddenSegs.map(a),jsEvent:e,view:n.viewApi})),!r||r===`popover`?this.setState({isPopoverOpen:!0}):typeof r==`string`&&n.calendarApi.zoomTo(i,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return Q(O8.Consumer,null,n=>{let{viewApi:r,options:i,calendarApi:a}=n,{moreLinkText:o}=i,{moreCnt:s}=e,c=H7(e),l=typeof o==`function`?o.call(a,s):`+${s} ${o}`,u=T6(i.moreLinkHint,[s],l),d={num:s,shortText:`+${s}`,text:l,view:r};return Q(c3,null,!!e.moreCnt&&Q(I8,{elTag:e.elTag||`a`,elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],`fc-more-link`],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),v6(this.handleClick)),{title:u,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:``}),renderProps:d,generatorName:`moreLinkContent`,customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||XVe,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),t.isPopoverOpen&&Q(YVe,{id:t.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=l6(this.linkEl,`.fc-view-harness`))}};function XVe(e){return e.text}function H7(e){if(e.allDayDate)return{start:e.allDayDate,end:L6(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:U7(t),end:QVe(t)}}function U7(e){return e.reduce(ZVe).eventRange.range.start}function ZVe(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function QVe(e){return e.reduce($Ve).eventRange.range.end}function $Ve(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}var eHe=class{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}},tHe=class extends eHe{constructor(){super(...arguments),this.map=new Map}handle(e){let{map:t}=this,n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}},nHe=[],W7={code:`en`,week:{dow:0,doy:4},direction:`ltr`,buttonText:{prev:`prev`,next:`next`,prevYear:`prev year`,nextYear:`next year`,year:`year`,today:`today`,month:`month`,week:`week`,day:`day`,list:`list`},weekText:`W`,weekTextLong:`Week`,closeHint:`Close`,timeHint:`Time`,eventHint:`Event`,allDayText:`all-day`,moreLinkText:`more`,noEventsText:`No events to display`},G7=Object.assign(Object.assign({},W7),{buttonHints:{prev:`Previous $0`,next:`Next $0`,today(e,t){return t===`day`?`Today`:`This ${e}`}},viewHint:`$0 view`,navLinkHint:`Go to $0`,moreLinkHint(e){return`Show ${e} more event${e===1?``:`s`}`}});function rHe(e){let t=e.length>0?e[0].code:`en`,n=nHe.concat(e),r={en:G7};for(let e of n)r[e.code]=e;return{map:r,defaultCode:t}}function K7(e,t){return typeof e==`object`&&!Array.isArray(e)?q7(e.code,[e.code],e):iHe(e,t)}function iHe(e,t){let n=[].concat(e||[]);return q7(e,n,aHe(n,t)||G7)}function aHe(e,t){for(let n=0;n<e.length;n+=1){let r=e[n].toLocaleLowerCase().split(`-`);for(let e=r.length;e>0;--e){let n=r.slice(0,e).join(`-`);if(t[n])return t[n]}}return null}function q7(e,t,n){let r=_8([W7,n],[`buttonText`]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:e,codes:t,week:i,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function J7(e){return{id:x6(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||``,elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function oHe(e,t){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:``,elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(e){for(let t of e){let e=t.name,a=n[e];a===void 0?(n[e]=t.id,i(t.deps),r=cHe(r,t)):a!==t.id&&console.warn(`Duplicate plugin '${e}'`)}}return e&&i(e),i(t),r}function sHe(){let e=[],t=[],n;return(r,i)=>((!n||!F6(r,e)||!F6(i,t))&&(n=oHe(r,i)),e=r,t=i,n)}function cHe(e,t){return{premiumReleaseDate:lHe(e.premiumReleaseDate,t.premiumReleaseDate),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}function lHe(e,t){return e===void 0?t:t===void 0?e:new Date(Math.max(e.valueOf(),t.valueOf()))}var Y7=class extends T8{};Y7.prototype.classes={root:`fc-theme-standard`,tableCellShaded:`fc-cell-shaded`,buttonGroup:`fc-button-group`,button:`fc-button fc-button-primary`,buttonActive:`fc-button-active`},Y7.prototype.baseIconClass=`fc-icon`,Y7.prototype.iconClasses={close:`fc-icon-x`,prev:`fc-icon-chevron-left`,next:`fc-icon-chevron-right`,prevYear:`fc-icon-chevrons-left`,nextYear:`fc-icon-chevrons-right`},Y7.prototype.rtlIconClasses={prev:`fc-icon-chevron-right`,next:`fc-icon-chevron-left`,prevYear:`fc-icon-chevrons-right`,nextYear:`fc-icon-chevrons-left`},Y7.prototype.iconOverrideOption=`buttonIcons`,Y7.prototype.iconOverrideCustomButtonOption=`icon`,Y7.prototype.iconOverridePrefix=`fc-icon-`;function uHe(e,t){let n={},r;for(r in e)X7(r,n,e,t);for(r in t)X7(r,n,e,t);return n}function X7(e,t,n,r){if(t[e])return t[e];let i=dHe(e,t,n,r);return i&&(t[e]=i),i}function dHe(e,t,n,r){let i=n[e],a=r[e],o=e=>i&&i[e]!==null?i[e]:a&&a[e]!==null?a[e]:null,s=o(`component`),c=o(`superType`),l=null;if(c){if(c===e)throw Error(`Can't have a custom view type that references itself`);l=X7(c,t,n,r)}return!s&&l&&(s=l.component),s?{type:e,component:s,defaults:Object.assign(Object.assign({},l?l.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},l?l.overrides:{}),a?a.rawOptions:{})}:null}function Z7(e){return y8(e,fHe)}function fHe(e){let t=typeof e==`function`?{component:e}:e,{component:n}=t;return t.content?n=Q7(t):n&&!(n.prototype instanceof A8)&&(n=Q7(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function Q7(e){return t=>Q(O8.Consumer,null,n=>Q(I8,{elTag:`div`,elClasses:R8(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function pHe(e,t,n,r){let i=Z7(e),a=Z7(t.views);return y8(uHe(i,a),e=>mHe(e,a,t,n,r))}function mHe(e,t,n,r,i){let a=e.overrides.duration||e.defaults.duration||r.duration||n.duration,o=null,s=``,c=``,l={};if(a&&(o=hHe(a),o)){let e=P6(o);s=e.unit,e.value===1&&(c=s,l=t[s]?t[s].rawOptions:{})}let u=t=>{let n=t.buttonText||{},r=e.defaults.buttonTextKey;return r!=null&&n[r]!=null?n[r]:n[e.type]==null?n[c]==null?null:n[c]:n[e.type]},d=t=>{let n=t.buttonHints||{},r=e.defaults.buttonTextKey;return r!=null&&n[r]!=null?n[r]:n[e.type]==null?n[c]==null?null:n[c]:n[e.type]};return{type:e.type,component:e.component,duration:o,durationUnit:s,singleUnit:c,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},l),e.overrides),buttonTextOverride:u(r)||u(n)||e.overrides.buttonText,buttonTextDefault:u(i)||e.defaults.buttonText||u(c8)||e.type,buttonTitleOverride:d(r)||d(n)||e.overrides.buttonHint,buttonTitleDefault:d(i)||e.defaults.buttonHint||d(c8)}}var $7={};function hHe(e){let t=JSON.stringify(e),n=$7[t];return n===void 0&&(n=O6(e),$7[t]=n),n}function gHe(e,t){switch(t.type){case`CHANGE_VIEW_TYPE`:e=t.viewType}return e}function _He(e,t){switch(t.type){case`CHANGE_DATE`:return t.dateMarker;default:return e}}function vHe(e,t,n){let r=e.initialDate;return r==null?n.getDateMarker():t.createMarker(r)}function yHe(e,t){switch(t.type){case`SET_OPTION`:return Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue});default:return e}}function bHe(e,t,n,r){let i;switch(t.type){case`CHANGE_VIEW_TYPE`:return r.build(t.dateMarker||n);case`CHANGE_DATE`:return r.build(t.dateMarker);case`PREV`:if(i=r.buildPrev(e,n),i.isValid)return i;break;case`NEXT`:if(i=r.buildNext(e,n),i.isValid)return i;break}return e}function xHe(e,t,n){let r=t?t.activeRange:null;return t9({},OHe(e,n),r,n)}function SHe(e,t,n,r){let i=n?n.activeRange:null;switch(t.type){case`ADD_EVENT_SOURCES`:return t9(e,t.sources,i,r);case`REMOVE_EVENT_SOURCE`:return wHe(e,t.sourceId);case`PREV`:case`NEXT`:case`CHANGE_DATE`:case`CHANGE_VIEW_TYPE`:return n?n9(e,i,r):e;case`FETCH_EVENT_SOURCES`:return r9(e,t.sourceIds?b8(t.sourceIds):i9(e,r),i,t.isRefetch||!1,r);case`RECEIVE_EVENTS`:case`RECEIVE_EVENT_ERROR`:return DHe(e,t.sourceId,t.fetchId,t.fetchRange);case`REMOVE_ALL_EVENT_SOURCES`:return{};default:return e}}function CHe(e,t,n){let r=t?t.activeRange:null;return r9(e,i9(e,n),r,!0,n)}function e9(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function t9(e,t,n,r){let i={};for(let e of t)i[e.sourceId]=e;return n&&(i=n9(i,n,r)),Object.assign(Object.assign({},e),i)}function wHe(e,t){return v8(e,e=>e.sourceId!==t)}function n9(e,t,n){return r9(e,v8(e,e=>THe(e,t,n)),t,!1,n)}function THe(e,t,n){return a9(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}function r9(e,t,n,r,i){let a={};for(let o in e){let s=e[o];t[o]?a[o]=EHe(s,n,r,i):a[o]=s}return a}function EHe(e,t,n,r){let{options:i,calendarApi:a}=r,o=r.pluginHooks.eventSourceDefs[e.sourceDefId],s=x6();return o.fetch({eventSource:e,range:t,isRefetch:n,context:r},n=>{let{rawEvents:o}=n;i.eventSourceSuccess&&(o=i.eventSourceSuccess.call(a,o,n.response)||o),e.success&&(o=e.success.call(a,o,n.response)||o),r.dispatch({type:`RECEIVE_EVENTS`,sourceId:e.sourceId,fetchId:s,fetchRange:t,rawEvents:o})},n=>{let o=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,n),o=!0),e.failure&&(e.failure(n),o=!0),o||console.warn(n.message,n),r.dispatch({type:`RECEIVE_EVENT_ERROR`,sourceId:e.sourceId,fetchId:s,fetchRange:t,error:n})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:s})}function DHe(e,t,n,r){let i=e[t];return i&&n===i.latestFetchId?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):e}function i9(e,t){return v8(e,e=>a9(e,t))}function OHe(e,t){let n=p5(t),r=[].concat(e.eventSources||[]),i=[];e.initialEvents&&r.unshift(e.initialEvents),e.events&&r.unshift(e.events);for(let e of r){let r=f5(e,t,n);r&&i.push(r)}return i}function a9(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function kHe(e,t){switch(t.type){case`UNSELECT_DATES`:return null;case`SELECT_DATES`:return t.selection;default:return e}}function AHe(e,t){switch(t.type){case`UNSELECT_EVENT`:return``;case`SELECT_EVENT`:return t.eventInstanceId;default:return e}}function jHe(e,t){let n;switch(t.type){case`UNSET_EVENT_DRAG`:return null;case`SET_EVENT_DRAG`:return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function MHe(e,t){let n;switch(t.type){case`UNSET_EVENT_RESIZE`:return null;case`SET_EVENT_RESIZE`:return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function NHe(e,t,n,r,i){return{header:e.headerToolbar?o9(e.headerToolbar,e,t,n,r,i):null,footer:e.footerToolbar?o9(e.footerToolbar,e,t,n,r,i):null}}function o9(e,t,n,r,i,a){let o={},s=[],c=!1;for(let l in e){let u=e[l],d=PHe(u,t,n,r,i,a);o[l]=d.widgets,s.push(...d.viewsWithButtons),c||=d.hasTitle}return{sectionWidgets:o,viewsWithButtons:s,hasTitle:c}}function PHe(e,t,n,r,i,a){let o=t.direction===`rtl`,s=t.customButtons||{},c=n.buttonText||{},l=t.buttonText||{},u=n.buttonHints||{},d=t.buttonHints||{},f=e?e.split(` `):[],p=[],m=!1;return{widgets:f.map(e=>e.split(`,`).map(e=>{if(e===`title`)return m=!0,{buttonName:e};let n,f,h,g,_,v;if(n=s[e])h=e=>{n.click&&n.click.call(e.target,e,e.target)},(g=r.getCustomButtonIconClass(n))||(g=r.getIconClass(e,o))||(_=n.text),v=n.hint||n.text;else if(f=i[e]){p.push(e),h=()=>{a.changeView(e)},(_=f.buttonTextOverride)||(g=r.getIconClass(e,o))||(_=f.buttonTextDefault);let n=f.buttonTextOverride||f.buttonTextDefault;v=T6(f.buttonTitleOverride||f.buttonTitleDefault||t.viewHint,[n,e],n)}else if(a[e])if(h=()=>{a[e]()},(_=c[e])||(g=r.getIconClass(e,o))||(_=l[e]),e===`prevYear`||e===`nextYear`){let t=e===`prevYear`?`prev`:`next`;v=T6(u[t]||d[t],[l.year||`year`,`year`],l[e])}else v=t=>T6(u[e]||d[e],[l[t]||t,t],l[e]);return{buttonName:e,buttonClick:h,buttonIcon:g,buttonText:_,buttonHint:v}})),viewsWithButtons:p,hasTitle:m}}var FHe=class{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}},IHe=J7({name:`array-event-source`,eventSourceDefs:[{ignoreRange:!0,parseMeta(e){return Array.isArray(e.events)?e.events:null},fetch(e,t){t({rawEvents:e.eventSource.meta})}}]}),LHe=J7({name:`func-event-source`,eventSourceDefs:[{parseMeta(e){return typeof e.events==`function`?e.events:null},fetch(e,t,n){let{dateEnv:r}=e.context,i=e.eventSource.meta;YBe(i.bind(null,L5(e.range,r)),e=>t({rawEvents:e}),n)}}]}),RHe=J7({name:`json-event-source`,eventSourceRefiners:{method:String,extraParams:$,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta(e){return e.url&&(e.format===`json`||!e.format)?{url:e.url,format:`json`,method:(e.method||`GET`).toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}:null},fetch(e,t,n){let{meta:r}=e.eventSource,i=zHe(r,e.range,e.context);XBe(r.method,r.url,i).then(([e,n])=>{t({rawEvents:e,response:n})},n)}}]});function zHe(e,t,n){let{dateEnv:r,options:i}=n,a,o,s,c,l={};return a=e.startParam,a??=i.startParam,o=e.endParam,o??=i.endParam,s=e.timeZoneParam,s??=i.timeZoneParam,c=typeof e.extraParams==`function`?e.extraParams():e.extraParams||{},Object.assign(l,c),l[a]=r.formatIso(t.start),l[o]=r.formatIso(t.end),r.timeZone!==`local`&&(l[s]=r.timeZone),l}var BHe=J7({name:`simple-recurring-event`,recurringTypes:[{parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let n={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t},r;return e.duration&&(r=e.duration),!r&&e.startTime&&e.endTime&&(r=sze(e.endTime,e.startTime)),{allDayGuess:!e.startTime&&!e.endTime,duration:r,typeData:n}}return null},expand(e,t,n){let r=B8(t,{start:e.startRecur,end:e.endRecur});return r?VHe(e.daysOfWeek,e.startTime,e.dateEnv,n,r):[]}}],eventRefiners:{daysOfWeek:$,startTime:O6,endTime:O6,duration:O6,startRecur:$,endRecur:$}});function VHe(e,t,n,r,i){let a=e?b8(e):null,o=V6(i.start),s=i.end,c=[];for(t&&(t.milliseconds<0?s=L6(s,1):t.milliseconds>=1e3*60*60*24&&(o=L6(o,-1)));o<s;){let e;(!a||a[o.getUTCDay()])&&(e=t?r.add(o,t):o,c.push(r.createMarker(n.toDate(e)))),o=L6(o,1)}return c}var HHe=J7({name:`change-handler`,optionChangeHandlers:{events(e,t){s9([e],t)},eventSources:s9}});function s9(e,t){let n=x8(t.getCurrentData().eventSources);if(n.length===1&&e.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(e[0])){t.dispatch({type:`RESET_RAW_EVENTS`,sourceId:n[0].sourceId,rawEvents:e[0]});return}let r=[];for(let t of e){let e=!1;for(let r=0;r<n.length;r+=1)if(n[r]._raw===t){n.splice(r,1),e=!0;break}e||r.push(t)}for(let e of n)t.dispatch({type:`REMOVE_EVENT_SOURCE`,sourceId:e.sourceId});for(let e of r)t.calendarApi.addEventSource(e)}function UHe(e,t){t.emitter.trigger(`datesSet`,Object.assign(Object.assign({},L5(e.activeRange,t.dateEnv)),{view:t.viewApi}))}function WHe(e,t){let{emitter:n}=t;n.hasHandlers(`eventsSet`)&&n.trigger(`eventsSet`,E5(e,t))}var GHe=[IHe,LHe,RHe,BHe,HHe,J7({name:`misc`,isLoadingFuncs:[e=>e9(e.eventSources)],propSetHandlers:{dateProfile:UHe,eventStore:WHe}})],KHe=class{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new s6(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],n;for(;n=e.shift();)this.runTask(n),t.push(n);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}};function qHe(e,t,n){let r;return r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(r.start,r.end,o8(t.titleFormat||JHe(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}function JHe(e){let{currentRangeUnit:t}=e;if(t===`year`)return{year:`numeric`};if(t===`month`)return{year:`numeric`,month:`long`};let n=B6(e.currentRange.start,e.currentRange.end);return n!==null&&n>1?{year:`numeric`,month:`short`,day:`numeric`}:{year:`numeric`,month:`long`,day:`numeric`}}var c9=class{constructor(){this.resetListeners=new Set}handleInput(e,t){let n=this.dateEnv;if(e!==n&&(typeof t==`function`?this.nowFn=t:n||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(let e of this.resetListeners.values())e()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}},YHe=class{constructor(e){this.computeCurrentViewData=Q6(this._computeCurrentViewData),this.organizeRawLocales=Q6(rHe),this.buildLocale=Q6(K7),this.buildPluginHooks=sHe(),this.buildDateEnv=Q6(XHe),this.buildTheme=Q6(ZHe),this.parseToolbars=Q6(NHe),this.buildViewSpecs=Q6(pHe),this.buildDateProfileGenerator=$6(QHe),this.buildViewApi=Q6($He),this.buildViewUiProps=$6(nUe),this.buildEventUiBySource=Q6(eUe,S8),this.buildEventUiBases=Q6(tUe),this.parseContextBusinessHours=$6(rUe),this.buildTitle=Q6(qHe),this.nowManager=new c9,this.emitter=new v5,this.actionRunner=new KHe(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=e=>{this.actionRunner.request(e)},this.props=e,this.actionRunner.pause(),this.nowManager=new c9;let t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=n.calendarOptions.initialView||n.pluginHooks.initialView,i=this.computeCurrentViewData(r,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);let a={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=vHe(n.calendarOptions,n.dateEnv,this.nowManager),s=i.dateProfileGenerator.build(o);U8(s.activeRange,o)||(o=s.currentRange.start);for(let e of n.pluginHooks.contextInit)e(a);let c=xHe(n.calendarOptions,s,a),l={dynamicOptionOverrides:t,currentViewType:r,currentDate:o,dateProfile:s,businessHours:this.parseContextBusinessHours(a),eventSources:c,eventUiBases:{},eventStore:a5(),renderableEventStore:a5(),dateSelection:null,eventSelection:``,eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},u=Object.assign(Object.assign({},a),l);for(let e of n.pluginHooks.reducers)Object.assign(l,e(null,null,u));l9(l,a)&&this.emitter.trigger(`loading`,!0),this.state=l,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;t===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:`NOTHING`})}_handleAction(e){let{props:t,state:n,emitter:r}=this,i=yHe(n.dynamicOptionOverrides,e),a=this.computeOptionsData(t.optionOverrides,i,t.calendarApi),o=gHe(n.currentViewType,e),s=this.computeCurrentViewData(o,a,t.optionOverrides,i);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(s.options);let c={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:l,dateProfile:u}=n;this.data&&this.data.dateProfileGenerator!==s.dateProfileGenerator&&(u=s.dateProfileGenerator.build(l)),l=_He(l,e),u=bHe(u,e,l,s.dateProfileGenerator),(e.type===`PREV`||e.type===`NEXT`||!U8(u.currentRange,l))&&(l=u.currentRange.start);let d=SHe(n.eventSources,e,u,c),f=SBe(n.eventStore,e,d,u,c),p=e9(d)&&!s.options.progressiveEventRendering&&n.renderableEventStore||f,{eventUiSingleBase:m,selectionConfig:h}=this.buildViewUiProps(c),g=this.buildEventUiBySource(d),_=this.buildEventUiBases(p.defs,m,g),v={dynamicOptionOverrides:i,currentViewType:o,currentDate:l,dateProfile:u,eventSources:d,eventStore:f,renderableEventStore:p,selectionConfig:h,eventUiBases:_,businessHours:this.parseContextBusinessHours(c),dateSelection:kHe(n.dateSelection,e),eventSelection:AHe(n.eventSelection,e),eventDrag:jHe(n.eventDrag,e),eventResize:MHe(n.eventResize,e)},y=Object.assign(Object.assign({},c),v);for(let t of a.pluginHooks.reducers)Object.assign(v,t(n,e,y));let b=l9(n,c),x=l9(v,c);!b&&x?r.trigger(`loading`,!0):b&&!x&&r.trigger(`loading`,!1),this.state=v,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),a=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,i.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),i),t),o=r.pluginHooks.optionChangeHandlers,s=n&&n.calendarOptions,c=r.calendarOptions;if(s&&s!==c)for(let e in s.timeZone!==c.timeZone&&(t.eventSources=a.eventSources=CHe(a.eventSources,t.dateProfile,a),t.eventStore=a.eventStore=g5(a.eventStore,n.dateEnv,a.dateEnv),t.renderableEventStore=a.renderableEventStore=g5(a.renderableEventStore,n.dateEnv,a.dateEnv)),o)(this.optionsForHandling.indexOf(e)!==-1||s[e]!==c[e])&&o[e](c[e],a);this.optionsForHandling=[],e.onData&&e.onData(a)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:i,localeDefaults:a,availableLocaleData:o,extra:s}=this.processRawCalendarOptions(e,t);u9(s);let c=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,i,o,r.defaultRangeSeparator),l=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),u=this.buildTheme(r,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:i,dateEnv:c,viewSpecs:l,theme:u,toolbarConfig:this.parseToolbars(r,this.stableOptionOverrides,u,l,n),localeDefaults:a,availableRawLocales:o.map}}processRawCalendarOptions(e,t){let{locales:n,locale:r}=m8([c8,e,t]),i=this.organizeRawLocales(n),a=i.map,o=this.buildLocale(r||i.defaultCode,a).options,s=this.buildPluginHooks(e.plugins||[],GHe),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s8),l8),u8),s.listenerRefiners),s.optionRefiners),l={},u=m8([c8,o,e,t]),d={},f=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,m=!1;for(let e in u)this.optionsForRefining.indexOf(e)===-1&&(u[e]===f[e]||d8[e]&&e in f&&d8[e](f[e],u[e]))?d[e]=p[e]:c[e]?(d[e]=c[e](u[e]),m=!0):l[e]=f[e];return m&&(this.currentCalendarOptionsInput=u,this.currentCalendarOptionsRefined=d,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:s,availableLocaleData:i,localeDefaults:o,extra:l}}_computeCurrentViewData(e,t,n,r){let i=t.viewSpecs[e];if(!i)throw Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:a,extra:o}=this.processRawViewOptions(i,t.pluginHooks,t.localeDefaults,n,r);return u9(o),this.nowManager.handleInput(t.dateEnv,a.now),{viewSpec:i,options:a,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount}),viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}}processRawViewOptions(e,t,n,r,i){let a=m8([c8,e.optionDefaults,n,r,e.optionOverrides,i]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s8),l8),u8),Bze),t.listenerRefiners),t.optionRefiners),s={},c=this.currentViewOptionsInput,l=this.currentViewOptionsRefined,u=!1,d={};for(let e in a)a[e]===c[e]||d8[e]&&d8[e](a[e],c[e])?s[e]=l[e]:(a[e]===this.currentCalendarOptionsInput[e]||d8[e]&&d8[e](a[e],this.currentCalendarOptionsInput[e])?e in this.currentCalendarOptionsRefined&&(s[e]=this.currentCalendarOptionsRefined[e]):o[e]?s[e]=o[e](a[e]):d[e]=a[e],u=!0);return u&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=s),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:d}}};function XHe(e,t,n,r,i,a,o,s){let c=K7(t||o.defaultCode,o.map);return new Xze({calendarSystem:`gregory`,timeZone:e,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:c,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:s})}function ZHe(e,t){return new(t.themeClasses[e.themeSystem]||Y7)(e)}function QHe(e){return new(e.dateProfileGeneratorClass||q8)(e)}function $He(e,t,n){return new FHe(e,t,n)}function eUe(e){return y8(e,e=>e.ui)}function tUe(e,t,n){let r={"":t};for(let t in e){let i=e[t];i.sourceId&&n[i.sourceId]&&(r[t]=n[i.sourceId])}return r}function nUe(e){let{options:t}=e;return{eventUiSingleBase:u5({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:typeof t.eventOverlap==`boolean`?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:u5({constraint:t.selectConstraint,overlap:typeof t.selectOverlap==`boolean`?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function l9(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function rUe(e){return jBe(e.options.businessHours,e)}function u9(e,t){for(let n in e)console.warn(`Unknown option '${n}'`+(t?` for view '${t}'`:``))}var iUe=class extends A8{render(){return Q(`div`,{className:`fc-toolbar-chunk`},...this.props.widgetGroups.map(e=>this.renderWidgetGroup(e)))}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,r=[],i=!0;for(let a of e){let{buttonName:e,buttonClick:o,buttonText:s,buttonIcon:c,buttonHint:l}=a;if(e===`title`)i=!1,r.push(Q(`h2`,{className:`fc-toolbar-title`,id:t.titleId},t.title));else{let i=e===t.activeButton,a=!t.isTodayEnabled&&e===`today`||!t.isPrevEnabled&&e===`prev`||!t.isNextEnabled&&e===`next`,u=[`fc-${e}-button`,n.getClass(`button`)];i&&u.push(n.getClass(`buttonActive`)),r.push(Q(`button`,{type:`button`,title:typeof l==`function`?l(t.navUnit):l,disabled:a,"aria-pressed":i,className:u.join(` `),onClick:o},s||(c?Q(`span`,{className:c,role:`img`}):``)))}}return r.length>1?Q(`div`,{className:i&&n.getClass(`buttonGroup`)||``},...r):r[0]}},d9=class extends A8{render(){let{model:e,extraClassName:t}=this.props,n=!1,r,i,a=e.sectionWidgets,o=a.center;return a.left?(n=!0,r=a.left):r=a.start,a.right?(n=!0,i=a.right):i=a.end,Q(`div`,{className:[t||``,`fc-toolbar`,n?`fc-toolbar-ltr`:``].join(` `)},this.renderSection(`start`,r||[]),this.renderSection(`center`,o||[]),this.renderSection(`end`,i||[]))}renderSection(e,t){let{props:n}=this;return Q(iUe,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}},aUe=class extends A8{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,j8(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,r=[`fc-view-harness`,n||e.liquid||e.height?`fc-view-harness-active`:`fc-view-harness-passive`],i=``,a=``;return n?t.availableWidth===null?a=`${1/n*100}%`:i=t.availableWidth/n:i=e.height||``,Q(`div`,{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(` `),style:{height:i,paddingBottom:a}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},oUe=class extends H5{constructor(e){super(e),this.handleSegClick=(e,t)=>{let{component:n}=this,{context:r}=n,i=k5(t);if(i&&n.isValidSegDownEl(e.target)){let a=l6(e.target,`.fc-event-forced-url`),o=a?a.querySelector(`a[href]`).href:``;r.emitter.trigger(`eventClick`,{el:t,event:new w5(n.context,i.eventRange.def,i.eventRange.instance),jsEvent:e,view:r.viewApi}),o&&!e.defaultPrevented&&(window.location.href=o)}},this.destroy=g6(e.el,`click`,`.fc-event`,this.handleSegClick)}},sUe=class extends H5{constructor(e){super(e),this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(e,t)=>{k5(t)&&(this.currentSegEl=t,this.triggerEvent(`eventMouseEnter`,e,t))},this.handleSegLeave=(e,t)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent(`eventMouseLeave`,e,t))},this.removeHoverListeners=KRe(e.el,`.fc-event`,this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:r}=this,{context:i}=r,a=k5(n);(!t||r.isValidSegDownEl(t.target))&&i.emitter.trigger(e,{el:n,event:new w5(i,a.eventRange.def,a.eventRange.instance),jsEvent:t,view:i.viewApi})}},cUe=class extends k8{constructor(){super(...arguments),this.buildViewContext=Q6($ze),this.buildViewPropTransformers=Q6(uUe),this.buildToolbarProps=Q6(lUe),this.headerRef=s3(),this.footerRef=s3(),this.interactionsStore={},this.state={viewLabelId:m6()},this.registerInteractiveComponent=(e,t)=>{let n=$Be(e,t),r=[oUe,sUe].concat(this.props.pluginHooks.componentInteractions).map(e=>new e(n));this.interactionsStore[e.uid]=r,W5[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let e of t)e.destroy();delete this.interactionsStore[e.uid]}delete W5[e.uid]},this.resizeRunner=new s6(()=>{this.props.emitter.trigger(`_resize`,!0),this.props.emitter.trigger(`windowResize`,{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:n}=e,r=!1,i=``,a;e.isHeightAuto||e.forPrint?i=``:n.height==null?n.contentHeight==null?a=Math.max(n.aspectRatio,.5):i=n.contentHeight:r=!0;let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),s=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return Q(O8.Provider,{value:o},Q(G5,{unit:`day`},n=>{let o=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,n,e.viewTitle);return Q(c3,null,t.header&&Q(d9,Object.assign({ref:this.headerRef,extraClassName:`fc-header-toolbar`,model:t.header,titleId:s},o)),Q(aUe,{liquid:r,height:i,aspectRatio:a,labeledById:s},this.renderView(e),this.buildAppendContent()),t.footer&&Q(d9,Object.assign({ref:this.footerRef,extraClassName:`fc-footer-toolbar`,model:t.footer,titleId:``},o)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(t=>new t(e)),window.addEventListener(`resize`,this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let r in n)t[r]!==e[r]&&n[r](t[r],t)}componentWillUnmount(){window.removeEventListener(`resize`,this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger(`_unmount`)}buildAppendContent(){let{props:e}=this;return Q(c3,{},...e.pluginHooks.viewContainerAppends.map(t=>t(e)))}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=this.buildViewPropTransformers(t.viewPropsTransformers);for(let t of i)Object.assign(r,t.transform(r,e));let a=n.component;return Q(a,Object.assign({},r))}};function lUe(e,t,n,r,i,a){let o=n.build(i,void 0,!1),s=n.buildPrev(t,r,!1),c=n.buildNext(t,r,!1);return{title:a,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:o.isValid&&!U8(t.currentRange,i),isPrevEnabled:s.isValid,isNextEnabled:c.isValid}}function uUe(e){return e.map(e=>new e)}var dUe=class extends tVe{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=e=>{switch(e.type){case`SET_EVENT_DRAG`:case`SET_EVENT_RESIZE`:this.renderRunner.tryDrain()}},this.handleData=e=>{this.currentData=e,this.renderRunner.request(e.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:e}=this;E8(()=>{D3(Q(QBe,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},(t,n,r,i)=>(this.setClassNames(t),this.setHeight(n),Q(F8.Provider,{value:this.customContentRenderId},Q(cUe,Object.assign({isHeightAuto:r,forPrint:i},e))))),this.el)})}else this.isRendered&&(this.isRendered=!1,D3(null,this.el),this.setClassNames([]),this.setHeight(``))},RRe(e),this.el=e,this.renderRunner=new s6(this.handleRenderRequest),new YHe({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){E8(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause(`batchRendering`),e(),this.renderRunner.resume(`batchRendering`)}pauseRendering(){this.renderRunner.pause(`pauseRendering`)}resumeRendering(){this.renderRunner.resume(`pauseRendering`,!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!F6(e,this.currentClassNames)){let{classList:t}=this.el;for(let e of this.currentClassNames)t.remove(e);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){d6(this.el,`height`,e)}},f9=h(),fUe=parseInt(`19.2.3`.split(`.`)[0])<18,p9=class extends H.Component{constructor(){super(...arguments),this.elRef=(0,H.createRef)(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){let e=[];for(let t of this.state.customRenderingMap.values())e.push(H.createElement(pUe,{key:t.id,customRendering:t}));return H.createElement(`div`,{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;let e=new tHe;this.handleCustomRendering=e.handle.bind(e),this.calendar=new dUe(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on(`_beforeprint`,()=>{(0,f9.flushSync)(()=>{})});let t;e.subscribe(e=>{let n=Date.now(),r=!t;(fUe||r||this.isUpdating||this.isUnmounting||n-t<100?m9:f9.flushSync)(()=>{this.setState({customRenderingMap:e},()=>{t=n,r?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}};p9.act=m9;var pUe=class extends H.PureComponent{render(){let{customRendering:e}=this.props,{generatorMeta:t}=e;return(0,f9.createPortal)(typeof t==`function`?t(e.renderProps):t,e.containerEl)}};function m9(e){e()}var mUe=class extends a7{constructor(){super(...arguments),this.headerElRef=s3()}renderSimpleLayout(e,t){let{props:n,context:r}=this,i=[],a=k7(r.options);return e&&i.push({type:`header`,key:`header`,isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:`fc-col-header`,rowContent:e}}),i.push({type:`body`,key:`body`,liquid:!0,chunk:{content:t}}),Q(L8,{elClasses:[`fc-daygrid`],viewSpec:r.viewSpec},Q(j7,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,t,n,r){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw Error(`No ScrollGrid implementation`);let{props:a,context:o}=this,s=!a.forPrint&&k7(o.options),c=!a.forPrint&&A7(o.options),l=[];return e&&l.push({type:`header`,key:`header`,isSticky:s,chunks:[{key:`main`,elRef:this.headerElRef,tableClassName:`fc-col-header`,rowContent:e}]}),l.push({type:`body`,key:`body`,liquid:!0,chunks:[{key:`main`,content:t}]}),c&&l.push({type:`footer`,key:`footer`,isSticky:!0,chunks:[{key:`main`,content:O7}]}),Q(L8,{elClasses:[`fc-daygrid`],viewSpec:o.viewSpec},Q(i,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:l}))}};function h9(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.row].push(t);return n}function g9(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.firstCol].push(t);return n}function _9(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.row].segs.push(t)}else for(let e=0;e<t;e+=1)n[e]=null;return n}var v9=o8({hour:`numeric`,minute:`2-digit`,omitZeroMinute:!0,meridiem:`narrow`});function y9(e){let{display:t}=e.eventRange.ui;return t===`list-item`||t===`auto`&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}var b9=class extends A8{render(){let{props:e}=this;return Q(N7,Object.assign({},e,{elClasses:[`fc-daygrid-event`,`fc-daygrid-block-event`,`fc-h-event`],defaultTimeFormat:v9,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}},x9=class extends A8{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,i=N5(r,n.eventTimeFormat||v9,t,!0,e.defaultDisplayEventEnd);return Q(M7,Object.assign({},e,{elTag:`a`,elClasses:[`fc-daygrid-event`,`fc-daygrid-dot-event`],elAttrs:I5(e.seg,t),defaultGenerator:hUe,timeText:i,isResizing:!1,isDateSelecting:!1}))}};function hUe(e){return Q(c3,null,Q(`div`,{className:`fc-daygrid-event-dot`,style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&Q(`div`,{className:`fc-event-time`},e.timeText),Q(`div`,{className:`fc-event-title`},e.event.title||Q(c3,null,`\xA0`)))}var gUe=class extends A8{constructor(){super(...arguments),this.compileSegs=Q6(_Ue)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return Q(V7,{elClasses:[`fc-daygrid-more-link`],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let n=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return Q(c3,null,t.map(t=>{let r=t.eventRange.instance.instanceId;return Q(`div`,{className:`fc-daygrid-event-harness`,key:r,style:{visibility:n[r]?`hidden`:``}},y9(t)?Q(x9,Object.assign({seg:t,isDragging:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},P5(t,e.todayRange))):Q(b9,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},P5(t,e.todayRange))))}))}})}};function _Ue(e){let t=[],n=[];for(let r of e)t.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:t,invisibleSegs:n}}var vUe=o8({week:`narrow`}),yUe=class extends a7{constructor(){super(...arguments),this.rootElRef=s3(),this.state={dayNumberId:m6()},this.handleRootEl=e=>{j8(this.rootElRef,e),j8(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:r}=this,{options:i,dateEnv:a}=e,{date:o,dateProfile:s}=t,c=t.showDayNumber&&xUe(o,s.currentRange,a);return Q(F7,{elTag:`td`,elRef:this.handleRootEl,elClasses:[`fc-daygrid-day`,...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:`gridcell`}),defaultGenerator:bUe,date:o,dateProfile:s,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:c,extraRenderProps:t.extraRenderProps},(a,s)=>Q(`div`,{ref:t.innerElRef,className:`fc-daygrid-day-frame fc-scrollgrid-sync-inner`,style:{minHeight:t.minHeight}},t.showWeekNumber&&Q(z7,{elTag:`a`,elClasses:[`fc-daygrid-week-number`],elAttrs:X5(e,o,`week`),date:o,defaultFormat:vUe}),!s.isDisabled&&(t.showDayNumber||I7(i)||t.forceDayTop)?Q(`div`,{className:`fc-daygrid-day-top`},Q(a,{elTag:`a`,elClasses:[`fc-daygrid-day-number`,c&&`fc-daygrid-month-start`],elAttrs:Object.assign(Object.assign({},X5(e,o)),{id:n.dayNumberId})})):t.showDayNumber?Q(`div`,{className:`fc-daygrid-day-top`,style:{visibility:`hidden`}},Q(`a`,{className:`fc-daygrid-day-number`},`\xA0`)):void 0,Q(`div`,{className:`fc-daygrid-day-events`,ref:t.fgContentElRef},t.fgContent,Q(`div`,{className:`fc-daygrid-day-bottom`,style:{marginTop:t.moreMarginTop}},Q(gUe,{allDayDate:o,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),Q(`div`,{className:`fc-daygrid-day-bg`},t.bgContent)))}};function bUe(e){return e.dayNumberText||Q(c3,null,`\xA0`)}function xUe(e,t,n){let{start:r,end:i}=t,a=R6(i,-1),o=n.getYear(r),s=n.getMonth(r),c=n.getYear(a),l=n.getMonth(a);return!(o===c&&s===l)&&(e.valueOf()===r.valueOf()||n.getDay(e)===1&&e.valueOf()<i.valueOf())}function S9(e){return e.eventRange.instance.instanceId+`:`+e.firstCol}function C9(e){return S9(e)+`:`+e.lastCol}function SUe(e,t,n,r,i,a,o){let s=new TUe(t=>i[e[t.index].eventRange.instance.instanceId+`:`+t.span.start+`:`+(t.span.end-1)]||1);s.allowReslicing=!0,s.strictOrder=r,t===!0||n===!0?(s.maxCoord=a,s.hiddenConsumes=!0):typeof t==`number`?s.maxStackCnt=t:typeof n==`number`&&(s.maxStackCnt=n,s.hiddenConsumes=!0);let c=[],l=[];for(let t=0;t<e.length;t+=1){let n=e[t];i[C9(n)]==null?l.push(n):c.push({index:t,span:{start:n.firstCol,end:n.lastCol+1}})}let u=s.addSegs(c),{singleColPlacements:d,multiColPlacements:f,leftoverMargins:p}=CUe(s.toRects(),e,o),m=[],h=[];for(let e of l){f[e.firstCol].push({seg:e,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let t=e.firstCol;t<=e.lastCol;t+=1)d[t].push({seg:w9(e,t,t+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<o.length;e+=1)m.push(0);for(let t of u){let n=e[t.index],r=t.span;f[r.start].push({seg:w9(n,r.start,r.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=r.start;e<r.end;e+=1)m[e]+=1,d[e].push({seg:w9(n,e,e+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<o.length;e+=1)h.push(p[e]);return{singleColPlacements:d,multiColPlacements:f,moreCnts:m,moreMarginTops:h}}function CUe(e,t,n){let r=wUe(e,n.length),i=[],a=[],o=[];for(let e=0;e<n.length;e+=1){let s=r[e],c=[],l=0,u=0;for(let r of s){let i=t[r.index];c.push({seg:w9(i,e,e+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:r.levelCoord-l}),l=r.levelCoord+r.thickness}let d=[];l=0,u=0;for(let r of s){let i=t[r.index],a=r.span.end-r.span.start>1,o=r.span.start===e;u+=r.levelCoord-l,l=r.levelCoord+r.thickness,a?(u+=r.thickness,o&&d.push({seg:w9(i,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:r.levelCoord,marginTop:0})):o&&(d.push({seg:w9(i,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:u}),u=0)}i.push(c),a.push(d),o.push(u)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:o}}function wUe(e,t){let n=[];for(let e=0;e<t;e+=1)n.push([]);for(let t of e)for(let e=t.span.start;e<t.span.end;e+=1)n[e].push(t);return n}function w9(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;let i=e.eventRange,a=i.range,o=B8(a,{start:r[t].date,end:L6(r[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:e.isStart&&o.start.valueOf()===a.start.valueOf(),isEnd:e.isEnd&&o.end.valueOf()===a.end.valueOf()})}var TUe=class extends o7{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:n}=this,r=e=>!this.forceHidden[c7(e)];for(let e=0;e<n.length;e+=1)n[e]=n[e].filter(r);return t}handleInvalidInsertion(e,t,n){let{entriesByLevel:r,forceHidden:i}=this,{touchingEntry:a,touchingLevel:o,touchingLateral:s}=e;if(this.hiddenConsumes&&a){let e=c7(a);if(!i[e])if(this.allowReslicing){let e=Object.assign(Object.assign({},a),{span:l7(a.span,t.span)}),c=c7(e);i[c]=!0,r[o][s]=e,n.push(e),this.splitEntry(a,t,n)}else i[e]=!0,n.push(a)}super.handleInvalidInsertion(e,t,n)}},T9=class extends a7{constructor(){super(...arguments),this.cellElRefs=new E7,this.frameElRefs=new E7,this.fgElRefs=new E7,this.segHarnessRefs=new E7,this.rootElRef=s3(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,i=e.cells.length,a=g9(e.businessHourSegs,i),o=g9(e.bgEventSegs,i),s=g9(this.getHighlightSegs(),i),c=g9(this.getMirrorSegs(),i),{singleColPlacements:l,multiColPlacements:u,moreCnts:d,moreMarginTops:f}=SUe(M5(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return Q(`tr`,{ref:this.rootElRef,role:`row`},e.renderIntro&&e.renderIntro(),e.cells.map((t,n)=>{let r=this.renderFgSegs(n,e.forPrint?l[n]:u[n],e.todayRange,p),i=this.renderFgSegs(n,EUe(c[n],u),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return Q(yUe,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&n===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:d[n],moreMarginTop:f[n],singlePlacements:l[n],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:Q(c3,null,Q(c3,null,r),Q(c3,null,i)),bgContent:Q(c3,null,this.renderFillSegs(s[n],`highlight`),this.renderFillSegs(a[n],`non-business`),this.renderFillSegs(o[n],`bg-event`)),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!S8(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,r,i,a,o){let{context:s}=this,{eventSelection:c}=this.props,{framePositions:l}=this.state,u=this.props.cells.length===1,d=i||a||o,f=[];if(l)for(let e of t){let{seg:t}=e,{instanceId:p}=t.eventRange.instance,m=e.isVisible&&!r[p],h=e.isAbsolute,g=``,_=``;h&&(s.isRtl?(_=0,g=l.lefts[t.lastCol]-l.lefts[t.firstCol]):(g=0,_=l.rights[t.firstCol]-l.rights[t.lastCol])),f.push(Q(`div`,{className:`fc-daygrid-event-harness`+(h?` fc-daygrid-event-harness-abs`:``),key:S9(t),ref:d?null:this.segHarnessRefs.createRef(C9(t)),style:{visibility:m?``:`hidden`,marginTop:h?``:e.marginTop,top:h?e.absoluteTop:``,left:g,right:_}},y9(t)?Q(x9,Object.assign({seg:t,isDragging:i,isSelected:p===c,defaultDisplayEventEnd:u},P5(t,n))):Q(b9,Object.assign({seg:t,isDragging:i,isResizing:a,isDateSelecting:o,isSelected:p===c,defaultDisplayEventEnd:u},P5(t,n)))))}return f}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:r}=this.props,{framePositions:i}=this.state,a=[];if(i)for(let o of e){let e=n?{right:0,left:i.lefts[o.lastCol]-i.lefts[o.firstCol]}:{left:0,right:i.rights[o.firstCol]-i.rights[o.lastCol]};a.push(Q(`div`,{key:F5(o.eventRange),className:`fc-daygrid-bg-harness`,style:e},t===`bg-event`?Q(L7,Object.assign({seg:o},P5(o,r))):R7(t)))}return Q(c3,{},...a)}updateSizing(e){let{props:t,state:n,frameElRefs:r}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let e=t.cells.map(e=>r.currentMap[e.key]);if(e.length){let t=this.rootElRef.current,r=new n7(t,e,!0,!1);(!n.framePositions||!n.framePositions.similarTo(r))&&this.setState({framePositions:new n7(t,e,!0,!1)})}}let i=this.state.segHeights,a=this.querySegHeights(),o=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},i),a),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let r=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}};T9.addStateEquality({segHeights:S8});function EUe(e,t){if(!e.length)return[];let n=DUe(t);return e.map(e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}))}function DUe(e){let t={};for(let n of e)for(let e of n)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}var OUe=class extends a7{constructor(){super(...arguments),this.splitBusinessHourSegs=Q6(h9),this.splitBgEventSegs=Q6(kUe),this.splitFgEventSegs=Q6(h9),this.splitDateSelectionSegs=Q6(h9),this.splitEventDrag=Q6(_9),this.splitEventResize=Q6(_9),this.rowRefs=new E7}render(){let{props:e,context:t}=this,n=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,n),i=this.splitBgEventSegs(e.bgEventSegs,n),a=this.splitFgEventSegs(e.fgEventSegs,n),o=this.splitDateSelectionSegs(e.dateSelectionSegs,n),s=this.splitEventDrag(e.eventDrag,n),c=this.splitEventResize(e.eventResize,n),l=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return Q(G5,{unit:`day`},(t,u)=>Q(c3,null,e.cells.map((t,d)=>Q(T9,{ref:this.rowRefs.createRef(d),key:t.length?t[0].date.toISOString():d,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:u,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:r[d],eventSelection:e.eventSelection,bgEventSegs:i[d],fgEventSegs:a[d],dateSelectionSegs:o[d],eventDrag:s[d],eventResize:c[d],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:l,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(`.fc-daygrid-body`):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&=(this.context.unregisterInteractiveComponent(this),null)}prepareHits(){this.rowPositions=new n7(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new n7(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:r}=this,i=n.leftToIndex(e),a=r.topToIndex(t);if(a!=null&&i!=null){let e=this.props.cells[a][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,i),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(a,i),rect:{left:n.lefts[i],right:n.rights[i],top:r.tops[a],bottom:r.bottoms[a]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date;return{start:n,end:L6(n,1)}}};function kUe(e,t){return h9(e.filter(AUe),t)}function AUe(e){return e.eventRange.def.allDay}var jUe=class extends a7{constructor(){super(...arguments),this.elRef=s3(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:r}=e,i=n===!0||t===!0;i&&!r&&(i=!1,t=null,n=null);let a=[`fc-daygrid-body`,i?`fc-daygrid-body-balanced`:`fc-daygrid-body-unbalanced`,r?``:`fc-daygrid-body-natural`];return Q(`div`,{ref:this.elRef,className:a.join(` `),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},Q(`table`,{role:`presentation`,className:`fc-scrollgrid-sync-table`,style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:``}},e.colGroupNode,Q(`tbody`,{role:`presentation`},Q(OUe,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile===this.props.dateProfile?this.flushScrollReset():this.requestScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let e=MUe(this.elRef.current,this.props.dateProfile);if(e){let t=e.closest(`.fc-daygrid-body`),n=t.closest(`.fc-scroller`),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=r?r+1:0}this.needsScrollReset=!1}}};function MUe(e,t){let n;return t.currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${Cze(t.currentDate)}-01"]`)),n||=e.querySelector(`[data-date="${X6(t.currentDate)}"]`),n}var NUe=class extends v7{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}},E9=class extends a7{constructor(){super(...arguments),this.slicer=new NUe,this.tableRef=s3()}render(){let{props:e,context:t}=this;return Q(jUe,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}},PUe=class extends mUe{constructor(){super(...arguments),this.buildDayTableModel=Q6(FUe),this.headerRef=s3(),this.tableRef=s3()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,r=this.buildDayTableModel(n.dateProfile,t),i=e.dayHeaders&&Q(h7,{ref:this.headerRef,dateProfile:n.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),a=t=>Q(E9,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:r,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,a,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,a)}};function FUe(e,t){return new _7(new g7(e.renderRange,t),/year|month|week/.test(e.currentRangeUnit))}var IUe=class extends q8{buildRenderRange(e,t,n){let r=super.buildRenderRange(e,t,n),{props:i}=this;return LUe({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}};function LUe(e){let{dateEnv:t,currentRange:n}=e,{start:r,end:i}=n,a;if(e.snapToWeek&&(r=t.startOfWeek(r),a=t.startOfWeek(i),a.valueOf()!==i.valueOf()&&(i=I6(a,1))),e.fixedWeekCount){let e=t.startOfWeek(t.startOfMonth(L6(n.end,-1))),r=Math.ceil(fze(e,i));i=I6(i,6-r)}return{start:r,end:i}}r6(`:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}`);var RUe=J7({name:`@fullcalendar/daygrid`,initialView:`dayGridMonth`,views:{dayGrid:{component:PUe,dateProfileGeneratorClass:IUe},dayGridDay:{type:`dayGrid`,duration:{days:1}},dayGridWeek:{type:`dayGrid`,duration:{weeks:1}},dayGridMonth:{type:`dayGrid`,duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:`dayGrid`,duration:{years:1}}}}),zUe=class extends oVe{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?[`allDay`]:[`timed`]}getKeysForEventDef(e){return e.allDay?IBe(e)?[`timed`,`allDay`]:[`allDay`]:[`timed`]}},BUe=o8({hour:`numeric`,minute:`2-digit`,omitZeroMinute:!0,meridiem:`short`});function D9(e){let t=[`fc-timegrid-slot`,`fc-timegrid-slot-label`,e.isLabeled?`fc-scrollgrid-shrink`:`fc-timegrid-slot-minor`];return Q(O8.Consumer,null,n=>{if(!e.isLabeled)return Q(`td`,{className:t.join(` `),"data-time":e.isoTimeStr});let{dateEnv:r,options:i,viewApi:a}=n,o=i.slotLabelFormat==null?BUe:Array.isArray(i.slotLabelFormat)?o8(i.slotLabelFormat[0]):o8(i.slotLabelFormat),s={level:0,time:e.time,date:r.toDate(e.date),view:a,text:r.format(e.date,o)};return Q(I8,{elTag:`td`,elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:s,generatorName:`slotLabelContent`,customGenerator:i.slotLabelContent,defaultGenerator:VUe,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},e=>Q(`div`,{className:`fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame`},Q(e,{elTag:`div`,elClasses:[`fc-timegrid-slot-label-cushion`,`fc-scrollgrid-shrink-cushion`]})))})}function VUe(e){return e.text}var HUe=class extends A8{render(){return this.props.slatMetas.map(e=>Q(`tr`,{key:e.key},Q(D9,Object.assign({},e))))}},UUe=o8({week:`short`}),WUe=5,GUe=class extends a7{constructor(){super(...arguments),this.allDaySplitter=new zUe,this.headerElRef=s3(),this.rootElRef=s3(),this.scrollerElRef=s3(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t=``)=>{let{options:n}=this.context,{dateProfile:r}=this.props,i=r.renderRange,a=z6(i.start,i.end)===1?X5(this.context,i.start,`week`):{};return n.weekNumbers&&e===`day`?Q(z7,{elTag:`th`,elClasses:[`fc-timegrid-axis`,`fc-scrollgrid-shrink`],elAttrs:{"aria-hidden":!0},date:i.start,defaultFormat:UUe},e=>Q(`div`,{className:[`fc-timegrid-axis-frame`,`fc-scrollgrid-shrink-frame`,`fc-timegrid-axis-frame-liquid`].join(` `),style:{height:t}},Q(e,{elTag:`a`,elClasses:[`fc-timegrid-axis-cushion`,`fc-scrollgrid-shrink-cushion`,`fc-scrollgrid-sync-inner`],elAttrs:a}))):Q(`th`,{"aria-hidden":!0,className:`fc-timegrid-axis`},Q(`div`,{className:`fc-timegrid-axis-frame`,style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:n}=this.context,r={text:t.allDayText,view:n};return Q(I8,{elTag:`td`,elClasses:[`fc-timegrid-axis`,`fc-scrollgrid-shrink`],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:`allDayContent`,customGenerator:t.allDayContent,defaultGenerator:KUe,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},t=>Q(`div`,{className:[`fc-timegrid-axis-frame`,`fc-scrollgrid-shrink-frame`,e==null?` fc-timegrid-axis-frame-liquid`:``].join(` `),style:{height:e}},Q(t,{elTag:`span`,elClasses:[`fc-timegrid-axis-cushion`,`fc-scrollgrid-shrink-cushion`,`fc-scrollgrid-sync-inner`]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){let{context:r,props:i}=this,a=[],o=k7(r.options);return e&&a.push({type:`header`,key:`header`,isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:`fc-col-header`,rowContent:e}}),t&&(a.push({type:`body`,key:`all-day`,chunk:{content:t}}),a.push({type:`body`,key:`all-day-divider`,outerContent:Q(`tr`,{role:`presentation`,className:`fc-scrollgrid-section`},Q(`td`,{className:`fc-timegrid-divider `+r.theme.getClass(`tableCellShaded`)}))})),a.push({type:`body`,key:`body`,liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),Q(L8,{elRef:this.rootElRef,elClasses:[`fc-timegrid`],viewSpec:r.viewSpec},Q(j7,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:`shrink`}],sections:a}))}renderHScrollLayout(e,t,n,r,i,a,o){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw Error(`No ScrollGrid implementation`);let{context:c,props:l}=this,u=!l.forPrint&&k7(c.options),d=!l.forPrint&&A7(c.options),f=[];e&&f.push({type:`header`,key:`header`,isSticky:u,syncRowHeights:!0,chunks:[{key:`axis`,rowContent:e=>Q(`tr`,{role:`presentation`},this.renderHeadAxis(`day`,e.rowSyncHeights[0]))},{key:`cols`,elRef:this.headerElRef,tableClassName:`fc-col-header`,rowContent:e}]}),t&&(f.push({type:`body`,key:`all-day`,syncRowHeights:!0,chunks:[{key:`axis`,rowContent:e=>Q(`tr`,{role:`presentation`},this.renderTableRowAxis(e.rowSyncHeights[0]))},{key:`cols`,content:t}]}),f.push({key:`all-day-divider`,type:`body`,outerContent:Q(`tr`,{role:`presentation`,className:`fc-scrollgrid-section`},Q(`td`,{colSpan:2,className:`fc-timegrid-divider `+c.theme.getClass(`tableCellShaded`)}))}));let p=c.options.nowIndicator;return f.push({type:`body`,key:`body`,liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:`axis`,content:e=>Q(`div`,{className:`fc-timegrid-axis-chunk`},Q(`table`,{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:``}},e.tableColGroupNode,Q(`tbody`,null,Q(HUe,{slatMetas:a}))),Q(`div`,{className:`fc-timegrid-now-indicator-container`},Q(G5,{unit:p?`minute`:`day`},e=>{let t=p&&o&&o.safeComputeTop(e);return typeof t==`number`?Q(P7,{elClasses:[`fc-timegrid-now-indicator-arrow`],elStyle:{top:t},isAxis:!0,date:e}):null})))},{key:`cols`,scrollerElRef:this.scrollerElRef,content:n}]}),d&&f.push({key:`footer`,type:`footer`,isSticky:!0,chunks:[{key:`axis`,content:O7},{key:`cols`,content:O7}]}),Q(L8,{elRef:this.rootElRef,elClasses:[`fc-timegrid`],viewSpec:c.viewSpec},Q(s,{liquid:!l.isHeightAuto&&!l.forPrint,forPrint:l.forPrint,collapsibleWidth:!1,colGroups:[{width:`shrink`,cols:[{width:`shrink`}]},{cols:[{span:r,minWidth:i}]}],sections:f}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=WUe),{dayMaxEvents:e,dayMaxEventRows:t}}};function KUe(e){return e.text}var qUe=class{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){let{dateProfile:t}=this;if(U8(t.currentRange,e)){let n=V6(e),r=e.valueOf()-n.valueOf();if(r>=M6(t.slotMinTime)&&r<M6(t.slotMaxTime))return this.computeTimeTop(O6(r))}return null}computeDateTop(e,t){return t||=V6(e),this.computeTimeTop(O6(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:n}=this,r=t.els.length,i=(e.milliseconds-M6(n.slotMinTime))/M6(this.slotDuration),a,o;return i=Math.max(0,i),i=Math.min(r,i),a=Math.floor(i),a=Math.min(a,r-1),o=i-a,t.tops[a]+t.getHeight(a)*o}},JUe=class extends A8{render(){let{props:e,context:t}=this,{options:n}=t,{slatElRefs:r}=e;return Q(`tbody`,null,e.slatMetas.map((i,a)=>{let o={time:i.time,date:t.dateEnv.toDate(i.date),view:t.viewApi};return Q(`tr`,{key:i.key,ref:r.createRef(i.key)},e.axis&&Q(D9,Object.assign({},i)),Q(I8,{elTag:`td`,elClasses:[`fc-timegrid-slot`,`fc-timegrid-slot-lane`,!i.isLabeled&&`fc-timegrid-slot-minor`],elAttrs:{"data-time":i.isoTimeStr},renderProps:o,generatorName:`slotLaneContent`,customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}},YUe=class extends A8{constructor(){super(...arguments),this.rootElRef=s3(),this.slatElRefs=new E7}render(){let{props:e,context:t}=this;return Q(`div`,{ref:this.rootElRef,className:`fc-timegrid-slots`},Q(`table`,{"aria-hidden":!0,className:t.theme.getClass(`table`),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,Q(JUe,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new qUe(new n7(this.rootElRef.current,XUe(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}};function XUe(e,t){return t.map(t=>e[t.key])}function O9(e,t){let n=[],r;for(r=0;r<t;r+=1)n.push([]);if(e)for(r=0;r<e.length;r+=1)n[e[r].col].push(e[r]);return n}function k9(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.col].segs.push(t)}else for(let e=0;e<t;e+=1)n[e]=null;return n}var ZUe=class extends A8{render(){let{props:e}=this;return Q(V7,{elClasses:[`fc-timegrid-more-link`],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>P9(e.hiddenSegs,e),defaultGenerator:QUe,forceTimed:!0},e=>Q(e,{elTag:`div`,elClasses:[`fc-timegrid-more-link-inner`,`fc-sticky`]}))}};function QUe(e){return e.shortText}function $Ue(e,t,n){let r=new o7;t!=null&&(r.strictOrder=t),n!=null&&(r.maxStackCnt=n);let i=yVe(r.addSegs(e)),a=eWe(r);return a=iWe(a,1),{segRects:aWe(a),hiddenGroups:i}}function eWe(e){let{entriesByLevel:t}=e,n=j9((e,t)=>e+`:`+t,(r,i)=>{let a=A9(rWe(e,r,i),n),o=t[r][i];return[Object.assign(Object.assign({},o),{nextLevelNodes:a[0]}),o.thickness+a[1]]});return A9(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}function A9(e,t){if(!e)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=e,a=r,o=[];for(;a<i;)o.push(t(n,a)),a+=1;return o.sort(tWe),[o.map(nWe),o[0][1]]}function tWe(e,t){return t[1]-e[1]}function nWe(e){return e[0]}function rWe(e,t,n){let{levelCoords:r,entriesByLevel:i}=e,a=i[t][n],o=r[t]+a.thickness,s=r.length,c=t;for(;c<s&&r[c]<o;c+=1);for(;c<s;c+=1){let e=i[c],t,n=d7(e,a.span.start,s7),r=n[0]+n[1],o=r;for(;(t=e[o])&&t.span.start<a.span.end;)o+=1;if(r<o)return{level:c,lateralStart:r,lateralEnd:o}}return null}function iWe(e,t){let n=j9((e,t,n)=>c7(e),(e,r,i)=>{let{nextLevelNodes:a,thickness:o}=e,s=o+i,c=o/s,l,u=[];if(!a.length)l=t;else for(let e of a)if(l===void 0){let t=n(e,r,s);l=t[0],u.push(t[1])}else{let t=n(e,l,0);u.push(t[1])}let d=(l-r)*c;return[l-d,Object.assign(Object.assign({},e),{thickness:d,nextLevelNodes:u})]});return e.map(e=>n(e,0,0)[1])}function aWe(e){let t=[],n=j9((e,t,n)=>c7(e),(e,n,i)=>{let a=Object.assign(Object.assign({},e),{levelCoord:n,stackDepth:i,stackForward:0});return t.push(a),a.stackForward=r(e.nextLevelNodes,n+e.thickness,i+1)+1});function r(e,t,r){let i=0;for(let a of e)i=Math.max(n(a,t,r),i);return i}return r(e,0,0),t}function j9(e,t){let n={};return(...r)=>{let i=e(...r);return i in n?n[i]:n[i]=t(...r)}}function M9(e,t,n=null,r=0){let i=[];if(n)for(let a=0;a<e.length;a+=1){let o=e[a],s=n.computeDateTop(o.start,t),c=Math.max(s+(r||0),n.computeDateTop(o.end,t));i.push({start:Math.round(s),end:Math.round(c)})}return i}function oWe(e,t,n,r){let i=[],a=[];for(let n=0;n<e.length;n+=1){let r=t[n];r?i.push({index:n,thickness:1,span:r}):a.push(e[n])}let{segRects:o,hiddenGroups:s}=$Ue(i,n,r),c=[];for(let t of o)c.push({seg:e[t.index],rect:t});for(let e of a)c.push({seg:e,rect:null});return{segPlacements:c,hiddenGroups:s}}var sWe=o8({hour:`numeric`,minute:`2-digit`,meridiem:!1}),N9=class extends A8{render(){return Q(N7,Object.assign({},this.props,{elClasses:[`fc-timegrid-event`,`fc-v-event`,this.props.isShort&&`fc-timegrid-event-short`],defaultTimeFormat:sWe}))}},cWe=class extends A8{constructor(){super(...arguments),this.sortEventSegs=Q6(M5)}render(){let{props:e,context:t}=this,{options:n}=t,r=n.selectMirror,i=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return Q(F7,{elTag:`td`,elRef:e.elRef,elClasses:[`fc-timegrid-col`,...e.extraClassNames||[]],elAttrs:Object.assign({role:`gridcell`},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},t=>Q(`div`,{className:`fc-timegrid-col-frame`},Q(`div`,{className:`fc-timegrid-col-bg`},this.renderFillSegs(e.businessHourSegs,`non-business`),this.renderFillSegs(e.bgEventSegs,`bg-event`),this.renderFillSegs(e.dateSelectionSegs,`highlight`)),Q(`div`,{className:`fc-timegrid-col-events`},this.renderFgSegs(o,a,!1,!1,!1)),Q(`div`,{className:`fc-timegrid-col-events`},this.renderFgSegs(i,{},!!e.eventDrag,!!e.eventResize,!!r,`mirror`)),Q(`div`,{className:`fc-timegrid-now-indicator-container`},this.renderNowIndicator(e.nowIndicatorSegs)),I7(n)&&Q(t,{elTag:`div`,elClasses:[`fc-timegrid-col-misc`]})))}renderFgSegs(e,t,n,r,i,a){let{props:o}=this;return o.forPrint?P9(e,o):this.renderPositionedFgSegs(e,t,n,r,i,a)}renderPositionedFgSegs(e,t,n,r,i,a){let{eventMaxStack:o,eventShortHeight:s,eventOrderStrict:c,eventMinHeight:l}=this.context.options,{date:u,slatCoords:d,eventSelection:f,todayRange:p,nowDate:m}=this.props,h=n||r||i,{segPlacements:g,hiddenGroups:_}=oWe(e,M9(e,u,d,l),c,o);return Q(c3,null,this.renderHiddenGroups(_,e),g.map(e=>{let{seg:o,rect:c}=e,l=o.eventRange.instance.instanceId,u=h||!!(!t[l]&&c),d=F9(c&&c.span),g=!h&&c?this.computeSegHStyle(c):{left:0,right:0},_=!!c&&c.stackForward>0,v=!!c&&c.span.end-c.span.start<s;return Q(`div`,{className:`fc-timegrid-event-harness`+(_?` fc-timegrid-event-harness-inset`:``),key:a||l,style:Object.assign(Object.assign({visibility:u?``:`hidden`},d),g)},Q(N9,Object.assign({seg:o,isDragging:n,isResizing:r,isDateSelecting:i,isSelected:l===f,isShort:v},P5(o,p,m))))}))}renderHiddenGroups(e,t){let{extraDateSpan:n,dateProfile:r,todayRange:i,nowDate:a,eventSelection:o,eventDrag:s,eventResize:c}=this.props;return Q(c3,null,e.map(e=>{let l=F9(e.span),u=lWe(e.entries,t);return Q(ZUe,{key:Y6(U7(u)),hiddenSegs:u,top:l.top,bottom:l.bottom,extraDateSpan:n,dateProfile:r,todayRange:i,nowDate:a,eventSelection:o,eventDrag:s,eventResize:c})}))}renderFillSegs(e,t){let{props:n,context:r}=this;return Q(c3,null,M9(e,n.date,n.slatCoords,r.options.eventMinHeight).map((r,i)=>{let a=e[i];return Q(`div`,{key:F5(a.eventRange),className:`fc-timegrid-bg-harness`,style:F9(r)},t===`bg-event`?Q(L7,Object.assign({seg:a},P5(a,n.todayRange,n.nowDate))):R7(t))}))}renderNowIndicator(e){let{slatCoords:t,date:n}=this.props;return t?e.map((e,r)=>Q(P7,{key:r,elClasses:[`fc-timegrid-now-indicator-line`],elStyle:{top:t.computeDateTop(e.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:t,options:n}=this.context,r=n.slotEventOverlap,i=e.levelCoord,a=e.levelCoord+e.thickness,o,s;r&&(a=Math.min(1,i+(a-i)*2)),t?(o=1-a,s=i):(o=i,s=1-a);let c={zIndex:e.stackDepth+1,left:o*100+`%`,right:s*100+`%`};return r&&!e.stackForward&&(c[t?`marginLeft`:`marginRight`]=20),c}};function P9(e,{todayRange:t,nowDate:n,eventSelection:r,eventDrag:i,eventResize:a}){let o=(i?i.affectedInstances:null)||(a?a.affectedInstances:null)||{};return Q(c3,null,e.map(e=>{let i=e.eventRange.instance.instanceId;return Q(`div`,{key:i,style:{visibility:o[i]?`hidden`:``}},Q(N9,Object.assign({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:i===r,isShort:!1},P5(e,t,n))))}))}function F9(e){return e?{top:e.start,bottom:-e.end}:{top:``,bottom:``}}function lWe(e,t){return e.map(e=>t[e.index])}var uWe=class extends A8{constructor(){super(...arguments),this.splitFgEventSegs=Q6(O9),this.splitBgEventSegs=Q6(O9),this.splitBusinessHourSegs=Q6(O9),this.splitNowIndicatorSegs=Q6(O9),this.splitDateSelectionSegs=Q6(O9),this.splitEventDrag=Q6(k9),this.splitEventResize=Q6(k9),this.rootElRef=s3(),this.cellElRefs=new E7}render(){let{props:e,context:t}=this,n=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,i=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),c=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),u=this.splitEventResize(e.eventResize,r);return Q(`div`,{className:`fc-timegrid-cols`,ref:this.rootElRef},Q(`table`,{role:`presentation`,style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,Q(`tbody`,{role:`presentation`},Q(`tr`,{role:`row`},e.axis&&Q(`td`,{"aria-hidden":!0,className:`fc-timegrid-col fc-timegrid-axis`},Q(`div`,{className:`fc-timegrid-col-frame`},Q(`div`,{className:`fc-timegrid-now-indicator-container`},typeof n==`number`&&Q(P7,{elClasses:[`fc-timegrid-now-indicator-arrow`],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((t,n)=>Q(cWe,{key:t.key,elRef:this.cellElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,fgEventSegs:i[n],bgEventSegs:a[n],businessHourSegs:o[n],nowIndicatorSegs:s[n],dateSelectionSegs:c[n],eventDrag:l[n],eventResize:u[n],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new n7(this.rootElRef.current,dWe(this.cellElRefs.currentMap,e.cells),!0,!1))}};function dWe(e,t){return t.map(t=>e[t.key])}var fWe=class extends a7{constructor(){super(...arguments),this.processSlotOptions=Q6(pWe),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(e.time){let r=n.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return Q(`div`,{className:`fc-timegrid-body`,ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},Q(YUe,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:``,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),Q(uWe,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:n,options:r}=this.context,{colCoords:i}=this,{dateProfile:a}=this.props,{slatCoords:o}=this.state,{snapDuration:s,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),l=i.leftToIndex(e),u=o.positions.topToIndex(t);if(l!=null&&u!=null){let e=this.props.cells[l],r=o.positions.tops[u],d=o.positions.getHeight(u),f=(t-r)/d,p=Math.floor(f*c),m=u*c+p,h=this.props.cells[l].date,g=A6(a.slotMinTime,cze(s,m)),_=n.add(h,g),v=n.add(_,s);return{dateProfile:a,dateSpan:Object.assign({range:{start:_,end:v},allDay:!1},e.extraDateSpan),dayEl:i.els[l],rect:{left:i.lefts[l],right:i.rights[l],top:r,bottom:r+d},layer:0}}return null}};function pWe(e,t){let n=t||e,r=N6(e,n);return r===null&&(n=e,r=1),{snapDuration:n,snapsPerSlot:r}}var mWe=class extends v7{sliceRange(e,t){let n=[];for(let r=0;r<t.length;r+=1){let i=B8(e,t[r]);i&&n.push({start:i.start,end:i.end,isStart:i.start.valueOf()===e.start.valueOf(),isEnd:i.end.valueOf()===e.end.valueOf(),col:r})}return n}},hWe=class extends a7{constructor(){super(...arguments),this.buildDayRanges=Q6(gWe),this.slicer=new mWe,this.timeColsRef=s3()}render(){let{props:e,context:t}=this,{dateProfile:n,dayTableModel:r}=e,{nowIndicator:i,nextDayThreshold:a}=t.options,o=this.buildDayRanges(r,n,t.dateEnv);return Q(G5,{unit:i?`minute`:`day`},(s,c)=>Q(fWe,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,t,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:s,nowIndicatorSegs:i&&this.slicer.sliceNowDate(s,n,a,t,o),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}};function gWe(e,t,n){let r=[];for(let i of e.headerDates)r.push({start:n.add(i,t.slotMinTime),end:n.add(i,t.slotMaxTime)});return r}var I9=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function _We(e,t,n,r,i){let a=new Date(0),o=e,s=O6(0),c=n||vWe(r),l=[];for(;M6(o)<M6(t);){let e=i.add(a,o),t=N6(s,c)!==null;l.push({date:e,time:o,key:e.toISOString(),isoTimeStr:wze(e),isLabeled:t}),o=A6(o,r),s=A6(s,r)}return l}function vWe(e){let t,n,r;for(t=I9.length-1;t>=0;--t)if(n=O6(I9[t]),r=N6(n,e),r!==null&&r>1)return n;return e}var yWe=class extends GUe{constructor(){super(...arguments),this.buildTimeColsModel=Q6(bWe),this.buildSlatMetas=Q6(_We)}render(){let{options:e,dateEnv:t,dateProfileGenerator:n}=this.context,{props:r}=this,{dateProfile:i}=r,a=this.buildTimeColsModel(i,n),o=this.allDaySplitter.splitProps(r),s=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:c}=e,l=!c,u=c,d=e.dayHeaders&&Q(h7,{dates:a.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:l?this.renderHeadAxis:null}),f=e.allDaySlot!==!1&&(t=>Q(E9,Object.assign({},o.allDay,{dateProfile:i,dayTableModel:a,nextDayThreshold:e.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:l?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),p=t=>Q(hWe,Object.assign({},o.timed,{dayTableModel:a,dateProfile:i,axis:l,slotDuration:e.slotDuration,slatMetas:s,forPrint:r.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return u?this.renderHScrollLayout(d,f,p,a.colCnt,c,s,this.state.slatCoords):this.renderSimpleLayout(d,f,p)}};function bWe(e,t){return new _7(new g7(e.renderRange,t),!1)}r6(`.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}`);var xWe=J7({name:`@fullcalendar/timegrid`,initialView:`timeGridWeek`,optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:yWe,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:`00:30:00`,slotEventOverlap:!0},timeGridDay:{type:`timeGrid`,duration:{days:1}},timeGridWeek:{type:`timeGrid`,duration:{weeks:1}}}});f7.touchMouseIgnoreWait=500;var L9=0,R9=0,z9=!1,B9=class{constructor(e){this.subjectEl=null,this.selector=``,this.handleSelector=``,this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{if(!this.shouldIgnoreMouse()&&SWe(e)&&this.tryStart(e)){let t=this.createEventFromMouse(e,!0);this.emitter.trigger(`pointerdown`,t),this.initScrollWatch(t),this.shouldIgnoreMove||document.addEventListener(`mousemove`,this.handleMouseMove),document.addEventListener(`mouseup`,this.handleMouseUp)}},this.handleMouseMove=e=>{let t=this.createEventFromMouse(e);this.recordCoords(t),this.emitter.trigger(`pointermove`,t)},this.handleMouseUp=e=>{document.removeEventListener(`mousemove`,this.handleMouseMove),document.removeEventListener(`mouseup`,this.handleMouseUp),this.emitter.trigger(`pointerup`,this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{if(this.tryStart(e)){this.isTouchDragging=!0;let t=this.createEventFromTouch(e,!0);this.emitter.trigger(`pointerdown`,t),this.initScrollWatch(t);let n=e.target;this.shouldIgnoreMove||n.addEventListener(`touchmove`,this.handleTouchMove),n.addEventListener(`touchend`,this.handleTouchEnd),n.addEventListener(`touchcancel`,this.handleTouchEnd),window.addEventListener(`scroll`,this.handleTouchScroll,!0)}},this.handleTouchMove=e=>{let t=this.createEventFromTouch(e);this.recordCoords(t),this.emitter.trigger(`pointermove`,t)},this.handleTouchEnd=e=>{if(this.isDragging){let t=e.target;t.removeEventListener(`touchmove`,this.handleTouchMove),t.removeEventListener(`touchend`,this.handleTouchEnd),t.removeEventListener(`touchcancel`,this.handleTouchEnd),window.removeEventListener(`scroll`,this.handleTouchScroll,!0),this.emitter.trigger(`pointerup`,this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,CWe()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{if(!this.shouldIgnoreMove){let t=window.scrollX-this.prevScrollX+this.prevPageX,n=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger(`pointermove`,{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:t,pageY:n,deltaX:t-this.origPageX,deltaY:n-this.origPageY})}},this.containerEl=e,this.emitter=new v5,e.addEventListener(`mousedown`,this.handleMouseDown),e.addEventListener(`touchstart`,this.handleTouchStart,{passive:!0}),wWe()}destroy(){this.containerEl.removeEventListener(`mousedown`,this.handleMouseDown),this.containerEl.removeEventListener(`touchstart`,this.handleTouchStart,{passive:!0}),TWe()}tryStart(e){let t=this.querySubjectEl(e),n=e.target;return t&&(!this.handleSelector||l6(n,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){z9=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?l6(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return L9||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(z9=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener(`scroll`,this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener(`scroll`,this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:r}}createEventFromTouch(e,t){let n=e.touches,r,i,a=0,o=0;return n&&n.length?(r=n[0].pageX,i=n[0].pageY):(r=e.pageX,i=e.pageY),t?(this.origPageX=r,this.origPageY=i):(a=r-this.origPageX,o=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:a,deltaY:o}}};function SWe(e){return e.button===0&&!e.ctrlKey}function CWe(){L9+=1,setTimeout(()=>{--L9},f7.touchMouseIgnoreWait)}function wWe(){R9+=1,R9===1&&window.addEventListener(`touchmove`,V9,{passive:!1})}function TWe(){--R9,R9||window.removeEventListener(`touchmove`,V9,{passive:!1})}function V9(e){z9&&e.preventDefault()}var EWe=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=``),this.isVisible=e,this.updateElPosition()):this.isVisible&&=(this.mirrorEl&&(this.mirrorEl.style.display=`none`),e)}stop(e,t){let n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();n.style.transition=`top `+t+`ms,left `+t+`ms`,u6(n,{left:r.left,top:r.top}),qRe(n,()=>{n.style.transition=``,e()})}cleanup(){this.mirrorEl&&=(c6(this.mirrorEl),null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&u6(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect=`none`,t.style.webkitUserSelect=`none`,t.style.pointerEvents=`none`,t.classList.add(`fc-event-dragging`),u6(t,{position:`fixed`,zIndex:this.zIndex,visibility:``,boxSizing:`border-box`,width:e.right-e.left,height:e.bottom-e.top,right:`auto`,bottom:`auto`,margin:0}),this.parentNode.appendChild(t)),t}},H9=class extends i7{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener(`scroll`,this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener(`scroll`,this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},U9=class extends H9{constructor(e,t){super(new _Ve(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return hVe(this.scrollController.el)}},DWe=class extends H9{constructor(e){super(new vVe,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},W9=typeof performance==`function`?performance.now:Date.now,OWe=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,`.fc-scroller`],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=W9();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let n=e-window.scrollX,r=t-window.scrollY,i=this.pointerScreenY===null?0:r-this.pointerScreenY,a=this.pointerScreenX===null?0:n-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(W9()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:n}=e,{edgeThreshold:r}=this,i=r-e.distance,a=i*i/(r*r)*this.maxVelocity*t,o=1;switch(e.name){case`left`:o=-1;case`right`:n.setScrollLeft(n.getScrollLeft()+a*o);break;case`top`:o=-1;case`bottom`:n.setScrollTop(n.getScrollTop()+a*o);break}}computeBestEdge(e,t){let{edgeThreshold:n}=this,r=null,i=this.scrollCaches||[];for(let a of i){let i=a.clientRect,o=e-i.left,s=i.right-e,c=t-i.top,l=i.bottom-t;o>=0&&s>=0&&c>=0&&l>=0&&(c<=n&&this.everMovedUp&&a.canScrollUp()&&(!r||r.distance>c)&&(r={scrollCache:a,name:`top`,distance:c}),l<=n&&this.everMovedDown&&a.canScrollDown()&&(!r||r.distance>l)&&(r={scrollCache:a,name:`bottom`,distance:l}),o<=n&&this.everMovedLeft&&a.canScrollLeft()&&(!r||r.distance>o)&&(r={scrollCache:a,name:`left`,distance:o}),s<=n&&this.everMovedRight&&a.canScrollRight()&&(!r||r.distance>s)&&(r={scrollCache:a,name:`right`,distance:s}))}return r}buildCaches(e){return this.queryScrollEls(e).map(e=>e===window?new DWe(!1):new U9(e,!1))}queryScrollEls(e){let t=[];for(let n of this.scrollQuery)typeof n==`object`?t.push(n):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return t}},G9=class extends xVe{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=e=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,JRe(document.body),XRe(document.body),e.isTouch||e.origEvent.preventDefault(),this.emitter.trigger(`pointerdown`,e),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(e.subjectEl,e.pageX,e.pageY),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e)))},this.onPointerMove=e=>{if(this.isInteracting){if(this.emitter.trigger(`pointermove`,e),!this.isDistanceSurpassed){let t=this.minDistance,n,{deltaX:r,deltaY:i}=e;n=r*r+i*i,n>=t*t&&this.handleDistanceSurpassed(e)}this.isDragging&&(e.origEvent.type!==`scroll`&&(this.mirror.handleMove(e.pageX,e.pageY),this.autoScroller.handleMove(e.pageX,e.pageY)),this.emitter.trigger(`dragmove`,e))}},this.onPointerUp=e=>{this.isInteracting&&(this.isInteracting=!1,YRe(document.body),ZRe(document.body),this.emitter.trigger(`pointerup`,e),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(e)),this.delayTimeoutId&&=(clearTimeout(this.delayTimeoutId),null))};let n=this.pointer=new B9(e);n.emitter.on(`pointerdown`,this.onPointerDown),n.emitter.on(`pointermove`,this.onPointerMove),n.emitter.on(`pointerup`,this.onPointerUp),t&&(n.selector=t),this.mirror=new EWe,this.autoScroller=new OWe}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay==`number`?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger(`dragstart`,e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger(`dragend`,e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}},kWe=class{constructor(e){this.el=e,this.origRect=e7(e),this.scrollCaches=t7(e).map(e=>new U9(e,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let n={left:e,top:t};for(let e of this.scrollCaches)if(!AWe(e.getEventTarget())&&!nVe(n,e.clientRect))return!1;return!0}};function AWe(e){let t=e.tagName;return t===`HTML`||t===`BODY`}var K9=class{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=e=>{let{dragging:t}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(e),this.initialHit||!this.requireInitial?(t.setIgnoreMove(!1),this.emitter.trigger(`pointerdown`,e)):t.setIgnoreMove(!0)},this.handleDragStart=e=>{this.emitter.trigger(`dragstart`,e),this.handleMove(e,!0)},this.handleDragMove=e=>{this.emitter.trigger(`dragmove`,e),this.handleMove(e)},this.handlePointerUp=e=>{this.releaseHits(),this.emitter.trigger(`pointerup`,e)},this.handleDragEnd=e=>{this.movingHit&&this.emitter.trigger(`hitupdate`,null,!0,e),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger(`dragend`,e)},this.droppableStore=t,e.emitter.on(`pointerdown`,this.handlePointerDown),e.emitter.on(`dragstart`,this.handleDragStart),e.emitter.on(`dragmove`,this.handleDragMove),e.emitter.on(`pointerup`,this.handlePointerUp),e.emitter.on(`dragend`,this.handleDragEnd),this.dragging=e,this.emitter=new v5}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},n=t,r=e.subjectEl,i;r instanceof HTMLElement&&(i=e7(r),n=rVe(n,i));let a=this.initialHit=this.queryHitForOffset(n.left,n.top);if(a){if(this.useSubjectCenter&&i){let e=K5(i,a.rect);e&&(n=iVe(e))}this.coordAdjust=aVe(n,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!q9(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger(`hitupdate`,n,!1,e))}prepareHits(){this.offsetTrackers=y8(this.droppableStore,e=>(e.component.prepareHits(),new kWe(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:r}=this,i=null;for(let a in n){let o=n[a].component,s=r[a];if(s&&s.isWithinClipping(e,t)){let n=s.computeLeft(),r=s.computeTop(),c=e-n,l=t-r,{origRect:u}=s,d=u.right-u.left,f=u.bottom-u.top;if(c>=0&&c<d&&l>=0&&l<f){let e=o.queryHit(c,l,d,f);e&&H8(e.dateProfile.activeRange,e.dateSpan.range)&&(this.disablePointCheck||s.el.contains(s.el.getRootNode().elementFromPoint(c+n-window.scrollX,l+r-window.scrollY)))&&(!i||e.layer>i.layer)&&(e.componentId=a,e.context=o.context,e.rect.left+=n,e.rect.right+=n,e.rect.top+=r,e.rect.bottom+=r,i=e)}}}return i}};function q9(e,t){return!e&&!t?!0:!!e==!!t?GBe(e.dateSpan,t.dateSpan):!1}function J9(e,t){let n={};for(let r of t.pluginHooks.datePointTransforms)Object.assign(n,r(e,t));return Object.assign(n,jWe(e,t.dateEnv)),n}function jWe(e,t){return{date:t.toDate(e.range.start),dateStr:t.formatIso(e.range.start,{omitTime:e.allDay}),allDay:e.allDay}}var MWe=class extends H5{constructor(e){super(e),this.handlePointerDown=e=>{let{dragging:t}=this,n=e.origEvent.target;t.setIgnoreMove(!this.component.isValidDateDownEl(n))},this.handleDragEnd=e=>{let{component:t}=this,{pointer:n}=this.dragging;if(!n.wasTouchScroll){let{initialHit:n,finalHit:r}=this.hitDragging;if(n&&r&&q9(n,r)){let{context:r}=t,i=Object.assign(Object.assign({},J9(n.dateSpan,r)),{dayEl:n.dayEl,jsEvent:e.origEvent,view:r.viewApi||r.calendarApi.view});r.emitter.trigger(`dateClick`,i)}}},this.dragging=new G9(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new K9(this.dragging,U5(e));t.emitter.on(`pointerdown`,this.handlePointerDown),t.emitter.on(`dragend`,this.handleDragEnd)}destroy(){this.dragging.destroy()}},NWe=class extends H5{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=e=>{let{component:t,dragging:n}=this,{options:r}=t.context,i=r.selectable&&t.isValidDateDownEl(e.origEvent.target);n.setIgnoreMove(!i),n.delay=e.isTouch?PWe(t):null},this.handleDragStart=e=>{this.component.context.calendarApi.unselect(e)},this.handleHitUpdate=(e,t)=>{let{context:n}=this.component,r=null,i=!1;if(e){let t=this.hitDragging.initialHit;e.componentId===t.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(t,e)||(r=FWe(t,e,n.pluginHooks.dateSelectionTransformers)),(!r||!DVe(r,e.dateProfile,n))&&(i=!0,r=null)}r?n.dispatch({type:`SELECT_DATES`,selection:r}):t||n.dispatch({type:`UNSELECT_DATES`}),i?S6():C6(),t||(this.dragSelection=r)},this.handlePointerUp=e=>{this.dragSelection&&=(y5(this.dragSelection,e,this.component.context),null)};let{component:t}=e,{options:n}=t.context,r=this.dragging=new G9(e.el);r.touchScrollAllowed=!1,r.minDistance=n.selectMinDistance||0,r.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new K9(this.dragging,U5(e));i.emitter.on(`pointerdown`,this.handlePointerDown),i.emitter.on(`dragstart`,this.handleDragStart),i.emitter.on(`hitupdate`,this.handleHitUpdate),i.emitter.on(`pointerup`,this.handlePointerUp)}destroy(){this.dragging.destroy()}};function PWe(e){let{options:t}=e.context,n=t.selectLongPressDelay;return n??=t.longPressDelay,n}function FWe(e,t,n){let r=e.dateSpan,i=t.dateSpan,a=[r.range.start,r.range.end,i.range.start,i.range.end];a.sort(nze);let o={};for(let r of n){let n=r(e,t);if(n===!1)return null;n&&Object.assign(o,n)}return o.range={start:a[0],end:a[3]},o.allDay=r.allDay,o}var Y9=class e extends H5{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let t=e.origEvent.target,{component:n,dragging:r}=this,{mirror:i}=r,{options:a}=n.context,o=n.context;this.subjectEl=e.subjectEl;let s=(this.eventRange=(this.subjectSeg=k5(e.subjectEl)).eventRange).instance.instanceId;this.relevantEvents=i5(o.getCurrentData().eventStore,s),r.minDistance=e.isTouch?0:a.eventDragMinDistance,r.delay=e.isTouch&&s!==n.props.eventSelection?LWe(n):null,a.fixedMirrorParent?i.parentNode=a.fixedMirrorParent:i.parentNode=l6(t,`.fc`),i.revertDuration=a.dragRevertDuration;let c=n.isValidSegDownEl(t)&&!l6(t,`.fc-event-resizer`);r.setIgnoreMove(!c),this.isDragging=c&&e.subjectEl.classList.contains(`fc-event-draggable`)},this.handleDragStart=e=>{let t=this.component.context,n=this.eventRange,r=n.instance.instanceId;e.isTouch?r!==this.component.props.eventSelection&&t.dispatch({type:`SELECT_EVENT`,eventInstanceId:r}):t.dispatch({type:`UNSELECT_EVENT`}),this.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger(`eventDragStart`,{el:this.subjectEl,event:new w5(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},this.handleHitUpdate=(e,t)=>{if(!this.isDragging)return;let n=this.relevantEvents,r=this.hitDragging.initialHit,i=this.component.context,a=null,o=null,s=null,c=!1,l={affectedEvents:n,mutatedEvents:a5(),isEvent:!0};if(e){a=e.context;let t=a.options;i===a||t.editable&&t.droppable?(o=IWe(r,e,this.eventRange.instance.range.start,a.getCurrentData().pluginHooks.eventDragMutationMassagers),o&&(s=S5(n,a.getCurrentData().eventUiBases,o,a),l.mutatedEvents=s,b7(l,e.dateProfile,a)||(c=!0,o=null,s=null,l.mutatedEvents=a5()))):a=null}this.displayDrag(a,l),c?S6():C6(),t||(i===a&&q9(r,e)&&(o=null),this.dragging.setMirrorNeedsRevert(!o),this.dragging.setMirrorIsVisible(!e||!this.subjectEl.getRootNode().querySelector(`.fc-event-mirror`)),this.receivingContext=a,this.validMutation=o,this.mutatedRelevantEvents=s)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=e=>{if(this.isDragging){let t=this.component.context,n=t.viewApi,{receivingContext:r,validMutation:i}=this,a=this.eventRange.def,o=this.eventRange.instance,s=new w5(t,a,o),c=this.relevantEvents,l=this.mutatedRelevantEvents,{finalHit:u}=this.hitDragging;if(this.clearDrag(),t.emitter.trigger(`eventDragStop`,{el:this.subjectEl,event:s,jsEvent:e.origEvent,view:n}),i){if(r===t){let r=new w5(t,l.defs[a.defId],o?l.instances[o.instanceId]:null);t.dispatch({type:`MERGE_EVENTS`,eventStore:l});let u={oldEvent:s,event:r,relatedEvents:E5(l,t,o),revert(){t.dispatch({type:`MERGE_EVENTS`,eventStore:c})}},d={};for(let e of t.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(d,e(i,t));t.emitter.trigger(`eventDrop`,Object.assign(Object.assign(Object.assign({},u),d),{el:e.subjectEl,delta:i.datesDelta,jsEvent:e.origEvent,view:n})),t.emitter.trigger(`eventChange`,u)}else if(r){let i={event:s,relatedEvents:E5(c,t,o),revert(){t.dispatch({type:`MERGE_EVENTS`,eventStore:c})}};t.emitter.trigger(`eventLeave`,Object.assign(Object.assign({},i),{draggedEl:e.subjectEl,view:n})),t.dispatch({type:`REMOVE_EVENTS`,eventStore:c}),t.emitter.trigger(`eventRemove`,i);let d=l.defs[a.defId],f=l.instances[o.instanceId],p=new w5(r,d,f);r.dispatch({type:`MERGE_EVENTS`,eventStore:l});let m={event:p,relatedEvents:E5(l,r,f),revert(){r.dispatch({type:`REMOVE_EVENTS`,eventStore:l})}};r.emitter.trigger(`eventAdd`,m),e.isTouch&&r.dispatch({type:`SELECT_EVENT`,eventInstanceId:o.instanceId}),r.emitter.trigger(`drop`,Object.assign(Object.assign({},J9(u.dateSpan,r)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:u.context.viewApi})),r.emitter.trigger(`eventReceive`,Object.assign(Object.assign({},m),{draggedEl:e.subjectEl,view:u.context.viewApi}))}}else t.emitter.trigger(`_noEventDrop`)}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new G9(t.el);i.pointer.selector=e.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let a=this.hitDragging=new K9(this.dragging,W5);a.useSubjectCenter=t.useEventCenter,a.emitter.on(`pointerdown`,this.handlePointerDown),a.emitter.on(`dragstart`,this.handleDragStart),a.emitter.on(`hitupdate`,this.handleHitUpdate),a.emitter.on(`pointerup`,this.handlePointerUp),a.emitter.on(`dragend`,this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let n=this.component.context,r=this.receivingContext;r&&r!==e&&(r===n?r.dispatch({type:`SET_EVENT_DRAG`,state:{affectedEvents:t.affectedEvents,mutatedEvents:a5(),isEvent:!0}}):r.dispatch({type:`UNSET_EVENT_DRAG`})),e&&e.dispatch({type:`SET_EVENT_DRAG`,state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:`UNSET_EVENT_DRAG`}),e!==t&&e.dispatch({type:`UNSET_EVENT_DRAG`})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}};Y9.SELECTOR=`.fc-event-draggable, .fc-event-resizable`;function IWe(e,t,n,r){let i=e.dateSpan,a=t.dateSpan,o=i.range.start,s=a.range.start,c={};i.allDay!==a.allDay&&(c.allDay=a.allDay,c.hasEnd=t.context.options.allDayMaintainDuration,o=a.allDay?V6(n):n);let l=K8(o,s,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);l.milliseconds&&(c.allDay=!1);let u={datesDelta:l,standardProps:c};for(let n of r)n(u,e,t);return u}function LWe(e){let{options:t}=e.context,n=t.eventLongPressDelay;return n??=t.longPressDelay,n}var RWe=class extends H5{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let{component:t}=this,n=this.eventRange=k5(this.querySegEl(e)).eventRange;this.dragging.minDistance=t.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&this.component.props.eventSelection!==n.instance.instanceId)},this.handleDragStart=e=>{let{context:t}=this.component,n=this.eventRange;this.relevantEvents=i5(t.getCurrentData().eventStore,this.eventRange.instance.instanceId);let r=this.querySegEl(e);this.draggingSegEl=r,this.draggingSeg=k5(r),t.calendarApi.unselect(),t.emitter.trigger(`eventResizeStart`,{el:r,event:new w5(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi})},this.handleHitUpdate=(e,t,n)=>{let{context:r}=this.component,i=this.relevantEvents,a=this.hitDragging.initialHit,o=this.eventRange.instance,s=null,c=null,l=!1,u={affectedEvents:i,mutatedEvents:a5(),isEvent:!0};e&&(e.componentId===a.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(a,e)||(s=zWe(a,e,n.subjectEl.classList.contains(`fc-event-resizer-start`),o.range))),s&&(c=S5(i,r.getCurrentData().eventUiBases,s,r),u.mutatedEvents=c,b7(u,e.dateProfile,r)||(l=!0,s=null,c=null,u.mutatedEvents=null)),c?r.dispatch({type:`SET_EVENT_RESIZE`,state:u}):r.dispatch({type:`UNSET_EVENT_RESIZE`}),l?S6():C6(),t||(s&&q9(a,e)&&(s=null),this.validMutation=s,this.mutatedRelevantEvents=c)},this.handleDragEnd=e=>{let{context:t}=this.component,n=this.eventRange.def,r=this.eventRange.instance,i=new w5(t,n,r),a=this.relevantEvents,o=this.mutatedRelevantEvents;if(t.emitter.trigger(`eventResizeStop`,{el:this.draggingSegEl,event:i,jsEvent:e.origEvent,view:t.viewApi}),this.validMutation){let s=new w5(t,o.defs[n.defId],r?o.instances[r.instanceId]:null);t.dispatch({type:`MERGE_EVENTS`,eventStore:o});let c={oldEvent:i,event:s,relatedEvents:E5(o,t,r),revert(){t.dispatch({type:`MERGE_EVENTS`,eventStore:a})}};t.emitter.trigger(`eventResize`,Object.assign(Object.assign({},c),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||O6(0),endDelta:this.validMutation.endDelta||O6(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger(`eventChange`,c)}else t.emitter.trigger(`_noEventResize`);this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,n=this.dragging=new G9(e.el);n.pointer.selector=`.fc-event-resizer`,n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new K9(this.dragging,U5(e));r.emitter.on(`pointerdown`,this.handlePointerDown),r.emitter.on(`dragstart`,this.handleDragStart),r.emitter.on(`hitupdate`,this.handleHitUpdate),r.emitter.on(`dragend`,this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return l6(e.subjectEl,`.fc-event`)}};function zWe(e,t,n,r){let i=e.context.dateEnv,a=e.dateSpan.range.start,o=t.dateSpan.range.start,s=K8(a,o,i,e.largeUnit);if(n){if(i.add(r.start,s)<r.end)return{startDelta:s}}else if(i.add(r.end,s)>r.start)return{endDelta:s};return null}var BWe=class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=e=>{e.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=e=>{let t=this.context.options.unselectCancel,n=f6(e.origEvent);this.matchesCancel=!!l6(n,t),this.matchesEvent=!!l6(n,Y9.SELECTOR)},this.onDocumentPointerUp=e=>{let{context:t}=this,{documentPointer:n}=this,r=t.getCurrentData();if(!n.wasTouchScroll){if(r.dateSelection&&!this.isRecentPointerDateSelect){let n=t.options.unselectAuto;n&&(!n||!this.matchesCancel)&&t.calendarApi.unselect(e)}r.eventSelection&&!this.matchesEvent&&t.dispatch({type:`UNSELECT_EVENT`})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new B9(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on(`pointerdown`,this.onDocumentPointerDown),t.emitter.on(`pointerup`,this.onDocumentPointerUp),e.emitter.on(`select`,this.onSelect)}destroy(){this.context.emitter.off(`select`,this.onSelect),this.documentPointer.destroy()}},VWe={fixedMirrorParent:$},HWe={dateClick:$,eventDragStart:$,eventDragStop:$,eventDrop:$,eventResizeStart:$,eventResizeStop:$,eventResize:$,drop:$,eventReceive:$,eventLeave:$};f7.dataAttrPrefix=``;var UWe=J7({name:`@fullcalendar/interaction`,componentInteractions:[MWe,NWe,Y9,RWe],calendarInteractions:[BWe],elementDraggingImpl:G9,optionRefiners:VWe,listenerRefiners:HWe}),WWe=class extends A8{constructor(){super(...arguments),this.state={textId:m6()}}render(){let{theme:e,dateEnv:t,options:n,viewApi:r}=this.context,{cellId:i,dayDate:a,todayRange:o}=this.props,{textId:s}=this.state,c=J5(a,o),l=n.listDayFormat?t.format(a,n.listDayFormat):``,u=n.listDaySideFormat?t.format(a,n.listDaySideFormat):``,d=Object.assign({date:t.toDate(a),view:r,textId:s,text:l,sideText:u,navLinkAttrs:X5(this.context,a),sideNavLinkAttrs:X5(this.context,a,`day`,!1)},c);return Q(I8,{elTag:`tr`,elClasses:[`fc-list-day`,...Y5(c,e)],elAttrs:{"data-date":X6(a)},renderProps:d,generatorName:`dayHeaderContent`,customGenerator:n.dayHeaderContent,defaultGenerator:GWe,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},t=>Q(`th`,{scope:`colgroup`,colSpan:3,id:i,"aria-labelledby":s},Q(t,{elTag:`div`,elClasses:[`fc-list-day-cushion`,e.getClass(`tableCellShaded`)]})))}};function GWe(e){return Q(c3,null,e.text&&Q(`a`,Object.assign({id:e.textId,className:`fc-list-day-text`},e.navLinkAttrs),e.text),e.sideText&&Q(`a`,Object.assign({"aria-hidden":!0,className:`fc-list-day-side-text`},e.sideNavLinkAttrs),e.sideText))}var KWe=o8({hour:`numeric`,minute:`2-digit`,meridiem:`short`}),qWe=class extends A8{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r,timeHeaderId:i,eventHeaderId:a,dateHeaderId:o}=e,s=n.eventTimeFormat||KWe;return Q(M7,Object.assign({},e,{elTag:`tr`,elClasses:[`fc-list-event`,r.eventRange.def.url&&`fc-event-forced-url`],defaultGenerator:()=>JWe(r,t),seg:r,timeText:``,disableDragging:!0,disableResizing:!0}),(e,n)=>Q(c3,null,YWe(r,s,t,i,o),Q(`td`,{"aria-hidden":!0,className:`fc-list-event-graphic`},Q(`span`,{className:`fc-list-event-dot`,style:{borderColor:n.borderColor||n.backgroundColor}})),Q(e,{elTag:`td`,elClasses:[`fc-list-event-title`],elAttrs:{headers:`${a} ${o}`}})))}};function JWe(e,t){let n=I5(e,t);return Q(`a`,Object.assign({},n),e.eventRange.def.title)}function YWe(e,t,n,r,i){let{options:a}=n;if(a.displayEventTime!==!1){let o=e.eventRange.def,s=e.eventRange.instance,c=!1,l;if(o.allDay?c=!0:lBe(e.eventRange.range)?e.isStart?l=N5(e,t,n,null,null,s.range.start,e.end):e.isEnd?l=N5(e,t,n,null,null,e.start,s.range.end):c=!0:l=N5(e,t,n),c){let e={text:n.options.allDayText,view:n.viewApi};return Q(I8,{elTag:`td`,elClasses:[`fc-list-event-time`],elAttrs:{headers:`${r} ${i}`},renderProps:e,generatorName:`allDayContent`,customGenerator:a.allDayContent,defaultGenerator:XWe,classNameGenerator:a.allDayClassNames,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount})}return Q(`td`,{className:`fc-list-event-time`},l)}return null}function XWe(e){return e.text}var ZWe=class extends a7{constructor(){super(...arguments),this.computeDateVars=Q6($We),this.eventStoreToSegs=Q6(this._eventStoreToSegs),this.state={timeHeaderId:m6(),eventHeaderId:m6(),dateHeaderIdRoot:m6()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:n,dayRanges:r}=this.computeDateVars(e.dateProfile),i=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return Q(L8,{elRef:this.setRootEl,elClasses:[`fc-list`,t.theme.getClass(`table`),t.options.stickyHeaderDates===!1?``:`fc-list-sticky`],viewSpec:t.viewSpec},Q(T7,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?`visible`:`hidden`,overflowY:e.isHeightAuto?`visible`:`auto`},i.length>0?this.renderSegList(i,n):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context;return Q(I8,{elTag:`div`,elClasses:[`fc-list-empty`],renderProps:{text:e.noEventsText,view:t},generatorName:`noEventsContent`,customGenerator:e.noEventsContent,defaultGenerator:QWe,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},e=>Q(e,{elTag:`div`,elClasses:[`fc-list-empty-cushion`]}))}renderSegList(e,t){let{theme:n,options:r}=this.context,{timeHeaderId:i,eventHeaderId:a,dateHeaderIdRoot:o}=this.state,s=eGe(e);return Q(G5,{unit:`day`},(e,c)=>{let l=[];for(let n=0;n<s.length;n+=1){let u=s[n];if(u){let s=X6(t[n]),d=o+`-`+s;l.push(Q(WWe,{key:s,cellId:d,dayDate:t[n],todayRange:c})),u=M5(u,r.eventOrder);for(let t of u)l.push(Q(qWe,Object.assign({key:s+`:`+t.eventRange.instance.instanceId,seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:i,eventHeaderId:a,dateHeaderId:d},P5(t,c,e))))}}return Q(`table`,{className:`fc-list-table `+n.getClass(`table`)},Q(`thead`,null,Q(`tr`,null,Q(`th`,{scope:`col`,id:i},r.timeHint),Q(`th`,{scope:`col`,"aria-hidden":!0}),Q(`th`,{scope:`col`,id:a},r.eventHint))),Q(`tbody`,null,l))})}_eventStoreToSegs(e,t,n){return this.eventRangesToSegs(D5(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)}eventRangesToSegs(e,t){let n=[];for(let r of e)n.push(...this.eventRangeToSegs(r,t));return n}eventRangeToSegs(e,t){let{dateEnv:n}=this.context,{nextDayThreshold:r}=this.context.options,i=e.range,a=e.def.allDay,o,s,c,l=[];for(o=0;o<t.length;o+=1)if(s=B8(i,t[o]),s&&(c={component:this,eventRange:e,start:s.start,end:s.end,isStart:e.isStart&&s.start.valueOf()===i.start.valueOf(),isEnd:e.isEnd&&s.end.valueOf()===i.end.valueOf(),dayIndex:o},l.push(c),!c.isEnd&&!a&&o+1<t.length&&i.end<n.add(t[o+1].start,r))){c.end=i.end,c.isEnd=!0;break}return l}};function QWe(e){return e.text}function $We(e){let t=V6(e.renderRange.start),n=e.renderRange.end,r=[],i=[];for(;t<n;)r.push(t),i.push({start:t,end:L6(t,1)}),t=L6(t,1);return{dayDates:r,dayRanges:i}}function eGe(e){let t=[],n,r;for(n=0;n<e.length;n+=1)r=e[n],(t[r.dayIndex]||(t[r.dayIndex]=[])).push(r);return t}r6(`:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}`);var tGe={listDayFormat:X9,listDaySideFormat:X9,noEventsClassNames:$,noEventsContent:$,noEventsDidMount:$,noEventsWillUnmount:$};function X9(e){return e===!1?null:o8(e)}var nGe=J7({name:`@fullcalendar/list`,optionRefiners:tGe,views:{list:{component:ZWe,buttonTextKey:`list`,listDayFormat:{month:`long`,day:`numeric`,year:`numeric`}},listDay:{type:`list`,duration:{days:1},listDayFormat:{weekday:`long`}},listWeek:{type:`list`,duration:{weeks:1},listDayFormat:{weekday:`long`},listDaySideFormat:{month:`long`,day:`numeric`,year:`numeric`}},listMonth:{type:`list`,duration:{month:1},listDaySideFormat:{weekday:`long`}},listYear:{type:`list`,duration:{year:1},listDaySideFormat:{weekday:`long`}}}}),Z9=e=>{let t=new Date(e);return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t.toISOString().slice(0,16)},Q9=e=>{let t=new Date(e);return t.setHours(23,59,59,999),t};function rGe({launch:e,events:t=[],collection:n}){let r=(0,H.useRef)(null),[i,a]=(0,H.useState)(!1),o=(0,H.useMemo)(()=>t?.map(e=>({id:e.id,title:e.name,start:new Date(e.startTime),end:new Date(e.endTime),extendedProps:{description:e.description,status:e.status,location:e.location,capacity:e.capacity,hostId:e.hostId},classNames:[`event-${e.status}`]})),[t]),s=(0,H.useCallback)(t=>{let n=t.start,r=t.end,i,a;t.allDay?(i=new Date(n),i.setHours(9,0,0,0),a=new Date(n),a.setHours(10,0,0,0)):(i=n,a=r),e({initialData:{startTime:Z9(i),endTime:Z9(a)},isEditing:!1}),t.view.calendar.unselect()},[e]),c=(0,H.useCallback)(t=>{let n=t.event;e({initialData:{id:n.id,name:n.title,description:n.extendedProps.description||``,status:n.extendedProps.status,startTime:Z9(n.start),endTime:Z9(n.end||Q9(n.start)),location:n.extendedProps.location||``,capacity:n.extendedProps.capacity?.toString()||``,hostId:n.extendedProps.hostId||``},isEditing:!0})},[e]),l=(0,H.useCallback)(async e=>{let t=e.event;try{a(!0),n.update(t.id,e=>{e.startTime=t.start,e.endTime=t.end||Q9(t.start),e.updatedAt=new Date})}catch(t){console.error(`Failed to update event:`,t),e.revert()}finally{a(!1)}},[]),u=(0,H.useCallback)(async e=>{let t=e.event;try{a(!0),n.update(t.id,e=>{e.startTime=t.start,e.endTime=t.end,e.updatedAt=new Date})}catch(t){console.error(`Failed to resize event:`,t),e.revert()}finally{a(!1)}},[]);return(0,V.jsxs)(`div`,{className:`calendar-page`,children:[(0,V.jsxs)(`div`,{className:`calendar-header`,children:[(0,V.jsx)(`h2`,{children:`Events Calendar`}),(0,V.jsx)(Dp,{variant:`primary`,onClick:()=>{let t=new Date;t.setMinutes(0,0,0);let n=new Date(t);n.setHours(t.getHours()+1),e({initialData:{startTime:Z9(t),endTime:Z9(n)},isEditing:!1})},leftIcon:(0,V.jsx)(Zr,{size:16}),children:`New Event`})]}),(0,V.jsxs)(`div`,{className:`calendar-container`,children:[i&&(0,V.jsx)(`div`,{className:`loading-overlay`,children:(0,V.jsx)(`div`,{className:`loading-spinner`})}),(0,V.jsx)(p9,{ref:r,plugins:[RUe,xWe,UWe,nGe],initialView:`dayGridMonth`,headerToolbar:{left:`prev,next today`,center:`title`,right:`dayGridMonth,timeGridWeek,timeGridDay,listWeek`},events:o,editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,nowIndicator:!0,eventClick:c,select:s,eventDrop:l,eventResize:u,height:`100%`,slotMinTime:`06:00:00`,slotMaxTime:`22:00:00`,allDaySlot:!0,slotDuration:`00:30:00`,snapDuration:`00:15:00`,eventTimeFormat:{hour:`numeric`,minute:`2-digit`,meridiem:`short`},buttonText:{today:`Today`,month:`Month`,week:`Week`,day:`Day`,list:`List`}})]})]})}var iGe=br(),aGe=()=>{let e=(0,iGe.c)(7),{openLauncher:t}=Gm(),{data:n}=NK(oGe),r;e[0]===n?r=e[1]:(r=Array.isArray(n)?n:[],e[0]=n,e[1]=r);let i=r,a;e[2]===t?a=e[3]:(a=e=>{Fx(e,t)},e[2]=t,e[3]=a);let o=a,s;return e[4]!==i||e[5]!==o?(s=(0,V.jsx)(rGe,{events:i,launch:o,collection:Px}),e[4]=i,e[5]=o,e[6]=s):s=e[6],s};function oGe(e){return e.from({eventCollection:Px})}function sGe(){let[e,t]=(0,H.useState)(`users`),[n,r]=(0,H.useState)({}),[i,a]=(0,H.useState)(!1),[o,s]=(0,H.useState)(null),c=[`users`,`events`,`attendance`,`loyalty`],l=async e=>{a(!0),s(null);try{let t=await fetch(`/api/${e}`);if(!t.ok)throw Error(`Failed to fetch ${e}`);let n=await t.json();r(t=>({...t,[e]:n}))}catch(e){s(e instanceof Error?e.message:`An error occurred`)}finally{a(!1)}};(0,H.useEffect)(()=>{l(e)},[e]);let u=e=>!e||e.length===0?[]:Object.keys(e[0]).map(e=>({field:e,headerName:e.charAt(0).toUpperCase()+e.slice(1),flex:1,minWidth:150,valueFormatter:e=>e.value===null||e.value===void 0?`-`:typeof e.value==`object`?JSON.stringify(e.value):String(e.value)})),d=n[e]||[],f=u(d),p=(0,H.useMemo)(()=>[{id:`refresh`,label:`Refresh`,icon:(0,V.jsx)(Qr,{}),action:()=>l(e)}],[e]);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(`div`,{className:`database-page-header`,children:[(0,V.jsxs)(`div`,{className:`page-header`,children:[(0,V.jsx)(`h1`,{children:`Database Admin`}),(0,V.jsx)(`p`,{className:`page-subtitle`,children:`View all database tables`})]}),(0,V.jsx)(`div`,{className:`table-selector`,children:c.map(r=>(0,V.jsxs)(Dp,{variant:`secondary`,className:e===r?`active`:``,onClick:()=>t(r),children:[r.charAt(0).toUpperCase()+r.slice(1),n[r]&&(0,V.jsxs)(`span`,{className:`count`,children:[`(`,n[r].length,`)`]})]},r))})]}),o&&(0,V.jsx)(`div`,{className:`error-message`,children:(0,V.jsxs)(`p`,{children:[`Error: `,o]})}),!o&&(0,V.jsx)(W4,{title:`${e.charAt(0).toUpperCase()+e.slice(1)} Table`,subtitle:d.length>0?`${d.length} records`:`No records found`,menu:p,loading:i,columnDefs:f,rowData:d})]})}var $9=Yn({component:Ble}),cGe=qn({getParentRoute:()=>$9,path:`/`,component:_Re}),lGe=qn({getParentRoute:()=>$9,path:`/members`,component:K4}),uGe=qn({getParentRoute:()=>$9,path:`/events`,component:aGe}),dGe=qn({getParentRoute:()=>$9,path:`/analytics`,component:jK}),fGe=qn({getParentRoute:()=>$9,path:`/database`,component:sGe}),pGe=pr({routeTree:$9.addChildren([cGe,lGe,uGe,dGe,fGe])});(0,vr.createRoot)(document.getElementById(`root`)).render((0,V.jsx)(H.StrictMode,{children:(0,V.jsx)(gr,{router:pGe})}));